"use strict";(self.webpackChunkiobroker_admin_component_backitup=self.webpackChunkiobroker_admin_component_backitup||[]).push([["src_Components_jsx"],{20507:(w,v,s)=>{s.r(v),s.d(v,{default:()=>T});var y=s(1810),k=s(98360),C=s(86207),I=s(37451),O=s(35665),A=s(32149),P=s(42409),S=s(95973),n=s.n(S),h=s(37449),j=s(85903),B=Object.defineProperty,u=Object.getOwnPropertySymbols,b=Object.getPrototypeOf,D=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,E=Reflect.get,m=(o,e,t)=>e in o?B(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,F=(o,e)=>{for(var t in e||(e={}))D.call(e,t)&&m(o,t,e[t]);if(u)for(var t of u(e))x.call(e,t)&&m(o,t,e[t]);return o},M=(o,e,t)=>E(b(o),t,e),g=(o,e,t)=>new Promise((i,a)=>{var l=r=>{try{c(t.next(r))}catch(p){a(p)}},f=r=>{try{c(t.throw(r))}catch(p){a(p)}},c=r=>r.done?i(r.value):Promise.resolve(r.value).then(l,f);c((t=t.apply(o,e)).next())});class d extends j.A{constructor(e){super(e),this.storedAlive=this.props.alive,this.storedChecked=!1}checkConfiguration(){this.props.alive&&!this.storedChecked&&(this.storedChecked=!0,this.props.socket.sendTo(null,"getFileSystemInfo",null).then(e=>{e!=null&&e.diskState&&e.storage&&e.diskFree&&(e.diskState==="warn"&&e.storage==="local"?this.showMessage(h.I18n.t("On the host only %s MB free space is available! Please check your system!",e.diskFree),h.I18n.t("BackItUp Information!")):e.diskState==="error"&&e.storage==="local"&&this.showMessage(h.I18n.t(`On the host only %s MB free space is available! Local backups are currently not possible. 

Please check your system!`,e.diskFree),h.I18n.t("BackItUp Information!"),"warning"))}),this.props.socket.sendTo(null,"getSystemInfo",null).then(e=>g(this,null,function*(){const t=F({},this.props.data);let i=!1;(e==null?void 0:e.systemOS)==="docker"&&e.dockerDB===!1&&t.redisType!=="remote"&&t.redisEnabled&&(t.redisType="remote",i=!0),(e==null?void 0:e.systemOS)==="docker"?(i=!0,t._restoreIfWait=1e4):(e==null?void 0:e.systemOS)==="win"&&(i=!0,t._restoreIfWait=18e3);const a=["ccu","mySql","sqlite","pgSql","influxDB","history"];for(let l=0;l<a.length;l++)if(!this.isConfigFilled(a[l])){const f=yield this.fetchConfig(a[l],t).catch(c=>this.showError(c));i=i||f.changed}i&&this.props.onChange(t)})))}componentDidMount(){return g(this,null,function*(){M(d.prototype,this,"componentDidMount").call(this),this.checkDisk()})}renderItem(){return this.storedAlive!==this.props.alive&&(this.storedAlive=this.props.alive,this.storedAlive&&this.checkConfiguration()),this.renderMessage()}}d.propTypes={socket:n().object.isRequired,themeType:n().string,themeName:n().string,style:n().object,className:n().string,data:n().object.isRequired,attr:n().string,schema:n().object,onError:n().func,onChange:n().func};const N=d,T={AdapterExist:y.A,BackupNow:k.A,DetectConfig:C.A,GoogleDrive:O.A,CheckConfigInvisible:I.A,Instance:A.A,RestoreBackup:P.A,CheckAllConfigInvisible:N}}}]);

//# sourceMappingURL=src_Components_jsx.6bc3a3b4.chunk.js.map