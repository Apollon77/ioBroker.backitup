var um=Object.defineProperty,dm=Object.defineProperties;var pm=Object.getOwnPropertyDescriptors;var fa=Object.getOwnPropertySymbols,hm=Object.getPrototypeOf,mm=Object.prototype.hasOwnProperty,fm=Object.prototype.propertyIsEnumerable,gm=Reflect.get;var Qt=Math.pow,br=(te,ye,$)=>ye in te?um(te,ye,{enumerable:!0,configurable:!0,writable:!0,value:$}):te[ye]=$,it=(te,ye)=>{for(var $ in ye||(ye={}))mm.call(ye,$)&&br(te,$,ye[$]);if(fa)for(var $ of fa(ye))fm.call(ye,$)&&br(te,$,ye[$]);return te},Ht=(te,ye)=>dm(te,pm(ye));var We=(te,ye,$)=>(br(te,typeof ye!="symbol"?ye+"":ye,$),$);var Wt=(te,ye,$)=>gm(hm(te),$,ye);var lt=(te,ye,$)=>new Promise((V,l)=>{var b=F=>{try{k($.next(F))}catch(I){l(I)}},A=F=>{try{k($.throw(F))}catch(I){l(I)}},k=F=>F.done?V(F.value):Promise.resolve(F.value).then(b,A);k(($=$.apply(te,ye)).next())});(self.webpackChunkiobroker_admin_component_backitup=self.webpackChunkiobroker_admin_component_backitup||[]).push([["vendors-node_modules_iobroker_json-config_build_index_js-node_modules_iobroker_json-config_no-675983","node_modules_iobroker_json-config_node_modules_mui_material_colors_blue_js-node_modules_iobro-38fd82","node_modules_iobroker_json-config_node_modules_react_jsx-runtime_js"],{49689:(te,ye,$)=>{"use strict";$.r(ye),$.d(ye,{ConfigGeneric:()=>y,ConfigPanel:()=>Ds,JsonConfig:()=>rm,JsonConfigComponent:()=>Ws,JsonConfigComponentClass:()=>ua});var V=$(10590),l=$.n(V),b=$(97110),A=$(85589),k=$.n(A),F=$(91778),I=$.n(F),u=$(56630),D=$(21839),h=$(46768);const J="material",ce=["Su","Mo","Tu","We","Th","Fr","Sa"],Se=["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],re={0:"0x00 - good",1:"0x01 - general problem",2:"0x02 - no connection problem",16:"0x10 - substitute value from controller",32:"0x20 - substitute initial value",64:"0x40 - substitute value from device or instance",128:"0x80 - substitute value from sensor",17:"0x11 - general problem by instance",65:"0x41 - general problem by device",129:"0x81 - general problem by sensor",18:"0x12 - instance not connected",66:"0x42 - device not connected",130:"0x82 - sensor not connected",68:"0x44 - device reports error",132:"0x84 - sensor reports error"},pe={JVBERi0:"pdf",R0lGODdh:"gif",R0lGODlh:"gif",iVBORw0KGgo:"png","/9j/":"jpg",PHN2Zw:"svg",Qk1:"bmp",AAABAA:"ico"},xt=class xt{static CapitalWords(e){return(e||"").split(/[\s_]/).filter(t=>t).map(t=>t?t[0].toUpperCase()+t.substring(1).toLowerCase():"").join(" ")}static formatSeconds(e){const t=Math.floor(e/86400);e%=3600*24;let n=Math.floor(e/3600);n<10&&(n=`0${n}`),e%=3600;let s=Math.floor(e/60);s<10&&(s=`0${s}`),e%=60,e=Math.floor(e),e<10&&(e=`0${e}`);let o="";return t&&(o+=`${t} ${h.I18n.t("ra_daysShortText")} `),o+=`${n}:${s}:${e}`,o}static getObjectName(e,t,n,s,o){const a=e[t];let i;const c=o?"desc":"name";if(typeof n=="string"&&!s&&(s={language:n},n=null),s=s||{},s.language||(s.language=e["system.config"]&&e["system.config"].common&&e["system.config"].common.language||window.sysLang||"en"),n&&n.name)i=n.name,typeof i=="object"&&(i=i[s.language]||i.en);else if(a&&a.common&&a.common[c])i=a.common[c],c!=="desc"&&!i&&a.common.desc&&(i=a.common.desc),typeof i=="object"&&(i=i[s.language]||i.en||i.de||i.ru||""),i=(i||"").toString().replace(/[_.]/g," "),i===i.toUpperCase()&&(i=i[0]+i.substring(1).toLowerCase());else{const p=t.lastIndexOf(".");i=t.substring(p+1).replace(/[_.]/g," "),i=xt.CapitalWords(i)}return i.trim()}static getObjectNameFromObj(e,t,n,s,o){const a=e;let i=e&&e._id||"";const c=s?"desc":"name";return typeof t=="string"&&!n&&(n={language:t},t=null),n=n||{},t&&t.name?(i=t.name,typeof i=="object"&&(i=i[n.language]||i.en)):a&&a.common&&a.common[c]&&(i=a.common[c],c!=="desc"&&!i&&a.common.desc&&(i=a.common.desc),typeof i=="object"&&(i=i[n.language]||i.en),i=(i||"").toString().replace(/[_.]/g," "),i===i.toUpperCase()&&(i=i[0]+i.substring(1).toLowerCase())),o?i:i.trim()}static getSettingsOrder(e,t,n){e&&Object.prototype.hasOwnProperty.call(e,"common")&&(e=e.common);let s;if(e&&e.custom){s=(e.custom||{})[J];const o=n.user||"admin";if(s&&s[o]){if(t){if(s[o].subOrder&&s[o].subOrder[t])return JSON.parse(JSON.stringify(s[o].subOrder[t]))}else if(s[o].order)return JSON.parse(JSON.stringify(s[o].order))}}return null}static getSettingsCustomURLs(e,t,n){e&&Object.prototype.hasOwnProperty.call(e,"common")&&(e=e.common);let s;if(e&&e.custom){s=(e.custom||{})[J];const o=n.user||"admin";if(s&&s[o]){if(t){if(s[o].subURLs&&s[o].subURLs[t])return JSON.parse(JSON.stringify(s[o].subURLs[t]))}else if(s[o].URLs)return JSON.parse(JSON.stringify(s[o].URLs))}}return null}static reorder(e,t,n){const s=Array.from(e),[o]=s.splice(t,1);return s.splice(n,0,o),s}static getSettings(e,t,n){let s;const o=e&&e._id||t&&t.id;if(e&&Object.prototype.hasOwnProperty.call(e,"common")&&(e=e.common),e!=null&&e.custom?(s=e.custom,s=s[J]&&s[J][t.user||"admin"]?JSON.parse(JSON.stringify(s[J][t.user||"admin"])):{enabled:!0}):s={enabled:n===void 0?!0:n,useCustom:!1},Object.prototype.hasOwnProperty.call(s,"enabled")||(s.enabled=n===void 0?!0:n),t&&(!s.name&&t.name&&(s.name=t.name),!s.icon&&t.icon&&(s.icon=t.icon),!s.color&&t.color&&(s.color=t.color)),e&&(!s.color&&e.color&&(s.color=e.color),!s.icon&&e.icon&&(s.icon=e.icon),!s.name&&e.name&&(s.name=e.name)),typeof s.name=="object"&&(s.name=s.name[t.language]||s.name.en,s.name=(s.name||"").toString().replace(/_/g," "),s.name===s.name.toUpperCase()&&(s.name=s.name[0]+s.name.substring(1).toLowerCase())),!s.name&&o){const a=o.lastIndexOf(".");s.name=o.substring(a+1).replace(/[_.]/g," "),s.name=(s.name||"").toString().replace(/_/g," "),s.name=xt.CapitalWords(s.name)}return s}static setSettings(e,t,n){if(e){e.common=e.common||{},e.common.custom=e.common.custom||{},e.common.custom[J]=e.common.custom[J]||{},e.common.custom[J][n.user||"admin"]=t;const s=e.common.custom[J][n.user||"admin"];return s.useCommon&&(s.color!==void 0&&(e.common.color=s.color,delete s.color),s.icon!==void 0&&(e.common.icon=s.icon,delete s.icon),s.name!==void 0&&(typeof e.common.name!="object"&&(e.common.name={}),e.common.name[n.language]=s.name,delete s.name)),!0}return!1}static getIcon(e,t){return e&&e.icon?e.icon.length<=2?l().createElement("span",{style:t||{}},e.icon):e.icon.startsWith("data:image")?l().createElement("img",{alt:e.name,src:e.icon,style:t||{}}):l().createElement("img",{alt:e.name,src:(e.prefix||"")+e.icon,style:t||{}}):null}static getObjectIcon(e,t){if(typeof e=="object"&&(t=e,e=t._id),t&&t.common&&t.common.icon){let n=t.common.icon;if(typeof n=="string"&&n.length<=2||n.startsWith("data:image"))return n;const s=e.split(".");return s[0]==="system"?n=`adapter/${s[2]}${n.startsWith("/")?"":"/"}${n}`:n=`adapter/${s[0]}${n.startsWith("/")?"":"/"}${n}`,window.location.pathname.match(/adapter\/[^/]+\/[^/]+\.html/)?n=`../../${n}`:window.location.pathname.match(/material\/[.\d]+/)?n=`../../${n}`:window.location.pathname.match(/material\//)&&(n=`../${n}`),n}return null}static splitCamelCase(e){return xt.CapitalWords(e)}static isUseBright(e,t){if(e==null||e==="")return t===void 0?!0:t;e=e.toString(),e.startsWith("#")&&(e=e.slice(1));let n,s,o;const a=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);if(a&&a.length===4)n=parseInt(a[1],10),s=parseInt(a[2],10),o=parseInt(a[3],10);else{if(e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),e.length===8)e=e.substring(0,6);else if(e.length!==6)return!1;n=parseInt(e.slice(0,2),16),s=parseInt(e.slice(2,4),16),o=parseInt(e.slice(4,6),16)}return n*.299+s*.587+o*.114<=186}static getTimeString(e){if(e=parseFloat(e),Number.isNaN(e))return"--:--";const t=Math.floor(e/3600);let n=Math.floor(e%3600/60),s=e%60;return t?(n<10&&(n=`0${n}`),s<10&&(s=`0${s}`),`${t}:${n}:${s}`):(s<10&&(s=`0${s}`),`${n}:${s}`)}static getWindDirection(e){return e>=0&&e<11.25?"N":e>=11.25&&e<33.75?"NNE":e>=33.75&&e<56.25?"NE":e>=56.25&&e<78.75?"ENE":e>=78.75&&e<101.25?"E":e>=101.25&&e<123.75?"ESE":e>=123.75&&e<146.25?"SE":e>=146.25&&e<168.75?"SSE":e>=168.75&&e<191.25?"S":e>=191.25&&e<213.75?"SSW":e>=213.75&&e<236.25?"SW":e>=236.25&&e<258.75?"WSW":e>=258.75&&e<281.25?"W":e>=281.25&&e<303.75?"WNW":e>=303.75&&e<326.25?"NW":e>=326.25&&e<348.75?"NNW":"N"}static padding(e){return typeof e=="string"?e.length<2?`0${e}`:e:e<10?`0${e}`:e}static setDataFormat(e){e&&(xt.dateFormat=e.toUpperCase().split(/[.-/]/),xt.dateFormat.splice(xt.dateFormat.indexOf("YYYY"),1))}static date2string(e){if(typeof e=="string"){if(e=e.trim(),!e)return"";if(e.match(/^[\w\s]+$/))return e;const n=e.match(/(\d{1,4})[-./](\d{1,2})[-./](\d{1,4})/);if(n){const s=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)],o=s.find(i=>i>31);s.splice(s.indexOf(o),1);const a=s.find(i=>i>12);a?(s.splice(s.indexOf(a),1),e=new Date(o,s[0]-1,a)):xt.dateFormat[0][0]==="M"&&xt.dateFormat[1][0]==="D"?(e=new Date(o,s[0]-1,s[1]),Math.abs(e.getTime-Date.now())>36e5*24*10&&(e=new Date(o,s[1]-1,s[0]))):xt.dateFormat[0][0]==="D"&&xt.dateFormat[1][0]==="M"?(e=new Date(o,s[1]-1,s[0]),Math.abs(e.getTime-Date.now())>36e5*24*10&&(e=new Date(o,s[0]-1,s[1]))):e=new Date(e)}else e=new Date(e)}else e=new Date(e);let t=h.I18n.t(`ra_dow_${ce[e.getDay()]}`).replace("ra_dow_","");return t+=`. ${e.getDate()} ${h.I18n.t(`ra_month_${Se[e.getMonth()]}`).replace("ra_month_","")}`,t}static renderTextWithA(e){let t=e.match(/<a [^<]+<\/a>|<br\/?>|<b>[^<]+<\/b>|<i>[^<]+<\/i>/);if(t){const n=[];let s=1;do{const o=e.substring(0,t.index);if(e=e.substring(t.index+t[0].length),o&&n.push(l().createElement("span",{key:`a${s++}`},o)),t[0].startsWith("<b>"))n.push(l().createElement("b",{key:`a${s++}`},t[0].substring(3,t[0].length-4)));else if(t[0].startsWith("<i>"))n.push(l().createElement("i",{key:`a${s++}`},t[0].substring(3,t[0].length-4)));else if(t[0].startsWith("<br"))n.push(l().createElement("br",{key:`a${s++}`}));else{const a=t[0].match(/href="([^"]+)"/)||t[0].match(/href='([^']+)'/),i=t[0].match(/target="([^"]+)"/)||t[0].match(/target='([^']+)'/),c=t[0].match(/rel="([^"]+)"/)||t[0].match(/rel='([^']+)'/),p=t[0].match(/>([^<]*)</);n.push(l().createElement("a",{key:`a${s++}`,href:a?a[1]:"",target:i?i[1]:"_blank",rel:c?c[1]:"",style:{color:"inherit"}},p?p[1]:""))}t=e&&e.match(/<a [^<]+<\/a>|<br\/?>|<b>[^<]+<\/b>|<i>[^<]+<\/i>/),t||e&&n.push(l().createElement("span",{key:`a${s++}`},e))}while(t);return n}return e}static getSmartName(e,t,n,s){var o,a;return t?s?e[t]&&((a=e[t].common)!=null&&a.custom)&&e[t].common.custom[n]&&e[t].common.custom[n].smartName||null:e[t].common.smartName:s?e&&!e.common?e.smartName:(o=e==null?void 0:e.common)!=null&&o.custom&&e.common.custom[n]?e.common.custom[n].smartName:void 0:!e.common||e&&!e.common?e.smartName:e.common.smartName}static getSmartNameFromObj(e,t,n){var s;return n?e&&!e.common?e.smartName:(s=e==null?void 0:e.common)!=null&&s.custom&&e.common.custom[t]?e.common.custom[t].smartName:void 0:!e.common||e&&!e.common?e.smartName:e.common.smartName}static enableSmartName(e,t,n){n?(e.common.custom=e.common.custom||{},e.common.custom[t]=e.common.custom[t]||{},e.common.custom[t].smartName={}):e.common.smartName={}}static removeSmartName(e,t,n){n?e.common&&e.common.custom&&e.common.custom[t]&&(e.common.custom[t]=null):e.common.smartName=null}static updateSmartName(e,t,n,s,o,a){const i=h.I18n.getLanguage();if(typeof e.common.smartName=="string"){const c=e.common.smartName;e.common.smartName={},e.common.smartName[i]=c}if(e.native&&e.native.byON){delete e.native.byON;let c=e.common.smartName;(!c||typeof c!="object")&&(c={en:c},c[i]=c.en),e.common.smartName=c}if(s!==void 0&&(a?(e.common.custom=e.common.custom||{},e.common.custom[o]=e.common.custom[o]||{},e.common.custom[o].smartName=e.common.custom[o].smartName||{},s?e.common.custom[o].smartName.smartType=s:delete e.common.custom[o].smartName.smartType):(e.common.smartName=e.common.smartName||{},s?e.common.smartName.smartType=s:delete e.common.smartName.smartType)),n!==void 0&&(a?(e.common.custom=e.common.custom||{},e.common.custom[o]=e.common.custom[o]||{},e.common.custom[o].smartName=e.common.custom[o].smartName||{},e.common.custom[o].smartName.byON=n):(e.common.smartName=e.common.smartName||{},e.common.smartName.byON=n)),t!==void 0){let c;if(a?(e.common.custom=e.common.custom||{},e.common.custom[o]=e.common.custom[o]||{},e.common.custom[o].smartName=e.common.custom[o].smartName||{},c=e.common.custom[o].smartName):(e.common.smartName=e.common.smartName||{},c=e.common.smartName),c[i]=t,c&&(!c[i]||c[i]===e.common.name&&(!e.common.role||e.common.role.includes("button")))){delete c[i];let p=!0;for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){p=!1;break}p&&(a?e.common.custom[o].smartName.byON===void 0?delete e.common.custom[o]:(delete e.common.custom[o].en,delete e.common.custom[o].de,delete e.common.custom[o].ru,delete e.common.custom[o].nl,delete e.common.custom[o].pl,delete e.common.custom[o].it,delete e.common.custom[o].fr,delete e.common.custom[o].pt,delete e.common.custom[o].es,delete e.common.custom[o].uk,delete e.common.custom[o]["zh-cn"]):e.common.smartName.byON!==void 0?(delete e.common.smartName.en,delete e.common.smartName.de,delete e.common.smartName.ru,delete e.common.smartName.nl,delete e.common.smartName.pl,delete e.common.smartName.it,delete e.common.smartName.fr,delete e.common.smartName.pt,delete e.common.smartName.es,delete e.common.smartName.uk,delete e.common.smartName["zh-cn"]):e.common.smartName=null)}}}static disableSmartName(e,t,n){n?(e.common.custom=e.common.custom||{},e.common.custom[t]=e.common.custom[t]||{},e.common.custom[t].smartName=!1):e.common.smartName=!1}static copyToClipboard(e,t){return t&&t.stopPropagation(),t&&t.preventDefault(),h.Utils.copyToClipboard(e)}static getFileExtension(e){const t=(e||"").lastIndexOf(".");return t!==-1?e.substring(t+1).toLowerCase():null}static formatBytes(e){if(Math.abs(e)<1024)return`${e} B`;const t=["KB","MB","GB"];let n=-1;do e/=1024,++n;while(Math.abs(e)>=1024&&n<t.length-1);return`${e.toFixed(1)} ${t[n]}`}static getInvertedColor(e,t,n){if(!e)return;const s=xt.invertColor(e,!0);if(s==="#FFFFFF"&&(t==="dark"||n&&t==="light"))return"#DDD";if(s==="#000000"&&(t==="light"||n&&t==="dark"))return"#222"}static invertColor(e,t){if(e==null||e===""||typeof e!="string")return"";if(e.startsWith("rgba")){const i=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/);i&&(e=parseInt(i[1],10).toString(16).padStart(2,"0")+parseInt(i[2],10).toString(16).padStart(2,"0")+parseInt(i[2],10).toString(16).padStart(2,"0"))}else if(e.startsWith("rgb")){const i=e.match(/rgb?\((\d+),\s*(\d+),\s*(\d+)\)/);i&&(e=parseInt(i[1],10).toString(16).padStart(2,"0")+parseInt(i[2],10).toString(16).padStart(2,"0")+parseInt(i[2],10).toString(16).padStart(2,"0"))}else e.startsWith("#")&&(e=e.slice(1));e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let n=null;if(e.length===8)n=e.substring(6,8),e=e.substring(0,6);else if(e.length!==6)return console.warn(`Cannot invert color: ${e}`),e;let s=parseInt(e.slice(0,2),16),o=parseInt(e.slice(2,4),16),a=parseInt(e.slice(4,6),16);return t?s*.299+o*.587+a*.114>186?`#000000${n||""}`:`#FFFFFF${n||""}`:(s=(255-s).toString(16),o=(255-o).toString(16),a=(255-a).toString(16),`#${s.padStart(2,"0")}${o.padStart(2,"0")}${a.padStart(2,"0")}${n||""}`)}static color2rgb(e){if(e==null||e===""||typeof e!="string")return"";if(e.startsWith("rgba")){const t=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/);t&&(e=parseInt(t[1],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0"))}else if(e.startsWith("rgb")){const t=e.match(/rgb?\((\d+),\s*(\d+),\s*(\d+)\)/);t&&(e=parseInt(t[1],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0"))}else e.startsWith("#")&&(e=e.slice(1));return e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),e.length!==6&&e.length!==8?(console.warn(`Cannot invert color: ${e}`),!1):[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}static rgb2lab(e){let t=e[0]/255,n=e[1]/255,s=e[2]/255;t=t>.04045?Qt((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Qt((n+.055)/1.055,2.4):n/12.92,s=s>.04045?Qt((s+.055)/1.055,2.4):s/12.92;let o=(t*.4124+n*.3576+s*.1805)/.95047,a=t*.2126+n*.7152+s*.0722,i=(t*.0193+n*.1192+s*.9505)/1.08883;return o=o>.008856?Qt(o,.33333333):7.787*o+.137931,a=a>.008856?Qt(a,.33333333):7.787*a+.137931,i=i>.008856?Qt(i,.33333333):7.787*i+.137931,[116*a-16,500*(o-a),200*(a-i)]}static colorDistance(e,t){const n=xt.rgb2lab(xt.color2rgb(e)),s=xt.rgb2lab(xt.color2rgb(t)),o=n[0]-s[0],a=n[1]-s[1],i=n[2]-s[2],c=Math.sqrt(n[1]*n[1]+n[2]*n[2]),p=Math.sqrt(s[1]*s[1]+s[2]*s[2]),g=c-p;let C=a*a+i*i-g*g;C=C<0?0:Math.sqrt(C);const v=1+.045*c,M=1+.015*c,S=o,T=g/v,_=C/M,O=S*S+T*T+_*_;return O<0?0:O}static _toVal(e){let t,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]&&(t=xt._toVal(e[s]),t&&(n&&(n+=" "),n+=t));else for(const s in e)e[s]&&(n&&(n+=" "),n+=s);return n}static clsx(){let e=0,t,n,s="";for(;e<arguments.length;)t=arguments[e++],t&&(n=xt._toVal(t),n&&(s&&(s+=" "),s+=n));return s}static getThemeName(e=""){return window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"?window.vendorPrefix:e||((window._localStorage||window.localStorage).getItem("App.themeName")?(window._localStorage||window.localStorage).getItem("App.themeName"):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"colored")}static getThemeType(e=""){return window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"?"light":(e=e||(window._localStorage||window.localStorage).getItem("App.themeName"),e==="dark"||e==="blue"?"dark":"light")}static setThemeName(e){window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"||((window._localStorage||window.localStorage).setItem("App.themeName",e),(window._localStorage||window.localStorage).setItem("App.theme",e==="dark"||e==="blue"?"dark":"light"))}static toggleTheme(e){if(window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@")return window.vendorPrefix;e=e||(window._localStorage||window.localStorage).getItem("App.themeName");const t=xt.getThemeNames(),n=t.indexOf(e);let s;return n!==-1?s=t[(n+1)%t.length]:s=t[0],xt.setThemeName(s),s}static getThemeNames(){return window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"?[window.vendorPrefix]:["light","dark","blue","colored"]}static parseQuery(e){e=(e||"").toString().replace(/^\?/,"");const t={};return e.split("&").forEach(n=>{if(n=n.trim(),n){const s=n.split("="),o=decodeURIComponent(s[0]).trim();if(s.length>1)if(t[o]=decodeURIComponent(s[1]),t[o]==="true")t[o]=!0;else if(t[o]==="false")t[o]=!1;else{const a=parseFloat(t[o]);a.toString()===t[o]&&(t[o]=a)}else t[o]=!0}}),t}static getParentId(e){const t=(e||"").toString().split(".");return t.length>1?(t.pop(),t.join(".")):null}static formatDate(e,t){if(!e)return"";let n,s=e.getMonth()+1;s<10&&(s=`0${s}`);let o=e.getDate();o<10&&(o=`0${o}`),t==="MM/DD/YYYY"?n=`${s}/${o}/${e.getFullYear()}`:n=`${e.getFullYear()}-${s}-${o}`;let a=e.getHours();return a<10?n+=` 0${a}`:n+=` ${a}`,a=e.getMinutes(),a<10?n+=`:0${a}`:n+=`:${a}`,a=e.getSeconds(),a<10?n+=`:0${a}`:n+=`:${a}`,a=e.getMilliseconds(),a<10?n+=`.00${a}`:a<100?n+=`.0${a}`:n+=`.${a}`,n}static formatTime(e){if(e){e=Math.round(e);const t=Math.floor(e/(3600*24)),n=Math.floor(e%(3600*24)/3600),s=Math.floor(e%3600/60),o=e%60;return t?`${t}.${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`:n?`${n}:${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`:`0:${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}return"0:00:00"}static MDtext2link(e){const t=e.match(/\d+\.\)\s/);return t&&(e=e.replace(t[0],t[0].replace(/\s/,"&nbsp;"))),e.replace(/[^a-zA-Zа-яА-Я0-9]/g,"").trim().replace(/\s/g,"").toLowerCase()}static openLink(e,t){e=e.replace(/\/\/([0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*)(:\d+)?\//i,"//[$1]$2/"),t==="this"?window.location=e:window.open(e,t||"_blank")}static MDgetTitle(e){const t=xt.extractHeader(e),n=t.header;let s=t.body;if(!n.title){s=s.replace(/{[^}]*}/g,""),s=s.trim();const o=s.replace(/\r/g,"").split(`
`);for(let a=0;a<o.length;a++)if(o[a].startsWith("# "))return o[a].substring(2).trim();return""}return n.title}static MDextractHeader(e){const t={};if(e.substring(0,3)==="---"){const n=e.substring(3).indexOf(`
---`);n!==-1&&(e.substring(3,n+3).replace(/\r/g,"").split(`
`).forEach(a=>{if(!a.trim())return;const i=a.indexOf(":");if(i!==-1){const c=a.substring(0,i).trim();t[c]=a.substring(i+1).trim(),t[c]=t[c].replace(/^['"]|['"]$/g,""),t[c]==="true"?t[c]=!0:t[c]==="false"?t[c]=!1:parseFloat(t[c]).toString()===t[c]&&(t[c]=parseFloat(t[c]))}else t[a.trim()]=!0}),e=e.substring(n+7))}return{header:t,body:e}}static MDremoveDocsify(e){const t=e.match(/{docsify-[^}]*}/g);return t&&t.forEach(n=>e=e.replace(n,"")),e}static generateFile(e,t){const n=document.createElement("a");n.setAttribute("href",`data:application/json;charset=utf-8,${encodeURIComponent(JSON.stringify(t,null,2))}`),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}static quality2text(e){const t=e&4294901760,n=re[e];let s;return n?s=[n]:e&1?s=[re[1],`0x${(e&65534).toString(16)}`]:e&2?s=[re[2],`0x${(e&65533).toString(16)}`]:s=[`0x${e.toString(16)}`],t&&s.push(`0x${(t>>16).toString(16).toUpperCase()}`),s}static clone(e){return JSON.parse(JSON.stringify(e))}static getStates(e){var n;let t=(n=e==null?void 0:e.common)==null?void 0:n.states;if(t){if(typeof t=="string"&&t[0]==="{")try{t=JSON.parse(t)}catch(s){console.error(`Cannot parse states: ${t}`),t=null}else if(typeof t=="string"){const s=t.split(";");t={};for(let o=0;o<s.length;o++){const a=s[o].split(":");t[a[0]]=a[1]}}else if(Array.isArray(t)){const s={};return e.common.type==="number"?t.forEach((o,a)=>s[a]=o):e.common.type==="string"?t.forEach(o=>s[o]=o):e.common.type==="boolean"&&(s.false=t[0],s.true=t[1]),s}}return t}static getSvg(e){return fetch(e).then(t=>t.blob()).then(t=>new Promise(n=>{const s=new FileReader;s.onload=function(){n(this.result)},s.readAsDataURL(t)}))}static detectMimeType(e){const t=Object.keys(pe).find(n=>e.startsWith(n));return t?pe[t]:null}static isStableRepository(e){return!!(typeof e=="string"&&e.toLowerCase().startsWith("stable")||e&&typeof e!="string"&&e.find(t=>t.toLowerCase().startsWith("stable")))}static isStringInteger(e){return parseInt(e).toString()===e}static isValidDate(e){return e instanceof Date&&!isNaN(e)}};We(xt,"namespace",J),We(xt,"INSTANCES","instances"),We(xt,"dateFormat",["DD","MM"]),We(xt,"FORBIDDEN_CHARS",/[^._\-/ :!#$%&()+=@^{}|~\p{Ll}\p{Lu}\p{Nd}]+/gu);let Re=xt;const Ye=Re;function ie(r){return Object.prototype.toString.call(r)==="[object Object]"}const Et=class Et extends V.Component{constructor(t){super(t);We(this,"defaultValue");We(this,"isError");We(this,"lang");We(this,"defaultSendToDone");We(this,"sendToTimeout");We(this,"noPlaceRequired");We(this,"onUpdate",t=>{const n=Et.getValue(t||this.props.data,this.props.attr)||"";this.state.value!==n?this.setState({value:n}):this.forceUpdate()});this.state={confirmDialog:!1,confirmNewValue:null,confirmAttr:null,confirmData:null},this.isError={},t.schema&&(t.custom?this.defaultValue=t.schema.defaultFunc?this.executeCustom(t.schema.defaultFunc,t.data,t.customObj,t.instanceObj,t.arrayIndex,t.globalData):t.schema.default:this.defaultValue=t.schema.defaultFunc?this.execute(t.schema.defaultFunc,t.schema.default,t.data,t.arrayIndex,t.globalData):t.schema.default),this.lang=h.I18n.getLanguage()}componentDidMount(){this.props.registerOnForceUpdate&&this.props.registerOnForceUpdate(this.props.attr,this.onUpdate);const t=["select","autocomplete","autocompleteSendTo"];if(this.defaultValue!==void 0){const n=Et.getValue(this.props.data,this.props.attr);(n===void 0||t.includes(this.props.schema.type)&&(n===""||n===null))&&setTimeout(()=>{this.props.custom?this.props.onChange(this.props.attr,this.defaultValue,()=>setTimeout(()=>this.props.forceUpdate([this.props.attr],this.props.data),100)):(Et.setValue(this.props.data,this.props.attr,this.defaultValue),this.props.onChange(this.props.data,void 0,()=>this.props.forceUpdate([this.props.attr],this.props.data)))},100)}else this.props.schema.defaultSendTo&&this.sendTo()}sendTo(){if(this.props.alive){this.defaultSendToDone=!0;let t=this.props.schema.data;if(t===void 0&&this.props.schema.jsonData){const n=this.getPattern(this.props.schema.jsonData);try{t=JSON.parse(n)}catch(s){console.error(`Cannot parse json data: ${n}`)}}else t={attr:this.props.attr,value:Et.getValue(this.props.data,this.props.attr)};t===void 0&&(t=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.defaultSendTo,t).then(n=>{n!=null&&(this.props.custom?this.props.onChange(this.props.attr,n,()=>this.props.forceUpdate([this.props.attr],this.props.data)):(Et.setValue(this.props.data,this.props.attr,n),this.props.onChange(this.props.data,void 0,()=>this.props.forceUpdate([this.props.attr],this.props.data))))})}else this.defaultSendToDone=!1,this.onError(this.props.attr,h.I18n.t("ra_Instance %s is not alive",this.props.instance.toString()))}componentWillUnmount(){this.props.registerOnForceUpdate&&this.props.registerOnForceUpdate(this.props.attr),this.sendToTimeout&&(clearTimeout(this.sendToTimeout),this.sendToTimeout=null)}static getValue(t,n){if(typeof n=="string")return Et.getValue(t,n.split("."));if(n.length===1)return t[n[0]];const s=n.shift();return typeof s=="string"&&typeof t[s]=="object"?Et.getValue(t[s],n):null}static setValue(t,n,s){if(typeof n=="string"){Et.setValue(t,n.split("."),s);return}if(n.length===1)s===null?delete t[n[0]]:t[n[0]]=s;else{const o=n.shift();if(typeof o!="string")return;(!t[o]||typeof t[o]=="object")&&(t[o]=t[o]||{}),Et.setValue(t[o],n,s)}}getText(t,n){if(!t)return"";if(typeof t=="string"){const s=n?t:h.I18n.t(t);return s.includes("${")?this.getPattern(s):s}return ie(t)?t.func?typeof t.func=="object"?this.getPattern(t.func[this.lang]||t.func.en||""):this.getPattern(t.func):t[this.lang]||t.en||"":t.toString()}renderConfirmDialog(){if(!this.state.confirmDialog)return null;const t=this.state.confirmData||this.props.schema.confirm;let n=null;return t.type==="warning"?n=l().createElement(D.Warning,null):t.type==="error"?n=l().createElement(D.Error,null):t.type==="info"&&(n=l().createElement(D.Info,null)),l().createElement(h.Confirm,{title:this.getText(t.title)||h.I18n.t("ra_Please confirm"),text:this.getText(t.text),ok:this.getText(t.ok)||h.I18n.t("ra_Ok"),cancel:this.getText(t.cancel)||h.I18n.t("ra_Cancel"),icon:n||void 0,onClose:s=>this.setState({confirmDialog:!1},()=>{if(s){const o=JSON.parse(JSON.stringify(this.props.data));this.state.confirmDepAttr&&Et.setValue(o,this.state.confirmDepAttr,this.state.confirmDepNewValue),Et.setValue(o,this.state.confirmAttr,this.state.confirmNewValue),this.setState({confirmDialog:!1,confirmDepAttr:null,confirmDepNewValue:null,confirmNewValue:null,confirmAttr:null,confirmData:null},()=>this.props.onChange(o))}else this.setState({confirmDialog:!1,confirmDepAttr:null,confirmDepNewValue:null,confirmNewValue:null,confirmAttr:null,confirmData:null})})})}getIcon(t){t=t||this.props.schema.icon;let n=null;return t==="auth"?n=l().createElement(D.Key,null):t==="send"?n=l().createElement(D.Send,null):t==="web"?n=l().createElement(D.Public,null):t==="warning"?n=l().createElement(D.Warning,null):t==="error"?n=l().createElement(D.Error,null):t==="info"?n=l().createElement(D.Info,null):t==="search"?n=l().createElement(D.Search,null):t==="book"?n=l().createElement(D.MenuBook,null):t==="help"?n=l().createElement(D.Help,null):t==="upload"?n=l().createElement(D.UploadFile,null):t&&((t.endsWith(".png")||t.endsWith(".svg")||t.endsWith(".jpg"))&&!t.startsWith("http://")&&!t.startsWith("https://")&&(t=`./adapter/${this.props.adapterName}/${t}`),n=l().createElement(h.Icon,{src:t,style:{width:22,height:22}})),n}onChangeAsync(t,n){return new Promise(s=>{this.onChange(t,n,s)})}onChange(t,n,s){const o=JSON.parse(JSON.stringify(this.props.data));if(Et.setValue(o,t,n),this.props.schema.confirm&&this.execute(this.props.schema.confirm.condition,!1,o,this.props.arrayIndex,this.props.globalData))return new Promise(i=>{this.setState({confirmDialog:!0,confirmNewValue:n,confirmAttr:t,confirmData:null},()=>{typeof s=="function"?s():i()})});if(this.props.schema.confirmDependsOn)for(let i=0;i<this.props.schema.confirmDependsOn.length;i++){const c=this.props.schema.confirmDependsOn[i];if(c.confirm){const p=Et.getValue(o,c.attr);if(this.execute(c.confirm.condition,!1,o,this.props.arrayIndex,this.props.globalData))return new Promise(g=>{this.setState({confirmDialog:!0,confirmNewValue:n,confirmAttr:t,confirmDepNewValue:p,confirmDepAttr:c.attr,confirmData:c.confirm},()=>{typeof s=="function"?s():g()})})}}const a=[];if(this.props.schema.onChangeDependsOn)for(let i=0;i<this.props.schema.onChangeDependsOn.length;i++){const c=this.props.schema.onChangeDependsOn[i];if(c.onChange){const p=Et.getValue(o,c.attr);let g;this.props.custom?g=this.executeCustom(c.onChange.calculateFunc,o,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):g=this.execute(c.onChange.calculateFunc,p,o,this.props.arrayIndex,this.props.globalData),g!==p&&(Et.setValue(o,c.attr,g),a.push(c.attr))}}if(this.props.schema.hiddenDependsOn)for(let i=0;i<this.props.schema.hiddenDependsOn.length;i++){const c=this.props.schema.hiddenDependsOn[i];c.hidden&&a.push(c.attr)}if(this.props.schema.labelDependsOn)for(let i=0;i<this.props.schema.labelDependsOn.length;i++){const c=this.props.schema.labelDependsOn[i];c.hidden&&a.push(c.attr)}if(this.props.schema.helpDependsOn)for(let i=0;i<this.props.schema.helpDependsOn.length;i++){const c=this.props.schema.helpDependsOn[i];c.hidden&&a.push(c.attr)}if(this.props.schema.onChange&&!this.props.schema.onChange.ignoreOwnChanges){const i=Et.getValue(o,this.props.attr),c=this.props.custom?this.executeCustom(this.props.schema.onChange.calculateFunc,o,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):this.execute(this.props.schema.onChange.calculateFunc,i,o,this.props.arrayIndex,this.props.globalData);c!==i&&Et.setValue(o,this.props.attr,c)}return this.props.custom?(this.props.onChange(t,n,()=>s&&s()),a&&a.length&&a.forEach((i,c)=>setTimeout(()=>this.props.onChange(i,Et.getValue(o,i)),c*50))):this.props.onChange(o,void 0,()=>{a.length&&this.props.forceUpdate(a,o),s&&s()}),Promise.resolve()}execute(t,n,s,o,a){let i;if(ie(t))i=t.func;else if(typeof t=="string")i=t;else return t;if(!i)return n;try{return new Function("data","originalData","_system","_alive","_common","_socket","_instance","arrayIndex","globalData","_changed",i.includes("return")?i:`return ${i}`)(s||this.props.data,this.props.originalData,this.props.systemConfig,this.props.alive,this.props.common,this.props.socket,this.props.instance,o,a,this.props.changed)}catch(c){return console.error(`Cannot execute ${t}: ${c}`),n}}executeCustom(t,n,s,o,a,i){let c;if(ie(t))c=t.func;else if(typeof t=="string")c=t;else return t;if(!c)return null;try{return new Function("data","originalData","_system","instanceObj","customObj","_socket","arrayIndex","globalData","_changed",c.includes("return")?c:`return ${c}`)(n||this.props.data,this.props.originalData,this.props.systemConfig,o,s,this.props.socket,a,i,this.props.changed)}catch(p){return console.error(`Cannot execute ${c}: ${p}`),null}}calculate(t){let n,s,o,a;return this.props.custom?(n=t.validator?!this.executeCustom(t.validator,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!1,s=t.disabled?this.executeCustom(t.disabled,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!1,o=t.hidden?this.executeCustom(t.hidden,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!1,a=t.defaultFunc?this.executeCustom(t.defaultFunc,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):t.default):(n=t.validator?!this.execute(t.validator,!1,this.props.data,this.props.arrayIndex,this.props.globalData):!1,s=t.disabled?this.execute(t.disabled,!1,this.props.data,this.props.arrayIndex,this.props.globalData):!1,o=t.hidden?this.execute(t.hidden,!1,this.props.data,this.props.arrayIndex,this.props.globalData):!1,a=t.defaultFunc?this.execute(t.defaultFunc,t.default,this.props.data,this.props.arrayIndex,this.props.globalData):t.default),{error:n,disabled:s,hidden:o,defaultValue:a}}onError(t,n){n?this.isError[t]=n:delete this.isError[t],this.props.onError&&this.props.onError(t,n)}renderItem(t,n,s){return this.getText(this.props.schema.label)||this.getText(this.props.schema.text)}renderHelp(t,n,s){return n?l().createElement("a",{href:n,target:"_blank",rel:"noreferrer",style:{color:this.props.themeType==="dark"?"#a147ff":"#5b238f",textDecoration:"underline"}},this.getText(t,s)):(t=this.getText(t,s)||"",t&&(t.includes("<a ")||t.includes("<br")||t.includes("<b>")||t.includes("<i>"))?h.Utils.renderTextWithA(t):t)}getPattern(t,n){if(n=n||this.props.data,!t)return"";let s;typeof t=="object"?t.func?s=t.func:(console.log(`Object must be stringified: ${JSON.stringify(t)}`),s=JSON.stringify(t)):s=t;try{return this.props.custom?new Function("data","originalData","arrayIndex","globalData","_system","instanceObj","customObj","_socket","_changed",`return \`${s.replace(/`/g,"\\`")}\``)(n,this.props.originalData,this.props.arrayIndex,this.props.globalData,this.props.systemConfig,this.props.instanceObj,this.props.customObj,this.props.socket,this.props.changed):new Function("data","originalData","arrayIndex","globalData","_system","_alive","_common","_socket","_changed",`return \`${s.replace(/`/g,"\\`")}\``)(n,this.props.originalData,this.props.arrayIndex,this.props.globalData,this.props.systemConfig,this.props.alive,this.props.common,this.props.socket,this.props.changed)}catch(o){return console.error(`Cannot execute ${s}: ${o}`),s}}render(){const t=this.props.schema;if(!t)return null;this.props.alive&&this.defaultSendToDone===!1&&(this.sendToTimeout=setTimeout(()=>{this.sendToTimeout=null,this.sendTo()},200));const{error:n,disabled:s,hidden:o,defaultValue:a}=this.calculate(t);if(o){if(Object.keys(this.isError).length&&(setTimeout(p=>Object.keys(p).forEach(g=>this.props.onError(g)),100,JSON.parse(JSON.stringify(this.isError))),this.isError={}),t.hideOnlyControl){const p=l().createElement(u.Grid,{item:!0,xs:t.xs||void 0,lg:t.lg||void 0,md:t.md||void 0,sm:t.sm||void 0,style:it(it({marginBottom:0,textAlign:"left"},t.style),this.props.themeType==="dark"?t.darkStyle:{})});return t.newLine?l().createElement(l().Fragment,null,l().createElement("div",{style:{flexBasis:"100%",height:0}}),p):p}return null}t.validatorNoSaveOnError&&(n&&!Object.keys(this.isError).length?(this.isError={[this.props.attr]:t.validatorErrorText?h.I18n.t(t.validatorErrorText):!0},setTimeout(p=>Object.keys(p).forEach(g=>this.props.onError(g,p[g])),100,JSON.parse(JSON.stringify(this.isError)))):!n&&Object.keys(this.isError).length&&(setTimeout(p=>Object.keys(p).forEach(g=>this.props.onError(g)),100,JSON.parse(JSON.stringify(this.isError))),this.isError={}));const i=this.renderItem(n,s||this.props.commandRunning||this.props.disabled,a);if(this.noPlaceRequired)return i;const c=l().createElement(u.Grid,{item:!0,title:this.getText(t.tooltip),xs:t.xs||void 0,lg:t.lg||void 0,md:t.md||void 0,sm:t.sm||void 0,style:it(it({marginBottom:0,textAlign:"left",width:t.type==="divider"||t.type==="header"?t.width||"100%":void 0},t.style),this.props.themeType==="dark"?t.darkStyle:{})},this.props.schema.defaultSendTo&&this.props.schema.button?l().createElement(u.Grid,{container:!0,style:{width:"100%"}},l().createElement(u.Grid,{item:!0,flex:1},i),l().createElement(u.Grid,{item:!0},l().createElement(u.Button,{variant:"outlined",onClick:()=>this.sendTo(),title:this.props.schema.buttonTooltip?this.getText(this.props.schema.buttonTooltip,this.props.schema.buttonTooltipNoTranslation):h.I18n.t("ra_Request data by instance")},this.getText(this.props.schema.button)))):i);return t.newLine?l().createElement(l().Fragment,null,l().createElement("div",{style:{flexBasis:"100%",height:0}}),this.renderConfirmDialog(),c):this.state.confirmDialog?l().createElement(l().Fragment,null,this.renderConfirmDialog(),c):c}};We(Et,"DIFFERENT_VALUE","__different__"),We(Et,"DIFFERENT_LABEL","ra___different__"),We(Et,"NONE_VALUE",""),We(Et,"NONE_LABEL","ra_none");let y=Et;const N=r=>({fullWidth:{width:"100%"},accordionSummary:{backgroundColor:r.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.08)"},accordionTitle:{},toolbar:{backgroundColor:r.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.08)",borderRadius:3}});class f extends y{constructor(t){super(t);We(this,"typingTimer",null);We(this,"onDelete",t=>()=>{const n=JSON.parse(JSON.stringify(this.state.value));n.splice(t,1),this.setState({value:n,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(n))});We(this,"onClone",t=>()=>{const n=JSON.parse(JSON.stringify(this.state.value)),s=JSON.parse(JSON.stringify(n[t]));if(typeof this.props.schema.clone=="string"&&typeof s[this.props.schema.clone]=="string"){let o=1,a=s[this.props.schema.clone];const i=a.match(/(\d+)$/);for(i?(a=a.replace(i[0],""),o=parseInt(i[0],10)+1):a+="_";n.find(c=>c[this.props.schema.clone]===a+o.toString());)o++;s[this.props.schema.clone]=`${s[this.props.schema.clone]}_${o}`}n.splice(t,0,s),this.setState({value:n,activeIndex:-1,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(n))});We(this,"onChangeWrapper",t=>{this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=setTimeout(n=>{this.typingTimer=null,this.onChange(this.props.attr,n)},300,t)});We(this,"onAdd",()=>{const{schema:t}=this.props,n=JSON.parse(JSON.stringify(this.state.value)),s=t.items&&t.items.reduce((o,a)=>{let i;return a.defaultFunc?this.props.custom?i=a.defaultFunc?this.executeCustom(a.defaultFunc,this.props.data,this.props.customObj,this.props.instanceObj,n.length,this.props.data):this.props.schema.default:i=a.defaultFunc?this.execute(a.defaultFunc,this.props.schema.default,this.props.data,n.length,this.props.data):this.props.schema.default:i=a.default===void 0?null:a.default,o[a.attr]=i,o},{});n.push(s),this.setState({value:n,activeIndex:n.length-1},()=>this.onChangeWrapper(n))});this.props.schema.items=this.props.schema.items||[]}componentDidMount(){return lt(this,null,function*(){Wt(f.prototype,this,"componentDidMount").call(this);let t=y.getValue(this.props.data,this.props.attr)||[];Array.isArray(t)||(t=[]),this.setState({value:t,activeIndex:-1,iteration:0})})}componentWillUnmount(){this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=null,super.componentWillUnmount()}itemAccordion(t,n){const{value:s}=this.state,{schema:o}=this.props,a={type:"panel",items:o.items.reduce((i,c)=>(i[c.attr]=c,i),{}),style:{marginLeft:-8,marginTop:10,marginBottom:10}};return l().createElement(Ds,{index:n+this.state.iteration,arrayIndex:n,changed:this.props.changed,globalData:this.props.data,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,alive:this.props.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:t,custom:!0,schema:a,systemConfig:this.props.systemConfig,originalData:this.props.originalData,customs:this.props.customs,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,forceUpdate:this.props.forceUpdate,imagePrefix:this.props.imagePrefix,onCommandRunning:this.props.onCommandRunning,onChange:(i,c)=>{const p=JSON.parse(JSON.stringify(s));p[n][i]=c,this.setState({value:p},()=>this.onChangeWrapper(p))},onError:(i,c)=>this.onError(i,c),table:this.props.table})}onMoveUp(t){const n=JSON.parse(JSON.stringify(this.state.value)),s=n[t];n.splice(t,1),n.splice(t-1,0,s);const o=this.state.activeIndex-1;this.setState({value:n,activeIndex:o,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(n))}onMoveDown(t){const n=JSON.parse(JSON.stringify(this.state.value)),s=n[t];n.splice(t,1),n.splice(t+1,0,s);const o=this.state.activeIndex+1;this.setState({value:n,activeIndex:o,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(n))}renderItem(){const{classes:t,schema:n}=this.props,{value:s}=this.state;return s?l().createElement(u.Paper,null,n.label||!n.noDelete?l().createElement(u.Toolbar,{variant:"dense"},n.label?l().createElement(u.Typography,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},this.getText(n.label)):null,n.noDelete?null:l().createElement(u.IconButton,{size:"small",color:"primary",onClick:this.onAdd},l().createElement(D.Add,null))):null,s.map((o,a)=>l().createElement(u.Accordion,{key:`${o}_${a}`,expanded:this.state.activeIndex===a,onChange:(i,c)=>{this.setState({activeIndex:c?a:-1})}},l().createElement(u.AccordionSummary,{expandIcon:l().createElement(D.ExpandMore,null),className:h.Utils.clsx(t.fullWidth,t.accordionSummary)},l().createElement(u.Typography,{className:t.accordionTitle},o[n.titleAttr])),l().createElement(u.AccordionDetails,{style:it(it({},n.style),this.props.themeType?n.darkStyle:{})},this.itemAccordion(s[a],a),l().createElement(u.Toolbar,{className:t.toolbar},a?l().createElement(u.Tooltip,{title:h.I18n.t("ra_Move up")},l().createElement(u.IconButton,{size:"small",onClick:()=>this.onMoveUp(a)},l().createElement(D.ArrowUpward,null))):l().createElement("div",{className:t.buttonEmpty}),a<s.length-1?l().createElement(u.Tooltip,{title:h.I18n.t("ra_Move down")},l().createElement(u.IconButton,{size:"small",onClick:()=>this.onMoveDown(a)},l().createElement(D.ArrowDownward,null))):l().createElement("div",{className:t.buttonEmpty}),n.noDelete?null:l().createElement(u.Tooltip,{title:h.I18n.t("ra_Delete current row")},l().createElement(u.IconButton,{size:"small",onClick:this.onDelete(a)},l().createElement(D.Delete,null))),n.clone?l().createElement(u.Tooltip,{title:h.I18n.t("ra_Clone current row")},l().createElement(u.IconButton,{size:"small",onClick:this.onClone(a)},l().createElement(D.ContentCopy,null))):null)))),!n.noDelete&&s.length>0?l().createElement(u.Toolbar,{variant:"dense",className:t.rootTool},l().createElement(u.IconButton,{size:"small",color:"primary",onClick:this.onAdd},l().createElement(D.Add,null))):null,n.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null):null}}const w=(0,b.withStyles)(N)(f),m={root:{width:"100%"},notAlive:{color:"#a30000"}};class x extends y{componentDidMount(){super.componentDidMount();const e=this.getInstance();this.props.socket.getState(`${e}.alive`).then(t=>this.setState({alive:!!(t&&t.val),instance:e}))}getInstance(){let e=this.props.schema.instance||`${this.props.adapterName}.${this.props.instance}`;return e.includes("${")&&(e=this.getPattern(e)),e&&!e.startsWith("system.adapter.")&&(e=`system.adapter.${e}`),e}renderItem(){if(this.getInstance()!==this.state.instance&&setTimeout(()=>{const t=this.getInstance();t?this.props.socket.getState(`${t}.alive`).then(n=>this.setState({alive:!!(n&&n.val),instance:t})):this.setState({alive:null,instance:t})},200),this.state.alive!==!1&&this.state.alive!==!0)return null;const e=this.state.instance.replace(/^system.adapter./,"");return l().createElement("div",{className:h.Utils.clsx(this.props.classes.root,!this.state.alive&&this.props.classes.notAlive)},this.state.alive?this.props.schema.textAlive!==void 0?this.props.schema.textAlive?h.I18n.t(this.props.schema.textAlive,e):"":h.I18n.t("ra_Instance %s is alive",e):this.props.schema.textNotAlive!==void 0?this.props.schema.textNotAlive?h.I18n.t(this.props.schema.textNotAlive,e):"":h.I18n.t("ra_Instance %s is not alive",e))}}const E=(0,b.withStyles)(m)(x),L={fullWidth:{width:"100%"}};class G extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr),t=this.props.schema.options.map(n=>typeof n=="string"?{label:n,value:n}:JSON.parse(JSON.stringify(n)));Array.isArray(e)?(t.unshift({label:h.I18n.t(y.DIFFERENT_LABEL),value:y.DIFFERENT_VALUE}),this.setState({value:y.DIFFERENT_VALUE,selectOptions:t})):this.setState({value:e,selectOptions:t})}renderItem(e,t){if(!this.state.selectOptions)return null;let n;const s=JSON.parse(JSON.stringify(this.state.selectOptions));return Array.isArray(this.state.value)||this.state.value===y.DIFFERENT_VALUE?([...this.state.value].filter(a=>!s.find(i=>typeof i=="object"?i.value===a:i===a)).forEach(a=>s.push({label:a.toString(),value:a})),n={label:h.I18n.t(y.DIFFERENT_LABEL),value:y.DIFFERENT_VALUE},s.unshift(n)):(n=this.state.value!==null&&this.state.value!==void 0&&s.find(a=>typeof a=="object"?a.value==this.state.value:a==this.state.value),this.state.value!==null&&this.state.value!==void 0&&!n&&this.props.schema.freeSolo&&(n={value:this.state.value,label:this.state.value},s.push(n))),l().createElement(u.Autocomplete,{className:this.props.classes.indeterminate,fullWidth:!0,freeSolo:!!this.props.schema.freeSolo,value:n,options:s,onInputChange:a=>{if(!a||!this.props.schema.freeSolo)return;const i=a.target.value;i!==this.state.value&&this.setState({value:i},()=>this.onChange(this.props.attr,i))},onChange:(a,i)=>{const c=typeof i=="object"?i?i.value:"":i;c!==this.state.value&&this.setState({value:c},()=>this.onChange(this.props.attr,c))},getOptionLabel:a=>{var i;return typeof a=="object"&&(i=a==null?void 0:a.label)!=null?i:""},renderInput:a=>l().createElement(u.TextField,Ht(it({variant:"standard"},a),{error:!!e,placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:t}))})}}const z=(0,b.withStyles)(L)(G),U={fullWidth:{width:"100%"}};class H extends y{componentDidMount(){super.componentDidMount(),this.askInstance()}askInstance(){const e=y.getValue(this.props.data,this.props.attr),t=this.props.schema.options?this.props.schema.options.map(n=>typeof n=="string"?{label:n,value:n}:JSON.parse(JSON.stringify(n))):[];if(this.props.alive){let n=this.props.schema.data;if(n===void 0&&this.props.schema.jsonData){n=this.getPattern(this.props.schema.jsonData);try{typeof n=="string"&&(n=JSON.parse(n))}catch(s){console.error(`Cannot parse json data: ${n}`)}}n===void 0&&(n=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",n).then(s=>{s&&Array.isArray(s)&&s.forEach(o=>t.push(typeof o=="string"?{label:o,value:o}:JSON.parse(JSON.stringify(o)))),Array.isArray(e)?(t.unshift({label:h.I18n.t(y.DIFFERENT_LABEL),value:y.DIFFERENT_VALUE}),this.setState({value:y.DIFFERENT_VALUE,selectOptions:t,context:this.getContext()})):this.setState({value:e,selectOptions:t,context:this.getContext()})})}else Array.isArray(e)?(t.unshift({label:h.I18n.t(y.DIFFERENT_LABEL),value:y.DIFFERENT_VALUE}),this.setState({value:y.DIFFERENT_VALUE,selectOptions:t})):this.setState({value:e,selectOptions:t})}getContext(){const e={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(t=>e[t]=y.getValue(this.props.data,t)),JSON.stringify(e)}renderItem(e,t){if(!this.state.selectOptions)return null;this.props.alive&&this.getContext()!==this.state.context&&setTimeout(()=>this.askInstance(),300);let n;const s=JSON.parse(JSON.stringify(this.state.selectOptions));return Array.isArray(this.state.value)||this.state.value===y.DIFFERENT_LABEL?([...this.state.value].filter(a=>!s.find(i=>i.value===a)).forEach(a=>s.push({label:a.toString(),value:a})),n={label:h.I18n.t(y.DIFFERENT_LABEL),value:y.DIFFERENT_VALUE},s.unshift(n)):(n=this.state.value!==null&&this.state.value!==void 0&&s.find(a=>a.value==this.state.value),this.state.value!==null&&this.state.value!==void 0&&!n&&this.props.schema.freeSolo&&(n={value:this.state.value,label:this.state.value},s.push(n)),n=n||null),s.length?l().createElement(u.Autocomplete,{value:n,fullWidth:!0,freeSolo:!!this.props.schema.freeSolo,options:s,getOptionLabel:a=>{var i;return(i=a==null?void 0:a.label)!=null?i:""},className:this.props.classes.indeterminate,onInputChange:a=>{if(!a||!this.props.schema.freeSolo)return;const i=a.target.value;i!==this.state.value&&this.setState({value:i},()=>this.onChange(this.props.attr,i))},onChange:(a,i)=>{const c=typeof i=="object"?i?i.value:"":i;c!==this.state.value&&this.setState({value:c},()=>this.onChange(this.props.attr,c))},renderInput:a=>l().createElement(u.TextField,Ht(it({variant:"standard"},a),{error:!!e,placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:t}))}):l().createElement(u.TextField,{variant:"standard",fullWidth:!0,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!e,disabled:t,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0},onChange:a=>{const i=a.target.value;this.setState({value:i},()=>this.onChange(this.props.attr,(i||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const ue=(0,b.withStyles)(U)(H);var Ke=$(95973),d=$.n(Ke);const et=()=>({fullWidth:{width:"100%"},flex:{display:"flex"},button:{height:48,marginLeft:4,minWidth:48}});class Xe extends y{componentDidMount(){return lt(this,null,function*(){Wt(Xe.prototype,this,"componentDidMount").call(this);const{data:e,attr:t}=this.props,n=y.getValue(e,t)||"";this.setState({value:n,showDialog:!1})})}renderItem(e,t){const{classes:n,schema:s,attr:o}=this.props,{value:a,showDialog:i}=this.state;return l().createElement(u.FormControl,{className:n.fullWidth,variant:"standard"},s.label?l().createElement(u.InputLabel,{shrink:!0},this.getText(s.label)):null,l().createElement("div",{className:n.flex},l().createElement(u.TextField,{variant:"standard",fullWidth:!0,value:a!=null?a:"",error:!!e,disabled:t,placeholder:this.getText(s.placeholder),label:this.getText(s.label),helperText:this.renderHelp(s.help,s.helpLink,s.noTranslation),onChange:c=>{const p=c.target.value;this.setState({value:p},()=>this.onChange(o,p))}}),l().createElement(u.Button,{color:"grey",className:this.props.classes.button,size:"small",variant:"outlined",onClick:()=>this.setState({showDialog:!0})},"...")),i?l().createElement(h.Cron,{title:h.I18n.t("ra_Define schedule"),simple:s.simple,complex:s.complex,cron:a,language:h.I18n.getLanguage(),onClose:()=>this.setState({showDialog:!1}),cancel:h.I18n.t("ra_Cancel"),ok:h.I18n.t("ra_Ok"),onOk:c=>this.setState({showDialog:!1,value:c},()=>this.onChange(o,c))}):null)}}Xe.propTypes={themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func,dateFormat:d().string,isFloatComma:d().bool};const de=(0,b.withStyles)(et)(Xe),xe={fullWidth:{width:"100%"}};class ge extends y{componentDidMount(){return lt(this,null,function*(){Wt(ge.prototype,this,"componentDidMount").call(this);const e=y.getValue(this.props.data,this.props.attr),n=(yield this.props.socket.getCertificates()).filter(s=>{const o=this.props.attr.toLowerCase();return o.includes(s.type)||s.type==="public"&&o.includes("cert")||s.type==="private"&&(o.includes("priv")||o.includes("key"))?!0:!!(s.type==="chained"&&(o.includes("chain")||o.includes("ca")))}).map(s=>({label:s.name,value:s.name}));n.unshift({label:h.I18n.t(y.NONE_LABEL),value:y.NONE_VALUE}),this.setState({value:e,selectOptions:n})})}renderItem(e,t){var s,o;if(!this.state.selectOptions)return null;const n=(s=this.state.selectOptions)==null?void 0:s.find(a=>a.value===this.state.value);return l().createElement(u.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},this.props.schema.label?l().createElement(u.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!t,value:this.state.value,renderValue:()=>this.getText(n==null?void 0:n.label,this.props.schema.noTranslation!==!1),onChange:a=>this.setState({value:a.target.value},()=>this.onChange(this.props.attr,this.state.value))},(o=this.state.selectOptions)==null?void 0:o.map(a=>l().createElement(u.MenuItem,{key:a.value,value:a.value,style:a.value===y.NONE_VALUE?{opacity:.5}:{}},this.getText(a.label,this.props.schema.noTranslation!==!1)))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const we=(0,b.withStyles)(xe)(ge),zt={fullWidth:{width:"100%"},leWidth:{width:620,marginBottom:10},certWidth:{width:200,marginRight:10}};class ot extends y{componentDidMount(){return lt(this,null,function*(){var i;Wt(ot.prototype,this,"componentDidMount").call(this);const e=yield this.props.socket.getCertificates(),t=[],n=[],s=[];let o=[];const a=yield this.props.socket.getObject("system.certificates");(i=a==null?void 0:a.native)!=null&&i.collections?o=Object.keys(a.native.collections):o=null,e.forEach(c=>{c.type==="public"?t.push({label:c.name,value:c.name}):c.type==="private"?n.push({label:c.name,value:c.name}):c.type==="chained"?s.push({label:c.name,value:c.name}):(t.push({label:c.name,value:c.name}),n.push({label:c.name,value:c.name}),s.push({label:c.name,value:c.name}))}),t.unshift({label:h.I18n.t(y.NONE_LABEL),value:y.NONE_VALUE}),n.unshift({label:h.I18n.t(y.NONE_LABEL),value:y.NONE_VALUE}),s.unshift({label:h.I18n.t(y.NONE_LABEL),value:y.NONE_VALUE}),this.setState({certsPublicOptions:t,certsChainOptions:s,certsPrivateOptions:n,collectionsOptions:o})})}renderItem(e,t){var g,C,v,M,S,T,_;if(!this.state.certsPublicOptions||!this.state.certsPrivateOptions||!this.state.certsChainOptions)return null;const n=(y.getValue(this.props.data,this.props.schema.leCollectionName||"leCollection")||"false").toString(),s=y.getValue(this.props.data,this.props.schema.certPublicName||"certPublic"),o=y.getValue(this.props.data,this.props.schema.certPrivateName||"certPrivate"),a=y.getValue(this.props.data,this.props.schema.certChainedName||"certChained"),i=(g=this.state.certsPublicOptions)==null?void 0:g.find(O=>O.value===s),c=(C=this.state.certsPrivateOptions)==null?void 0:C.find(O=>O.value===o),p=(v=this.state.certsChainOptions)==null?void 0:v.find(O=>O.value===a);return l().createElement("div",{className:this.props.classes.fullWidth},this.state.collectionsOptions?l().createElement(u.FormControl,{className:this.props.classes.leWidth,variant:"standard"},l().createElement(u.InputLabel,{shrink:!0},"Let's encrypt"),l().createElement(u.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!t,value:n,onChange:O=>this.onChange(this.props.schema.leCollectionName||"leCollection",O.target.value==="false"?!1:O.target.value==="true"?!0:O.target.value)},l().createElement(u.MenuItem,{key:"_false",value:"false",style:{fontWeight:"bold"}},h.I18n.t("ra_Do not use let's encrypt")),l().createElement(u.MenuItem,{key:"_true",value:"true",style:{fontWeight:"bold"}},h.I18n.t("ra_Use all available let's encrypt certificates")),(M=this.state.collectionsOptions)==null?void 0:M.map(O=>l().createElement(u.MenuItem,{key:O,value:O},O)))):null,this.state.collectionsOptions?l().createElement("br",null):null,this.state.collectionsOptions&&n!=="false"?l().createElement("div",null,h.I18n.t("ra_Fallback custom certificates")):null,l().createElement(u.FormControl,{className:this.props.classes.certWidth,variant:"standard"},l().createElement(u.InputLabel,{shrink:!0},h.I18n.t("ra_Public certificate")),l().createElement(u.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!t,value:s||"",renderValue:()=>this.getText(i==null?void 0:i.label),onChange:O=>this.onChange(this.props.schema.certPublicName||"certPublic",O.target.value)},(S=this.state.certsPublicOptions)==null?void 0:S.map((O,B)=>l().createElement(u.MenuItem,{key:`${O.value}_${B}`,value:O.value,style:O.value===y.NONE_VALUE?{opacity:.5}:{}},this.getText(O.label))))),l().createElement(u.FormControl,{className:this.props.classes.certWidth,variant:"standard"},l().createElement(u.InputLabel,{shrink:!0},h.I18n.t("ra_Private certificate")),l().createElement(u.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!t,value:o||"",renderValue:()=>this.getText(c==null?void 0:c.label),onChange:O=>this.onChange(this.props.schema.certPrivateName||"certPrivate",O.target.value)},(T=this.state.certsPrivateOptions)==null?void 0:T.map((O,B)=>l().createElement(u.MenuItem,{key:`${O.value}_${B}`,value:O.value,style:O.value===y.NONE_VALUE?{opacity:.5}:{}},this.getText(O.label))))),l().createElement(u.FormControl,{className:this.props.classes.certWidth,variant:"standard"},l().createElement(u.InputLabel,{shrink:!0},h.I18n.t("ra_Chained certificate")),l().createElement(u.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!t,value:a||"",renderValue:()=>this.getText(p==null?void 0:p.label),onChange:O=>this.onChange(this.props.schema.certChainedName||"certChained",O.target.value)},(_=this.state.certsChainOptions)==null?void 0:_.map((O,B)=>l().createElement(u.MenuItem,{key:`${O.value}_${B}`,value:O.value,style:O.value===y.NONE_VALUE?{opacity:.5}:{}},this.getText(O.label))))))}}const kt=(0,b.withStyles)(zt)(ot),Xt={fullWidth:{width:"100%"}};class bt extends y{componentDidMount(){return lt(this,null,function*(){var n;Wt(bt.prototype,this,"componentDidMount").call(this);let e;const t=yield this.props.socket.getObject("system.certificates");(n=t==null?void 0:t.native)!=null&&n.collections?e=Object.keys(t.native.collections):e=[],this.setState({collectionsOptions:e})})}renderItem(e,t){var s;if(!this.state.collectionsOptions)return null;const n=(y.getValue(this.props.data,this.props.schema.leCollectionName||"leCollection")||"false").toString();return l().createElement(u.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},this.props.schema.label?l().createElement(u.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!t,value:n,onChange:o=>this.onChange(this.props.schema.leCollectionName||"leCollection",o.target.value==="false"?!1:o.target.value==="true"?!0:o.target.value)},l().createElement(u.MenuItem,{key:"_false",value:"false",style:{fontWeight:"bold"}},h.I18n.t("ra_Do not use let's encrypt")),l().createElement(u.MenuItem,{key:"_true",value:"true",style:{fontWeight:"bold"}},h.I18n.t("ra_Use all available let's encrypt certificates")),(s=this.state.collectionsOptions)==null?void 0:s.map(o=>l().createElement(u.MenuItem,{key:o,value:o},o))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const wn=(0,b.withStyles)(Xt)(bt),En=r=>({fullWidth:{width:"100%"},icon:{width:24,height:24,marginRight:4},licLabel:{fontWeight:"bold",minWidth:100,marginRight:10,textTransform:"capitalize",display:"inline-block"},licValue:{fontWeight:"normal"},errorTitle:{color:r.palette.mode==="dark"?"#e39191":"#b62020"},okTitle:{color:r.palette.mode==="dark"?"#6fd56f":"#007c00"},errorText:{color:r.palette.mode==="dark"?"#e39191":"#b62020",marginBottom:30}});class Ut extends y{componentDidMount(){return lt(this,null,function*(){Wt(Ut.prototype,this,"componentDidMount").call(this),this.setState({_error:"",running:!1,showLicenseData:null,foundSuitableLicense:!1,licenseOfflineCheck:!1,result:null,allLicenses:null,askForUpdate:!1,showLinkToProfile:!1})})}renderErrorDialog(){if(this.state._error&&!this.state.showLicenseData){let e=this.state._error;return this.state.allLicenses&&(e=[l().createElement("div",{key:"error"},e)],e.push(l().createElement(u.Button,{key:"button",variant:"contained",onClick:()=>window.open("https://iobroker.net/www/account/licenses","_blank")},h.I18n.t("iobroker.net"))),this.state.allLicenses.length?e.push(l().createElement(u.TableContainer,{key:"table"},l().createElement(u.Table,{size:"small"},l().createElement(u.TableHead,null,l().createElement(u.TableRow,null,l().createElement(u.TableCell,null,h.I18n.t("ra_Product")),l().createElement(u.TableCell,null,h.I18n.t("ra_Version")),l().createElement(u.TableCell,null,"UUID"),l().createElement(u.TableCell,null,h.I18n.t("ra_ValidTill")),l().createElement(u.TableCell,null,h.I18n.t("ra_Commercial")),l().createElement(u.TableCell,null,"ID"))),l().createElement(u.TableBody,null,this.state.allLicenses.map(t=>l().createElement(u.TableRow,{key:t.id},l().createElement(u.TableCell,{className:t.validName?"":this.props.classes.errorText},t.license.product),l().createElement(u.TableCell,{className:t.validVersion?"":this.props.classes.errorText},t.license.version),l().createElement(u.TableCell,{className:t.validUuid?"":this.props.classes.errorText},t.license.uuid||"--"),l().createElement(u.TableCell,{className:t.validTill?"":this.props.classes.errorText},t.license.validTill&&t.license.validTill!=="0000-00-00 00:00:00"?new Date(t.license.validTill).toLocaleDateString():"--"),l().createElement(u.TableCell,null,t.license.invoice!=="free"?t.license.invoice==="MANUALLY_CREATED"?"\u2713":t.license.invoice:"-"),l().createElement(u.TableCell,null,t.id))))))):(e.push(l().createElement("div",{key:"text1"},h.I18n.t("ra_No one license found in license manager"))),e.push(l().createElement("div",{key:"text2"},h.I18n.t("ra_Please create license"))))),l().createElement(u.Dialog,{open:!0,maxWidth:"xl",fullWidth:this.props.fullWidth!==void 0?this.props.fullWidth:!0,onClick:()=>this.setState({_error:"",allLicenses:null})},l().createElement(u.DialogTitle,null,h.I18n.t("ra_Error")),l().createElement(u.DialogContent,null,l().createElement(u.DialogContentText,null,e)),l().createElement(u.DialogActions,null,l().createElement(u.Button,{variant:"contained",onClick:()=>this.setState({_error:"",allLicenses:null}),color:"primary",autoFocus:!0,startIcon:l().createElement(D.Check,null)},h.I18n.t("ra_Ok"))))}return null}renderMessageDialog(){if(this.state.showLicenseData){const e=[],t=this.state.showLicenseData;return Object.keys(t).forEach(n=>{if(!(t[n]===null||t[n]===void 0))if(typeof t[n]=="object"){const s=t[n];Object.keys(s).forEach(o=>{s[o]!==null&&s[o]!==void 0&&(typeof s[o]=="object"?e.push(l().createElement("div",{key:o},l().createElement("div",{className:this.props.classes.licLabel},o,":"),JSON.stringify(s[o],null,2))):e.push(l().createElement("div",{key:o},l().createElement("div",{className:this.props.classes.licLabel},n," ","-",o,":"),s[o].toString())))})}else e.push(l().createElement("div",{key:n},l().createElement("div",{className:this.props.classes.licLabel},n.replace(/_/g," "),":"),t[n].toString()))}),e.push(l().createElement("div",{key:"checked"},l().createElement("div",{className:this.props.classes.licLabel},h.I18n.t("ra_Checked"),":"),this.state.licenseOfflineCheck?h.I18n.t("ra_locally"):h.I18n.t("ra_via internet"))),l().createElement(u.Dialog,{open:!0,onClose:()=>this.setState({showLicenseData:null})},l().createElement(u.DialogTitle,null,l().createElement("span",{className:this.state.result?this.props.classes.okTitle:this.props.classes.errorTitle},h.I18n.t("ra_License %s",this.state.result?"OK":"INVALID"))),l().createElement(u.DialogContent,null,this.state.showLinkToProfile?l().createElement(u.Button,{variant:"contained",onClick:()=>window.open("https://iobroker.net/www/account/licenses","_blank")},"https://iobroker.net"):null,this.state._error?l().createElement("div",{className:this.props.classes.errorText},this.state._error):null,e),l().createElement(u.DialogActions,null,l().createElement(u.Button,{onClick:()=>this.setState({showLicenseData:null,_error:""}),color:"primary",variant:"contained"},h.I18n.t("ra_Close"))))}return null}static parseJwt(e){const n=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(n).split("").map(o=>`%${`00${o.charCodeAt(0).toString(16)}`.slice(-2)}`).join(""));try{return JSON.parse(s)}catch(o){return null}}static isVersionValid(e,t,n,s){if(!t||!e)return!0;let o=!0;const[a]=e.split(".");return t.startsWith(">=")?o=parseInt(a,10)>=parseInt(t.substring(2,10)):t.startsWith("<=")?o=parseInt(a,10)<=parseInt(t.substring(2,10)):t.startsWith(">")?o=parseInt(a,10)>parseInt(t.substring(1,10)):t.startsWith("<")?o=parseInt(a,10)<parseInt(t.substring(1,10)):t.startsWith("=")?o=parseInt(a,10)===parseInt(t.substring(1,10)):t.startsWith("==")?o=parseInt(a,10)===parseInt(t.substring(2,10)):t.startsWith("===")&&(o=parseInt(a,10)===parseInt(t.substring(3,10))),!0}findInLicenseManager(e){return lt(this,null,function*(){var s,o,a,i;const t=yield this.props.socket.getObject("system.licenses"),n=[];if((o=(s=t==null?void 0:t.native)==null?void 0:s.licenses)!=null&&o.length){let c=null;const p=Date.now();let g;if(this.props.schema.uuid){const v=yield this.props.socket.getObject("system.meta.uuid");g=(a=v==null?void 0:v.native)==null?void 0:a.uuid}let C;if(this.props.schema.version){const v=yield this.props.socket.getObject(`system.adapter.${e}`);C=(i=v==null?void 0:v.common)==null?void 0:i.version}t.native.licenses.forEach(v=>{const M=!v.validTill||v.validTill==="0000-00-00 00:00:00"||new Date(v.validTill).getTime()>p,S=(v.product||"").split("."),T=S[1]===e||e==="vis-2"&&S[1]==="vis",_=!g||!v.uuid||v.uuid===g,O=Ut.isVersionValid(C,v.version,v.invoice,e);(!c||v.invoice!=="free")&&M&&T&&_&&O&&(c=v),n.push({id:v.id,validName:T,validUuid:_,validVersion:O,validTill:M,license:v})}),c&&(n.find(v=>v.id===c.id).used=!0)}return n})}checkLicense(e,t){return lt(this,null,function*(){var i,c,p;let n;if(this.props.schema.uuid){const g=yield this.props.socket.getObject("system.meta.uuid");n=(i=g==null?void 0:g.native)==null?void 0:i.uuid}let s;if(this.props.schema.version){const g=yield this.props.socket.getObject(`system.adapter.${t}`);s=(c=g==null?void 0:g.common)==null?void 0:c.version}const o=new AbortController;let a=setTimeout(()=>{a=null,o.abort()},5e3);try{const g=yield window.fetch("https://iobroker.net/api/v1/public/cert/",{method:"POST",body:JSON.stringify({json:e,uuid:n}),headers:{"Content-Type":"text/plain"},signal:o.signal});a&&clearTimeout(a);const C=yield g.text();let v;try{v=JSON.parse(C)}catch(M){}if(v!=null&&v.error)try{const M=Ut.parseJwt(e),S=h.I18n.t(`ra_${M.error||v.error||"Unknown error"}`).replace(/^ra_/,"");return this.setState({_error:S,licenseOfflineCheck:!1,showLicenseData:M,result:!1,running:!1})}catch(M){return console.log("Cannot parse license"),this.setState({_error:v.error,result:!1,running:!1})}else{let M=null;try{M=Ut.parseJwt(e)}catch(S){}if(v){const S=v.validTill||v.valid_till;if(S&&S!=="0000-00-00 00:00:00"&&new Date(S).getTime()<Date.now())return this.setState({_error:h.I18n.t("ra_License expired on %s",new Date(S).toLocaleString()),licenseOfflineCheck:!1,showLicenseData:M,result:!1,running:!1});const T=(v.name||"").split(".");return T[1]===t||T[1]==="vis"&&t==="vis-2"?n&&!v.uuid&&t==="vis-2"?this.setState({_error:h.I18n.t("ra_License must be converted",v.uuid),showLinkToProfile:!0,licenseOfflineCheck:!1,showLicenseData:M,result:!1,running:!1}):n&&v.uuid&&v.uuid!==n?this.setState({_error:h.I18n.t('ra_Serial number (UUID) "%s" in license is for other device.',v.uuid),licenseOfflineCheck:!1,showLicenseData:M,result:!1,running:!1}):Ut.isVersionValid(s,v.version,v.invoice,t)?this.setState({licenseOfflineCheck:!1,showLicenseData:M,result:!0,running:!1}):this.setState({_error:h.I18n.t("ra_License is for version %s, but required version is %s",v.version,this.props.schema.version),licenseOfflineCheck:!1,showLicenseData:M,result:!1,running:!1}):this.setState({_error:h.I18n.t('ra_License for other product "%s"',v.name),licenseOfflineCheck:!1,showLicenseData:M,result:!1,running:!1})}throw new Error("ra_Invalid answer from server")}}catch(g){if(((p=g==null?void 0:g.response)==null?void 0:p.status)===404)return this.setState({_error:h.I18n.t("ra_License does not exist"),result:!1,running:!1});try{const C=Ut.parseJwt(e),v=(C.name||"").split(".");return C.valid_till&&C.valid_till!=="0000-00-00 00:00:00"&&new Date(C.valid_till).getTime()<Date.now()?this.setState({_error:h.I18n.t("ra_License expired on %s",new Date(C.valid_till).toLocaleString()),showLicenseData:C,licenseOfflineCheck:!0,running:!1,result:!1}):v[1]===t?n&&C.uuid&&C.uuid!==n?this.setState({_error:h.I18n.t('ra_Serial number (UUID) "%s" in license is for other device.',C.uuid),showLicenseData:C,licenseOfflineCheck:!0,result:!1,running:!1}):Ut.isVersionValid(s,C.version,C.invoice,t)?this.setState({running:!1,result:!0,licenseOfflineCheck:!0,showLicenseData:C}):this.setState({_error:h.I18n.t("ra_License is for version %s, but required version is %s",C.version,this.props.schema.version),licenseOfflineCheck:!0,showLicenseData:C,result:!1,running:!1}):this.setState({_error:h.I18n.t('ra_License for other product "%s"',C.name),licenseOfflineCheck:!0,showLicenseData:C,result:!1,running:!1})}catch(C){return this.setState({_error:h.I18n.t("ra_Cannot decode license"),result:!1,licenseOfflineCheck:!0,running:!1})}}})}renderAskForUpdate(){return this.state.askForUpdate?l().createElement(h.Confirm,{text:h.I18n.t("ra_License not found in license manager. Do you want to read licenses from iobroker.net?"),ok:h.I18n.t("ra_Yes"),onClose:e=>lt(this,null,function*(){if(e){this.setState({askForUpdate:!1});try{yield this.props.socket.updateLicenses(null,null)}catch(t){window.alert(h.I18n.t("ra_Cannot read licenses: %s",t));return}yield this._onClick(!0)}else this.setState({askForUpdate:!1,running:!1})})}):null}_onClick(e){return lt(this,null,function*(){const t=this.props.adapterName==="vis-2"?"vis":this.props.adapterName;this.setState({running:!0});let n,s;if(this.props.data.useLicenseManager){if(s=yield this.findInLicenseManager(t),n=s.find(o=>o.used),n&&(n=n.license.json),!n&&!e){this.setState({askForUpdate:!0});return}}else n=this.props.data.license;n?yield this.checkLicense(n,t):this.props.data.useLicenseManager?this.setState({_error:h.I18n.t("ra_Suitable license not found in license manager"),result:!1,running:!1,allLicenses:s}):this.setState({_error:h.I18n.t("ra_Please enter the license"),result:!1,running:!1})})}renderItem(){return l().createElement("div",{className:this.props.classes.fullWidth},l().createElement(u.Button,{variant:this.props.schema.variant||"outlined",color:this.props.schema.color||"primary",className:this.props.classes.fullWidth,disabled:!this.props.data.license&&!this.props.data.useLicenseManager||this.state.running,startIcon:l().createElement(D.Send,null),onClick:()=>this._onClick()},this.state.running?l().createElement(u.CircularProgress,{size:20,style:{marginRight:8}}):null,this.getText(this.props.schema.label||"ra_Check license",this.props.schema.noTranslation)),this.renderMessageDialog(),this.renderErrorDialog(),this.renderAskForUpdate())}}const wt=(0,b.withStyles)(En)(Ut),os={error:{color:"red"}};class Lt extends y{renderItem(e,t){const n=y.getValue(this.props.data,this.props.attr),s=Array.isArray(n);return l().createElement(u.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},l().createElement(u.FormControlLabel,{onClick:o=>{o.preventDefault(),o.stopPropagation(),t||this.onChange(this.props.attr,!n)},control:l().createElement(u.Checkbox,{indeterminate:s,checked:!!n,onChange:o=>{s?this.onChange(this.props.attr,!0):this.onChange(this.props.attr,o.target.checked)},disabled:t}),label:this.getText(this.props.schema.label)}),l().createElement(u.FormHelperText,{className:this.props.classes.error},e?this.props.schema.validatorErrorText?h.I18n.t(this.props.schema.validatorErrorText):h.I18n.t("ra_Error"):null),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const ln=(0,b.withStyles)(os)(Lt);var Wn=$(23479),hn=$.n(Wn),Gt=$(54064),It=$(68114);const as={standard:u.Input,filled:Gt.A,outlined:u.OutlinedInput},Pn=r=>{const e=r.palette.type==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{},inputRoot:{display:"inline-flex",flexWrap:"wrap",flex:1,marginTop:0,minWidth:70,"&$outlined,&$filled":{boxSizing:"border-box"},"&$outlined":{paddingTop:14},"&$filled":{paddingTop:28}},input:{display:"inline-block",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",appearance:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",float:"left",flex:1},chipContainer:{display:"flex",flexFlow:"row wrap",cursor:"text",marginBottom:-2,minHeight:40,"&$labeled&$standard":{marginTop:18}},outlined:{"& input":{height:16,paddingTop:4,paddingBottom:12,marginTop:4,marginBottom:4}},standard:{},filled:{"& input":{height:22,marginBottom:4,marginTop:4,paddingTop:0},"$marginDense & input":{height:26}},labeled:{},label:{top:4,"&$outlined&:not($labelShrink)":{top:2,"$marginDense &":{top:5}},"&$filled&:not($labelShrink)":{top:15,"$marginDense &":{top:20}}},labelShrink:{top:0},helperText:{marginBottom:-20},focused:{},disabled:{},underline:{"&:after":{borderBottom:`2px solid ${r.palette.primary[e?"dark":"light"]}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:r.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):not($focused):not($error):before":{borderBottom:`2px solid ${r.palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{"&:after":{backgroundColor:r.palette.error.main,transform:"scaleX(1)"}},chip:{margin:"0 8px 8px 0",float:"left"},marginDense:{}}},Un={BACKSPACE:8,DELETE:46,LEFT_ARROW:37,RIGHT_ARROW:39},is=({value:r,isFocused:e,isDisabled:t,isReadOnly:n,handleClick:s,handleDelete:o,className:a},i)=>l().createElement(u.Chip,{key:i,className:a,style:{pointerEvents:t||n?"none":void 0,backgroundColor:e?It.A[300]:void 0},onClick:s,onDelete:o,label:r});class at extends l().Component{constructor(t){super(t);We(this,"labelRef");We(this,"labelNode",null);We(this,"input");We(this,"newChipKeyCodes");We(this,"newChipKeys");We(this,"actualInput",null);We(this,"inputBlurTimeout",null);We(this,"_keyPressed");We(this,"_preventChipCreation");We(this,"focus",()=>{var t;(t=this.actualInput)==null||t.focus(),this.state.focusedChip&&this.setState({focusedChip:null})});We(this,"handleInputBlur",t=>{this.props.onBlur&&this.props.onBlur(t),this.setState({isFocused:!1}),this.state.focusedChip&&this.setState({focusedChip:null});const n=t.target.value;let s;switch(this.props.blurBehavior||"clear"){case"add-or-clear":s={clearInputOnFail:!0};case"add":if(this.props.delayBeforeAdd){const o=(this.props.value||this.state.chips).length;this.inputBlurTimeout=setTimeout(()=>{const a=(this.props.value||this.state.chips).length;o===a?this.handleAddChip(n,s):this.clearInput()},150)}else this.handleAddChip(n,s);break;case"clear":this.clearInput();break;default:break}});We(this,"handleInputFocus",t=>{this.setState({isFocused:!0}),this.props.onFocus&&this.props.onFocus(t)});We(this,"handleKeyDown",t=>{const{focusedChip:n}=this.state;if(this._keyPressed=!1,this._preventChipCreation=!1,this.props.onKeyDown&&(this.props.onKeyDown(t),t.isDefaultPrevented()))return;const s=this.props.value||this.state.chips;if(this.newChipKeyCodes.includes(t.keyCode)||this.newChipKeys.includes(t.key)){this.handleAddChip(t.target.value)!==!1&&t.preventDefault();return}switch(t.keyCode){case Un.BACKSPACE:t.target.value===""&&(n?(this.handleDeleteChip(s[n],n),n&&this.setState({focusedChip:n-1})):this.setState({focusedChip:s.length-1}));break;case Un.DELETE:t.target.value===""&&n&&(this.handleDeleteChip(s[n],n),n<=s.length-1&&this.setState({focusedChip:n}));break;case Un.LEFT_ARROW:n===null&&t.target.value===""&&s.length?this.setState({focusedChip:s.length-1}):n!==null&&n>0&&this.setState({focusedChip:n-1});break;case Un.RIGHT_ARROW:n!==null&&n<s.length-1?this.setState({focusedChip:n+1}):this.setState({focusedChip:null});break;default:this.setState({focusedChip:null});break}});We(this,"handleKeyUp",t=>{!this._preventChipCreation&&(this.newChipKeyCodes.includes(t.keyCode)||this.newChipKeys.includes(t.key))&&this._keyPressed?this.clearInput():this.updateInput(t.target.value),this.props.onKeyUp&&this.props.onKeyUp(t)});We(this,"handleKeyPress",t=>{this._keyPressed=!0,this.props.onKeyPress&&this.props.onKeyPress(t)});We(this,"handleUpdateInput",t=>{(this.props.inputValue===null||this.props.inputValue===void 0)&&this.updateInput(t.target.value),this.props.onUpdateInput&&this.props.onUpdateInput(t)});We(this,"setActualInputRef",t=>{this.actualInput=t,this.props.inputRef&&this.props.inputRef(t)});this.state={chips:t.defaultValue||[],focusedChip:null,inputValue:"",isFocused:!1,chipsUpdated:!1,prevPropsValue:[],variant:this.props.variant||"standard"},this.newChipKeyCodes=t.newChipKeyCodes||[13],this.newChipKeys=t.newChipKeys||["Enter"],this.labelRef=l().createRef(),this.input=l().createRef()}componentDidMount(){this.state.variant==="outlined"&&(this.labelNode=hn().findDOMNode(this.labelRef.current),this.forceUpdate())}componentWillUnmount(){this.inputBlurTimeout&&clearTimeout(this.inputBlurTimeout)}static getDerivedStateFromProps(t,n){let s=null;return t.value&&t.value.length!==n.prevPropsValue.length&&(s={prevPropsValue:t.value},t.clearInputValueOnChange&&(s.inputValue="")),t.clearInputValueOnChange&&t.value&&t.value.length!==n.prevPropsValue.length&&(s={prevPropsValue:t.value,inputValue:""}),t.disabled&&(s=Ht(it({},s),{focusedChip:null})),!n.chipsUpdated&&t.defaultValue&&(s=Ht(it({},s),{chips:t.defaultValue})),s}handleAddChip(t,n){if(this.props.onBeforeAdd&&!this.props.onBeforeAdd(t))return this._preventChipCreation=!0,n&&n.clearInputOnFail&&this.clearInput(),!1;this.clearInput();const s=this.props.value||this.state.chips;return t.trim().length?((this.props.allowDuplicates||!s.includes(t))&&(this.props.value&&this.props.onAdd?this.props.onAdd(t):this.updateChips([...this.state.chips,t])),!0):!1}handleDeleteChip(t,n){if(this.props.value)this.props.onDelete&&this.props.onDelete(t,n);else{const s=this.state.chips.slice();if(s.splice(n,1)){let a=this.state.focusedChip;this.state.focusedChip===n?a=null:this.state.focusedChip>n&&(a=this.state.focusedChip-1),this.updateChips(s,{focusedChip:a})}}}updateChips(t,n={}){this.setState(it({chips:t,chipsUpdated:!0},n)),this.props.onChange&&this.props.onChange(t)}clearInput(){this.updateInput("")}updateInput(t){this.setState({inputValue:t})}render(){const{alwaysShowPlaceholder:t,chipRenderer:n=is,classes:s,className:o,disabled:a,disableUnderline:i,error:c,FormHelperTextProps:p,fullWidth:g,fullWidthInput:C,helperText:v,id:M,InputProps:S={},InputLabelProps:T={},inputValue:_,label:O,placeholder:B,readOnly:K,required:se,rootRef:Q,value:X,margin:oe}=this.props,Y=this.state.variant;let De=X||this.state.chips||[];Array.isArray(De)||(De=(De||"").toString().split(/[,\s]+/).map(Pe=>Pe.trim()));const q=_!=null?_:this.state.inputValue,ve=(this.props.value||q).length||q.length,Te=typeof T.shrink=="boolean"?T.shrink:O!==null&&(ve||this.state.isFocused||De.length),ne=De.map((Pe,Me)=>n({value:Pe,isDisabled:!!a,isReadOnly:K,isFocused:this.state.focusedChip===Me,handleClick:()=>this.setState({focusedChip:Me}),handleDelete:()=>this.handleDeleteChip(Pe,Me),className:s.chip},Me.toString())),ke={};Y==="outlined"&&(ke.notched=!!Te,ke.labelWidth=Te&&this.labelNode&&this.labelNode.offsetWidth||0),Y!=="standard"?ke.startAdornment=ne:S.disableUnderline=!0;const me=as[Y];return l().createElement(u.FormControl,{ref:Q,fullWidth:g,className:Ye.clsx(o,s.root,oe==="dense"&&s.marginDense),error:c,required:De.length>0?void 0:se,onClick:this.focus,disabled:a,variant:Y,component:"div",margin:oe},O&&l().createElement(u.InputLabel,it({htmlFor:M,classes:{root:Ye.clsx(s[Y],s.label),shrink:s.labelShrink},shrink:!!Te,focused:this.state.isFocused,variant:Y,ref:this.labelRef,required:se,component:"label"},T),O),l().createElement("div",{className:Ye.clsx(s[Y],s.chipContainer,this.state.isFocused&&s.focused,!i&&Y==="standard"&&s.underline,a&&s.disabled,O&&s.labeled,c&&s.error)},Y==="standard"&&ne,l().createElement(me,it(it({ref:this.input,classes:{input:Ye.clsx(s.input,s[Y]),root:Ye.clsx(s.inputRoot,s[Y])},id:M,value:q,onChange:this.handleUpdateInput,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,onKeyUp:this.handleKeyUp,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,inputRef:this.setActualInputRef,disabled:a,fullWidth:C,placeholder:!ve&&(Te||O===null||O===void 0)||t?B:null,readOnly:K},S),ke))),v&&l().createElement(u.FormHelperText,Ht(it({},p),{className:p?Ye.clsx(p.className,s.helperText):s.helperText}),v))}}const st=(0,b.withStyles)(Pn,{name:"WAMuiChipInput"})(at),Mn=()=>({fullWidth:{width:"100%"}});class Zt extends y{componentDidMount(){super.componentDidMount();const{data:e,attr:t}=this.props,n=y.getValue(e,t);if(this.props.schema.delimiter&&typeof n=="string"){const s=n.split(this.props.schema.delimiter).map(o=>o.trim()).filter(o=>o);this.setState({value:s})}else this.setState({value:n||[]})}renderItem(e,t){const{attr:n,schema:s}=this.props,{value:o}=this.state;return l().createElement(u.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},l().createElement(st,{value:o,disabled:!!t,label:this.getText(s.label),error:!!e,onAdd:a=>{const i=JSON.parse(JSON.stringify(o));i.push(a),this.setState({value:i,prevValue:""},()=>{this.props.schema.delimiter?this.onChange(n,i.join(`${this.props.schema.delimiter} `)):this.onChange(n,i)})},onDelete:(a,i)=>{const c=JSON.parse(JSON.stringify(o));c.splice(i,1),this.setState({value:c,prevValue:""},()=>{this.props.schema.delimiter?this.onChange(n,c.join(`${this.props.schema.delimiter} `)):this.onChange(n,c)})}}),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}Zt.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const ct=(0,b.withStyles)(Mn)(Zt);var Us=$(55385);class cn extends y{renderColorDialog(){return!!this.state.showColorDialog&&l().createElement(u.Dialog,{onClose:()=>this.setState({showColorDialog:!1}),open:this.state.showColorDialog},l().createElement(Us.ChromePicker,{color:this.state.colorDialogValue,onChange:e=>this.setState({colorDialogValue:e.hex},()=>this.onChange(this.props.attr,this.state.colorDialogValue))}))}renderItem(e,t){const n=y.getValue(this.props.data,this.props.attr);let s=h.Utils.isUseBright(n,null);return s===null&&(s=void 0),l().createElement(l().Fragment,null,this.renderColorDialog(),l().createElement(u.TextField,{variant:"standard",disabled:!!t,style:{minWidth:100,width:"calc(100% - 8px)"},label:this.getText(this.props.schema.label),value:n||"",onClick:()=>!this.props.schema.readOnly&&this.setState({showColorDialog:!0,colorDialogValue:n||""}),onChange:o=>{const a=o.target.value;this.onChange(this.props.attr,a)},inputProps:{style:{backgroundColor:n,color:s?"#FFF":"#000"},readOnly:this.props.schema.readOnly||!1},InputProps:{endAdornment:n&&!this.props.schema.noClearButton?l().createElement(u.IconButton,{size:"small",onClick:o=>{o.stopPropagation(),this.onChange(this.props.attr,"")}},l().createElement(D.Close,null)):void 0},InputLabelProps:{shrink:!0}}))}}const he=cn,As={width:{width:"calc(100% - 85px)"},width50:{width:120,marginRight:5}};class vt extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr);this.setState({value:e});const t={};this.props.schema.useSystemName&&(t.useSystem=!!y.getValue(this.props.data,this.props.schema.useSystemName)),this.props.schema.longitudeName&&this.props.schema.latitudeName?(t.longitude=y.getValue(this.props.data,this.props.schema.longitudeName),t.latitude=y.getValue(this.props.data,this.props.schema.latitudeName),!t.longitude&&!t.latitude&&this.props.schema.autoInit&&setTimeout(()=>this.getCoordinates(),300)):!y.getValue(this.props.data,this.props.attr)&&this.props.schema.autoInit&&setTimeout(()=>this.getCoordinates(),300),Object.keys(t).length&&setTimeout(()=>this.setState(t),50)}getSystemCoordinates(){return lt(this,null,function*(){const e=yield this.props.socket.getCompactSystemConfig();if(e!=null&&e.common&&(e.common.longitude||e.common.latitude))if(window.alert(h.I18n.t("ra_Used system settings")),this.props.schema.longitudeName&&this.props.schema.latitudeName)this.setState({longitude:e.common.longitude,latitude:e.common.latitude},()=>lt(this,null,function*(){yield this.onChange(this.props.schema.longitudeName,(e.common.longitude||"").trim()),yield this.onChange(this.props.schema.latitudeName,(e.common.latitude||"").trim())}));else{const t=e.common.latitude+(this.props.schema.divider||",")+e.common.longitude;this.setState({value:t},()=>{this.onChange(this.props.attr,t)})}else window.alert(h.I18n.t("ra_Cannot determine position: System settings are empty and GPS detection is disabled in browser"))})}getCoordinates(){navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{if(e!=null&&e.coords)if(this.props.schema.longitudeName&&this.props.schema.latitudeName)this.setState({longitude:e.coords.longitude,latitude:e.coords.latitude},()=>lt(this,null,function*(){yield this.onChange(this.props.schema.longitudeName,e.coords.longitude||""),yield this.onChange(this.props.schema.latitudeName,e.coords.latitude||"")}));else{const t=e.coords.latitude+(this.props.schema.divider||",")+e.coords.longitude;this.setState({value:t},()=>{this.onChange(this.props.attr,t)})}else this.getSystemCoordinates()},e=>{console.error(`Cannot determine coordinates from browser: ${e}`),this.getSystemCoordinates()}):this.getSystemCoordinates()}renderItem(e,t){var n,s;return l().createElement(l().Fragment,null,this.props.schema.useSystemName?l().createElement(u.FormControlLabel,{control:l().createElement(u.Checkbox,{checked:!!this.state.useSystem,onChange:o=>{const a=o.target.checked;a&&this.getSystemCoordinates(),this.setState({useSystem:a},()=>this.onChange(this.props.schema.useSystemName,a))}}),label:h.I18n.t("ra_Use system settings for position")}):null,this.props.schema.longitudeName&&this.props.schema.latitudeName?l().createElement(u.TextField,{variant:"standard",className:this.props.classes.width50,value:(n=this.state.longitude)!=null?n:"",error:!!e,disabled:this.state.useSystem||!!t,onChange:o=>{const a=o.target.value;this.setState({longitude:a},()=>{this.onChange(this.props.schema.longitudeName,(a||"").trim())})},label:h.I18n.t("ra_Longitude")}):null,this.props.schema.longitudeName&&this.props.schema.latitudeName?l().createElement(u.TextField,{variant:"standard",className:this.props.classes.width50,value:(s=this.state.latitude)!=null?s:"",error:!!e,disabled:this.state.useSystem||!!t,onChange:o=>{const a=o.target.value;this.setState({latitude:a},()=>this.onChange(this.props.schema.latitudeName,(a||"").trim()))},label:h.I18n.t("ra_Latitude")}):null,!this.props.schema.longitudeName||!this.props.schema.latitudeName?l().createElement(u.TextField,{variant:"standard",className:this.props.classes.width,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!e,disabled:!!t,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:this.state.useSystem},onChange:o=>{const a=o.target.value;this.setState({value:a},()=>this.onChange(this.props.attr,(a||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}):null,this.state.useSystem?null:l().createElement(u.Fab,{size:"small",onClick:()=>this.getCoordinates(),title:h.I18n.t("ra_Take browser position"),style:{marginRight:4}},l().createElement(D.LocationOn,null)),this.state.useSystem?null:l().createElement(u.Fab,{size:"small",onClick:()=>this.getSystemCoordinates(),title:h.I18n.t("ra_Take position from system settings")},l().createElement(D.GpsFixed,null)))}}const yn=(0,b.withStyles)(As)(vt),Hs=(r,e,t)=>new Promise((n,s)=>{if(window[r])n(window[r]);else{const o=document.querySelector(`script[data-webpack="${r}"]`),a=()=>lt(this,null,function*(){if(window[r])window[r].__initialized||(yield window[r].init($.S[e]),window[r].__initialized=!0);else{console.error(`Cannot load ${r}`),s(new Error(`Cannot load ${r}`));return}n(window[r])});if(o)o.onload=a,o.onerror=s;else if(t){const i=document,c=i.createElement("script");c.type="text/javascript",c.setAttribute("data-webpack",`${r}`),c.async=!0,c.onerror=s,c.onload=a,c.src=t,i.getElementsByTagName("head")[0].appendChild(c)}else s(new Error(`Cannot Find Remote ${r} to inject`))}});function zs(r,e,t,n){return()=>lt(this,null,function*(){return(yield(yield Hs(r,e,n)).get(t))()})}const Cs=class Cs extends V.Component{constructor(e){super(e),this.state={Component:null,error:""}}componentDidMount(){return lt(this,null,function*(){if(!this.props.schema.url){console.error("URL is empty. Cannot load custom component!"),this.setState({error:"URL is empty. Cannot load custom component!"});return}let e;this.props.schema.url.startsWith("./")?e=`${window.location.protocol}//${window.location.host}${this.props.schema.url.replace(/^\./,"")}`:e=`${window.location.protocol}//${window.location.host}/adapter/${this.props.adapterName}/${this.props.schema.url}`;const[t,n,...s]=this.props.schema.name.split("/"),o=s.join("/");if(!e){console.error('Cannot find URL for custom component! Please define "url" as "custom/customComponents.js" in the schema');return}if(!t||!n||!o){console.error('Invalid format of "name"! Please define "name" as "ConfigCustomBackItUpSet/Components/AdapterExist" in the schema');return}let a=Cs.runningLoads[`${e}!${n}`];if(!a){let i;if(this.props.schema.i18n===!0){const c=e.lastIndexOf("/");let p;c!==-1?p=e.substring(0,c):p=e;const g=h.I18n.getLanguage(),C=`${p}/i18n/${g}.json`;i=fetch(C).then(v=>v.json()).then(v=>h.I18n.extendTranslations(v,g)).catch(v=>{if(g!=="en"){fetch(`${p}/i18n/en.json`).then(M=>M.json()).then(M=>h.I18n.extendTranslations(M,g)).catch(M=>console.log(`Cannot load i18n "${C}": ${M}`));return}console.log(`Cannot load i18n "${C}": ${v}`)})}else if(this.props.schema.i18n&&typeof this.props.schema.i18n=="object")try{h.I18n.extendTranslations(this.props.schema.i18n)}catch(c){console.error(`Cannot import i18n: ${c}`)}try{console.log(t,n,o),a=zs(t,"default",`./${n}`,e)(),i&&(a=Promise.all([a,i]).then(c=>c[0])),Cs.runningLoads[`${e}!${n}`]=a}catch(c){this.setState({error:`Cannot import from ${this.props.schema.url}: ${c}`})}}try{const i=(yield a).default;if(i!=null&&i[o])this.setState({Component:i[o]});else{const c=Object.keys(i||{});console.error("URL is empty. Cannot load custom component!"),this.setState({error:`Component ${this.props.schema.name} not found in ${this.props.schema.url}. Found: ${c.join(", ")}`})}}catch(i){this.setState({error:`Cannot import from ${this.props.schema.url}: ${i}`})}})}render(){const e=this.state.Component;if(!e){if(this.state.error)return null;const t=this.props.schema||{},n=l().createElement(u.Grid,{item:!0,xs:t.xs||void 0,lg:t.lg||void 0,md:t.md||void 0,sm:t.sm||void 0,style:it(it({marginBottom:0,textAlign:"left"},t.style),this.props.themeType==="dark"?t.darkStyle:{})},this.state.error?l().createElement("div",null,this.state.error):l().createElement(u.LinearProgress,null));return t.newLine?l().createElement(l().Fragment,null,l().createElement("div",{style:{flexBasis:"100%",height:0}}),n):n}return l().createElement(e,it({},this.props))}};We(Cs,"runningLoads",{});let Sn=Cs;var P=$(58168),Ge=$(98587),R=$(28437),Ct=$.n(R),un=$(5033),Z=$(17913),Hn=$(271);const Dn=d().oneOfType([d().func,d().object]),en=(r,e)=>r.length!==e.length?!1:e.every(t=>r.includes(t)),xs=({openTo:r,defaultOpenTo:e,views:t,defaultViews:n})=>{const s=t!=null?t:n;let o;if(r!=null)o=r;else if(s.includes(e))o=e;else if(s.length>0)o=s[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:s,openTo:o}},zn=(r,e,t)=>{let n=e;return n=r.setHours(n,r.getHours(t)),n=r.setMinutes(n,r.getMinutes(t)),n=r.setSeconds(n,r.getSeconds(t)),n},Nn=({date:r,disableFuture:e,disablePast:t,maxDate:n,minDate:s,isDateDisabled:o,utils:a,timezone:i})=>{const c=zn(a,a.date(void 0,i),r);t&&a.isBefore(s,c)&&(s=c),e&&a.isAfter(n,c)&&(n=c);let p=r,g=r;for(a.isBefore(r,s)&&(p=s,g=null),a.isAfter(r,n)&&(g&&(g=n),p=null);p||g;){if(p&&a.isAfter(p,n)&&(p=null),g&&a.isBefore(g,s)&&(g=null),p){if(!o(p))return p;p=a.addDays(p,1)}if(g){if(!o(g))return g;g=a.addDays(g,-1)}}return null},j=(r,e)=>e==null||!r.isValid(e)?null:e,ee=(r,e,t)=>e==null||!r.isValid(e)?t:e,ze=(r,e,t)=>!r.isValid(e)&&e!=null&&!r.isValid(t)&&t!=null?!0:r.isEqual(e,t),je=(r,e)=>{const n=[r.startOfYear(e)];for(;n.length<12;){const s=n[n.length-1];n.push(r.addMonths(s,1))}return n},qe=(r,e,t)=>t==="date"?r.startOfDay(r.date(void 0,e)):r.date(void 0,e),tt=(r,e)=>{const t=r.setHours(r.date(),e==="am"?2:14);return r.format(t,"meridiem")},dt=["year","month","day"],Nt=r=>dt.includes(r),Ft=(r,{format:e,views:t},n)=>{if(e!=null)return e;const s=r.formats;return en(t,["year"])?s.year:en(t,["month"])?s.month:en(t,["day"])?s.dayOfMonth:en(t,["month","year"])?`${s.month} ${s.year}`:en(t,["day","month"])?`${s.month} ${s.dayOfMonth}`:n?/en/.test(r.getCurrentLocaleCode())?s.normalDateWithWeekday:s.normalDate:s.keyboardDate},Cn=(r,e)=>{const t=r.startOfWeek(e);return[0,1,2,3,4,5,6].map(n=>r.addDays(t,n))},bn=["hours","minutes","seconds"],Bt=r=>bn.includes(r),tn=r=>bn.includes(r)||r==="meridiem",$t=(r,e)=>r?e.getHours(r)>=12?"pm":"am":null,nn=(r,e,t)=>t&&(r>=12?"pm":"am")!==e?e==="am"?r-12:r+12:r,Jn=(r,e,t,n)=>{const s=nn(n.getHours(r),e,t);return n.setHours(r,s)},ws=(r,e)=>e.getHours(r)*3600+e.getMinutes(r)*60+e.getSeconds(r),On=(r,e)=>(t,n)=>r?e.isAfter(t,n):ws(t,e)>ws(n,e),Es=(r,{format:e,views:t,ampm:n})=>{if(e!=null)return e;const s=r.formats;return en(t,["hours"])?n?`${s.hours12h} ${s.meridiem}`:s.hours24h:en(t,["minutes"])?s.minutes:en(t,["seconds"])?s.seconds:en(t,["minutes","seconds"])?`${s.minutes}:${s.seconds}`:en(t,["hours","minutes","seconds"])?n?`${s.hours12h}:${s.minutes}:${s.seconds} ${s.meridiem}`:`${s.hours24h}:${s.minutes}:${s.seconds}`:n?`${s.hours12h}:${s.minutes} ${s.meridiem}`:`${s.hours24h}:${s.minutes}`},ut={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},Ot=r=>Math.max(...r.map(e=>{var t;return(t=ut[e.type])!=null?t:1})),Ze=(r,e,t)=>{if(e===ut.year)return r.startOfYear(t);if(e===ut.month)return r.startOfMonth(t);if(e===ut.day)return r.startOfDay(t);let n=t;return e<ut.minutes&&(n=r.setMinutes(n,0)),e<ut.seconds&&(n=r.setSeconds(n,0)),e<ut.milliseconds&&(n=r.setMilliseconds(n,0)),n},Mt=({props:r,utils:e,granularity:t,timezone:n,getTodayDate:s})=>{var i;let o=s?s():Ze(e,t,qe(e,n));r.minDate!=null&&e.isAfterDay(r.minDate,o)&&(o=Ze(e,t,r.minDate)),r.maxDate!=null&&e.isBeforeDay(r.maxDate,o)&&(o=Ze(e,t,r.maxDate));const a=On((i=r.disableIgnoringDatePartForTimeValidation)!=null?i:!1,e);return r.minTime!=null&&a(r.minTime,o)&&(o=Ze(e,t,r.disableIgnoringDatePartForTimeValidation?r.minTime:zn(e,o,r.minTime))),r.maxTime!=null&&a(o,r.maxTime)&&(o=Ze(e,t,r.disableIgnoringDatePartForTimeValidation?r.maxTime:zn(e,o,r.maxTime))),o},Jt=(r,e)=>{const t=r.formatTokenMap[e];if(t==null)throw new Error([`MUI X: The token "${e}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof t=="string"?{type:t,contentType:t==="meridiem"?"letter":"digit",maxLength:void 0}:{type:t.sectionType,contentType:t.contentType,maxLength:t.maxLength}},_t=r=>{switch(r){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},sn=(r,e,t)=>{const n=[],s=r.date(void 0,e),o=r.startOfWeek(s),a=r.endOfWeek(s);let i=o;for(;r.isBefore(i,a);)n.push(i),i=r.addDays(i,1);return n.map(c=>r.formatByString(c,t))},rn=(r,e,t,n)=>{switch(t){case"month":return je(r,r.date(void 0,e)).map(s=>r.formatByString(s,n));case"weekDay":return sn(r,e,n);case"meridiem":{const s=r.date(void 0,e);return[r.startOfDay(s),r.endOfDay(s)].map(o=>r.formatByString(o,n))}default:return[]}},dn="s",vn=["0","1","2","3","4","5","6","7","8","9"],Yn=r=>{const e=r.date(void 0);return r.formatByString(r.setSeconds(e,0),dn)==="0"?vn:Array.from({length:10}).map((n,s)=>r.formatByString(r.setSeconds(e,s),dn))},An=(r,e)=>{if(e[0]==="0")return r;const t=[];let n="";for(let s=0;s<r.length;s+=1){n+=r[s];const o=e.indexOf(n);o>-1&&(t.push(o.toString()),n="")}return t.join("")},Ys=(r,e)=>e[0]==="0"?r:r.split("").map(t=>e[Number(t)]).join(""),vr=(r,e)=>{const t=An(r,e);return!Number.isNaN(Number(t))},Ar=(r,e)=>{let t=r;for(t=Number(t).toString();t.length<e;)t=`0${t}`;return t},xr=(r,e,t,n,s)=>{if(s.type==="day"&&s.contentType==="digit-with-letter"){const a=r.setDate(t.longestMonth,e);return r.formatByString(a,s.format)}let o=e.toString();return s.hasLeadingZerosInInput&&(o=Ar(o,s.maxLength)),Ys(o,n)},ga=(r,e,t,n,s,o,a,i)=>{const c=_t(n),p=n==="Home",g=n==="End",C=t.value===""||p||g,v=()=>{const S=s[t.type]({currentDate:a,format:t.format,contentType:t.contentType}),T=K=>xr(r,K,S,o,t),_=t.type==="minutes"&&(i!=null&&i.minutesStep)?i.minutesStep:1;let B=parseInt(An(t.value,o),10)+c*_;if(C){if(t.type==="year"&&!g&&!p)return r.formatByString(r.date(void 0,e),t.format);c>0||p?B=S.minimum:B=S.maximum}return B%_!==0&&((c<0||p)&&(B+=_-(_+B)%_),(c>0||g)&&(B-=B%_)),B>S.maximum?T(S.minimum+(B-S.maximum-1)%(S.maximum-S.minimum+1)):B<S.minimum?T(S.maximum-(S.minimum-B-1)%(S.maximum-S.minimum+1)):T(B)},M=()=>{const S=rn(r,e,t.type,t.format);if(S.length===0)return t.value;if(C)return c>0||p?S[0]:S[S.length-1];const O=((S.indexOf(t.value)+c)%S.length+S.length)%S.length;return S[O]};return t.contentType==="digit"||t.contentType==="digit-with-letter"?v():M()},Ks=(r,e,t)=>{let n=r.value||r.placeholder;const s=e==="non-input"?r.hasLeadingZerosInFormat:r.hasLeadingZerosInInput;return e==="non-input"&&r.hasLeadingZerosInInput&&!r.hasLeadingZerosInFormat&&(n=Number(An(n,t)).toString()),["input-rtl","input-ltr"].includes(e)&&r.contentType==="digit"&&!s&&n.length===1&&(n=`${n}\u200E`),e==="input-rtl"&&(n=`\u2068${n}\u2069`),n},wr=(r,e,t,n)=>r.formatByString(r.parse(e,t),n),Er=(r,e,t)=>r.formatByString(r.date(void 0,e),t).length===4,Sr=(r,e,t,n,s)=>{if(t!=="digit")return!1;const o=r.date(void 0,e);switch(n){case"year":return Er(r,e,s)?r.formatByString(r.setYear(o,1),s)==="0001":r.formatByString(r.setYear(o,2001),s)==="01";case"month":return r.formatByString(r.startOfYear(o),s).length>1;case"day":return r.formatByString(r.startOfMonth(o),s).length>1;case"weekDay":return r.formatByString(r.startOfWeek(o),s).length>1;case"hours":return r.formatByString(r.setHours(o,1),s).length>1;case"minutes":return r.formatByString(r.setMinutes(o,1),s).length>1;case"seconds":return r.formatByString(r.setSeconds(o,1),s).length>1;default:throw new Error("Invalid section type")}},ya=(r,e,t)=>{const n=e.some(c=>c.type==="day"),s=[],o=[];for(let c=0;c<e.length;c+=1){const p=e[c];n&&p.type==="weekDay"||(s.push(p.format),o.push(Ks(p,"non-input",t)))}const a=s.join(" "),i=o.join(" ");return r.parse(i,a)},Da=r=>r.map(e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`).join(""),Ca=(r,e,t)=>{const s=r.map(o=>{const a=Ks(o,t?"input-rtl":"input-ltr",e);return`${o.startSeparator}${a}${o.endSeparator}`}).join("");return t?`\u2066${s}\u2069`:s},ba=(r,e,t)=>{const n=r.date(void 0,t),s=r.endOfYear(n),o=r.endOfDay(n),{maxDaysInMonth:a,longestMonth:i}=je(r,n).reduce((c,p)=>{const g=r.getDaysInMonth(p);return g>c.maxDaysInMonth?{maxDaysInMonth:g,longestMonth:p}:c},{maxDaysInMonth:0,longestMonth:null});return{year:({format:c})=>({minimum:0,maximum:Er(r,t,c)?9999:99}),month:()=>({minimum:1,maximum:r.getMonth(s)+1}),day:({currentDate:c})=>({minimum:1,maximum:c!=null&&r.isValid(c)?r.getDaysInMonth(c):a,longestMonth:i}),weekDay:({format:c,contentType:p})=>{if(p==="digit"){const g=sn(r,t,c).map(Number);return{minimum:Math.min(...g),maximum:Math.max(...g)}}return{minimum:1,maximum:7}},hours:({format:c})=>{const p=r.getHours(o);return An(r.formatByString(r.endOfDay(n),c),e)!==p.toString()?{minimum:1,maximum:Number(An(r.formatByString(r.startOfDay(n),c),e))}:{minimum:0,maximum:p}},minutes:()=>({minimum:0,maximum:r.getMinutes(o)}),seconds:()=>({minimum:0,maximum:r.getSeconds(o)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}};let ym=!1;const Fr=(r,e)=>{},va=(r,e,t,n,s)=>{switch(t.type){case"year":return r.setYear(s,r.getYear(n));case"month":return r.setMonth(s,r.getMonth(n));case"weekDay":{const o=sn(r,e,t.format),a=r.formatByString(n,t.format),i=o.indexOf(a),p=o.indexOf(t.value)-i;return r.addDays(n,p)}case"day":return r.setDate(s,r.getDate(n));case"meridiem":{const o=r.getHours(n)<12,a=r.getHours(s);return o&&a>=12?r.addHours(s,-12):!o&&a<12?r.addHours(s,12):s}case"hours":return r.setHours(s,r.getHours(n));case"minutes":return r.setMinutes(s,r.getMinutes(n));case"seconds":return r.setSeconds(s,r.getSeconds(n));default:return s}},Tr={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},kr=(r,e,t,n,s,o)=>[...n].sort((a,i)=>Tr[a.type]-Tr[i.type]).reduce((a,i)=>!o||i.modified?va(r,e,i,t,a):a,s),Aa=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,xa=(r,e)=>{const t={};if(!e)return r.forEach((c,p)=>{const g=p===0?null:p-1,C=p===r.length-1?null:p+1;t[p]={leftIndex:g,rightIndex:C}}),{neighbors:t,startIndex:0,endIndex:r.length-1};const n={},s={};let o=0,a=0,i=r.length-1;for(;i>=0;){a=r.findIndex((c,p)=>{var g;return p>=o&&((g=c.endSeparator)==null?void 0:g.includes(" "))&&c.endSeparator!==" / "}),a===-1&&(a=r.length-1);for(let c=a;c>=o;c-=1)s[c]=i,n[i]=c,i-=1;o=a+1}return r.forEach((c,p)=>{const g=s[p],C=g===0?null:n[g-1],v=g===r.length-1?null:n[g+1];t[p]={leftIndex:C,rightIndex:v}}),{neighbors:t,startIndex:n[0],endIndex:n[r.length-1]}},Gs=(r,e)=>r==null?null:r==="all"?"all":typeof r=="string"?e.findIndex(t=>t.type===r):r,wa=(r,e)=>{if(r.value)switch(r.type){case"month":{if(r.contentType==="digit")return e.format(e.setMonth(e.date(),Number(r.value)-1),"month");const t=e.parse(r.value,r.format);return t?e.format(t,"month"):void 0}case"day":return r.contentType==="digit"?e.format(e.setDate(e.startOfYear(e.date()),Number(r.value)),"dayOfMonthFull"):r.value;case"weekDay":return;default:return}},Ea=(r,e)=>{if(r.value)switch(r.type){case"weekDay":return r.contentType==="letter"?void 0:Number(r.value);case"meridiem":{const t=e.parse(`01:00 ${r.value}`,`${e.formats.hours12h}:${e.formats.minutes} ${r.format}`);return t?e.getHours(t)>=12?1:0:void 0}case"day":return r.contentType==="digit-with-letter"?parseInt(r.value,10):Number(r.value);case"month":{if(r.contentType==="digit")return Number(r.value);const t=e.parse(r.value,r.format);return t?e.getMonth(t)+1:void 0}default:return r.contentType!=="letter"?Number(r.value):void 0}},Sa=["value","referenceDate"],Vt={emptyValue:null,getTodayValue:qe,getInitialReferenceValue:r=>{let{value:e,referenceDate:t}=r,n=(0,Ge.A)(r,Sa);return e!=null&&n.utils.isValid(e)?e:t!=null?t:Mt(n)},cleanValue:j,areValuesEqual:ze,isSameError:(r,e)=>r===e,hasError:r=>r!=null,defaultErrorState:null,getTimezone:(r,e)=>e==null||!r.isValid(e)?null:r.getTimezone(e),setTimezone:(r,e,t)=>t==null?null:r.setTimezone(t,e)},Ir={updateReferenceValue:(r,e,t)=>e==null||!r.isValid(e)?t:e,getSectionsFromValue:(r,e,t,n)=>!r.isValid(e)&&!!t?t:n(e),getV7HiddenInputValueFromSections:Da,getV6InputValueFromSections:Ca,getActiveDateManager:(r,e)=>({date:e.value,referenceDate:e.referenceValue,getSections:t=>t,getNewValuesFromNewActiveDate:t=>({value:t,referenceValue:t==null||!r.isValid(t)?e.referenceValue:t})}),parseValueStr:(r,e,t)=>t(r.trim(),e)};var W=$(64922);const Fa=["localeText"],qs=R.createContext(null),Pr=function(e){var O;const{localeText:t}=e,n=(0,Ge.A)(e,Fa),{utils:s,localeText:o}=(O=R.useContext(qs))!=null?O:{utils:void 0,localeText:void 0},a=(0,Z.useThemeProps)({props:n,name:"MuiLocalizationProvider"}),{children:i,dateAdapter:c,dateFormats:p,dateLibInstance:g,adapterLocale:C,localeText:v}=a,M=R.useMemo(()=>(0,P.A)({},v,o,t),[v,o,t]),S=R.useMemo(()=>{if(!c)return s||null;const B=new c({locale:C,formats:p,instance:g});if(!B.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return B},[c,C,p,g,s]),T=R.useMemo(()=>S?{minDate:S.date("1900-01-01T00:00:00.000"),maxDate:S.date("2099-12-31T00:00:00.000")}:null,[S]),_=R.useMemo(()=>({utils:S,defaultDates:T,localeText:M}),[T,S,M]);return(0,W.jsx)(qs.Provider,{value:_,children:i})},Ta=r=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:(0,P.A)({},r)}}}}),Mr={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:r=>r==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(r,e,t)=>`Select ${r}. ${e===null?"No time selected":`Selected time is ${t.format(e,"fullTime")}`}`,hoursClockNumberText:r=>`${r} hours`,minutesClockNumberText:r=>`${r} minutes`,secondsClockNumberText:r=>`${r} seconds`,selectViewText:r=>`Select ${r}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:r=>`Week ${r}`,calendarWeekNumberText:r=>`${r}`,openDatePickerDialogue:(r,e)=>r!==null&&e.isValid(r)?`Choose date, selected date is ${e.format(r,"fullDate")}`:"Choose date",openTimePickerDialogue:(r,e)=>r!==null&&e.isValid(r)?`Choose time, selected time is ${e.format(r,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:r=>"Y".repeat(r.digitAmount),fieldMonthPlaceholder:r=>r.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:r=>r.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},ka=Mr,Dm=Ta(Mr),_n=()=>{const r=R.useContext(qs);if(r===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(r.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const e=R.useMemo(()=>(0,P.A)({},ka,r.localeText),[r.localeText]);return R.useMemo(()=>(0,P.A)({},r,{localeText:e}),[r,e])},pt=()=>_n().utils,ls=()=>_n().defaultDates,jt=()=>_n().localeText,Rn=r=>{const e=pt(),t=R.useRef();return t.current===void 0&&(t.current=e.date(void 0,r)),t.current};var At=$(74984),Fn=$(55437),mt=$(86249),gt=$(35583),yt=$(95227);function Nr(r){return(0,gt.Ay)("MuiPickersToolbar",r)}const Cm=(0,yt.A)("MuiPickersToolbar",["root","content"]),Ia=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],Pa=r=>{const{classes:e,isLandscape:t}=r,n={root:["root"],content:["content"],penIconButton:["penIconButton",t&&"penIconButtonLandscape"]};return(0,mt.A)(n,Nr,e)},Ma=(0,Z.styled)("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:r.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),Na=(0,Z.styled)("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(r,e)=>e.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),Or=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersToolbar"}),{children:s,className:o,toolbarTitle:a,hidden:i,titleId:c}=n,p=(0,Ge.A)(n,Ia),g=n,C=Pa(g);return i?null:(0,W.jsxs)(Ma,(0,P.A)({ref:t,className:(0,At.A)(C.root,o),ownerState:g},p,{children:[(0,W.jsx)(Fn.A,{color:"text.secondary",variant:"overline",id:c,children:a}),(0,W.jsx)(Na,{className:C.content,ownerState:g,children:s})]}))});function Oa(r){return(0,gt.Ay)("MuiDatePickerToolbar",r)}const bm=(0,yt.A)("MuiDatePickerToolbar",["root","title"]),_a=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],Ra=r=>{const{classes:e}=r,t={root:["root"],title:["title"]};return(0,mt.A)(t,Oa,e)},La=(0,Z.styled)(Or,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(r,e)=>e.root})({}),Ba=(0,Z.styled)(Fn.A,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(r,e)=>e.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),$a=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiDatePickerToolbar"}),{value:s,isLandscape:o,toolbarFormat:a,toolbarPlaceholder:i="\u2013\u2013",views:c,className:p}=n,g=(0,Ge.A)(n,_a),C=pt(),v=jt(),M=Ra(n),S=R.useMemo(()=>{if(!s)return i;const _=Ft(C,{format:a,views:c},!0);return C.formatByString(s,_)},[s,a,i,C,c]),T=n;return(0,W.jsx)(La,(0,P.A)({ref:t,toolbarTitle:v.datePickerToolbarTitle,isLandscape:o,className:(0,At.A)(M.root,p)},g,{children:(0,W.jsx)(Ba,{variant:"h4",align:o?"left":"center",ownerState:T,className:M.title,children:S})}))});function _r(r,e){var a,i;const t=pt(),n=ls(),s=(0,Z.useThemeProps)({props:r,name:e}),o=R.useMemo(()=>{var c;return((c=s.localeText)==null?void 0:c.toolbarTitle)==null?s.localeText:(0,P.A)({},s.localeText,{datePickerToolbarTitle:s.localeText.toolbarTitle})},[s.localeText]);return(0,P.A)({},s,{localeText:o},xs({views:s.views,openTo:s.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:(a=s.disableFuture)!=null?a:!1,disablePast:(i=s.disablePast)!=null?i:!1,minDate:ee(t,s.minDate,n.minDate),maxDate:ee(t,s.maxDate,n.maxDate),slots:(0,P.A)({toolbar:$a},s.slots)})}const Ss=({props:r,value:e,adapter:t})=>{if(e===null)return null;const{shouldDisableDate:n,shouldDisableMonth:s,shouldDisableYear:o,disablePast:a,disableFuture:i,timezone:c}=r,p=t.utils.date(void 0,c),g=ee(t.utils,r.minDate,t.defaultDates.minDate),C=ee(t.utils,r.maxDate,t.defaultDates.maxDate);switch(!0){case!t.utils.isValid(e):return"invalidDate";case!!(n&&n(e)):return"shouldDisableDate";case!!(s&&s(e)):return"shouldDisableMonth";case!!(o&&o(e)):return"shouldDisableYear";case!!(i&&t.utils.isAfterDay(e,p)):return"disableFuture";case!!(a&&t.utils.isBeforeDay(e,p)):return"disablePast";case!!(g&&t.utils.isBeforeDay(e,g)):return"minDate";case!!(C&&t.utils.isAfterDay(e,C)):return"maxDate";default:return null}};var Dt=$(6045),Rr=$(82735),Kn=$(25325),Yt=$(33769),Gn=$(81019),Va=$(86193),Fs=$(67987),ja=$(21593),Wa=$(31224),Ua=$(58289),Ue=$(16745),Qs=$(41011);function Ha(r){return(0,gt.Ay)("MuiPickersPopper",r)}const vm=(0,yt.A)("MuiPickersPopper",["root","paper"]);function qn(r,e){return Array.isArray(e)?e.every(t=>r.indexOf(t)!==-1):r.indexOf(e)!==-1}const za=(r,e)=>t=>{(t.key==="Enter"||t.key===" ")&&(r(t),t.preventDefault(),t.stopPropagation()),e&&e(t)},Am=r=>{setTimeout(r,0)},on=(r=document)=>{const e=r.activeElement;return e?e.shadowRoot?on(e.shadowRoot):e:null},Lr="@media (pointer: fine)",Ja="@media (prefers-reduced-motion: reduce)",Qn=typeof navigator!="undefined"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),Br=Qn&&Qn[1]?parseInt(Qn[1],10):null,$r=Qn&&Qn[2]?parseInt(Qn[2],10):null,Ya=Br&&Br<10||$r&&$r<13||!1,Vr=()=>(0,un.A)(Ja,{defaultMatches:!1})||Ya,Ka=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],Ga=r=>{const{classes:e}=r,t={root:["root"],paper:["paper"]};return(0,mt.A)(t,Ha,e)},qa=(0,Z.styled)(Wa.A,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>({zIndex:r.zIndex.modal})),Qa=(0,Z.styled)(ja.A,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(r,e)=>e.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:r})=>["top","top-start","top-end"].includes(r),style:{transformOrigin:"bottom center"}}]});function Xa(r,e){return e.documentElement.clientWidth<r.clientX||e.documentElement.clientHeight<r.clientY}function Za(r,e){const t=R.useRef(!1),n=R.useRef(!1),s=R.useRef(null),o=R.useRef(!1);R.useEffect(()=>{if(!r)return;function c(){o.current=!0}return document.addEventListener("mousedown",c,!0),document.addEventListener("touchstart",c,!0),()=>{document.removeEventListener("mousedown",c,!0),document.removeEventListener("touchstart",c,!0),o.current=!1}},[r]);const a=(0,Ue.A)(c=>{if(!o.current)return;const p=n.current;n.current=!1;const g=(0,Qs.A)(s.current);if(!s.current||"clientX"in c&&Xa(c,g))return;if(t.current){t.current=!1;return}let C;c.composedPath?C=c.composedPath().indexOf(s.current)>-1:C=!g.documentElement.contains(c.target)||s.current.contains(c.target),!C&&!p&&e(c)}),i=()=>{n.current=!0};return R.useEffect(()=>{if(r){const c=(0,Qs.A)(s.current),p=()=>{t.current=!0};return c.addEventListener("touchstart",a),c.addEventListener("touchmove",p),()=>{c.removeEventListener("touchstart",a),c.removeEventListener("touchmove",p)}}},[r,a]),R.useEffect(()=>{if(r){const c=(0,Qs.A)(s.current);return c.addEventListener("click",a),()=>{c.removeEventListener("click",a),n.current=!1}}},[r,a]),[s,i,i]}const ei=R.forwardRef((r,e)=>{const{PaperComponent:t,popperPlacement:n,ownerState:s,children:o,paperSlotProps:a,paperClasses:i,onPaperClick:c,onPaperTouchStart:p}=r,g=(0,Ge.A)(r,Ka),C=(0,P.A)({},s,{placement:n}),v=(0,Dt.Q)({elementType:t,externalSlotProps:a,additionalProps:{tabIndex:-1,elevation:8,ref:e},className:i,ownerState:C});return(0,W.jsx)(t,(0,P.A)({},g,v,{onClick:M=>{var S;c(M),(S=v.onClick)==null||S.call(v,M)},onTouchStart:M=>{var S;p(M),(S=v.onTouchStart)==null||S.call(v,M)},ownerState:C,children:o}))});function ti(r){var me,Pe,Me,$e;const e=(0,Z.useThemeProps)({props:r,name:"MuiPickersPopper"}),{anchorEl:t,children:n,containerRef:s=null,shouldRestoreFocus:o,onBlur:a,onDismiss:i,open:c,role:p,placement:g,slots:C,slotProps:v,reduceAnimations:M}=e;R.useEffect(()=>{function Ne(Oe){c&&Oe.key==="Escape"&&i()}return document.addEventListener("keydown",Ne),()=>{document.removeEventListener("keydown",Ne)}},[i,c]);const S=R.useRef(null);R.useEffect(()=>{p==="tooltip"||o&&!o()||(c?S.current=on(document):S.current&&S.current instanceof HTMLElement&&setTimeout(()=>{S.current instanceof HTMLElement&&S.current.focus()}))},[c,p,o]);const[T,_,O]=Za(c,a!=null?a:i),B=R.useRef(null),K=(0,Yt.A)(B,s),se=(0,Yt.A)(K,T),Q=e,X=Ga(Q),oe=Vr(),Y=M!=null?M:oe,De=Ne=>{Ne.key==="Escape"&&(Ne.stopPropagation(),i())},q=((me=C==null?void 0:C.desktopTransition)!=null?me:Y)?Fs.A:Va.A,ve=(Pe=C==null?void 0:C.desktopTrapFocus)!=null?Pe:Ua.s,Te=(Me=C==null?void 0:C.desktopPaper)!=null?Me:Qa,ne=($e=C==null?void 0:C.popper)!=null?$e:qa,ke=(0,Dt.Q)({elementType:ne,externalSlotProps:v==null?void 0:v.popper,additionalProps:{transition:!0,role:p,open:c,anchorEl:t,placement:g,onKeyDown:De},className:X.root,ownerState:e});return(0,W.jsx)(ne,(0,P.A)({},ke,{children:({TransitionProps:Ne,placement:Oe})=>(0,W.jsx)(ve,(0,P.A)({open:c,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:p==="tooltip",isEnabled:()=>!0},v==null?void 0:v.desktopTrapFocus,{children:(0,W.jsx)(q,(0,P.A)({},Ne,v==null?void 0:v.desktopTransition,{children:(0,W.jsx)(ei,{PaperComponent:Te,ownerState:Q,popperPlacement:Oe,ref:se,onPaperClick:_,onPaperTouchStart:O,paperClasses:X.paper,paperSlotProps:v==null?void 0:v.desktopPaper,children:n})}))}))}))}const ni=({open:r,onOpen:e,onClose:t})=>{const n=R.useRef(typeof r=="boolean").current,[s,o]=R.useState(!1);R.useEffect(()=>{if(n){if(typeof r!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");o(r)}},[n,r]);const a=R.useCallback(i=>{n||o(i),i&&e&&e(),!i&&t&&t()},[n,e,t]);return{isOpen:s,setIsOpen:a}};function jr(r,e,t,n){const{value:s,onError:o}=r,a=_n(),i=R.useRef(n),c=e({adapter:a,value:s,props:r});return R.useEffect(()=>{o&&!t(c,i.current)&&o(c,s),i.current=c},[t,o,i,c,s]),c}var Ln=$(40243);const Xs=({timezone:r,value:e,defaultValue:t,onChange:n,valueManager:s})=>{var M,S;const o=pt(),a=R.useRef(t),i=(M=e!=null?e:a.current)!=null?M:s.emptyValue,c=R.useMemo(()=>s.getTimezone(o,i),[o,s,i]),p=(0,Ue.A)(T=>c==null?T:s.setTimezone(o,c,T)),g=(S=r!=null?r:c)!=null?S:"default",C=R.useMemo(()=>s.setTimezone(o,g,i),[s,o,g,i]),v=(0,Ue.A)((T,..._)=>{const O=p(T);n==null||n(O,..._)});return{value:C,handleValueChange:v,timezone:g}},Xn=({name:r,timezone:e,value:t,defaultValue:n,onChange:s,valueManager:o})=>{const[a,i]=(0,Ln.A)({name:r,state:"value",controlled:t,default:n!=null?n:o.emptyValue}),c=(0,Ue.A)((p,...g)=>{i(p),s==null||s(p,...g)});return Xs({timezone:e,value:a,defaultValue:void 0,onChange:c,valueManager:o})},si=r=>{const{action:e,hasChanged:t,dateState:n,isControlled:s}=r,o=!s&&!n.hasBeenModifiedSinceMount;return e.name==="setValueFromField"?!0:e.name==="setValueFromAction"?o&&["accept","today","clear"].includes(e.pickerAction)?!0:t(n.lastPublishedValue):e.name==="setValueFromView"&&e.selectionState!=="shallow"||e.name==="setValueFromShortcut"?o?!0:t(n.lastPublishedValue):!1},ri=r=>{const{action:e,hasChanged:t,dateState:n,isControlled:s,closeOnSelect:o}=r,a=!s&&!n.hasBeenModifiedSinceMount;return e.name==="setValueFromAction"?a&&["accept","today","clear"].includes(e.pickerAction)?!0:t(n.lastCommittedValue):e.name==="setValueFromView"&&e.selectionState==="finish"&&o?a?!0:t(n.lastCommittedValue):e.name==="setValueFromShortcut"?e.changeImportance==="accept"&&t(n.lastCommittedValue):!1},oi=r=>{const{action:e,closeOnSelect:t}=r;return e.name==="setValueFromAction"?!0:e.name==="setValueFromView"?e.selectionState==="finish"&&t:e.name==="setValueFromShortcut"?e.changeImportance==="accept":!1},ai=({props:r,valueManager:e,valueType:t,wrapperVariant:n,validator:s})=>{const{onAccept:o,onChange:a,value:i,defaultValue:c,closeOnSelect:p=n==="desktop",timezone:g}=r,{current:C}=R.useRef(c),{current:v}=R.useRef(i!==void 0),M=pt(),S=_n(),{isOpen:T,setIsOpen:_}=ni(r),[O,B]=R.useState(()=>{let Fe;return i!==void 0?Fe=i:C!==void 0?Fe=C:Fe=e.emptyValue,{draft:Fe,lastPublishedValue:Fe,lastCommittedValue:Fe,lastControlledValue:i,hasBeenModifiedSinceMount:!1}}),{timezone:K,handleValueChange:se}=Xs({timezone:g,value:i,defaultValue:C,onChange:a,valueManager:e});jr((0,P.A)({},r,{value:O.draft,timezone:K}),s,e.isSameError,e.defaultErrorState);const Q=(0,Ue.A)(Fe=>{const Le={action:Fe,dateState:O,hasChanged:Ie=>!e.areValuesEqual(M,Fe.value,Ie),isControlled:v,closeOnSelect:p},ht=si(Le),ae=ri(Le),be=oi(Le);if(B(Ie=>(0,P.A)({},Ie,{draft:Fe.value,lastPublishedValue:ht?Fe.value:Ie.lastPublishedValue,lastCommittedValue:ae?Fe.value:Ie.lastCommittedValue,hasBeenModifiedSinceMount:!0})),ht){const Be={validationError:Fe.name==="setValueFromField"?Fe.context.validationError:s({adapter:S,value:Fe.value,props:(0,P.A)({},r,{value:Fe.value,timezone:K})})};Fe.name==="setValueFromShortcut"&&(Be.shortcut=Fe.shortcut),se(Fe.value,Be)}ae&&o&&o(Fe.value),be&&_(!1)});if(i!==void 0&&(O.lastControlledValue===void 0||!e.areValuesEqual(M,O.lastControlledValue,i))){const Fe=e.areValuesEqual(M,O.draft,i);B(Le=>(0,P.A)({},Le,{lastControlledValue:i},Fe?{}:{lastCommittedValue:i,lastPublishedValue:i,draft:i,hasBeenModifiedSinceMount:!0}))}const X=(0,Ue.A)(()=>{Q({value:e.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),oe=(0,Ue.A)(()=>{Q({value:O.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),Y=(0,Ue.A)(()=>{Q({value:O.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),De=(0,Ue.A)(()=>{Q({value:O.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),q=(0,Ue.A)(()=>{Q({value:e.getTodayValue(M,K,t),name:"setValueFromAction",pickerAction:"today"})}),ve=(0,Ue.A)(Fe=>{Fe.preventDefault(),_(!0)}),Te=(0,Ue.A)(Fe=>{Fe==null||Fe.preventDefault(),_(!1)}),ne=(0,Ue.A)((Fe,Le="partial")=>Q({name:"setValueFromView",value:Fe,selectionState:Le})),ke=(0,Ue.A)((Fe,Le,ht)=>Q({name:"setValueFromShortcut",value:Fe,changeImportance:Le,shortcut:ht})),me=(0,Ue.A)((Fe,Le)=>Q({name:"setValueFromField",value:Fe,context:Le})),Pe={onClear:X,onAccept:oe,onDismiss:Y,onCancel:De,onSetToday:q,onOpen:ve,onClose:Te},Me={value:O.draft,onChange:me},$e=R.useMemo(()=>e.cleanValue(M,O.draft),[M,e,O.draft]),Ne={value:$e,onChange:ne,onClose:Te,open:T},Oe=Fe=>{const Le=s({adapter:S,value:Fe,props:(0,P.A)({},r,{value:Fe,timezone:K})});return!e.hasError(Le)},Je=(0,P.A)({},Pe,{value:$e,onChange:ne,onSelectShortcut:ke,isValid:Oe});return{open:T,fieldProps:Me,viewProps:Ne,layoutProps:Je,actions:Pe}};var xn=$(55791);let xm=!1;function cs({onChange:r,onViewChange:e,openTo:t,view:n,views:s,autoFocus:o,focusedView:a,onFocusedViewChange:i}){var oe,Y;const c=R.useRef(t),p=R.useRef(s),g=R.useRef(s.includes(t)?t:s[0]),[C,v]=(0,Ln.A)({name:"useViews",state:"view",controlled:n,default:g.current}),M=R.useRef(o?C:null),[S,T]=(0,Ln.A)({name:"useViews",state:"focusedView",controlled:a,default:M.current});R.useEffect(()=>{(c.current&&c.current!==t||p.current&&p.current.some(De=>!s.includes(De)))&&(v(s.includes(t)?t:s[0]),p.current=s,c.current=t)},[t,v,C,s]);const _=s.indexOf(C),O=(oe=s[_-1])!=null?oe:null,B=(Y=s[_+1])!=null?Y:null,K=(0,Ue.A)((De,q)=>{T(q?De:ve=>De===ve?null:ve),i==null||i(De,q)}),se=(0,Ue.A)(De=>{K(De,!0),De!==C&&(v(De),e&&e(De))}),Q=(0,Ue.A)(()=>{B&&se(B)}),X=(0,Ue.A)((De,q,ve)=>{const Te=q==="finish",ne=ve?s.indexOf(ve)<s.length-1:!!B;if(r(De,Te&&ne?"partial":q,ve),ve&&ve!==C){const me=s[s.indexOf(ve)+1];me&&se(me)}else Te&&Q()});return{view:C,setView:se,focusedView:S,setFocusedView:K,nextView:B,previousView:O,defaultView:s.includes(t)?t:s[0],goToNextView:Q,setValueAndGoToNextView:X}}const ii=["className","sx"],li=({props:r,propsFromPickerValue:e,additionalViewProps:t,autoFocusView:n,rendererInterceptor:s,fieldRef:o})=>{const{onChange:a,open:i,onClose:c}=e,{views:p,openTo:g,onViewChange:C,viewRenderers:v,timezone:M}=r,S=(0,Ge.A)(r,ii),{view:T,setView:_,defaultView:O,focusedView:B,setFocusedView:K,setValueAndGoToNextView:se}=cs({view:void 0,views:p,openTo:g,onChange:a,onViewChange:C,autoFocus:n}),{hasUIView:Q,viewModeLookup:X}=R.useMemo(()=>p.reduce((ne,ke)=>{let me;return v[ke]!=null?me="UI":me="field",ne.viewModeLookup[ke]=me,me==="UI"&&(ne.hasUIView=!0),ne},{hasUIView:!1,viewModeLookup:{}}),[v,p]),oe=R.useMemo(()=>p.reduce((ne,ke)=>v[ke]!=null&&Bt(ke)?ne+1:ne,0),[v,p]),Y=X[T],De=(0,Ue.A)(()=>Y==="UI"),[q,ve]=R.useState(Y==="UI"?T:null);return q!==T&&X[T]==="UI"&&ve(T),(0,xn.A)(()=>{Y==="field"&&i&&(c(),setTimeout(()=>{var ne,ke;(ne=o==null?void 0:o.current)==null||ne.setSelectedSections(T),(ke=o==null?void 0:o.current)==null||ke.focusField(T)}))},[T]),(0,xn.A)(()=>{if(!i)return;let ne=T;Y==="field"&&q!=null&&(ne=q),ne!==O&&X[ne]==="UI"&&X[O]==="UI"&&(ne=O),ne!==T&&_(ne),K(ne,!0)},[i]),{hasUIView:Q,shouldRestoreFocus:De,layoutProps:{views:p,view:q,onViewChange:_},renderCurrentView:()=>{if(q==null)return null;const ne=v[q];if(ne==null)return null;const ke=(0,P.A)({},S,t,e,{views:p,timezone:M,onChange:se,view:q,onViewChange:_,focusedView:B,onFocusedViewChange:K,showViewSwitcher:oe>1,timeViewsCount:oe});return s?s(v,q,ke):ne(ke)}}};var mn=$(49262);function Wr(){return typeof window=="undefined"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const ci=(r,e)=>{const[t,n]=R.useState(Wr);return(0,xn.A)(()=>{const o=()=>{n(Wr())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),qn(r,["hours","minutes","seconds"])?!1:(e||t)==="landscape"},ui=({props:r,propsFromPickerValue:e,propsFromPickerViews:t,wrapperVariant:n})=>{const{orientation:s}=r,o=ci(t.views,s),a=(0,mn.I)();return{layoutProps:(0,P.A)({},t,e,{isLandscape:o,isRtl:a,wrapperVariant:n,disabled:r.disabled,readOnly:r.readOnly})}},wm=r=>{let e=!1;return()=>{}},Sm=((r,e="warning")=>{let t=!1;const n=Array.isArray(r)?r.join(`
`):r;return()=>{t||(t=!0,e==="error"?console.error(n):console.warn(n))}})(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]),Ur=({props:r,valueManager:e,valueType:t,wrapperVariant:n,additionalViewProps:s,validator:o,autoFocusView:a,rendererInterceptor:i,fieldRef:c})=>{const p=ai({props:r,valueManager:e,valueType:t,wrapperVariant:n,validator:o}),g=li({props:r,additionalViewProps:s,autoFocusView:a,fieldRef:c,propsFromPickerValue:p.viewProps,rendererInterceptor:i}),C=ui({props:r,wrapperVariant:n,propsFromPickerValue:p.layoutProps,propsFromPickerViews:g.layoutProps});return{open:p.open,actions:p.actions,fieldProps:p.fieldProps,renderCurrentView:g.renderCurrentView,hasUIView:g.hasUIView,shouldRestoreFocus:g.shouldRestoreFocus,layoutProps:C.layoutProps}};function Hr(r){return(0,gt.Ay)("MuiPickersLayout",r)}const Bn=(0,yt.A)("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]);var us=$(12811),di=$(59589);const pi=["onAccept","onClear","onCancel","onSetToday","actions"];function hi(r){const{onAccept:e,onClear:t,onCancel:n,onSetToday:s,actions:o}=r,a=(0,Ge.A)(r,pi),i=jt();if(o==null||o.length===0)return null;const c=o==null?void 0:o.map(p=>{switch(p){case"clear":return(0,W.jsx)(us.A,{onClick:t,children:i.clearButtonLabel},p);case"cancel":return(0,W.jsx)(us.A,{onClick:n,children:i.cancelButtonLabel},p);case"accept":return(0,W.jsx)(us.A,{onClick:e,children:i.okButtonLabel},p);case"today":return(0,W.jsx)(us.A,{onClick:s,children:i.todayButtonLabel},p);default:return null}});return(0,W.jsx)(di.A,(0,P.A)({},a,{children:c}))}var mi=$(6319),fi=$(28677),gi=$(49813);const ds=36,Ts=2,ks=320,yi=280,Zs=336,zr=232,Di=48,Ci=["items","changeImportance","isLandscape","onChange","isValid"],bi=["getValue"];function vi(r){const{items:e,changeImportance:t="accept",onChange:n,isValid:s}=r,o=(0,Ge.A)(r,Ci);if(e==null||e.length===0)return null;const a=e.map(i=>{let{getValue:c}=i,p=(0,Ge.A)(i,bi);const g=c({isValid:s});return(0,P.A)({},p,{label:p.label,onClick:()=>{n(g,t,p)},disabled:!s(g)})});return(0,W.jsx)(mi.A,(0,P.A)({dense:!0,sx:[{maxHeight:Zs,maxWidth:200,overflow:"auto"},...Array.isArray(o.sx)?o.sx:[o.sx]]},o,{children:a.map(i=>{var c;return(0,W.jsx)(fi.Ay,{children:(0,W.jsx)(gi.A,(0,P.A)({},i))},(c=i.id)!=null?c:i.label)})}))}function Ai(r){return r.view!==null}const xi=r=>{const{classes:e,isLandscape:t}=r,n={root:["root",t&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]};return(0,mt.A)(n,Hr,e)},wi=r=>{var Pe,Me;const{wrapperVariant:e,onAccept:t,onClear:n,onCancel:s,onSetToday:o,view:a,views:i,onViewChange:c,value:p,onChange:g,onSelectShortcut:C,isValid:v,isLandscape:M,disabled:S,readOnly:T,children:_,slots:O,slotProps:B}=r,K=xi(r),se=(Pe=O==null?void 0:O.actionBar)!=null?Pe:hi,Q=(0,Dt.Q)({elementType:se,externalSlotProps:B==null?void 0:B.actionBar,additionalProps:{onAccept:t,onClear:n,onCancel:s,onSetToday:o,actions:e==="desktop"?[]:["cancel","accept"]},className:K.actionBar,ownerState:(0,P.A)({},r,{wrapperVariant:e})}),X=(0,W.jsx)(se,(0,P.A)({},Q)),oe=O==null?void 0:O.toolbar,Y=(0,Dt.Q)({elementType:oe,externalSlotProps:B==null?void 0:B.toolbar,additionalProps:{isLandscape:M,onChange:g,value:p,view:a,onViewChange:c,views:i,disabled:S,readOnly:T},className:K.toolbar,ownerState:(0,P.A)({},r,{wrapperVariant:e})}),De=Ai(Y)&&oe?(0,W.jsx)(oe,(0,P.A)({},Y)):null,q=_,ve=O==null?void 0:O.tabs,Te=a&&ve?(0,W.jsx)(ve,(0,P.A)({view:a,onViewChange:c,className:K.tabs},B==null?void 0:B.tabs)):null,ne=(Me=O==null?void 0:O.shortcuts)!=null?Me:vi,ke=(0,Dt.Q)({elementType:ne,externalSlotProps:B==null?void 0:B.shortcuts,additionalProps:{isValid:v,isLandscape:M,onChange:C},className:K.shortcuts,ownerState:{isValid:v,isLandscape:M,onChange:C,wrapperVariant:e}}),me=a&&ne?(0,W.jsx)(ne,(0,P.A)({},ke)):null;return{toolbar:De,content:q,tabs:Te,actionBar:X,shortcuts:me}},Ei=r=>{const{isLandscape:e,classes:t}=r,n={root:["root",e&&"landscape"],contentWrapper:["contentWrapper"]};return(0,mt.A)(n,Hr,t)},Si=(0,Z.styled)("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(r,e)=>e.root})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${Bn.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${Bn.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${Bn.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!0,isRtl:!0},style:{[`& .${Bn.toolbar}`]:{gridColumn:3}}},{props:{isLandscape:!1},style:{[`& .${Bn.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${Bn.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{isLandscape:!1,isRtl:!0},style:{[`& .${Bn.shortcuts}`]:{gridColumn:3}}}]}),Fi=(0,Z.styled)("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(r,e)=>e.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),Jr=function(e){const t=(0,Z.useThemeProps)({props:e,name:"MuiPickersLayout"}),{toolbar:n,content:s,tabs:o,actionBar:a,shortcuts:i}=wi(t),{sx:c,className:p,isLandscape:g,ref:C,wrapperVariant:v}=t,M=Ei(t);return(0,W.jsxs)(Si,{ref:C,sx:c,className:(0,At.A)(p,M.root),ownerState:t,children:[g?i:n,g?n:i,(0,W.jsx)(Fi,{className:M.contentWrapper,children:v==="desktop"?(0,W.jsxs)(R.Fragment,{children:[s,o]}):(0,W.jsxs)(R.Fragment,{children:[o,s]})}),a]})},Ti=["props","getOpenDialogAriaText"],ki=["ownerState"],Ii=["ownerState"],Yr=r=>{var le,Ce,Ee,_e,fe;let{props:e,getOpenDialogAriaText:t}=r,n=(0,Ge.A)(r,Ti);const{slots:s,slotProps:o,className:a,sx:i,format:c,formatDensity:p,enableAccessibleFieldDOMStructure:g,selectedSections:C,onSelectedSectionsChange:v,timezone:M,name:S,label:T,inputRef:_,readOnly:O,disabled:B,autoFocus:K,localeText:se,reduceAnimations:Q}=e,X=pt(),oe=R.useRef(null),Y=R.useRef(null),De=(0,Gn.A)(),q=(Ce=(le=o==null?void 0:o.toolbar)==null?void 0:le.hidden)!=null?Ce:!1,{open:ve,actions:Te,hasUIView:ne,layoutProps:ke,renderCurrentView:me,shouldRestoreFocus:Pe,fieldProps:Me}=Ur((0,P.A)({},n,{props:e,fieldRef:Y,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),$e=(Ee=s.inputAdornment)!=null?Ee:Rr.A,Ne=(0,Dt.Q)({elementType:$e,externalSlotProps:o==null?void 0:o.inputAdornment,additionalProps:{position:"end"},ownerState:e}),Oe=(0,Ge.A)(Ne,ki),Je=(_e=s.openPickerButton)!=null?_e:Kn.A,Fe=(0,Dt.Q)({elementType:Je,externalSlotProps:o==null?void 0:o.openPickerButton,additionalProps:{disabled:B||O,onClick:ve?Te.onClose:Te.onOpen,"aria-label":t(Me.value,X),edge:Oe.position},ownerState:e}),Le=(0,Ge.A)(Fe,Ii),ht=s.openPickerIcon,ae=s.field,be=(0,Dt.Q)({elementType:ae,externalSlotProps:o==null?void 0:o.field,additionalProps:(0,P.A)({},Me,q&&{id:De},{readOnly:O,disabled:B,className:a,sx:i,format:c,formatDensity:p,enableAccessibleFieldDOMStructure:g,selectedSections:C,onSelectedSectionsChange:v,timezone:M,label:T,name:S,autoFocus:K&&!e.open,focused:ve?!0:void 0},_?{inputRef:_}:{}),ownerState:e});ne&&(be.InputProps=(0,P.A)({},be.InputProps,{ref:oe},!e.disableOpenPicker&&{[`${Oe.position}Adornment`]:(0,W.jsx)($e,(0,P.A)({},Oe,{children:(0,W.jsx)(Je,(0,P.A)({},Le,{children:(0,W.jsx)(ht,(0,P.A)({},o==null?void 0:o.openPickerIcon))}))}))}));const Ie=(0,P.A)({textField:s.textField,clearIcon:s.clearIcon,clearButton:s.clearButton},be.slots),Be=(fe=s.layout)!=null?fe:Jr;let Qe=De;q&&(T?Qe=`${De}-label`:Qe=void 0);const He=(0,P.A)({},o,{toolbar:(0,P.A)({},o==null?void 0:o.toolbar,{titleId:De}),popper:(0,P.A)({"aria-labelledby":Qe},o==null?void 0:o.popper)}),rt=(0,Yt.A)(Y,be.unstableFieldRef);return{renderPicker:()=>(0,W.jsxs)(Pr,{localeText:se,children:[(0,W.jsx)(ae,(0,P.A)({},be,{slots:Ie,slotProps:He,unstableFieldRef:rt})),(0,W.jsx)(ti,(0,P.A)({role:"dialog",placement:"bottom-start",anchorEl:oe.current},Te,{open:ve,slots:s,slotProps:He,shouldRestoreFocus:Pe,reduceAnimations:Q,children:(0,W.jsx)(Be,(0,P.A)({},ke,He==null?void 0:He.layout,{slots:s,slotProps:He,children:me()}))}))]})}};var Tn=$(35131);const Pi=(0,Tn.A)((0,W.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Mi=(0,Tn.A)((0,W.jsx)("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Ni=(0,Tn.A)((0,W.jsx)("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),Oi=(0,Tn.A)((0,W.jsx)("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),_i=(0,Tn.A)((0,W.jsxs)(R.Fragment,{children:[(0,W.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,W.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock"),Tm=(0,Tn.A)((0,W.jsx)("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),km=(0,Tn.A)((0,W.jsxs)(R.Fragment,{children:[(0,W.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,W.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),Ri=(0,Tn.A)((0,W.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");var Kr=$(24273);const Li=({utils:r,format:e})=>{let t=10,n=e,s=r.expandFormat(e);for(;s!==n;)if(n=s,s=r.expandFormat(n),t-=1,t<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return s},Bi=({utils:r,expandedFormat:e})=>{const t=[],{start:n,end:s}=r.escapedCharacters,o=new RegExp(`(\\${n}[^\\${s}]*\\${s})+`,"g");let a=null;for(;a=o.exec(e);)t.push({start:a.index,end:o.lastIndex-1});return t},$i=(r,e,t,n,s)=>{switch(n.type){case"year":return t.fieldYearPlaceholder({digitAmount:r.formatByString(r.date(void 0,e),s).length,format:s});case"month":return t.fieldMonthPlaceholder({contentType:n.contentType,format:s});case"day":return t.fieldDayPlaceholder({format:s});case"weekDay":return t.fieldWeekDayPlaceholder({contentType:n.contentType,format:s});case"hours":return t.fieldHoursPlaceholder({format:s});case"minutes":return t.fieldMinutesPlaceholder({format:s});case"seconds":return t.fieldSecondsPlaceholder({format:s});case"meridiem":return t.fieldMeridiemPlaceholder({format:s});default:return s}},Vi=({utils:r,timezone:e,date:t,shouldRespectLeadingZeros:n,localeText:s,localizedDigits:o,now:a,token:i,startSeparator:c})=>{if(i==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const p=Jt(r,i),g=Sr(r,e,p.contentType,p.type,i),C=n?g:p.contentType==="digit",v=t!=null&&r.isValid(t);let M=v?r.formatByString(t,i):"",S=null;if(C)if(g)S=M===""?r.formatByString(a,i).length:M.length;else{if(p.maxLength==null)throw new Error(`MUI X: The token ${i} should have a 'maxDigitNumber' property on it's adapter`);S=p.maxLength,v&&(M=Ys(Ar(An(M,o),S),o))}return(0,P.A)({},p,{format:i,maxLength:S,value:M,placeholder:$i(r,e,s,p,i),hasLeadingZerosInFormat:g,hasLeadingZerosInInput:C,startSeparator:c,endSeparator:"",modified:!1})},ji=r=>{var M;const{utils:e,expandedFormat:t,escapedParts:n}=r,s=e.date(void 0),o=[];let a="";const i=Object.keys(e.formatTokenMap).sort((S,T)=>T.length-S.length),c=/^([a-zA-Z]+)/,p=new RegExp(`^(${i.join("|")})*$`),g=new RegExp(`^(${i.join("|")})`),C=S=>n.find(T=>T.start<=S&&T.end>=S);let v=0;for(;v<t.length;){const S=C(v),T=S!=null,_=(M=c.exec(t.slice(v)))==null?void 0:M[1];if(!T&&_!=null&&p.test(_)){let O=_;for(;O.length>0;){const B=g.exec(O)[1];O=O.slice(B.length),o.push(Vi((0,P.A)({},r,{now:s,token:B,startSeparator:a}))),a=""}v+=_.length}else{const O=t[v];T&&(S==null?void 0:S.start)===v||(S==null?void 0:S.end)===v||(o.length===0?a+=O:o[o.length-1].endSeparator+=O),v+=1}}return o.length===0&&a.length>0&&o.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:a,endSeparator:"",modified:!1}),o},Wi=({isRtl:r,formatDensity:e,sections:t})=>t.map(n=>{const s=o=>{let a=o;return r&&a!==null&&a.includes(" ")&&(a=`\u2069${a}\u2066`),e==="spacious"&&["/",".","-"].includes(a)&&(a=` ${a} `),a};return n.startSeparator=s(n.startSeparator),n.endSeparator=s(n.endSeparator),n}),Gr=r=>{let e=Li(r);r.isRtl&&r.enableAccessibleFieldDOMStructure&&(e=e.split(" ").reverse().join(" "));const t=Bi((0,P.A)({},r,{expandedFormat:e})),n=ji((0,P.A)({},r,{expandedFormat:e,escapedParts:t}));return Wi((0,P.A)({},r,{sections:n}))},Ui=r=>{const e=pt(),t=jt(),n=_n(),s=(0,mn.I)(),{valueManager:o,fieldValueManager:a,valueType:i,validator:c,internalProps:p,internalProps:{value:g,defaultValue:C,referenceDate:v,onChange:M,format:S,formatDensity:T="dense",selectedSections:_,onSelectedSectionsChange:O,shouldRespectLeadingZeros:B=!1,timezone:K,enableAccessibleFieldDOMStructure:se=!1}}=r,{timezone:Q,value:X,handleValueChange:oe}=Xs({timezone:K,value:g,defaultValue:C,onChange:M,valueManager:o}),Y=R.useMemo(()=>Yn(e),[e]),De=R.useMemo(()=>ba(e,Y,Q),[e,Y,Q]),q=R.useCallback((ae,be=null)=>a.getSectionsFromValue(e,ae,be,Ie=>Gr({utils:e,timezone:Q,localeText:t,localizedDigits:Y,format:S,date:Ie,formatDensity:T,shouldRespectLeadingZeros:B,enableAccessibleFieldDOMStructure:se,isRtl:s})),[a,S,t,Y,s,B,e,T,Q,se]),[ve,Te]=R.useState(()=>{const ae=q(X);Fr(ae,i);const be={sections:ae,value:X,referenceValue:o.emptyValue,tempValueStrAndroid:null},Ie=Ot(ae),Be=o.getInitialReferenceValue({referenceDate:v,value:X,utils:e,props:p,granularity:Ie,timezone:Q});return(0,P.A)({},be,{referenceValue:Be})}),[ne,ke]=(0,Ln.A)({controlled:_,default:null,name:"useField",state:"selectedSections"}),me=ae=>{ke(ae),O==null||O(ae)},Pe=R.useMemo(()=>Gs(ne,ve.sections),[ne,ve.sections]),Me=Pe==="all"?0:Pe,$e=({value:ae,referenceValue:be,sections:Ie})=>{if(Te(Qe=>(0,P.A)({},Qe,{sections:Ie,value:ae,referenceValue:be,tempValueStrAndroid:null})),o.areValuesEqual(e,ve.value,ae))return;const Be={validationError:c({adapter:n,value:ae,props:(0,P.A)({},p,{value:ae,timezone:Q})})};oe(ae,Be)},Ne=(ae,be)=>{const Ie=[...ve.sections];return Ie[ae]=(0,P.A)({},Ie[ae],{value:be,modified:!0}),Ie},Oe=()=>{$e({value:o.emptyValue,referenceValue:ve.referenceValue,sections:q(o.emptyValue)})},Je=()=>{if(Me==null)return;const ae=ve.sections[Me],be=a.getActiveDateManager(e,ve,ae),Be=be.getSections(ve.sections).filter(Ve=>Ve.value!=="").length===(ae.value===""?0:1),Qe=Ne(Me,""),He=Be?null:e.getInvalidDate(),rt=be.getNewValuesFromNewActiveDate(He);$e((0,P.A)({},rt,{sections:Qe}))},Fe=ae=>{const be=(Qe,He)=>{const rt=e.parse(Qe,S);if(rt==null||!e.isValid(rt))return null;const Ve=Gr({utils:e,timezone:Q,localeText:t,localizedDigits:Y,format:S,date:rt,formatDensity:T,shouldRespectLeadingZeros:B,enableAccessibleFieldDOMStructure:se,isRtl:s});return kr(e,Q,rt,Ve,He,!1)},Ie=a.parseValueStr(ae,ve.referenceValue,be),Be=a.updateReferenceValue(e,Ie,ve.referenceValue);$e({value:Ie,referenceValue:Be,sections:q(Ie,ve.sections)})},Le=({activeSection:ae,newSectionValue:be,shouldGoToNextSection:Ie})=>{Ie&&Me<ve.sections.length-1&&me(Me+1);const Be=a.getActiveDateManager(e,ve,ae),Qe=Ne(Me,be),He=Be.getSections(Qe),rt=ya(e,He,Y);let Ve,le;if(rt!=null&&e.isValid(rt)){const Ce=kr(e,Q,rt,He,Be.referenceDate,!0);Ve=Be.getNewValuesFromNewActiveDate(Ce),le=!0}else Ve=Be.getNewValuesFromNewActiveDate(rt),le=(rt!=null&&!e.isValid(rt))!=(Be.date!=null&&!e.isValid(Be.date));return le?$e((0,P.A)({},Ve,{sections:Qe})):Te(Ce=>(0,P.A)({},Ce,Ve,{sections:Qe,tempValueStrAndroid:null}))},ht=ae=>Te(be=>(0,P.A)({},be,{tempValueStrAndroid:ae}));return R.useEffect(()=>{const ae=q(ve.value);Fr(ae,i),Te(be=>(0,P.A)({},be,{sections:ae}))},[S,e.locale,s]),R.useEffect(()=>{let ae;o.areValuesEqual(e,ve.value,X)?ae=o.getTimezone(e,ve.value)!==o.getTimezone(e,X):ae=!0,ae&&Te(be=>(0,P.A)({},be,{value:X,referenceValue:a.updateReferenceValue(e,X,be.referenceValue),sections:q(X)}))},[X]),{state:ve,activeSectionIndex:Me,parsedSelectedSections:Pe,setSelectedSections:me,clearValue:Oe,clearActiveSection:Je,updateSectionValue:Le,updateValueFromValueStr:Fe,setTempAndroidValueStr:ht,getSectionsFromValue:q,sectionsValueBoundaries:De,localizedDigits:Y,timezone:Q}},Hi=5e3,Zn=r=>r.saveQuery!=null,zi=({sections:r,updateSectionValue:e,sectionsValueBoundaries:t,localizedDigits:n,setTempAndroidValueStr:s,timezone:o})=>{const a=pt(),[i,c]=R.useState(null),p=(0,Ue.A)(()=>c(null));R.useEffect(()=>{var S;i!=null&&((S=r[i.sectionIndex])==null?void 0:S.type)!==i.sectionType&&p()},[r,i,p]),R.useEffect(()=>{if(i!=null){const S=setTimeout(()=>p(),Hi);return()=>{clearTimeout(S)}}return()=>{}},[i,p]);const g=({keyPressed:S,sectionIndex:T},_,O)=>{const B=S.toLowerCase(),K=r[T];if(i!=null&&(!O||O(i.value))&&i.sectionIndex===T){const Q=`${i.value}${B}`,X=_(Q,K);if(!Zn(X))return c({sectionIndex:T,value:Q,sectionType:K.type}),X}const se=_(B,K);return Zn(se)&&!se.saveQuery?(p(),null):(c({sectionIndex:T,value:B,sectionType:K.type}),Zn(se)?null:se)},C=S=>{const T=(B,K,se)=>{const Q=K.filter(X=>X.toLowerCase().startsWith(se));return Q.length===0?{saveQuery:!1}:{sectionValue:Q[0],shouldGoToNextSection:Q.length===1}},_=(B,K,se,Q)=>{const X=oe=>rn(a,o,K.type,oe);if(K.contentType==="letter")return T(K.format,X(K.format),B);if(se&&Q!=null&&Jt(a,se).contentType==="letter"){const oe=X(se),Y=T(se,oe,B);return Zn(Y)?{saveQuery:!1}:(0,P.A)({},Y,{sectionValue:Q(Y.sectionValue,oe)})}return{saveQuery:!1}};return g(S,(B,K)=>{switch(K.type){case"month":{const se=Q=>wr(a,Q,a.formats.month,K.format);return _(B,K,a.formats.month,se)}case"weekDay":{const se=(Q,X)=>X.indexOf(Q).toString();return _(B,K,a.formats.weekday,se)}case"meridiem":return _(B,K);default:return{saveQuery:!1}}})},v=S=>{const T=(O,B)=>{const K=An(O,n),se=Number(K),Q=t[B.type]({currentDate:null,format:B.format,contentType:B.contentType});if(se>Q.maximum)return{saveQuery:!1};if(se<Q.minimum)return{saveQuery:!0};const X=se*10>Q.maximum||K.length===Q.maximum.toString().length;return{sectionValue:xr(a,se,Q,n,B),shouldGoToNextSection:X}};return g(S,(O,B)=>{if(B.contentType==="digit"||B.contentType==="digit-with-letter")return T(O,B);if(B.type==="month"){const K=Sr(a,o,"digit","month","MM"),se=T(O,{type:B.type,format:"MM",hasLeadingZerosInFormat:K,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(Zn(se))return se;const Q=wr(a,se.sectionValue,"MM",B.format);return(0,P.A)({},se,{sectionValue:Q})}if(B.type==="weekDay"){const K=T(O,B);if(Zn(K))return K;const se=sn(a,o,B.format)[Number(K.sectionValue)-1];return(0,P.A)({},K,{sectionValue:se})}return{saveQuery:!1}},O=>vr(O,n))};return{applyCharacterEditing:(0,Ue.A)(S=>{const T=r[S.sectionIndex],O=vr(S.keyPressed,n)?v((0,P.A)({},S,{keyPressed:Ys(S.keyPressed,n)})):C(S);if(O==null){s(null);return}e({activeSection:T,newSectionValue:O.sectionValue,shouldGoToNextSection:O.shouldGoToNextSection})}),resetCharacterQuery:p}},Ji=r=>{const{internalProps:{disabled:e,readOnly:t=!1},forwardedProps:{sectionListRef:n,onBlur:s,onClick:o,onFocus:a,onInput:i,onPaste:c,focused:p,autoFocus:g=!1},fieldValueManager:C,applyCharacterEditing:v,resetCharacterQuery:M,setSelectedSections:S,parsedSelectedSections:T,state:_,clearActiveSection:O,clearValue:B,updateSectionValue:K,updateValueFromValueStr:se,sectionOrder:Q,areAllSectionsEmpty:X,sectionsValueBoundaries:oe}=r,Y=R.useRef(null),De=(0,Yt.A)(n,Y),q=jt(),ve=pt(),Te=(0,Gn.A)(),[ne,ke]=R.useState(!1),me=R.useMemo(()=>({syncSelectionToDOM:()=>{if(!Y.current)return;const le=document.getSelection();if(!le)return;if(T==null){le.rangeCount>0&&Y.current.getRoot().contains(le.getRangeAt(0).startContainer)&&le.removeAllRanges(),ne&&Y.current.getRoot().blur();return}if(!Y.current.getRoot().contains(on(document)))return;const Ce=new window.Range;let Ee;T==="all"?Ee=Y.current.getRoot():_.sections[T].type==="empty"?Ee=Y.current.getSectionContainer(T):Ee=Y.current.getSectionContent(T),Ce.selectNodeContents(Ee),Ee.focus(),le.removeAllRanges(),le.addRange(Ce)},getActiveSectionIndexFromDOM:()=>{const le=on(document);return!le||!Y.current||!Y.current.getRoot().contains(le)?null:Y.current.getSectionIndexFromDOMElement(le)},focusField:(le=0)=>{if(!Y.current)return;const Ce=Gs(le,_.sections);ke(!0),Y.current.getSectionContent(Ce).focus()},setSelectedSections:le=>{if(!Y.current)return;const Ce=Gs(le,_.sections);ke((Ce==="all"?0:Ce)!==null),S(le)},isFieldFocused:()=>{const le=on(document);return!!Y.current&&Y.current.getRoot().contains(le)}}),[T,S,_.sections,ne]),Pe=(0,Ue.A)(le=>{if(!Y.current)return;const Ce=_.sections[le];Y.current.getSectionContent(le).innerHTML=Ce.value||Ce.placeholder,me.syncSelectionToDOM()}),Me=(0,Ue.A)((le,...Ce)=>{le.isDefaultPrevented()||!Y.current||(ke(!0),o==null||o(le,...Ce),T==="all"?setTimeout(()=>{const Ee=document.getSelection().getRangeAt(0).startOffset;if(Ee===0){S(Q.startIndex);return}let _e=0,fe=0;for(;fe<Ee&&_e<_.sections.length;){const Ae=_.sections[_e];_e+=1,fe+=`${Ae.startSeparator}${Ae.value||Ae.placeholder}${Ae.endSeparator}`.length}S(_e-1)}):ne?Y.current.getRoot().contains(le.target)||S(Q.startIndex):(ke(!0),S(Q.startIndex)))}),$e=(0,Ue.A)(le=>{var _e;if(i==null||i(le),!Y.current||T!=="all")return;const Ee=(_e=le.target.textContent)!=null?_e:"";Y.current.getRoot().innerHTML=_.sections.map(fe=>`${fe.startSeparator}${fe.value||fe.placeholder}${fe.endSeparator}`).join(""),me.syncSelectionToDOM(),Ee.length===0||Ee.charCodeAt(0)===10?(M(),B(),S("all")):Ee.length>1?se(Ee):v({keyPressed:Ee,sectionIndex:0})}),Ne=(0,Ue.A)(le=>{if(c==null||c(le),t||T!=="all"){le.preventDefault();return}const Ce=le.clipboardData.getData("text");le.preventDefault(),M(),se(Ce)}),Oe=(0,Ue.A)((...le)=>{if(a==null||a(...le),ne||!Y.current)return;ke(!0),Y.current.getSectionIndexFromDOMElement(on(document))!=null||S(Q.startIndex)}),Je=(0,Ue.A)((...le)=>{s==null||s(...le),setTimeout(()=>{if(!Y.current)return;const Ce=on(document);!Y.current.getRoot().contains(Ce)&&(ke(!1),S(null))})}),Fe=(0,Ue.A)(le=>Ce=>{Ce.isDefaultPrevented()||t||S(le)}),Le=(0,Ue.A)(le=>{le.preventDefault()}),ht=(0,Ue.A)(le=>()=>{t||S(le)}),ae=(0,Ue.A)(le=>{if(le.preventDefault(),t||typeof T!="number")return;const Ce=_.sections[T],Ee=le.clipboardData.getData("text"),_e=/^[a-zA-Z]+$/.test(Ee),fe=/^[0-9]+$/.test(Ee),Ae=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(Ee);Ce.contentType==="letter"&&_e||Ce.contentType==="digit"&&fe||Ce.contentType==="digit-with-letter"&&Ae?(M(),K({activeSection:Ce,newSectionValue:Ee,shouldGoToNextSection:!0})):!_e&&!fe&&(M(),se(Ee))}),be=(0,Ue.A)(le=>{le.preventDefault(),le.dataTransfer.dropEffect="none"}),Ie=(0,Ue.A)(le=>{var Ae;if(!Y.current)return;const Ce=le.target,Ee=(Ae=Ce.textContent)!=null?Ae:"",_e=Y.current.getSectionIndexFromDOMElement(Ce),fe=_.sections[_e];if(t||!Y.current){Pe(_e);return}if(Ee.length===0){if(fe.value===""){Pe(_e);return}const nt=le.nativeEvent.inputType;if(nt==="insertParagraph"||nt==="insertLineBreak"){Pe(_e);return}M(),O();return}v({keyPressed:Ee,sectionIndex:_e}),Pe(_e)});(0,xn.A)(()=>{if(!(!ne||!Y.current)){if(T==="all")Y.current.getRoot().focus();else if(typeof T=="number"){const le=Y.current.getSectionContent(T);le&&le.focus()}}},[T,ne]);const Be=R.useMemo(()=>_.sections.reduce((le,Ce)=>(le[Ce.type]=oe[Ce.type]({currentDate:null,contentType:Ce.contentType,format:Ce.format}),le),{}),[oe,_.sections]),Qe=T==="all",He=R.useMemo(()=>_.sections.map((le,Ce)=>{const Ee=!Qe&&!e&&!t;return{container:{"data-sectionindex":Ce,onClick:Fe(Ce)},content:{tabIndex:Qe||Ce>0?-1:0,contentEditable:!Qe&&!e&&!t,role:"spinbutton",id:`${Te}-${le.type}`,"aria-labelledby":`${Te}-${le.type}`,"aria-readonly":t,"aria-valuenow":Ea(le,ve),"aria-valuemin":Be[le.type].minimum,"aria-valuemax":Be[le.type].maximum,"aria-valuetext":le.value?wa(le,ve):q.empty,"aria-label":q[le.type],"aria-disabled":e,spellCheck:Ee?!1:void 0,autoCapitalize:Ee?"off":void 0,autoCorrect:Ee?"off":void 0,[parseInt(R.version,10)>=17?"enterKeyHint":"enterkeyhint"]:Ee?"next":void 0,children:le.value||le.placeholder,onInput:Ie,onPaste:ae,onFocus:ht(Ce),onDragOver:be,onMouseUp:Le,inputMode:le.contentType==="letter"?"text":"numeric"},before:{children:le.startSeparator},after:{children:le.endSeparator}}}),[_.sections,ht,ae,be,Ie,Fe,Le,e,t,Qe,q,ve,Be,Te]),rt=(0,Ue.A)(le=>{se(le.target.value)}),Ve=R.useMemo(()=>X?"":C.getV7HiddenInputValueFromSections(_.sections),[X,_.sections,C]);return R.useEffect(()=>{if(Y.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));g&&Y.current&&Y.current.getSectionContent(Q.startIndex).focus()},[]),{interactions:me,returnedValue:{autoFocus:g,readOnly:t,focused:p!=null?p:ne,sectionListRef:De,onBlur:Je,onClick:Me,onFocus:Oe,onInput:$e,onPaste:Ne,enableAccessibleFieldDOMStructure:!0,elements:He,tabIndex:T===0?-1:0,contentEditable:Qe,value:Ve,onChange:rt,areAllSectionsEmpty:X}}},es=r=>r.replace(/[\u2066\u2067\u2068\u2069]/g,""),Yi=(r,e,t)=>{let n=0,s=t?1:0;const o=[];for(let a=0;a<r.length;a+=1){const i=r[a],c=Ks(i,t?"input-rtl":"input-ltr",e),p=`${i.startSeparator}${c}${i.endSeparator}`,g=es(p).length,C=p.length,v=es(c),M=s+(v===""?0:c.indexOf(v[0]))+i.startSeparator.length,S=M+v.length;o.push((0,P.A)({},i,{start:n,end:n+g,startInInput:M,endInInput:S})),n+=g,s+=C}return o},Ki=r=>{const e=(0,mn.I)(),t=R.useRef(),{forwardedProps:{onFocus:n,onClick:s,onPaste:o,onBlur:a,inputRef:i,placeholder:c},internalProps:{readOnly:p=!1},parsedSelectedSections:g,activeSectionIndex:C,state:v,fieldValueManager:M,valueManager:S,applyCharacterEditing:T,resetCharacterQuery:_,updateSectionValue:O,updateValueFromValueStr:B,clearActiveSection:K,clearValue:se,setTempAndroidValueStr:Q,setSelectedSections:X,getSectionsFromValue:oe,areAllSectionsEmpty:Y,localizedDigits:De}=r,q=R.useRef(null),ve=(0,Yt.A)(i,q),Te=R.useMemo(()=>Yi(v.sections,De,e),[v.sections,De,e]),ne=R.useMemo(()=>({syncSelectionToDOM:()=>{if(!q.current)return;if(g==null){q.current.scrollLeft&&(q.current.scrollLeft=0);return}if(q.current!==on(document))return;const ae=q.current.scrollTop;if(g==="all")q.current.select();else{const be=Te[g],Ie=be.type==="empty"?be.startInInput-be.startSeparator.length:be.startInInput,Be=be.type==="empty"?be.endInInput+be.endSeparator.length:be.endInInput;(Ie!==q.current.selectionStart||Be!==q.current.selectionEnd)&&q.current===on(document)&&q.current.setSelectionRange(Ie,Be)}q.current.scrollTop=ae},getActiveSectionIndexFromDOM:()=>{var Qe,He,rt;const ae=(Qe=q.current.selectionStart)!=null?Qe:0,be=(He=q.current.selectionEnd)!=null?He:0,Ie=!!((rt=q.current)!=null&&rt.readOnly);if(ae===0&&be===0||Ie)return null;const Be=ae<=Te[0].startInInput?1:Te.findIndex(Ve=>Ve.startInInput-Ve.startSeparator.length>ae);return Be===-1?Te.length-1:Be-1},focusField:(ae=0)=>{var be;(be=q.current)==null||be.focus(),X(ae)},setSelectedSections:ae=>X(ae),isFieldFocused:()=>q.current===on(document)}),[q,g,Te,X]),ke=()=>{var Be;if(p){X(null);return}const ae=(Be=q.current.selectionStart)!=null?Be:0;let be;ae<=Te[0].startInInput||ae>=Te[Te.length-1].endInInput?be=1:be=Te.findIndex(Qe=>Qe.startInInput-Qe.startSeparator.length>ae);const Ie=be===-1?Te.length-1:be-1;X(Ie)},me=(0,Ue.A)((...ae)=>{n==null||n(...ae);const be=q.current;clearTimeout(t.current),t.current=setTimeout(()=>{!be||be!==q.current||C!=null||p||(be.value.length&&Number(be.selectionEnd)-Number(be.selectionStart)===be.value.length?X("all"):ke())})}),Pe=(0,Ue.A)((ae,...be)=>{ae.isDefaultPrevented()||(s==null||s(ae,...be),ke())}),Me=(0,Ue.A)(ae=>{if(o==null||o(ae),ae.preventDefault(),p)return;const be=ae.clipboardData.getData("text");if(typeof g=="number"){const Ie=v.sections[g],Be=/^[a-zA-Z]+$/.test(be),Qe=/^[0-9]+$/.test(be),He=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(be);if(Ie.contentType==="letter"&&Be||Ie.contentType==="digit"&&Qe||Ie.contentType==="digit-with-letter"&&He){_(),O({activeSection:Ie,newSectionValue:be,shouldGoToNextSection:!0});return}if(Be||Qe)return}_(),B(be)}),$e=(0,Ue.A)((...ae)=>{a==null||a(...ae),X(null)}),Ne=(0,Ue.A)(ae=>{if(p)return;const be=ae.target.value;if(be===""){_(),se();return}const Ie=ae.nativeEvent.data,Be=Ie&&Ie.length>1,Qe=Be?Ie:be,He=es(Qe);if(C==null||Be){B(Be?Ie:He);return}let rt;if(g==="all"&&He.length===1)rt=He;else{const Ve=es(M.getV6InputValueFromSections(Te,De,e));let le=-1,Ce=-1;for(let Ae=0;Ae<Ve.length;Ae+=1)le===-1&&Ve[Ae]!==He[Ae]&&(le=Ae),Ce===-1&&Ve[Ve.length-Ae-1]!==He[He.length-Ae-1]&&(Ce=Ae);const Ee=Te[C];if(le<Ee.start||Ve.length-Ce-1>Ee.end)return;const fe=He.length-Ve.length+Ee.end-es(Ee.endSeparator||"").length;rt=He.slice(Ee.start+es(Ee.startSeparator||"").length,fe)}if(rt.length===0){Aa()?Q(Qe):(_(),K());return}T({keyPressed:rt,sectionIndex:C})}),Oe=R.useMemo(()=>c!==void 0?c:M.getV6InputValueFromSections(oe(S.emptyValue),De,e),[c,M,oe,S.emptyValue,De,e]),Je=R.useMemo(()=>{var ae;return(ae=v.tempValueStrAndroid)!=null?ae:M.getV6InputValueFromSections(v.sections,De,e)},[v.sections,M,v.tempValueStrAndroid,De,e]);R.useEffect(()=>(q.current&&q.current===on(document)&&X("all"),()=>{clearTimeout(t.current)}),[]);const Fe=R.useMemo(()=>C==null||v.sections[C].contentType==="letter"?"text":"numeric",[C,v.sections]),ht=!(q.current&&q.current===on(document))&&Y;return{interactions:ne,returnedValue:{readOnly:p,onBlur:$e,onClick:Pe,onFocus:me,onPaste:Me,inputRef:ve,enableAccessibleFieldDOMStructure:!1,placeholder:Oe,inputMode:Fe,autoComplete:"off",value:ht?"":Je,onChange:Ne}}},qr=r=>{const e=pt(),{internalProps:t,internalProps:{unstableFieldRef:n,minutesStep:s,enableAccessibleFieldDOMStructure:o=!1,disabled:a=!1,readOnly:i=!1},forwardedProps:{onKeyDown:c,error:p,clearable:g,onClear:C},fieldValueManager:v,valueManager:M,validator:S}=r,T=(0,mn.I)(),_=Ui(r),{state:O,activeSectionIndex:B,parsedSelectedSections:K,setSelectedSections:se,clearValue:Q,clearActiveSection:X,updateSectionValue:oe,setTempAndroidValueStr:Y,sectionsValueBoundaries:De,localizedDigits:q,timezone:ve}=_,Te=zi({sections:O.sections,updateSectionValue:oe,sectionsValueBoundaries:De,localizedDigits:q,setTempAndroidValueStr:Y,timezone:ve}),{resetCharacterQuery:ne}=Te,ke=M.areValuesEqual(e,O.value,M.emptyValue),me=o?Ji:Ki,Pe=R.useMemo(()=>xa(O.sections,T&&!o),[O.sections,T,o]),{returnedValue:Me,interactions:$e}=me((0,P.A)({},r,_,Te,{areAllSectionsEmpty:ke,sectionOrder:Pe})),Ne=(0,Ue.A)(ae=>{switch(c==null||c(ae),!0){case((ae.ctrlKey||ae.metaKey)&&ae.key.toLowerCase()==="a"&&!ae.shiftKey&&!ae.altKey):{ae.preventDefault(),se("all");break}case ae.key==="ArrowRight":{if(ae.preventDefault(),K==null)se(Pe.startIndex);else if(K==="all")se(Pe.endIndex);else{const be=Pe.neighbors[K].rightIndex;be!==null&&se(be)}break}case ae.key==="ArrowLeft":{if(ae.preventDefault(),K==null)se(Pe.endIndex);else if(K==="all")se(Pe.startIndex);else{const be=Pe.neighbors[K].leftIndex;be!==null&&se(be)}break}case ae.key==="Delete":{if(ae.preventDefault(),i)break;K==null||K==="all"?Q():X(),ne();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(ae.key):{if(ae.preventDefault(),i||B==null)break;const be=O.sections[B],Ie=v.getActiveDateManager(e,O,be),Be=ga(e,ve,be,ae.key,De,q,Ie.date,{minutesStep:s});oe({activeSection:be,newSectionValue:Be,shouldGoToNextSection:!1});break}}});(0,xn.A)(()=>{$e.syncSelectionToDOM()});const Oe=jr((0,P.A)({},t,{value:O.value,timezone:ve}),S,M.isSameError,M.defaultErrorState),Je=R.useMemo(()=>p!==void 0?p:M.hasError(Oe),[M,Oe,p]);R.useEffect(()=>{!Je&&B==null&&ne()},[O.referenceValue,B,Je]),R.useEffect(()=>{O.tempValueStrAndroid!=null&&B!=null&&(ne(),X())},[O.sections]),R.useImperativeHandle(n,()=>({getSections:()=>O.sections,getActiveSectionIndex:$e.getActiveSectionIndexFromDOM,setSelectedSections:$e.setSelectedSections,focusField:$e.focusField,isFieldFocused:$e.isFieldFocused}));const Fe=(0,Ue.A)((ae,...be)=>{ae.preventDefault(),C==null||C(ae,...be),Q(),$e.isFieldFocused()?se(Pe.startIndex):$e.focusField(0)}),Le={onKeyDown:Ne,onClear:Fe,error:Je,clearable:!!(g&&!ke&&!i&&!a)},ht={disabled:a,readOnly:i};return(0,P.A)({},r.forwardedProps,Le,ht,Me)},er=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],tr=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],Qr=["minDateTime","maxDateTime"],Gi=[...er,...tr,...Qr],Is=r=>Gi.reduce((e,t)=>(r.hasOwnProperty(t)&&(e[t]=r[t]),e),{}),qi=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],Xr=(r,e)=>{const t=(0,P.A)({},r),n={},s=o=>{t.hasOwnProperty(o)&&(n[o]=t[o],delete t[o])};return qi.forEach(s),e==="date"?er.forEach(s):e==="time"?tr.forEach(s):e==="date-time"&&(er.forEach(s),tr.forEach(s),Qr.forEach(s)),{forwardedProps:t,internalProps:n}},Qi=r=>{var n,s,o;const e=pt(),t=ls();return(0,P.A)({},r,{disablePast:(n=r.disablePast)!=null?n:!1,disableFuture:(s=r.disableFuture)!=null?s:!1,format:(o=r.format)!=null?o:e.formats.keyboardDate,minDate:ee(e,r.minDate,t.minDate),maxDate:ee(e,r.maxDate,t.maxDate)})},Xi=r=>{var s,o,a,i;const e=pt(),n=((s=r.ampm)!=null?s:e.is12HourCycleInCurrentLocale())?e.formats.fullTime12h:e.formats.fullTime24h;return(0,P.A)({},r,{disablePast:(o=r.disablePast)!=null?o:!1,disableFuture:(a=r.disableFuture)!=null?a:!1,format:(i=r.format)!=null?i:n})},Im=r=>{var o,a,i,c,p,g,C,v;const e=useUtils(),t=useDefaultDates(),s=((o=r.ampm)!=null?o:e.is12HourCycleInCurrentLocale())?e.formats.keyboardDateTime12h:e.formats.keyboardDateTime24h;return _extends({},r,{disablePast:(a=r.disablePast)!=null?a:!1,disableFuture:(i=r.disableFuture)!=null?i:!1,format:(c=r.format)!=null?c:s,disableIgnoringDatePartForTimeValidation:!!(r.minDateTime||r.maxDateTime),minDate:applyDefaultDate(e,(p=r.minDateTime)!=null?p:r.minDate,t.minDate),maxDate:applyDefaultDate(e,(g=r.maxDateTime)!=null?g:r.maxDate,t.maxDate),minTime:(C=r.minDateTime)!=null?C:r.minTime,maxTime:(v=r.maxDateTime)!=null?v:r.maxTime})},Zi=r=>{const e=Qi(r),{forwardedProps:t,internalProps:n}=Xr(e,"date");return qr({forwardedProps:t,internalProps:n,valueManager:Vt,fieldValueManager:Ir,validator:Ss,valueType:"date"})},el=["clearable","onClear","InputProps","sx","slots","slotProps"],tl=["ownerState"],Zr=r=>{var S,T;const e=jt(),{clearable:t,onClear:n,InputProps:s,sx:o,slots:a,slotProps:i}=r,c=(0,Ge.A)(r,el),p=(S=a==null?void 0:a.clearButton)!=null?S:Kn.A,g=(0,Dt.Q)({elementType:p,externalSlotProps:i==null?void 0:i.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:e.fieldClearLabel}}),C=(0,Ge.A)(g,tl),v=(T=a==null?void 0:a.clearIcon)!=null?T:Ri,M=(0,Dt.Q)({elementType:v,externalSlotProps:i==null?void 0:i.clearIcon,ownerState:{}});return(0,P.A)({},c,{InputProps:(0,P.A)({},s,{endAdornment:(0,W.jsxs)(R.Fragment,{children:[t&&(0,W.jsx)(Rr.A,{position:"end",sx:{marginRight:s!=null&&s.endAdornment?-1:-1.5},children:(0,W.jsx)(p,(0,P.A)({},C,{onClick:n,children:(0,W.jsx)(v,(0,P.A)({fontSize:"small"},M))}))}),s==null?void 0:s.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(o)?o:[o]]})};var nl=$(10743),sl=$(11085),rl=$(48845);function ol(r){return(0,gt.Ay)("MuiPickersTextField",r)}const Pm=(0,yt.A)("MuiPickersTextField",["root","focused","disabled","error","required"]);var Ps=$(64186);function al(r){return(0,gt.Ay)("MuiPickersInputBase",r)}const ts=(0,yt.A)("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function il(r){return(0,gt.Ay)("MuiPickersOutlinedInput",r)}const pn=(0,P.A)({},ts,(0,yt.A)("MuiPickersOutlinedInput",["root","notchedOutline","input"])),ll=["children","className","label","notched","shrink"],cl=(0,Z.styled)("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(r,e)=>e.notchedOutline})(({theme:r})=>{const e=r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),eo=(0,Z.styled)("span")(({theme:r})=>({fontFamily:r.typography.fontFamily,fontSize:"inherit"})),ul=(0,Z.styled)("legend")(({theme:r})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:r.transitions.create("width",{duration:150,easing:r.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:r.transitions.create("max-width",{duration:50,easing:r.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:r.transitions.create("max-width",{duration:100,easing:r.transitions.easing.easeOut,delay:50})}}]}));function dl(r){const{className:e,label:t}=r,n=(0,Ge.A)(r,ll),s=t!=null&&t!=="",o=(0,P.A)({},r,{withLabel:s});return(0,W.jsx)(cl,(0,P.A)({"aria-hidden":!0,className:e},n,{ownerState:o,children:(0,W.jsx)(ul,{ownerState:o,children:s?(0,W.jsx)(eo,{children:t}):(0,W.jsx)(eo,{className:"notranslate",children:"\u200B"})})}))}var pl=$(62917),hl=$(34027);function ml(r){return(0,gt.Ay)("MuiPickersSectionList",r)}const ps=(0,yt.A)("MuiPickersSectionList",["root","section","sectionContent"]),fl=["slots","slotProps","elements","sectionListRef"],to=(0,Z.styled)("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(r,e)=>e.root})({direction:"ltr /*! @noflip */",outline:"none"}),no=(0,Z.styled)("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(r,e)=>e.section})({}),so=(0,Z.styled)("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(r,e)=>e.sectionSeparator})({whiteSpace:"pre"}),ro=(0,Z.styled)("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(r,e)=>e.sectionContent})({outline:"none"}),gl=r=>{const{classes:e}=r,t={root:["root"],section:["section"],sectionContent:["sectionContent"]};return(0,mt.A)(t,ml,e)};function yl(r){var v,M,S;const{slots:e,slotProps:t,element:n,classes:s}=r,o=(v=e==null?void 0:e.section)!=null?v:no,a=(0,Dt.Q)({elementType:o,externalSlotProps:t==null?void 0:t.section,externalForwardedProps:n.container,className:s.section,ownerState:{}}),i=(M=e==null?void 0:e.sectionContent)!=null?M:ro,c=(0,Dt.Q)({elementType:i,externalSlotProps:t==null?void 0:t.sectionContent,externalForwardedProps:n.content,additionalProps:{suppressContentEditableWarning:!0},className:s.sectionContent,ownerState:{}}),p=(S=e==null?void 0:e.sectionSeparator)!=null?S:so,g=(0,Dt.Q)({elementType:p,externalSlotProps:t==null?void 0:t.sectionSeparator,externalForwardedProps:n.before,ownerState:{position:"before"}}),C=(0,Dt.Q)({elementType:p,externalSlotProps:t==null?void 0:t.sectionSeparator,externalForwardedProps:n.after,ownerState:{position:"after"}});return(0,W.jsxs)(o,(0,P.A)({},a,{children:[(0,W.jsx)(p,(0,P.A)({},g)),(0,W.jsx)(i,(0,P.A)({},c)),(0,W.jsx)(p,(0,P.A)({},C))]}))}const Dl=R.forwardRef(function(e,t){var T;const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersSectionList"}),{slots:s,slotProps:o,elements:a,sectionListRef:i}=n,c=(0,Ge.A)(n,fl),p=gl(n),g=R.useRef(null),C=(0,Yt.A)(t,g),v=_=>{if(!g.current)throw new Error(`MUI X: Cannot call sectionListRef.${_} before the mount of the component.`);return g.current};R.useImperativeHandle(i,()=>({getRoot(){return v("getRoot")},getSectionContainer(_){return v("getSectionContainer").querySelector(`.${ps.section}[data-sectionindex="${_}"]`)},getSectionContent(_){return v("getSectionContent").querySelector(`.${ps.section}[data-sectionindex="${_}"] .${ps.sectionContent}`)},getSectionIndexFromDOMElement(_){const O=v("getSectionIndexFromDOMElement");if(_==null||!O.contains(_))return null;let B=null;return _.classList.contains(ps.section)?B=_:_.classList.contains(ps.sectionContent)&&(B=_.parentElement),B==null?null:Number(B.dataset.sectionindex)}}));const M=(T=s==null?void 0:s.root)!=null?T:to,S=(0,Dt.Q)({elementType:M,externalSlotProps:o==null?void 0:o.root,externalForwardedProps:c,additionalProps:{ref:C,suppressContentEditableWarning:!0},className:p.root,ownerState:{}});return(0,W.jsx)(M,(0,P.A)({},S,{children:S.contentEditable?a.map(({content:_,before:O,after:B})=>`${O.children}${_.children}${B.children}`).join(""):(0,W.jsx)(R.Fragment,{children:a.map((_,O)=>(0,W.jsx)(yl,{slots:s,slotProps:o,element:_,classes:p},O))})}))}),Cl=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],bl=r=>Math.round(r*1e5)/1e5,Ms=(0,Z.styled)("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>(0,P.A)({},r.typography.body1,{color:(r.vars||r).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${bl(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),nr=(0,Z.styled)(to,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(r,e)=>e.sectionsContainer})(({theme:r})=>({padding:"4px 0 5px",fontFamily:r.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{isRtl:!0},style:{textAlign:"right /*! @noflip */"}},{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:e,focused:t,filled:n,label:s})=>!e&&!t&&!n&&s==null,style:r.vars?{opacity:r.vars.opacity.inputPlaceholder}:{opacity:r.palette.mode==="light"?.42:.5}}]})),vl=(0,Z.styled)(no,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(r,e)=>e.section})(({theme:r})=>({fontFamily:r.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"flex"})),Al=(0,Z.styled)(ro,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(r,e)=>e.content})(({theme:r})=>({fontFamily:r.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),xl=(0,Z.styled)(so,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(r,e)=>e.separator})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),wl=(0,Z.styled)("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(r,e)=>e.hiddenInput})((0,P.A)({},hl.A)),El=r=>{const{focused:e,disabled:t,error:n,classes:s,fullWidth:o,readOnly:a,color:i,size:c,endAdornment:p,startAdornment:g}=r,C={root:["root",e&&!t&&"focused",t&&"disabled",a&&"readOnly",n&&"error",o&&"fullWidth",`color${(0,pl.A)(i)}`,c==="small"&&"inputSizeSmall",!!g&&"adornedStart",!!p&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return(0,mt.A)(C,al,s)},sr=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersInputBase"}),{elements:s,areAllSectionsEmpty:o,value:a,onChange:i,id:c,endAdornment:p,startAdornment:g,renderSuffix:C,slots:v,slotProps:M,contentEditable:S,tabIndex:T,onInput:_,onPaste:O,onKeyDown:B,name:K,readOnly:se,inputProps:Q,inputRef:X,sectionListRef:oe}=n,Y=(0,Ge.A)(n,Cl),De=R.useRef(null),q=(0,Yt.A)(t,De),ve=(0,Yt.A)(Q==null?void 0:Q.ref,X),Te=(0,mn.I)(),ne=(0,Ps.A)();if(!ne)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const ke=Oe=>{var Je;if(ne.disabled){Oe.stopPropagation();return}(Je=ne.onFocus)==null||Je.call(ne,Oe)};R.useEffect(()=>{ne&&ne.setAdornedStart(!!g)},[ne,g]),R.useEffect(()=>{ne&&(o?ne.onEmpty():ne.onFilled())},[ne,o]);const me=(0,P.A)({},n,ne,{isRtl:Te}),Pe=El(me),Me=(v==null?void 0:v.root)||Ms,$e=(0,Dt.Q)({elementType:Me,externalSlotProps:M==null?void 0:M.root,externalForwardedProps:Y,additionalProps:{"aria-invalid":ne.error,ref:q},className:Pe.root,ownerState:me}),Ne=(v==null?void 0:v.input)||nr;return(0,W.jsxs)(Me,(0,P.A)({},$e,{children:[g,(0,W.jsx)(Dl,{sectionListRef:oe,elements:s,contentEditable:S,tabIndex:T,className:Pe.sectionsContainer,onFocus:ke,onBlur:ne.onBlur,onInput:_,onPaste:O,onKeyDown:B,slots:{root:Ne,section:vl,sectionContent:Al,sectionSeparator:xl},slotProps:{root:{ownerState:me},sectionContent:{className:ts.sectionContent},sectionSeparator:({position:Oe})=>({className:Oe==="before"?ts.sectionBefore:ts.sectionAfter})}}),p,C?C((0,P.A)({},ne)):null,(0,W.jsx)(wl,(0,P.A)({name:K,className:Pe.input,value:a,onChange:i,id:c,"aria-hidden":"true",tabIndex:-1,readOnly:se,required:ne.required,disabled:ne.disabled},Q,{ref:ve}))]}))}),Sl=["label","autoFocus","ownerState","notched"],Fl=(0,Z.styled)(Ms,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>{var t;const e=r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(r.vars||r).shape.borderRadius,[`&:hover .${pn.notchedOutline}`]:{borderColor:(r.vars||r).palette.text.primary},"@media (hover: none)":{[`&:hover .${pn.notchedOutline}`]:{borderColor:r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${pn.focused} .${pn.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${pn.disabled}`]:{[`& .${pn.notchedOutline}`]:{borderColor:(r.vars||r).palette.action.disabled},"*":{color:(r.vars||r).palette.action.disabled}},[`&.${pn.error} .${pn.notchedOutline}`]:{borderColor:(r.vars||r).palette.error.main},variants:Object.keys(((t=r.vars)!=null?t:r).palette).filter(n=>{var s,o,a;return(a=(o=((s=r.vars)!=null?s:r).palette[n])==null?void 0:o.main)!=null?a:!1}).map(n=>({props:{color:n},style:{[`&.${pn.focused}:not(.${pn.error}) .${pn.notchedOutline}`]:{borderColor:(r.vars||r).palette[n].main}}}))}}),Tl=(0,Z.styled)(nr,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(r,e)=>e.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),kl=r=>{const{classes:e}=r,t={root:["root"],notchedOutline:["notchedOutline"],input:["input"]},n=(0,mt.A)(t,il,e);return(0,P.A)({},e,n)},oo=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersOutlinedInput"}),{label:s,ownerState:o,notched:a}=n,i=(0,Ge.A)(n,Sl),c=(0,Ps.A)(),p=(0,P.A)({},n,o,c,{color:(c==null?void 0:c.color)||"primary"}),g=kl(p);return(0,W.jsx)(sr,(0,P.A)({slots:{root:Fl,input:Tl},renderSuffix:C=>(0,W.jsx)(dl,{shrink:!!(a||C.adornedStart||C.focused||C.filled),notched:!!(a||C.adornedStart||C.focused||C.filled),className:g.notchedOutline,label:s!=null&&s!==""&&(c!=null&&c.required)?(0,W.jsxs)(R.Fragment,{children:[s,"\u2009","*"]}):s,ownerState:p})},i,{label:s,classes:g,ref:t}))});oo.muiName="Input";var Il=$(29239);function Pl(r){return(0,gt.Ay)("MuiPickersFilledInput",r)}const $n=(0,P.A)({},ts,(0,yt.A)("MuiPickersFilledInput",["root","underline","input"])),Ml=["label","autoFocus","disableUnderline","ownerState"],Nl=(0,Z.styled)(Ms,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(r,e)=>e.root,shouldForwardProp:r=>(0,Il.MC)(r)&&r!=="disableUnderline"})(({theme:r})=>{var a;const e=r.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:r.vars?r.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(r.vars||r).shape.borderRadius,borderTopRightRadius:(r.vars||r).shape.borderRadius,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),"&:hover":{backgroundColor:r.vars?r.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:r.vars?r.vars.palette.FilledInput.bg:n}},[`&.${$n.focused}`]:{backgroundColor:r.vars?r.vars.palette.FilledInput.bg:n},[`&.${$n.disabled}`]:{backgroundColor:r.vars?r.vars.palette.FilledInput.disabledBg:o},variants:[...Object.keys(((a=r.vars)!=null?a:r).palette).filter(i=>{var c;return((c=r.vars)!=null?c:r).palette[i].main}).map(i=>{var c;return{props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(c=(r.vars||r).palette[i])==null?void 0:c.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${$n.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${$n.error}`]:{"&:before, &:after":{borderBottomColor:(r.vars||r).palette.error.main}},"&::before":{borderBottom:`1px solid ${r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / ${r.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${$n.disabled}, .${$n.error}):before`]:{borderBottom:`1px solid ${(r.vars||r).palette.text.primary}`},[`&.${$n.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:i})=>!!i,style:{paddingLeft:12}},{props:({endAdornment:i})=>!!i,style:{paddingRight:12}}]}}),Ol=(0,Z.styled)(nr,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(r,e)=>e.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:r})=>!!r,style:{paddingLeft:0}},{props:({endAdornment:r})=>!!r,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),_l=r=>{const{classes:e,disableUnderline:t}=r,n={root:["root",!t&&"underline"],input:["input"]},s=(0,mt.A)(n,Pl,e);return(0,P.A)({},e,s)},ao=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersFilledInput"}),{label:s,disableUnderline:o=!1,ownerState:a}=n,i=(0,Ge.A)(n,Ml),c=(0,Ps.A)(),p=(0,P.A)({},n,a,c,{color:(c==null?void 0:c.color)||"primary"}),g=_l(p);return(0,W.jsx)(sr,(0,P.A)({slots:{root:Nl,input:Ol},slotProps:{root:{disableUnderline:o}}},i,{label:s,classes:g,ref:t}))});ao.muiName="Input";function Rl(r){return(0,gt.Ay)("MuiPickersFilledInput",r)}const hs=(0,P.A)({},ts,(0,yt.A)("MuiPickersInput",["root","input"])),Ll=["label","autoFocus","disableUnderline","ownerState"],Bl=(0,Z.styled)(Ms,{name:"MuiPickersInput",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>{var n;let t=r.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return r.vars&&(t=`rgba(${r.vars.palette.common.onBackgroundChannel} / ${r.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys(((n=r.vars)!=null?n:r).palette).filter(s=>{var o;return((o=r.vars)!=null?o:r).palette[s].main}).map(s=>({props:{color:s},style:{"&::after":{borderBottom:`2px solid ${(r.vars||r).palette[s].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${hs.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${hs.error}`]:{"&:before, &:after":{borderBottomColor:(r.vars||r).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${hs.disabled}, .${hs.error}):before`]:{borderBottom:`2px solid ${(r.vars||r).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${hs.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),$l=r=>{const{classes:e,disableUnderline:t}=r,n={root:["root",!t&&"underline"],input:["input"]},s=(0,mt.A)(n,Rl,e);return(0,P.A)({},e,s)},io=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersInput"}),{label:s,disableUnderline:o=!1,ownerState:a}=n,i=(0,Ge.A)(n,Ll),c=(0,Ps.A)(),p=(0,P.A)({},n,a,c,{disableUnderline:o,color:(c==null?void 0:c.color)||"primary"}),g=$l(p);return(0,W.jsx)(sr,(0,P.A)({slots:{root:Bl}},i,{label:s,classes:g,ref:t}))});io.muiName="Input";const Vl=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],jl={standard:io,filled:ao,outlined:oo},Wl=(0,Z.styled)(rl.A,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(r,e)=>e.root})({}),Ul=r=>{const{focused:e,disabled:t,classes:n,required:s}=r,o={root:["root",e&&!t&&"focused",t&&"disabled",s&&"required"]};return(0,mt.A)(o,ol,n)},lo=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersTextField"}),{onFocus:s,onBlur:o,className:a,color:i="primary",disabled:c=!1,error:p=!1,variant:g="outlined",required:C=!1,InputProps:v,inputProps:M,inputRef:S,sectionListRef:T,elements:_,areAllSectionsEmpty:O,onClick:B,onKeyDown:K,onPaste:se,onInput:Q,endAdornment:X,startAdornment:oe,tabIndex:Y,contentEditable:De,focused:q,value:ve,onChange:Te,fullWidth:ne,id:ke,name:me,helperText:Pe,FormHelperTextProps:Me,label:$e,InputLabelProps:Ne}=n,Oe=(0,Ge.A)(n,Vl),Je=R.useRef(null),Fe=(0,Yt.A)(t,Je),Le=(0,Gn.A)(ke),ht=Pe&&Le?`${Le}-helper-text`:void 0,ae=$e&&Le?`${Le}-label`:void 0,be=(0,P.A)({},n,{color:i,disabled:c,error:p,focused:q,required:C,variant:g}),Ie=Ul(be),Be=jl[g];return(0,W.jsxs)(Wl,(0,P.A)({className:(0,At.A)(Ie.root,a),ref:Fe,focused:q,onFocus:s,onBlur:o,disabled:c,variant:g,error:p,color:i,fullWidth:ne,required:C,ownerState:be},Oe,{children:[(0,W.jsx)(nl.A,(0,P.A)({htmlFor:Le,id:ae},Ne,{children:$e})),(0,W.jsx)(Be,(0,P.A)({elements:_,areAllSectionsEmpty:O,onClick:B,onKeyDown:K,onInput:Q,onPaste:se,endAdornment:X,startAdornment:oe,tabIndex:Y,contentEditable:De,value:ve,onChange:Te,id:Le,fullWidth:ne,inputProps:M,inputRef:S,sectionListRef:T,label:$e,name:me,role:"group","aria-labelledby":ae},v)),Pe&&(0,W.jsx)(sl.A,(0,P.A)({id:ht},Me,{children:Pe}))]}))}),Hl=["enableAccessibleFieldDOMStructure"],zl=["InputProps","readOnly"],Jl=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],co=r=>{let{enableAccessibleFieldDOMStructure:e}=r,t=(0,Ge.A)(r,Hl);if(e){const{InputProps:C,readOnly:v}=t,M=(0,Ge.A)(t,zl);return(0,P.A)({},M,{InputProps:(0,P.A)({},C!=null?C:{},{readOnly:v})})}const{onPaste:n,onKeyDown:s,inputMode:o,readOnly:a,InputProps:i,inputProps:c,inputRef:p}=t,g=(0,Ge.A)(t,Jl);return(0,P.A)({},g,{InputProps:(0,P.A)({},i!=null?i:{},{readOnly:a}),inputProps:(0,P.A)({},c!=null?c:{},{inputMode:o,onPaste:n,onKeyDown:s,ref:p})})},Yl=["slots","slotProps","InputProps","inputProps"],uo=R.forwardRef(function(e,t){var T;const n=(0,Z.useThemeProps)({props:e,name:"MuiDateField"}),{slots:s,slotProps:o,InputProps:a,inputProps:i}=n,c=(0,Ge.A)(n,Yl),p=n,g=(T=s==null?void 0:s.textField)!=null?T:e.enableAccessibleFieldDOMStructure?lo:Kr.A,C=(0,Dt.Q)({elementType:g,externalSlotProps:o==null?void 0:o.textField,externalForwardedProps:c,additionalProps:{ref:t},ownerState:p});C.inputProps=(0,P.A)({},i,C.inputProps),C.InputProps=(0,P.A)({},a,C.InputProps);const v=Zi(C),M=co(v),S=Zr((0,P.A)({},M,{slots:s,slotProps:o}));return(0,W.jsx)(g,(0,P.A)({},S))}),po=({shouldDisableDate:r,shouldDisableMonth:e,shouldDisableYear:t,minDate:n,maxDate:s,disableFuture:o,disablePast:a,timezone:i})=>{const c=_n();return R.useCallback(p=>Ss({adapter:c,value:p,props:{shouldDisableDate:r,shouldDisableMonth:e,shouldDisableYear:t,minDate:n,maxDate:s,disableFuture:o,disablePast:a,timezone:i}})!==null,[c,r,e,t,n,s,o,a,i])},Kl=(r,e,t)=>(n,s)=>{switch(s.type){case"changeMonth":return(0,P.A)({},n,{slideDirection:s.direction,currentMonth:s.newMonth,isMonthSwitchingAnimating:!r});case"finishMonthSwitchingAnimation":return(0,P.A)({},n,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(n.focusedDay!=null&&s.focusedDay!=null&&t.isSameDay(s.focusedDay,n.focusedDay))return n;const o=s.focusedDay!=null&&!e&&!t.isSameMonth(n.currentMonth,s.focusedDay);return(0,P.A)({},n,{focusedDay:s.focusedDay,isMonthSwitchingAnimating:o&&!r&&!s.withoutMonthSwitchingAnimation,currentMonth:o?t.startOfMonth(s.focusedDay):n.currentMonth,slideDirection:s.focusedDay!=null&&t.isAfterDay(s.focusedDay,n.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},Gl=r=>{const{value:e,referenceDate:t,disableFuture:n,disablePast:s,disableSwitchToMonthOnDayFocus:o=!1,maxDate:a,minDate:i,onMonthChange:c,reduceAnimations:p,shouldDisableDate:g,timezone:C}=r,v=pt(),M=R.useRef(Kl(!!p,o,v)).current,S=R.useMemo(()=>Vt.getInitialReferenceValue({value:e,utils:v,timezone:C,props:r,referenceDate:t,granularity:ut.day}),[]),[T,_]=R.useReducer(M,{isMonthSwitchingAnimating:!1,focusedDay:S,currentMonth:v.startOfMonth(S),slideDirection:"left"}),O=R.useCallback(X=>{_((0,P.A)({type:"changeMonth"},X)),c&&c(X.newMonth)},[c]),B=R.useCallback(X=>{const oe=X;v.isSameMonth(oe,T.currentMonth)||O({newMonth:v.startOfMonth(oe),direction:v.isAfterDay(oe,T.currentMonth)?"left":"right"})},[T.currentMonth,O,v]),K=po({shouldDisableDate:g,minDate:i,maxDate:a,disableFuture:n,disablePast:s,timezone:C}),se=R.useCallback(()=>{_({type:"finishMonthSwitchingAnimation"})},[]),Q=(0,Ue.A)((X,oe)=>{K(X)||_({type:"changeFocusedDay",focusedDay:X,withoutMonthSwitchingAnimation:oe})});return{referenceDate:S,calendarState:T,changeMonth:B,changeFocusedDay:Q,isDateDisabled:K,onMonthSwitchingAnimationEnd:se,handleChangeMonth:O}};var ho=$(89449);const ql=r=>(0,gt.Ay)("MuiPickersFadeTransitionGroup",r),Mm=(0,yt.A)("MuiPickersFadeTransitionGroup",["root"]),Ql=r=>{const{classes:e}=r,t={root:["root"]};return(0,mt.A)(t,ql,e)},Xl=(0,Z.styled)(ho.A,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(r,e)=>e.root})({display:"block",position:"relative"});function mo(r){const e=(0,Z.useThemeProps)({props:r,name:"MuiPickersFadeTransitionGroup"}),{children:t,className:n,reduceAnimations:s,transKey:o}=e,a=Ql(e),i=(0,Z.useTheme)();return s?t:(0,W.jsx)(Xl,{className:(0,At.A)(a.root,n),children:(0,W.jsx)(Fs.A,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:i.transitions.duration.enteringScreen,enter:i.transitions.duration.enteringScreen,exit:0},children:t},o)})}var Zl=$(64571);function ec(r){return(0,gt.Ay)("MuiPickersDay",r)}const Vn=(0,yt.A)("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),tc=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],nc=r=>{const{selected:e,disableMargin:t,disableHighlightToday:n,today:s,disabled:o,outsideCurrentMonth:a,showDaysOutsideCurrentMonth:i,classes:c}=r,p=a&&!i,g={root:["root",e&&!p&&"selected",o&&"disabled",!t&&"dayWithMargin",!n&&s&&"today",a&&i&&"dayOutsideMonth",p&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]};return(0,mt.A)(g,ec,c)},fo=({theme:r})=>(0,P.A)({},r.typography.caption,{width:ds,height:ds,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:r.transitions.create("background-color",{duration:r.transitions.duration.short}),color:(r.vars||r).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,Z.alpha)(r.palette.primary.main,r.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.focusOpacity})`:(0,Z.alpha)(r.palette.primary.main,r.palette.action.focusOpacity),[`&.${Vn.selected}`]:{willChange:"background-color",backgroundColor:(r.vars||r).palette.primary.dark}},[`&.${Vn.selected}`]:{color:(r.vars||r).palette.primary.contrastText,backgroundColor:(r.vars||r).palette.primary.main,fontWeight:r.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(r.vars||r).palette.primary.dark}},[`&.${Vn.disabled}:not(.${Vn.selected})`]:{color:(r.vars||r).palette.text.disabled},[`&.${Vn.disabled}&.${Vn.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Ts}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(r.vars||r).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${Vn.selected})`]:{border:`1px solid ${(r.vars||r).palette.text.secondary}`}}}]}),go=(r,e)=>{const{ownerState:t}=r;return[e.root,!t.disableMargin&&e.dayWithMargin,!t.disableHighlightToday&&t.today&&e.today,!t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,t.outsideCurrentMonth&&!t.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},sc=(0,Z.styled)(Zl.A,{name:"MuiPickersDay",slot:"Root",overridesResolver:go})(fo),rc=(0,Z.styled)("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:go})(({theme:r})=>(0,P.A)({},fo({theme:r}),{opacity:0,pointerEvents:"none"})),ms=()=>{},oc=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersDay"}),{autoFocus:s=!1,className:o,day:a,disabled:i=!1,disableHighlightToday:c=!1,disableMargin:p=!1,isAnimating:g,onClick:C,onDaySelect:v,onFocus:M=ms,onBlur:S=ms,onKeyDown:T=ms,onMouseDown:_=ms,onMouseEnter:O=ms,outsideCurrentMonth:B,selected:K=!1,showDaysOutsideCurrentMonth:se=!1,children:Q,today:X=!1}=n,oe=(0,Ge.A)(n,tc),Y=(0,P.A)({},n,{autoFocus:s,disabled:i,disableHighlightToday:c,disableMargin:p,selected:K,showDaysOutsideCurrentMonth:se,today:X}),De=nc(Y),q=pt(),ve=R.useRef(null),Te=(0,Yt.A)(ve,t);(0,xn.A)(()=>{s&&!i&&!g&&!B&&ve.current.focus()},[s,i,g,B]);const ne=me=>{_(me),B&&me.preventDefault()},ke=me=>{i||v(a),B&&me.currentTarget.focus(),C&&C(me)};return B&&!se?(0,W.jsx)(rc,{className:(0,At.A)(De.root,De.hiddenDaySpacingFiller,o),ownerState:Y,role:oe.role}):(0,W.jsx)(sc,(0,P.A)({className:(0,At.A)(De.root,o),ref:Te,centerRipple:!0,disabled:i,tabIndex:K?0:-1,onKeyDown:me=>T(me,a),onFocus:me=>M(me,a),onBlur:me=>S(me,a),onMouseEnter:me=>O(me,a),onClick:ke,onMouseDown:ne},oe,{ownerState:Y,children:Q||q.format(a,"dayOfMonth")}))}),ac=R.memo(oc);var ic=$(25540);function lc(r,e){return r.classList?!!e&&r.classList.contains(e):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+e+" ")!==-1}function cc(r,e){r.classList?r.classList.add(e):lc(r,e)||(typeof r.className=="string"?r.className=r.className+" "+e:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+e))}function yo(r,e){return r.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function uc(r,e){r.classList?r.classList.remove(e):typeof r.className=="string"?r.className=yo(r.className,e):r.setAttribute("class",yo(r.className&&r.className.baseVal||"",e))}var dc=$(39878),pc=$(34093),hc=function(e,t){return e&&t&&t.split(" ").forEach(function(n){return cc(e,n)})},rr=function(e,t){return e&&t&&t.split(" ").forEach(function(n){return uc(e,n)})},or=function(r){(0,ic.A)(e,r);function e(){for(var n,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return n=r.call.apply(r,[this].concat(o))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(i,c){var p=n.resolveArguments(i,c),g=p[0],C=p[1];n.removeClasses(g,"exit"),n.addClass(g,C?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(i,c)},n.onEntering=function(i,c){var p=n.resolveArguments(i,c),g=p[0],C=p[1],v=C?"appear":"enter";n.addClass(g,v,"active"),n.props.onEntering&&n.props.onEntering(i,c)},n.onEntered=function(i,c){var p=n.resolveArguments(i,c),g=p[0],C=p[1],v=C?"appear":"enter";n.removeClasses(g,v),n.addClass(g,v,"done"),n.props.onEntered&&n.props.onEntered(i,c)},n.onExit=function(i){var c=n.resolveArguments(i),p=c[0];n.removeClasses(p,"appear"),n.removeClasses(p,"enter"),n.addClass(p,"exit","base"),n.props.onExit&&n.props.onExit(i)},n.onExiting=function(i){var c=n.resolveArguments(i),p=c[0];n.addClass(p,"exit","active"),n.props.onExiting&&n.props.onExiting(i)},n.onExited=function(i){var c=n.resolveArguments(i),p=c[0];n.removeClasses(p,"exit"),n.addClass(p,"exit","done"),n.props.onExited&&n.props.onExited(i)},n.resolveArguments=function(i,c){return n.props.nodeRef?[n.props.nodeRef.current,i]:[i,c]},n.getClassNames=function(i){var c=n.props.classNames,p=typeof c=="string",g=p&&c?c+"-":"",C=p?""+g+i:c[i],v=p?C+"-active":c[i+"Active"],M=p?C+"-done":c[i+"Done"];return{baseClassName:C,activeClassName:v,doneClassName:M}},n}var t=e.prototype;return t.addClass=function(s,o,a){var i=this.getClassNames(o)[a+"ClassName"],c=this.getClassNames("enter"),p=c.doneClassName;o==="appear"&&a==="done"&&p&&(i+=" "+p),a==="active"&&s&&(0,pc.F)(s),i&&(this.appliedClasses[o][a]=i,hc(s,i))},t.removeClasses=function(s,o){var a=this.appliedClasses[o],i=a.base,c=a.active,p=a.done;this.appliedClasses[o]={},i&&rr(s,i),c&&rr(s,c),p&&rr(s,p)},t.render=function(){var s=this.props,o=s.classNames,a=(0,Ge.A)(s,["classNames"]);return Ct().createElement(dc.Ay,(0,P.A)({},a,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Ct().Component);or.defaultProps={classNames:""},or.propTypes={};const mc=or,fc=r=>(0,gt.Ay)("MuiPickersSlideTransition",r),an=(0,yt.A)("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),gc=["children","className","reduceAnimations","slideDirection","transKey","classes"],yc=r=>{const{classes:e,slideDirection:t}=r,n={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${t}`],exitActive:[`slideExitActiveLeft-${t}`]};return(0,mt.A)(n,fc,e)},Dc=(0,Z.styled)(ho.A,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(r,e)=>[e.root,{[`.${an["slideEnter-left"]}`]:e["slideEnter-left"]},{[`.${an["slideEnter-right"]}`]:e["slideEnter-right"]},{[`.${an.slideEnterActive}`]:e.slideEnterActive},{[`.${an.slideExit}`]:e.slideExit},{[`.${an["slideExitActiveLeft-left"]}`]:e["slideExitActiveLeft-left"]},{[`.${an["slideExitActiveLeft-right"]}`]:e["slideExitActiveLeft-right"]}]})(({theme:r})=>{const e=r.transitions.create("transform",{duration:r.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${an["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${an["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${an.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${an.slideExit}`]:{transform:"translate(0%)"},[`& .${an["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${an["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}});function Cc(r){const e=(0,Z.useThemeProps)({props:r,name:"MuiPickersSlideTransition"}),{children:t,className:n,reduceAnimations:s,transKey:o}=e,a=(0,Ge.A)(e,gc),i=yc(e),c=(0,Z.useTheme)();if(s)return(0,W.jsx)("div",{className:(0,At.A)(i.root,n),children:t});const p={exit:i.exit,enterActive:i.enterActive,enter:i.enter,exitActive:i.exitActive};return(0,W.jsx)(Dc,{className:(0,At.A)(i.root,n),childFactory:g=>R.cloneElement(g,{classNames:p}),role:"presentation",children:(0,W.jsx)(mc,(0,P.A)({mountOnEnter:!0,unmountOnExit:!0,timeout:c.transitions.duration.complex,classNames:p},a,{children:t}),o)})}const bc=r=>(0,gt.Ay)("MuiDayCalendar",r),Nm=(0,yt.A)("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]),vc=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],Ac=["ownerState"],xc=r=>{const{classes:e}=r,t={root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]};return(0,mt.A)(t,bc,e)},Do=(ds+Ts*2)*6,wc=(0,Z.styled)("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(r,e)=>e.root})({}),Ec=(0,Z.styled)("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(r,e)=>e.header})({display:"flex",justifyContent:"center",alignItems:"center"}),Sc=(0,Z.styled)(Fn.A,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(r,e)=>e.weekDayLabel})(({theme:r})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(r.vars||r).palette.text.secondary})),Fc=(0,Z.styled)(Fn.A,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(r,e)=>e.weekNumberLabel})(({theme:r})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:r.palette.text.disabled})),Tc=(0,Z.styled)(Fn.A,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(r,e)=>e.weekNumber})(({theme:r})=>(0,P.A)({},r.typography.caption,{width:ds,height:ds,padding:0,margin:`0 ${Ts}px`,color:r.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),kc=(0,Z.styled)("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(r,e)=>e.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Do}),Ic=(0,Z.styled)(Cc,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(r,e)=>e.slideTransition})({minHeight:Do}),Pc=(0,Z.styled)("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(r,e)=>e.monthContainer})({overflow:"hidden"}),Mc=(0,Z.styled)("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(r,e)=>e.weekContainer})({margin:`${Ts}px 0`,display:"flex",justifyContent:"center"});function Nc(r){var Te;let{parentProps:e,day:t,focusableDay:n,selectedDays:s,isDateDisabled:o,currentMonthNumber:a,isViewFocused:i}=r,c=(0,Ge.A)(r,vc);const{disabled:p,disableHighlightToday:g,isMonthSwitchingAnimating:C,showDaysOutsideCurrentMonth:v,slots:M,slotProps:S,timezone:T}=e,_=pt(),O=Rn(T),B=n!==null&&_.isSameDay(t,n),K=s.some(ne=>_.isSameDay(ne,t)),se=_.isSameDay(t,O),Q=(Te=M==null?void 0:M.day)!=null?Te:ac,X=(0,Dt.Q)({elementType:Q,externalSlotProps:S==null?void 0:S.day,additionalProps:(0,P.A)({disableHighlightToday:g,showDaysOutsideCurrentMonth:v,role:"gridcell",isAnimating:C,"data-timestamp":_.toJsDate(t).valueOf()},c),ownerState:(0,P.A)({},e,{day:t,selected:K})}),oe=(0,Ge.A)(X,Ac),Y=R.useMemo(()=>p||o(t),[p,o,t]),De=R.useMemo(()=>_.getMonth(t)!==a,[_,t,a]),q=R.useMemo(()=>{const ne=_.startOfMonth(_.setMonth(t,a));return v?_.isSameDay(t,_.startOfWeek(ne)):_.isSameDay(t,ne)},[a,t,v,_]),ve=R.useMemo(()=>{const ne=_.endOfMonth(_.setMonth(t,a));return v?_.isSameDay(t,_.endOfWeek(ne)):_.isSameDay(t,ne)},[a,t,v,_]);return(0,W.jsx)(Q,(0,P.A)({},oe,{day:t,disabled:Y,autoFocus:i&&B,today:se,outsideCurrentMonth:De,isFirstVisibleCell:q,isLastVisibleCell:ve,selected:K,tabIndex:B?0:-1,"aria-selected":K,"aria-current":se?"date":void 0}))}function Oc(r){const e=(0,Z.useThemeProps)({props:r,name:"MuiDayCalendar"}),t=pt(),{onFocusedDayChange:n,className:s,currentMonth:o,selectedDays:a,focusedDay:i,loading:c,onSelectedDaysChange:p,onMonthSwitchingAnimationEnd:g,readOnly:C,reduceAnimations:v,renderLoading:M=()=>(0,W.jsx)("span",{children:"..."}),slideDirection:S,TransitionProps:T,disablePast:_,disableFuture:O,minDate:B,maxDate:K,shouldDisableDate:se,shouldDisableMonth:Q,shouldDisableYear:X,dayOfWeekFormatter:oe=fe=>t.format(fe,"weekdayShort").charAt(0).toUpperCase(),hasFocus:Y,onFocusedViewChange:De,gridLabelId:q,displayWeekNumber:ve,fixedWeekNumber:Te,autoFocus:ne,timezone:ke}=e,me=Rn(ke),Pe=xc(e),Me=(0,mn.I)(),$e=po({shouldDisableDate:se,shouldDisableMonth:Q,shouldDisableYear:X,minDate:B,maxDate:K,disablePast:_,disableFuture:O,timezone:ke}),Ne=jt(),[Oe,Je]=(0,Ln.A)({name:"DayCalendar",state:"hasFocus",controlled:Y,default:ne!=null?ne:!1}),[Fe,Le]=R.useState(()=>i||me),ht=(0,Ue.A)(fe=>{C||p(fe)}),ae=fe=>{$e(fe)||(n(fe),Le(fe),De==null||De(!0),Je(!0))},be=(0,Ue.A)((fe,Ae)=>{switch(fe.key){case"ArrowUp":ae(t.addDays(Ae,-7)),fe.preventDefault();break;case"ArrowDown":ae(t.addDays(Ae,7)),fe.preventDefault();break;case"ArrowLeft":{const nt=t.addDays(Ae,Me?1:-1),Pt=t.addMonths(Ae,Me?1:-1),ft=Nn({utils:t,date:nt,minDate:Me?nt:t.startOfMonth(Pt),maxDate:Me?t.endOfMonth(Pt):nt,isDateDisabled:$e,timezone:ke});ae(ft||nt),fe.preventDefault();break}case"ArrowRight":{const nt=t.addDays(Ae,Me?-1:1),Pt=t.addMonths(Ae,Me?-1:1),ft=Nn({utils:t,date:nt,minDate:Me?t.startOfMonth(Pt):nt,maxDate:Me?nt:t.endOfMonth(Pt),isDateDisabled:$e,timezone:ke});ae(ft||nt),fe.preventDefault();break}case"Home":ae(t.startOfWeek(Ae)),fe.preventDefault();break;case"End":ae(t.endOfWeek(Ae)),fe.preventDefault();break;case"PageUp":ae(t.addMonths(Ae,1)),fe.preventDefault();break;case"PageDown":ae(t.addMonths(Ae,-1)),fe.preventDefault();break;default:break}}),Ie=(0,Ue.A)((fe,Ae)=>ae(Ae)),Be=(0,Ue.A)((fe,Ae)=>{Oe&&t.isSameDay(Fe,Ae)&&(De==null||De(!1))}),Qe=t.getMonth(o),He=t.getYear(o),rt=R.useMemo(()=>a.filter(fe=>!!fe).map(fe=>t.startOfDay(fe)),[t,a]),Ve=`${He}-${Qe}`,le=R.useMemo(()=>R.createRef(),[Ve]),Ce=t.startOfWeek(me),Ee=R.useMemo(()=>{const fe=t.startOfMonth(o),Ae=t.endOfMonth(o);return $e(Fe)||t.isAfterDay(Fe,Ae)||t.isBeforeDay(Fe,fe)?Nn({utils:t,date:Fe,minDate:fe,maxDate:Ae,disablePast:_,disableFuture:O,isDateDisabled:$e,timezone:ke}):Fe},[o,O,_,Fe,$e,t,ke]),_e=R.useMemo(()=>{const fe=t.setTimezone(o,ke),Ae=t.getWeekArray(fe);let nt=t.addMonths(fe,1);for(;Te&&Ae.length<Te;){const Pt=t.getWeekArray(nt),ft=t.isSameDay(Ae[Ae.length-1][0],Pt[0][0]);Pt.slice(ft?1:0).forEach(Rt=>{Ae.length<Te&&Ae.push(Rt)}),nt=t.addMonths(nt,1)}return Ae},[o,Te,t,ke]);return(0,W.jsxs)(wc,{role:"grid","aria-labelledby":q,className:Pe.root,children:[(0,W.jsxs)(Ec,{role:"row",className:Pe.header,children:[ve&&(0,W.jsx)(Fc,{variant:"caption",role:"columnheader","aria-label":Ne.calendarWeekNumberHeaderLabel,className:Pe.weekNumberLabel,children:Ne.calendarWeekNumberHeaderText}),Cn(t,me).map((fe,Ae)=>(0,W.jsx)(Sc,{variant:"caption",role:"columnheader","aria-label":t.format(t.addDays(Ce,Ae),"weekday"),className:Pe.weekDayLabel,children:oe(fe)},Ae.toString()))]}),c?(0,W.jsx)(kc,{className:Pe.loadingContainer,children:M()}):(0,W.jsx)(Ic,(0,P.A)({transKey:Ve,onExited:g,reduceAnimations:v,slideDirection:S,className:(0,At.A)(s,Pe.slideTransition)},T,{nodeRef:le,children:(0,W.jsx)(Pc,{ref:le,role:"rowgroup",className:Pe.monthContainer,children:_e.map((fe,Ae)=>(0,W.jsxs)(Mc,{role:"row",className:Pe.weekContainer,"aria-rowindex":Ae+1,children:[ve&&(0,W.jsx)(Tc,{className:Pe.weekNumber,role:"rowheader","aria-label":Ne.calendarWeekNumberAriaLabelText(t.getWeekNumber(fe[0])),children:Ne.calendarWeekNumberText(t.getWeekNumber(fe[0]))}),fe.map((nt,Pt)=>(0,W.jsx)(Nc,{parentProps:e,day:nt,selectedDays:rt,focusableDay:Ee,onKeyDown:be,onFocus:Ie,onBlur:Be,onDaySelect:ht,isDateDisabled:$e,currentMonthNumber:Qe,isViewFocused:Oe,"aria-colindex":Pt+1},nt.toString()))]},`week-${fe[0]}`))})}))]})}function _c(r){return(0,gt.Ay)("MuiPickersMonth",r)}const Ns=(0,yt.A)("MuiPickersMonth",["root","monthButton","disabled","selected"]),Rc=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow","slots","slotProps"],Lc=r=>{const{disabled:e,selected:t,classes:n}=r,s={root:["root"],monthButton:["monthButton",e&&"disabled",t&&"selected"]};return(0,mt.A)(s,_c,n)},Bc=(0,Z.styled)("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(r,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),$c=(0,Z.styled)("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(r,e)=>[e.monthButton,{[`&.${Ns.disabled}`]:e.disabled},{[`&.${Ns.selected}`]:e.selected}]})(({theme:r})=>(0,P.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},r.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,Z.alpha)(r.palette.action.active,r.palette.action.hoverOpacity)},"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,Z.alpha)(r.palette.action.active,r.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Ns.disabled}`]:{color:(r.vars||r).palette.text.secondary},[`&.${Ns.selected}`]:{color:(r.vars||r).palette.primary.contrastText,backgroundColor:(r.vars||r).palette.primary.main,"&:focus, &:hover":{backgroundColor:(r.vars||r).palette.primary.dark}}})),Vc=R.memo(function(e){var oe;const t=(0,Z.useThemeProps)({props:e,name:"MuiPickersMonth"}),{autoFocus:n,className:s,children:o,disabled:a,selected:i,value:c,tabIndex:p,onClick:g,onKeyDown:C,onFocus:v,onBlur:M,"aria-current":S,"aria-label":T,slots:_,slotProps:O}=t,B=(0,Ge.A)(t,Rc),K=R.useRef(null),se=Lc(t);(0,xn.A)(()=>{var Y;n&&((Y=K.current)==null||Y.focus())},[n]);const Q=(oe=_==null?void 0:_.monthButton)!=null?oe:$c,X=(0,Dt.Q)({elementType:Q,externalSlotProps:O==null?void 0:O.monthButton,additionalProps:{children:o,disabled:a,tabIndex:p,ref:K,type:"button",role:"radio","aria-current":S,"aria-checked":i,"aria-label":T,onClick:Y=>g(Y,c),onKeyDown:Y=>C(Y,c),onFocus:Y=>v(Y,c),onBlur:Y=>M(Y,c)},ownerState:t,className:se.monthButton});return(0,W.jsx)(Bc,(0,P.A)({className:(0,At.A)(se.root,s),ownerState:t},B,{children:(0,W.jsx)(Q,(0,P.A)({},X))}))});function jc(r){return(0,gt.Ay)("MuiMonthCalendar",r)}const Om=(0,yt.A)("MuiMonthCalendar",["root"]),Wc=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],Uc=r=>{const{classes:e}=r,t={root:["root"]};return(0,mt.A)(t,jc,e)};function Hc(r,e){const t=pt(),n=ls(),s=(0,Z.useThemeProps)({props:r,name:e});return(0,P.A)({disableFuture:!1,disablePast:!1},s,{minDate:ee(t,s.minDate,n.minDate),maxDate:ee(t,s.maxDate,n.maxDate)})}const zc=(0,Z.styled)("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(r,e)=>e.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:ks,boxSizing:"border-box"}),Jc=R.forwardRef(function(e,t){const n=Hc(e,"MuiMonthCalendar"),{className:s,value:o,defaultValue:a,referenceDate:i,disabled:c,disableFuture:p,disablePast:g,maxDate:C,minDate:v,onChange:M,shouldDisableMonth:S,readOnly:T,autoFocus:_=!1,onMonthFocus:O,hasFocus:B,onFocusedViewChange:K,monthsPerRow:se=3,timezone:Q,gridLabelId:X,slots:oe,slotProps:Y}=n,De=(0,Ge.A)(n,Wc),{value:q,handleValueChange:ve,timezone:Te}=Xn({name:"MonthCalendar",timezone:Q,value:o,defaultValue:a,onChange:M,valueManager:Vt}),ne=Rn(Te),ke=(0,mn.I)(),me=pt(),Pe=R.useMemo(()=>Vt.getInitialReferenceValue({value:q,utils:me,props:n,timezone:Te,referenceDate:i,granularity:ut.month}),[]),Me=n,$e=Uc(Me),Ne=R.useMemo(()=>me.getMonth(ne),[me,ne]),Oe=R.useMemo(()=>q!=null?me.getMonth(q):null,[q,me]),[Je,Fe]=R.useState(()=>Oe||me.getMonth(Pe)),[Le,ht]=(0,Ln.A)({name:"MonthCalendar",state:"hasFocus",controlled:B,default:_!=null?_:!1}),ae=(0,Ue.A)(Ve=>{ht(Ve),K&&K(Ve)}),be=R.useCallback(Ve=>{const le=me.startOfMonth(g&&me.isAfter(ne,v)?ne:v),Ce=me.startOfMonth(p&&me.isBefore(ne,C)?ne:C),Ee=me.startOfMonth(Ve);return me.isBefore(Ee,le)||me.isAfter(Ee,Ce)?!0:S?S(Ee):!1},[p,g,C,v,ne,S,me]),Ie=(0,Ue.A)((Ve,le)=>{if(T)return;const Ce=me.setMonth(q!=null?q:Pe,le);ve(Ce)}),Be=(0,Ue.A)(Ve=>{be(me.setMonth(q!=null?q:Pe,Ve))||(Fe(Ve),ae(!0),O&&O(Ve))});R.useEffect(()=>{Fe(Ve=>Oe!==null&&Ve!==Oe?Oe:Ve)},[Oe]);const Qe=(0,Ue.A)((Ve,le)=>{switch(Ve.key){case"ArrowUp":Be((12+le-3)%12),Ve.preventDefault();break;case"ArrowDown":Be((12+le+3)%12),Ve.preventDefault();break;case"ArrowLeft":Be((12+le+(ke?1:-1))%12),Ve.preventDefault();break;case"ArrowRight":Be((12+le+(ke?-1:1))%12),Ve.preventDefault();break;default:break}}),He=(0,Ue.A)((Ve,le)=>{Be(le)}),rt=(0,Ue.A)((Ve,le)=>{Je===le&&ae(!1)});return(0,W.jsx)(zc,(0,P.A)({ref:t,className:(0,At.A)($e.root,s),ownerState:Me,role:"radiogroup","aria-labelledby":X},De,{children:je(me,q!=null?q:Pe).map(Ve=>{const le=me.getMonth(Ve),Ce=me.format(Ve,"monthShort"),Ee=me.format(Ve,"month"),_e=le===Oe,fe=c||be(Ve);return(0,W.jsx)(Vc,{selected:_e,value:le,onClick:Ie,onKeyDown:Qe,autoFocus:Le&&le===Je,disabled:fe,tabIndex:le===Je&&!fe?0:-1,onFocus:He,onBlur:rt,"aria-current":Ne===le?"date":void 0,"aria-label":Ee,monthsPerRow:se,slots:oe,slotProps:Y,children:Ce},Ce)})}))});function Yc(r){return(0,gt.Ay)("MuiPickersYear",r)}const Os=(0,yt.A)("MuiPickersYear",["root","yearButton","selected","disabled"]),Kc=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow","slots","slotProps"],Gc=r=>{const{disabled:e,selected:t,classes:n}=r,s={root:["root"],yearButton:["yearButton",e&&"disabled",t&&"selected"]};return(0,mt.A)(s,Yc,n)},qc=(0,Z.styled)("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(r,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),Qc=(0,Z.styled)("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(r,e)=>[e.yearButton,{[`&.${Os.disabled}`]:e.disabled},{[`&.${Os.selected}`]:e.selected}]})(({theme:r})=>(0,P.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},r.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.focusOpacity})`:(0,Z.alpha)(r.palette.action.active,r.palette.action.focusOpacity)},"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,Z.alpha)(r.palette.action.active,r.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Os.disabled}`]:{color:(r.vars||r).palette.text.secondary},[`&.${Os.selected}`]:{color:(r.vars||r).palette.primary.contrastText,backgroundColor:(r.vars||r).palette.primary.main,"&:focus, &:hover":{backgroundColor:(r.vars||r).palette.primary.dark}}})),Xc=R.memo(function(e){var X;const t=(0,Z.useThemeProps)({props:e,name:"MuiPickersYear"}),{autoFocus:n,className:s,children:o,disabled:a,selected:i,value:c,tabIndex:p,onClick:g,onKeyDown:C,onFocus:v,onBlur:M,"aria-current":S,slots:T,slotProps:_}=t,O=(0,Ge.A)(t,Kc),B=R.useRef(null),K=Gc(t);(0,xn.A)(()=>{var oe;n&&((oe=B.current)==null||oe.focus())},[n]);const se=(X=T==null?void 0:T.yearButton)!=null?X:Qc,Q=(0,Dt.Q)({elementType:se,externalSlotProps:_==null?void 0:_.yearButton,additionalProps:{children:o,disabled:a,tabIndex:p,ref:B,type:"button",role:"radio","aria-current":S,"aria-checked":i,onClick:oe=>g(oe,c),onKeyDown:oe=>C(oe,c),onFocus:oe=>v(oe,c),onBlur:oe=>M(oe,c)},ownerState:t,className:K.yearButton});return(0,W.jsx)(qc,(0,P.A)({className:(0,At.A)(K.root,s),ownerState:t},O,{children:(0,W.jsx)(se,(0,P.A)({},Q))}))});function Zc(r){return(0,gt.Ay)("MuiYearCalendar",r)}const _m=(0,yt.A)("MuiYearCalendar",["root"]),eu=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId","slots","slotProps"],tu=r=>{const{classes:e}=r,t={root:["root"]};return(0,mt.A)(t,Zc,e)};function nu(r,e){var o;const t=pt(),n=ls(),s=(0,Z.useThemeProps)({props:r,name:e});return(0,P.A)({disablePast:!1,disableFuture:!1},s,{yearsPerRow:(o=s.yearsPerRow)!=null?o:3,minDate:ee(t,s.minDate,n.minDate),maxDate:ee(t,s.maxDate,n.maxDate)})}const su=(0,Z.styled)("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(r,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:ks,maxHeight:yi,boxSizing:"border-box",position:"relative"}),ru=R.forwardRef(function(e,t){const n=nu(e,"MuiYearCalendar"),{autoFocus:s,className:o,value:a,defaultValue:i,referenceDate:c,disabled:p,disableFuture:g,disablePast:C,maxDate:v,minDate:M,onChange:S,readOnly:T,shouldDisableYear:_,onYearFocus:O,hasFocus:B,onFocusedViewChange:K,yearsPerRow:se,timezone:Q,gridLabelId:X,slots:oe,slotProps:Y}=n,De=(0,Ge.A)(n,eu),{value:q,handleValueChange:ve,timezone:Te}=Xn({name:"YearCalendar",timezone:Q,value:a,defaultValue:i,onChange:S,valueManager:Vt}),ne=Rn(Te),ke=(0,mn.I)(),me=pt(),Pe=R.useMemo(()=>Vt.getInitialReferenceValue({value:q,utils:me,props:n,timezone:Te,referenceDate:c,granularity:ut.year}),[]),Me=n,$e=tu(Me),Ne=R.useMemo(()=>me.getYear(ne),[me,ne]),Oe=R.useMemo(()=>q!=null?me.getYear(q):null,[q,me]),[Je,Fe]=R.useState(()=>Oe||me.getYear(Pe)),[Le,ht]=(0,Ln.A)({name:"YearCalendar",state:"hasFocus",controlled:B,default:s!=null?s:!1}),ae=(0,Ue.A)(Ce=>{ht(Ce),K&&K(Ce)}),be=R.useCallback(Ce=>{if(C&&me.isBeforeYear(Ce,ne)||g&&me.isAfterYear(Ce,ne)||M&&me.isBeforeYear(Ce,M)||v&&me.isAfterYear(Ce,v))return!0;if(!_)return!1;const Ee=me.startOfYear(Ce);return _(Ee)},[g,C,v,M,ne,_,me]),Ie=(0,Ue.A)((Ce,Ee)=>{if(T)return;const _e=me.setYear(q!=null?q:Pe,Ee);ve(_e)}),Be=(0,Ue.A)(Ce=>{be(me.setYear(q!=null?q:Pe,Ce))||(Fe(Ce),ae(!0),O==null||O(Ce))});R.useEffect(()=>{Fe(Ce=>Oe!==null&&Ce!==Oe?Oe:Ce)},[Oe]);const Qe=(0,Ue.A)((Ce,Ee)=>{switch(Ce.key){case"ArrowUp":Be(Ee-se),Ce.preventDefault();break;case"ArrowDown":Be(Ee+se),Ce.preventDefault();break;case"ArrowLeft":Be(Ee+(ke?1:-1)),Ce.preventDefault();break;case"ArrowRight":Be(Ee+(ke?-1:1)),Ce.preventDefault();break;default:break}}),He=(0,Ue.A)((Ce,Ee)=>{Be(Ee)}),rt=(0,Ue.A)((Ce,Ee)=>{Je===Ee&&ae(!1)}),Ve=R.useRef(null),le=(0,Yt.A)(t,Ve);return R.useEffect(()=>{if(s||Ve.current===null)return;const Ce=Ve.current.querySelector('[tabindex="0"]');if(!Ce)return;const Ee=Ce.offsetHeight,_e=Ce.offsetTop,fe=Ve.current.clientHeight,Ae=Ve.current.scrollTop,nt=_e+Ee;Ee>fe||_e<Ae||(Ve.current.scrollTop=nt-fe/2-Ee/2)},[s]),(0,W.jsx)(su,(0,P.A)({ref:le,className:(0,At.A)($e.root,o),ownerState:Me,role:"radiogroup","aria-labelledby":X},De,{children:me.getYearRange([M,v]).map(Ce=>{const Ee=me.getYear(Ce),_e=Ee===Oe,fe=p||be(Ce);return(0,W.jsx)(Xc,{selected:_e,value:Ee,onClick:Ie,onKeyDown:Qe,autoFocus:Le&&Ee===Je,disabled:fe,tabIndex:Ee===Je&&!fe?0:-1,onFocus:He,onBlur:rt,"aria-current":Ne===Ee?"date":void 0,yearsPerRow:se,slots:oe,slotProps:Y,children:me.format(Ce,"year")},me.format(Ce,"year"))})}))});function ou(r){return(0,gt.Ay)("MuiPickersArrowSwitcher",r)}const Rm=(0,yt.A)("MuiPickersArrowSwitcher",["root","spacer","button"]),au=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],iu=["ownerState"],lu=["ownerState"],cu=(0,Z.styled)("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(r,e)=>e.root})({display:"flex"}),uu=(0,Z.styled)("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(r,e)=>e.spacer})(({theme:r})=>({width:r.spacing(3)})),Co=(0,Z.styled)(Kn.A,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(r,e)=>e.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),du=r=>{const{classes:e}=r,t={root:["root"],spacer:["spacer"],button:["button"]};return(0,mt.A)(t,ou,e)},bo=R.forwardRef(function(e,t){var Pe,Me,$e,Ne;const n=(0,mn.I)(),s=(0,Z.useThemeProps)({props:e,name:"MuiPickersArrowSwitcher"}),{children:o,className:a,slots:i,slotProps:c,isNextDisabled:p,isNextHidden:g,onGoToNext:C,nextLabel:v,isPreviousDisabled:M,isPreviousHidden:S,onGoToPrevious:T,previousLabel:_}=s,O=(0,Ge.A)(s,au),B=s,K=du(B),se={isDisabled:p,isHidden:g,goTo:C,label:v},Q={isDisabled:M,isHidden:S,goTo:T,label:_},X=(Pe=i==null?void 0:i.previousIconButton)!=null?Pe:Co,oe=(0,Dt.Q)({elementType:X,externalSlotProps:c==null?void 0:c.previousIconButton,additionalProps:{size:"medium",title:Q.label,"aria-label":Q.label,disabled:Q.isDisabled,edge:"end",onClick:Q.goTo},ownerState:(0,P.A)({},B,{hidden:Q.isHidden}),className:K.button}),Y=(Me=i==null?void 0:i.nextIconButton)!=null?Me:Co,De=(0,Dt.Q)({elementType:Y,externalSlotProps:c==null?void 0:c.nextIconButton,additionalProps:{size:"medium",title:se.label,"aria-label":se.label,disabled:se.isDisabled,edge:"start",onClick:se.goTo},ownerState:(0,P.A)({},B,{hidden:se.isHidden}),className:K.button}),q=($e=i==null?void 0:i.leftArrowIcon)!=null?$e:Mi,ve=(0,Dt.Q)({elementType:q,externalSlotProps:c==null?void 0:c.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),Te=(0,Ge.A)(ve,iu),ne=(Ne=i==null?void 0:i.rightArrowIcon)!=null?Ne:Ni,ke=(0,Dt.Q)({elementType:ne,externalSlotProps:c==null?void 0:c.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),me=(0,Ge.A)(ke,lu);return(0,W.jsxs)(cu,(0,P.A)({ref:t,className:(0,At.A)(K.root,a),ownerState:B},O,{children:[(0,W.jsx)(X,(0,P.A)({},oe,{children:n?(0,W.jsx)(ne,(0,P.A)({},me)):(0,W.jsx)(q,(0,P.A)({},Te))})),o?(0,W.jsx)(Fn.A,{variant:"subtitle1",component:"span",children:o}):(0,W.jsx)(uu,{className:K.spacer,ownerState:B}),(0,W.jsx)(Y,(0,P.A)({},De,{children:n?(0,W.jsx)(q,(0,P.A)({},Te)):(0,W.jsx)(ne,(0,P.A)({},me))}))]}))});function pu(r,{disableFuture:e,maxDate:t,timezone:n}){const s=pt();return R.useMemo(()=>{const o=s.date(void 0,n),a=s.startOfMonth(e&&s.isBefore(o,t)?o:t);return!s.isAfter(a,r)},[e,t,r,s,n])}function hu(r,{disablePast:e,minDate:t,timezone:n}){const s=pt();return R.useMemo(()=>{const o=s.date(void 0,n),a=s.startOfMonth(e&&s.isAfter(o,t)?o:t);return!s.isBefore(a,r)},[e,t,r,s,n])}function ar(r,e,t,n){const s=pt(),o=$t(r,s),a=R.useCallback(i=>{const c=r==null?null:Jn(r,i,!!e,s);t(c,n!=null?n:"partial")},[e,r,t,n,s]);return{meridiemMode:o,handleMeridiemChange:a}}const mu=r=>(0,gt.Ay)("MuiPickersCalendarHeader",r),fu=(0,yt.A)("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),gu=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],yu=["ownerState"],Du=r=>{const{classes:e}=r,t={root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]};return(0,mt.A)(t,mu,e)},Cu=(0,Z.styled)("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(r,e)=>e.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),bu=(0,Z.styled)("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(r,e)=>e.labelContainer})(({theme:r})=>(0,P.A)({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},r.typography.body1,{fontWeight:r.typography.fontWeightMedium})),vu=(0,Z.styled)("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(r,e)=>e.label})({marginRight:6}),Au=(0,Z.styled)(Kn.A,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(r,e)=>e.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${fu.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),xu=(0,Z.styled)(Pi,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(r,e)=>e.switchViewIcon})(({theme:r})=>({willChange:"transform",transition:r.transitions.create("transform"),transform:"rotate(0deg)"})),wu=R.forwardRef(function(e,t){var Je,Fe;const n=jt(),s=pt(),o=(0,Z.useThemeProps)({props:e,name:"MuiPickersCalendarHeader"}),{slots:a,slotProps:i,currentMonth:c,disabled:p,disableFuture:g,disablePast:C,maxDate:v,minDate:M,onMonthChange:S,onViewChange:T,view:_,reduceAnimations:O,views:B,labelId:K,className:se,timezone:Q,format:X=`${s.formats.month} ${s.formats.year}`}=o,oe=(0,Ge.A)(o,gu),Y=o,De=Du(o),q=(Je=a==null?void 0:a.switchViewButton)!=null?Je:Au,ve=(0,Dt.Q)({elementType:q,externalSlotProps:i==null?void 0:i.switchViewButton,additionalProps:{size:"small","aria-label":n.calendarViewSwitchingButtonAriaLabel(_)},ownerState:Y,className:De.switchViewButton}),Te=(Fe=a==null?void 0:a.switchViewIcon)!=null?Fe:xu,ne=(0,Dt.Q)({elementType:Te,externalSlotProps:i==null?void 0:i.switchViewIcon,ownerState:void 0,className:De.switchViewIcon}),ke=(0,Ge.A)(ne,yu),me=()=>S(s.addMonths(c,1),"left"),Pe=()=>S(s.addMonths(c,-1),"right"),Me=pu(c,{disableFuture:g,maxDate:v,timezone:Q}),$e=hu(c,{disablePast:C,minDate:M,timezone:Q}),Ne=()=>{if(!(B.length===1||!T||p))if(B.length===2)T(B.find(Le=>Le!==_)||B[0]);else{const Le=B.indexOf(_)!==0?0:1;T(B[Le])}};if(B.length===1&&B[0]==="year")return null;const Oe=s.formatByString(c,X);return(0,W.jsxs)(Cu,(0,P.A)({},oe,{ownerState:Y,className:(0,At.A)(se,De.root),ref:t,children:[(0,W.jsxs)(bu,{role:"presentation",onClick:Ne,ownerState:Y,"aria-live":"polite",className:De.labelContainer,children:[(0,W.jsx)(mo,{reduceAnimations:O,transKey:Oe,children:(0,W.jsx)(vu,{id:K,ownerState:Y,className:De.label,children:Oe})}),B.length>1&&!p&&(0,W.jsx)(q,(0,P.A)({},ve,{children:(0,W.jsx)(Te,(0,P.A)({},ke))}))]}),(0,W.jsx)(Fs.A,{in:_==="day",children:(0,W.jsx)(bo,{slots:a,slotProps:i,onGoToPrevious:Pe,isPreviousDisabled:$e,previousLabel:n.previousMonth,onGoToNext:me,isNextDisabled:Me,nextLabel:n.nextMonth})})]}))}),_s=(0,Z.styled)("div")({overflow:"hidden",width:ks,maxHeight:Zs,display:"flex",flexDirection:"column",margin:"0 auto"}),Eu=r=>(0,gt.Ay)("MuiDateCalendar",r),Lm=(0,yt.A)("MuiDateCalendar",["root","viewTransitionContainer"]),Su=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],Fu=r=>{const{classes:e}=r,t={root:["root"],viewTransitionContainer:["viewTransitionContainer"]};return(0,mt.A)(t,Eu,e)};function Tu(r,e){var a,i,c,p,g,C,v;const t=pt(),n=ls(),s=Vr(),o=(0,Z.useThemeProps)({props:r,name:e});return(0,P.A)({},o,{loading:(a=o.loading)!=null?a:!1,disablePast:(i=o.disablePast)!=null?i:!1,disableFuture:(c=o.disableFuture)!=null?c:!1,openTo:(p=o.openTo)!=null?p:"day",views:(g=o.views)!=null?g:["year","day"],reduceAnimations:(C=o.reduceAnimations)!=null?C:s,renderLoading:(v=o.renderLoading)!=null?v:()=>(0,W.jsx)("span",{children:"..."}),minDate:ee(t,o.minDate,n.minDate),maxDate:ee(t,o.maxDate,n.maxDate)})}const ku=(0,Z.styled)(_s,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(r,e)=>e.root})({display:"flex",flexDirection:"column",height:Zs}),Iu=(0,Z.styled)(mo,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(r,e)=>e.viewTransitionContainer})({}),Pu=R.forwardRef(function(e,t){var ma;const n=pt(),s=(0,Gn.A)(),o=Tu(e,"MuiDateCalendar"),{autoFocus:a,onViewChange:i,value:c,defaultValue:p,referenceDate:g,disableFuture:C,disablePast:v,onChange:M,onYearChange:S,onMonthChange:T,reduceAnimations:_,shouldDisableDate:O,shouldDisableMonth:B,shouldDisableYear:K,view:se,views:Q,openTo:X,className:oe,disabled:Y,readOnly:De,minDate:q,maxDate:ve,disableHighlightToday:Te,focusedView:ne,onFocusedViewChange:ke,showDaysOutsideCurrentMonth:me,fixedWeekNumber:Pe,dayOfWeekFormatter:Me,slots:$e,slotProps:Ne,loading:Oe,renderLoading:Je,displayWeekNumber:Fe,yearsPerRow:Le,monthsPerRow:ht,timezone:ae}=o,be=(0,Ge.A)(o,Su),{value:Ie,handleValueChange:Be,timezone:Qe}=Xn({name:"DateCalendar",timezone:ae,value:c,defaultValue:p,onChange:M,valueManager:Vt}),{view:He,setView:rt,focusedView:Ve,setFocusedView:le,goToNextView:Ce,setValueAndGoToNextView:Ee}=cs({view:se,views:Q,openTo:X,onChange:Be,onViewChange:i,autoFocus:a,focusedView:ne,onFocusedViewChange:ke}),{referenceDate:_e,calendarState:fe,changeFocusedDay:Ae,changeMonth:nt,handleChangeMonth:Pt,isDateDisabled:ft,onMonthSwitchingAnimationEnd:Rt}=Gl({value:Ie,referenceDate:g,reduceAnimations:_,onMonthChange:T,minDate:q,maxDate:ve,shouldDisableDate:O,disablePast:v,disableFuture:C,timezone:Qe}),St=Y&&Ie||q,Kt=Y&&Ie||ve,jn=`${s}-grid-label`,bs=Ve!==null,pa=(ma=$e==null?void 0:$e.calendarHeader)!=null?ma:wu,om=(0,Dt.Q)({elementType:pa,externalSlotProps:Ne==null?void 0:Ne.calendarHeader,additionalProps:{views:Q,view:He,currentMonth:fe.currentMonth,onViewChange:rt,onMonthChange:(Tt,gn)=>Pt({newMonth:Tt,direction:gn}),minDate:St,maxDate:Kt,disabled:Y,disablePast:v,disableFuture:C,reduceAnimations:_,timezone:Qe,labelId:jn},ownerState:o}),am=(0,Ue.A)(Tt=>{const gn=n.startOfMonth(Tt),vs=n.endOfMonth(Tt),In=ft(Tt)?Nn({utils:n,date:Tt,minDate:n.isBefore(q,gn)?gn:q,maxDate:n.isAfter(ve,vs)?vs:ve,disablePast:v,disableFuture:C,isDateDisabled:ft,timezone:Qe}):Tt;In?(Ee(In,"finish"),T==null||T(gn)):(Ce(),nt(gn)),Ae(In,!0)}),im=(0,Ue.A)(Tt=>{const gn=n.startOfYear(Tt),vs=n.endOfYear(Tt),In=ft(Tt)?Nn({utils:n,date:Tt,minDate:n.isBefore(q,gn)?gn:q,maxDate:n.isAfter(ve,vs)?vs:ve,disablePast:v,disableFuture:C,isDateDisabled:ft,timezone:Qe}):Tt;In?(Ee(In,"finish"),S==null||S(In)):(Ce(),nt(gn)),Ae(In,!0)}),lm=(0,Ue.A)(Tt=>Be(Tt&&zn(n,Tt,Ie!=null?Ie:_e),"finish",He));R.useEffect(()=>{Ie!=null&&n.isValid(Ie)&&nt(Ie)},[Ie]);const gr=o,ha=Fu(gr),yr={disablePast:v,disableFuture:C,maxDate:ve,minDate:q},Dr={disableHighlightToday:Te,readOnly:De,disabled:Y,timezone:Qe,gridLabelId:jn,slots:$e,slotProps:Ne},Cr=R.useRef(He);R.useEffect(()=>{Cr.current!==He&&(Ve===Cr.current&&le(He,!0),Cr.current=He)},[Ve,le,He]);const cm=R.useMemo(()=>[Ie],[Ie]);return(0,W.jsxs)(ku,(0,P.A)({ref:t,className:(0,At.A)(ha.root,oe),ownerState:gr},be,{children:[(0,W.jsx)(pa,(0,P.A)({},om,{slots:$e,slotProps:Ne})),(0,W.jsx)(Iu,{reduceAnimations:_,className:ha.viewTransitionContainer,transKey:He,ownerState:gr,children:(0,W.jsxs)("div",{children:[He==="year"&&(0,W.jsx)(ru,(0,P.A)({},yr,Dr,{value:Ie,onChange:im,shouldDisableYear:K,hasFocus:bs,onFocusedViewChange:Tt=>le("year",Tt),yearsPerRow:Le,referenceDate:_e})),He==="month"&&(0,W.jsx)(Jc,(0,P.A)({},yr,Dr,{hasFocus:bs,className:oe,value:Ie,onChange:am,shouldDisableMonth:B,onFocusedViewChange:Tt=>le("month",Tt),monthsPerRow:ht,referenceDate:_e})),He==="day"&&(0,W.jsx)(Oc,(0,P.A)({},fe,yr,Dr,{onMonthSwitchingAnimationEnd:Rt,onFocusedDayChange:Ae,reduceAnimations:_,selectedDays:cm,onSelectedDaysChange:lm,shouldDisableDate:O,shouldDisableMonth:B,shouldDisableYear:K,hasFocus:bs,onFocusedViewChange:Tt=>le("day",Tt),showDaysOutsideCurrentMonth:me,fixedWeekNumber:Pe,dayOfWeekFormatter:Me,displayWeekNumber:Fe,loading:Oe,renderLoading:Je}))]})})]}))}),ns=({view:r,onViewChange:e,views:t,focusedView:n,onFocusedViewChange:s,value:o,defaultValue:a,referenceDate:i,onChange:c,className:p,classes:g,disableFuture:C,disablePast:v,minDate:M,maxDate:S,shouldDisableDate:T,shouldDisableMonth:_,shouldDisableYear:O,reduceAnimations:B,onMonthChange:K,monthsPerRow:se,onYearChange:Q,yearsPerRow:X,slots:oe,slotProps:Y,loading:De,renderLoading:q,disableHighlightToday:ve,readOnly:Te,disabled:ne,showDaysOutsideCurrentMonth:ke,dayOfWeekFormatter:me,sx:Pe,autoFocus:Me,fixedWeekNumber:$e,displayWeekNumber:Ne,timezone:Oe})=>(0,W.jsx)(Pu,{view:r,onViewChange:e,views:t.filter(Nt),focusedView:n&&Nt(n)?n:null,onFocusedViewChange:s,value:o,defaultValue:a,referenceDate:i,onChange:c,className:p,classes:g,disableFuture:C,disablePast:v,minDate:M,maxDate:S,shouldDisableDate:T,shouldDisableMonth:_,shouldDisableYear:O,reduceAnimations:B,onMonthChange:K,monthsPerRow:se,onYearChange:Q,yearsPerRow:X,slots:oe,slotProps:Y,loading:De,renderLoading:q,disableHighlightToday:ve,readOnly:Te,disabled:ne,showDaysOutsideCurrentMonth:ke,dayOfWeekFormatter:me,sx:Pe,autoFocus:Me,fixedWeekNumber:$e,displayWeekNumber:Ne,timezone:Oe}),vo=R.forwardRef(function(e,t){var p,g,C,v;const n=jt(),s=pt(),o=_r(e,"MuiDesktopDatePicker"),a=(0,P.A)({day:ns,month:ns,year:ns},o.viewRenderers),i=(0,P.A)({},o,{viewRenderers:a,format:Ft(s,o,!1),yearsPerRow:(p=o.yearsPerRow)!=null?p:4,slots:(0,P.A)({openPickerIcon:Oi,field:uo},o.slots),slotProps:(0,P.A)({},o.slotProps,{field:M=>{var S;return(0,P.A)({},(0,Hn.Y)((S=o.slotProps)==null?void 0:S.field,M),Is(o),{ref:t})},toolbar:(0,P.A)({hidden:!0},(g=o.slotProps)==null?void 0:g.toolbar)})}),{renderPicker:c}=Yr({props:i,valueManager:Vt,valueType:"date",getOpenDialogAriaText:(v=(C=i.localeText)==null?void 0:C.openDatePickerDialogue)!=null?v:n.openDatePickerDialogue,validator:Ss});return c()});vo.propTypes={autoFocus:d().bool,className:d().string,closeOnSelect:d().bool,dayOfWeekFormatter:d().func,defaultValue:d().object,disabled:d().bool,disableFuture:d().bool,disableHighlightToday:d().bool,disableOpenPicker:d().bool,disablePast:d().bool,displayWeekNumber:d().bool,enableAccessibleFieldDOMStructure:d().any,fixedWeekNumber:d().number,format:d().string,formatDensity:d().oneOf(["dense","spacious"]),inputRef:Dn,label:d().node,loading:d().bool,localeText:d().object,maxDate:d().object,minDate:d().object,monthsPerRow:d().oneOf([3,4]),name:d().string,onAccept:d().func,onChange:d().func,onClose:d().func,onError:d().func,onMonthChange:d().func,onOpen:d().func,onSelectedSectionsChange:d().func,onViewChange:d().func,onYearChange:d().func,open:d().bool,openTo:d().oneOf(["day","month","year"]),orientation:d().oneOf(["landscape","portrait"]),readOnly:d().bool,reduceAnimations:d().bool,referenceDate:d().object,renderLoading:d().func,selectedSections:d().oneOfType([d().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),d().number]),shouldDisableDate:d().func,shouldDisableMonth:d().func,shouldDisableYear:d().func,showDaysOutsideCurrentMonth:d().bool,slotProps:d().object,slots:d().object,sx:d().oneOfType([d().arrayOf(d().oneOfType([d().func,d().object,d().bool])),d().func,d().object]),timezone:d().string,value:d().object,view:d().oneOf(["day","month","year"]),viewRenderers:d().shape({day:d().func,month:d().func,year:d().func}),views:d().arrayOf(d().oneOf(["day","month","year"]).isRequired),yearsPerRow:d().oneOf([3,4])};var Mu=$(63437),Nu=$(85747),Ao=$(30311);const Ou=(0,Z.styled)(Nu.A)({[`& .${Ao.A.container}`]:{outline:0},[`& .${Ao.A.paper}`]:{outline:0,minWidth:ks}}),_u=(0,Z.styled)(Mu.A)({"&:first-of-type":{padding:0}});function Ru(r){var c,p;const{children:e,onDismiss:t,open:n,slots:s,slotProps:o}=r,a=(c=s==null?void 0:s.dialog)!=null?c:Ou,i=(p=s==null?void 0:s.mobileTransition)!=null?p:Fs.A;return(0,W.jsx)(a,(0,P.A)({open:n,onClose:t},o==null?void 0:o.dialog,{TransitionComponent:i,TransitionProps:o==null?void 0:o.mobileTransition,PaperComponent:s==null?void 0:s.mobilePaper,PaperProps:o==null?void 0:o.mobilePaper,children:(0,W.jsx)(_u,{children:e})}))}const Lu=["props","getOpenDialogAriaText"],xo=r=>{var Je,Fe,Le;let{props:e,getOpenDialogAriaText:t}=r,n=(0,Ge.A)(r,Lu);const{slots:s,slotProps:o,className:a,sx:i,format:c,formatDensity:p,enableAccessibleFieldDOMStructure:g,selectedSections:C,onSelectedSectionsChange:v,timezone:M,name:S,label:T,inputRef:_,readOnly:O,disabled:B,localeText:K}=e,se=pt(),Q=R.useRef(null),X=(0,Gn.A)(),oe=(Fe=(Je=o==null?void 0:o.toolbar)==null?void 0:Je.hidden)!=null?Fe:!1,{open:Y,actions:De,layoutProps:q,renderCurrentView:ve,fieldProps:Te}=Ur((0,P.A)({},n,{props:e,fieldRef:Q,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),ne=s.field,ke=(0,Dt.Q)({elementType:ne,externalSlotProps:o==null?void 0:o.field,additionalProps:(0,P.A)({},Te,oe&&{id:X},!(B||O)&&{onClick:De.onOpen,onKeyDown:za(De.onOpen)},{readOnly:O!=null?O:!0,disabled:B,className:a,sx:i,format:c,formatDensity:p,enableAccessibleFieldDOMStructure:g,selectedSections:C,onSelectedSectionsChange:v,timezone:M,label:T,name:S},_?{inputRef:_}:{}),ownerState:e});ke.inputProps=(0,P.A)({},ke.inputProps,{"aria-label":t(Te.value,se)});const me=(0,P.A)({textField:s.textField},ke.slots),Pe=(Le=s.layout)!=null?Le:Jr;let Me=X;oe&&(T?Me=`${X}-label`:Me=void 0);const $e=(0,P.A)({},o,{toolbar:(0,P.A)({},o==null?void 0:o.toolbar,{titleId:X}),mobilePaper:(0,P.A)({"aria-labelledby":Me},o==null?void 0:o.mobilePaper)}),Ne=(0,Yt.A)(Q,ke.unstableFieldRef);return{renderPicker:()=>(0,W.jsxs)(Pr,{localeText:K,children:[(0,W.jsx)(ne,(0,P.A)({},ke,{slots:me,slotProps:$e,unstableFieldRef:Ne})),(0,W.jsx)(Ru,(0,P.A)({},De,{open:Y,slots:s,slotProps:$e,children:(0,W.jsx)(Pe,(0,P.A)({},q,$e==null?void 0:$e.layout,{slots:s,slotProps:$e,children:ve()}))}))]})}},wo=R.forwardRef(function(e,t){var p,g,C;const n=jt(),s=pt(),o=_r(e,"MuiMobileDatePicker"),a=(0,P.A)({day:ns,month:ns,year:ns},o.viewRenderers),i=(0,P.A)({},o,{viewRenderers:a,format:Ft(s,o,!1),slots:(0,P.A)({field:uo},o.slots),slotProps:(0,P.A)({},o.slotProps,{field:v=>{var M;return(0,P.A)({},(0,Hn.Y)((M=o.slotProps)==null?void 0:M.field,v),Is(o),{ref:t})},toolbar:(0,P.A)({hidden:!1},(p=o.slotProps)==null?void 0:p.toolbar)})}),{renderPicker:c}=xo({props:i,valueManager:Vt,valueType:"date",getOpenDialogAriaText:(C=(g=i.localeText)==null?void 0:g.openDatePickerDialogue)!=null?C:n.openDatePickerDialogue,validator:Ss});return c()});wo.propTypes={autoFocus:d().bool,className:d().string,closeOnSelect:d().bool,dayOfWeekFormatter:d().func,defaultValue:d().object,disabled:d().bool,disableFuture:d().bool,disableHighlightToday:d().bool,disableOpenPicker:d().bool,disablePast:d().bool,displayWeekNumber:d().bool,enableAccessibleFieldDOMStructure:d().any,fixedWeekNumber:d().number,format:d().string,formatDensity:d().oneOf(["dense","spacious"]),inputRef:Dn,label:d().node,loading:d().bool,localeText:d().object,maxDate:d().object,minDate:d().object,monthsPerRow:d().oneOf([3,4]),name:d().string,onAccept:d().func,onChange:d().func,onClose:d().func,onError:d().func,onMonthChange:d().func,onOpen:d().func,onSelectedSectionsChange:d().func,onViewChange:d().func,onYearChange:d().func,open:d().bool,openTo:d().oneOf(["day","month","year"]),orientation:d().oneOf(["landscape","portrait"]),readOnly:d().bool,reduceAnimations:d().bool,referenceDate:d().object,renderLoading:d().func,selectedSections:d().oneOfType([d().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),d().number]),shouldDisableDate:d().func,shouldDisableMonth:d().func,shouldDisableYear:d().func,showDaysOutsideCurrentMonth:d().bool,slotProps:d().object,slots:d().object,sx:d().oneOfType([d().arrayOf(d().oneOfType([d().func,d().object,d().bool])),d().func,d().object]),timezone:d().string,value:d().object,view:d().oneOf(["day","month","year"]),viewRenderers:d().shape({day:d().func,month:d().func,year:d().func}),views:d().arrayOf(d().oneOf(["day","month","year"]).isRequired),yearsPerRow:d().oneOf([3,4])};const Bu=["desktopModeMediaQuery"],$u=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:s=Lr}=n,o=(0,Ge.A)(n,Bu);return(0,un.A)(s,{defaultMatches:!0})?(0,W.jsx)(vo,(0,P.A)({ref:t},o)):(0,W.jsx)(wo,(0,P.A)({ref:t},o))});class Vu extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr);this.setState({value:e})}renderItem(e,t){return l().createElement($u,{sx:n=>({width:"100%",borderBottom:`1px solid ${n.palette.text.primary}`,"& fieldset":{display:"none"},"& input":{padding:`${n.spacing(1.5)} 0 4px 0`},"& .MuiInputAdornment-root":{marginLeft:0,marginTop:1},"& label":{transform:"translate(0px, -9px) scale(0.75)"}}),format:this.props.systemConfig.dateFormat.toLowerCase().replace("mm","MM"),disabled:!!t,value:this.state.value,onChange:n=>{this.setState({value:n},()=>this.onChange(this.props.attr,this.state.value))},label:this.getText(this.props.schema.label)})}}class ju extends y{renderItem(){if(!this.props.schema)return null;if(this.props.DeviceManager){const t=this.props.DeviceManager;return l().createElement(t,{uploadImagesToInstance:`${this.props.adapterName}.${this.props.instance}`,title:this.getText(this.props.schema.label),socket:this.props.socket,selectedInstance:`${this.props.adapterName}.${this.props.instance}`,themeName:this.props.themeName,themeType:this.props.themeType,isFloatComma:this.props.isFloatComma,dateFormat:this.props.dateFormat})}return l().createElement("div",null,"DeviceManager not found")}}const Wu=ju;var Uu=$(53683),Eo=$.n(Uu),Hu=$(86215);const zu=()=>({fullWidth:{width:"100%"},fullWidthOneButton:{width:"calc(100% - 42px)"},fullWidthTwoButtons:{width:"calc(100% - 84px)"},fullWidthThreeButtons:{width:"calc(100% - 126x)"},dropZone:{width:"100%",height:"100%",position:"absolute"},dropZoneEmpty:{},image:{objectFit:"contain",margin:"auto",display:"flex",width:"100%",height:"100%"},uploadDiv:{position:"relative",width:"100%"},uploadDivDragging:{opacity:1,background:"rgba(128,255,128,0.1)"},uploadCenterDiv:{margin:5,border:"3px dashed grey",borderRadius:5,width:"100%",height:"100%",position:"absolute",display:"flex"},uploadCenterIcon:{paddingTop:10,width:48,height:48},uploadCenterText:{fontSize:16},uploadCenterTextAndIcon:{textAlign:"center",position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},disabledOpacity:{opacity:.3,cursor:"default"},error:{border:"2px solid red"},deleteButton:{},selectedImage:{height:40,width:40,display:"inline-block",marginRight:8}}),Ju=["jpg","jpeg","svg","png","webp","gif","apng","avif","webp"],Yu=["mp3","ogg","wav","aac"],Ku=["avi","mp4","mov"],Gu=["txt","log","html","htm"],qu=["json","js","ts"];class Rs extends y{constructor(e){super(e),this.dropzoneRef=l().createRef(),this.imagePrefix=this.props.imagePrefix===void 0?"./files":this.props.imagePrefix}componentDidMount(){super.componentDidMount(),this.objectID=(this.props.schema.objectID||"0_userdata.0").replace("%INSTANCE%",this.props.instance),this.path=this.props.schema.upload,this.path&&(this.path==="/"?this.path="":this.path.endsWith("/")||(this.path=`${this.path}/`)),this.updateFiles().then(()=>{const e=y.getValue(this.props.data,this.props.attr);this.setState({value:e})})}updateFiles(){return this.readFiles(this.props.schema.pattern).then(e=>this.setState({files:e}))}readFolder(e,t,n){return lt(this,null,function*(){try{const s=yield this.props.socket.readDir(this.objectID,e.replace(/^\//,"")||null);for(let o=0;o<s.length;o++){const a=s[o];if(a.isDir)yield this.readFolder(`${e+a.file}/`,t,n);else{let i=!1;n==="*.*"&&a.file.includes(".")||!n||n==="*"||n===".*"&&a.file.startsWith(".")?i=!0:i=new RegExp(`^${n.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(a.file),i&&t.push({name:e+a.file,size:a.stats?h.Utils.formatBytes(a.stats.size):"--"})}}}catch(s){console.error(`Cannot read "${e}": ${s}`)}return t})}readFiles(e){return lt(this,null,function*(){const t=[];e=e||this.props.schema.pattern,e||(e="**/*.*");let n;const s=e.lastIndexOf("/");if(s===-1?n=e:n=e.substring(s+1),e.startsWith("**"))yield this.readFolder("/",t,n);else{const o=e.lastIndexOf("/");if(o===-1)yield this.readFolder("/",t,n);else{const a=e.substring(0,o+1);yield this.readFolder(a,t,n)}}return t})}onDrop(e){const t=e[0],n=new FileReader,s=this.props.schema.maxSize||2*1024*1024;n.onabort=()=>console.log("file reading was aborted"),n.onerror=()=>console.log("file reading has failed"),n.onload=()=>{let o=`image/${t.name.split(".").pop().toLowerCase()}`;if(o==="image/jpg"?o="image/jpeg":o.includes("svg")&&(o="image/svg+xml"),t.size>s){window.alert(h.I18n.t("File is too big. Max %sk allowed. Try use SVG.",Math.round(s/1024)));return}const a=`data:${o};base64,${btoa(new Uint8Array(n.result).reduce((i,c)=>i+String.fromCharCode(c),""))}`;this.props.socket.writeFile64(this.objectID,this.path+t.name,a).then(()=>this.updateFiles()).catch(i=>window.alert(`Cannot upload file: ${i}`))},n.readAsArrayBuffer(t)}renderDeleteDialog(){return this.state.deleteFile?l().createElement(h.Confirm,{title:h.I18n.t("ra_Are you sure?"),text:h.I18n.t("ra_File will be deleted"),ok:h.I18n.t("ra_Delete"),cancel:h.I18n.t("ra_Cancel"),onClose:e=>{const t=this.state.deleteFile;this.setState({deleteFile:!1},()=>{e&&this.props.socket.deleteFile(this.objectID,t).then(()=>this.updateFiles()).catch(n=>window.alert(`Cannot delete file: ${n}`))})}}):null}static base64ToArrayBuffer(e){const t=window.atob(e),n=t.length,s=new Uint8Array(n);for(let o=0;o<n;o++)s[o]=t.charCodeAt(o);return s.buffer}loadFile(){return this.props.socket.readFile(this.objectID,this.state.value,!0)}play(){this.loadFile().then(e=>{if(typeof AudioContext!="undefined"){const t=new AudioContext,n=Rs.base64ToArrayBuffer(e.file);t.decodeAudioData(n,s=>{const o=t.createBufferSource();o.buffer=s,o.connect(t.destination),o.start(0)},s=>window.alert(`Cannot play: ${s}`))}})}getIcon(e){return!e||!e.extension?null:Ju.includes(e.extension)?l().createElement("div",{className:this.props.classes.selectedImage,style:{backgroundImage:`url(${this.imagePrefix}/${this.objectID}/${e.value})`,backgroundSize:"contain",backgroundRepeat:"no-repeat"}}):Yu.includes(e.extension)?l().createElement(D.MusicNote,null):Gu.includes(e.extension)?l().createElement(D.Article,null):Ku.includes(e.extension)?l().createElement(D.Videocam,null):qu.includes(e.extension)?l().createElement(D.Code,null):null}renderItem(e,t){if(!this.state.files)return null;const n=[];this.props.schema.withFolder||this.state.files.forEach(g=>{const C=g.name.lastIndexOf("/");if(C===-1)n.includes("/")||n.push("/");else{const v=g.name.substring(0,C+1);n.includes(v)||n.push(v)}});const s=this.state.files.map(g=>({value:g.name,label:!this.props.schema.withFolder&&n.length===1?`${g.name.substring(n[0].length)}`:`${g.name}${this.props.schema.noSize?"":`(${g.size})`}`,extension:g.name.toLowerCase().split(".").pop()}));this.props.schema.noNone||s.unshift({label:h.I18n.t("ra_none"),value:""});const o=s.find(g=>g.value===this.state.value);let a=0;this.props.schema.upload&&a++,this.props.schema.refresh&&a++;const i=this.state.value&&(this.state.value.endsWith(".mp3")||this.state.value.endsWith(".ogg")||this.state.value.endsWith(".wav"));i&&a++;const c=l().createElement("div",{className:this.props.classes.fullWidth},l().createElement(u.FormControl,{variant:"standard",style:{width:`calc(100% - ${a*42}px)`}},this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!e,disabled:!!t,value:this.state.value||"_",renderValue:()=>l().createElement(l().Fragment,null,this.getIcon(o),l().createElement("span",null,(o==null?void 0:o.label)||"")),onChange:g=>{this.setState({value:g.target.value==="_"?"":g.target.value},()=>this.onChange(this.props.attr,this.state.value))}},s.map(g=>l().createElement(u.MenuItem,{key:g.value,value:g.value},l().createElement(u.ListItemIcon,null,this.getIcon(g)),l().createElement(u.ListItemText,null,g.label),this.props.schema.delete&&o.value?l().createElement(u.IconButton,{className:this.props.classes.deleteButton,size:"small",onClick:()=>this.setState({deleteFile:o.value})},l().createElement(D.Delete,null)):null))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null),this.props.schema.refresh&&l().createElement(u.IconButton,{onClick:()=>this.updateFiles()},l().createElement(D.Refresh,null)),this.props.schema.upload&&l().createElement(u.IconButton,{onClick:()=>{var g;return(g=this.dropzoneRef.current)==null?void 0:g.open()}},l().createElement(D.UploadFile,null)),i&&l().createElement(u.IconButton,{style:{color:"#00FF00"},onClick:()=>this.play()},l().createElement(D.PlayArrow,null)));if(!this.props.schema.upload)return l().createElement(l().Fragment,null,c,this.renderDeleteDialog());let p={"*/*":[]};if(this.props.schema.fileTypes==="image"?p={"image/*":[".png",".jpg",".svg",".gif",".apng",".avif",".webp"]}:this.props.schema.fileTypes==="audio"?p={"audio/*":[".mp3",".ogg",".wav",".mp4"]}:this.props.schema.fileTypes==="text"&&(p={"text/plain":[".txt"]}),this.props.schema.pattern){const g=this.props.schema.pattern.split("/").pop().toLowerCase().replace(/.*\./,"");g==="png"||g==="jpg"||g==="svg"||g==="gif"||g==="apng"||g==="avif"||g==="webp"?p={"image/*":[".png",".jpg",".svg",".gif",".apng",".avif",".webp"]}:g==="mp3"||g==="ogg"||g==="wav"?p={"audio/*":[".mp3",".ogg",".wav",".mp4"]}:g==="ics"?p={"text/calendar":[".ics"]}:g==="txt"?p={"text/plain":[".txt"]}:g==="pem"?p={"text/plain":[".pem"]}:p={"*/*":[`.${g}`]}}return l().createElement(Eo(),{ref:this.dropzoneRef,multiple:!1,accept:p,noKeyboard:!0,noClick:!0,maxSize:this.props.schema.maxSize||2*1024*1024,onDragEnter:()=>{this.setState({uploadFile:"dragging"})},onDragLeave:()=>this.setState({uploadFile:!0}),onDrop:(g,C)=>{this.setState({uploadFile:!1}),g.length?this.onDrop(g):window.alert(C&&C[0]&&C[0].errors&&C[0].errors[0]&&C[0].errors[0].message||h.I18n.t("Cannot upload"))}},({getRootProps:g,getInputProps:C})=>l().createElement("div",it({className:h.Utils.clsx(this.props.classes.uploadDiv,this.state.uploadFile==="dragging"&&this.props.classes.uploadDivDragging,t&&this.props.classes.disabledOpacity)},g()),l().createElement("input",it({},C())),this.state.uploadFile==="dragging"?l().createElement("div",{className:h.Utils.clsx(this.props.classes.uploadCenterDiv,this.state.uploadError&&this.props.classes.error)},l().createElement("div",{className:this.props.classes.uploadCenterTextAndIcon},l().createElement(Hu.l1U,{className:this.props.classes.uploadCenterIcon}),l().createElement("div",{className:this.props.classes.uploadCenterText},this.state.uploadFile==="dragging"?h.I18n.t("ra_Drop file here"):h.I18n.t("ra_Place your files here or click here to open the browse dialog")))):null,c,this.renderDeleteDialog()))}}Rs.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func,imagePrefix:d().func};const So=(0,b.withStyles)(zu)(Rs),Qu=()=>({fullWidth:{width:"100%"},fullWidthOneButton:{width:"calc(100% - 69px)",marginRight:4},fullWidthIcon:{width:"calc(100% - 119px)",marginRight:4},selectedImage:{height:40,width:40,display:"inline-block",marginRight:8}}),Xu=["jpg","jpeg","svg","png","webp","gif","apng","avif","webp"],Zu=["mp3","ogg","wav","aac"],ed=["avi","mp4","mov"],td=["txt","log","html","htm"],nd=["json","js","ts"];class Fo extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr);this.imagePrefix=this.props.imagePrefix===void 0?"./files":this.props.imagePrefix,this.setState({value:e!=null?e:""})}static getDerivedStateFromProps(e,t){const n=y.getValue(e.data,e.attr);return n==null||n.toString().trim()!==(t.value||"").toString().trim()?{value:n!=null?n:""}:null}loadFile(){const e=this.state.value.indexOf("/");if(e!==-1){const t=this.state.value.substring(0,e),n=this.state.value.substring(e+1);return this.props.socket.readFile(t,n,!0)}return Promise.resolve(null)}play(){this.loadFile().then(e=>{if(typeof AudioContext!="undefined"&&(e!=null&&e.file)){const t=new AudioContext,n=So.base64ToArrayBuffer(e.file);t.decodeAudioData(n,s=>{const o=t.createBufferSource();o.buffer=s,o.connect(t.destination),o.start(0)},s=>window.alert(`Cannot play: ${s}`))}})}getIcon(){const e=this.state.value.split(".").pop().toLowerCase();return Xu.includes(e)?l().createElement("div",{className:this.props.classes.selectedImage,style:{backgroundImage:`url(${this.imagePrefix}/${this.state.value})`,backgroundSize:"contain",backgroundRepeat:"no-repeat"}}):Zu.includes(e)?l().createElement(u.IconButton,{style:{color:"#00FF00"},onClick:()=>this.play()},l().createElement(D.PlayArrow,null)):td.includes(e)?l().createElement(D.Article,null):ed.includes(e)?l().createElement(D.Videocam,null):nd.includes(e)?l().createElement(D.Code,null):null}renderFileBrowser(){return this.state.showFileBrowser?l().createElement(h.SelectFile,{imagePrefix:this.props.imagePrefix,socket:this.props.socket,selected:this.state.value,onClose:()=>this.setState({showFileBrowser:!1}),onOk:e=>{this.setState({value:e},()=>this.onChange(this.props.attr,this.props.schema.trim===!1?e:(e||"").trim()))},selectOnlyFolders:this.props.schema.selectOnlyFolders,allowUpload:this.props.schema.allowUpload,allowDownload:this.props.schema.allowDownload,allowCreateFolder:this.props.schema.allowCreateFolder,allowView:this.props.schema.allowView,showToolbar:this.props.schema.showToolbar,limitPath:this.props.schema.limitPath}):null}renderItem(e,t){const n=this.getIcon();return l().createElement("div",{className:this.props.classes.fullWidth},n,l().createElement(u.TextField,{variant:"standard",className:n?this.props.classes.fullWidthIcon:this.props.classes.fullWidthOneButton,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!e,disabled:!!t,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:!!this.props.schema.disableEdit},onChange:s=>{const o=s.target.value;this.setState({value:o},()=>this.onChange(this.props.attr,this.props.schema.trim===!1?o:(o||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}),l().createElement(u.Button,{variant:"outlined",onClick:()=>this.setState({showFileBrowser:!0})},"..."),this.renderFileBrowser())}}Fo.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func,imagePrefix:d().func};const sd=(0,b.withStyles)(Qu)(Fo),rd=()=>({fullWidth:{width:"100%"}});class To extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr);this.props.socket.getEnums("functions").then(t=>{const n=Object.keys(t).map(s=>({value:this.props.schema.short?s.replace("enum.functions.",""):s,label:this.getText(t[s].common.name),obj:t[s]}));this.props.schema.allowDeactivate!==!1&&n.unshift({label:h.I18n.t(y.NONE_LABEL),value:y.NONE_VALUE}),this.setState({value:e,selectOptions:n})})}renderItem(e,t){if(!this.state.selectOptions)return null;const n=this.state.selectOptions.find(s=>s.value===this.state.value);return l().createElement(u.FormControl,{variant:"standard",className:this.props.classes.fullWidth},this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!e,disabled:!!t,value:this.state.value||"_",renderValue:()=>n?n.obj?l().createElement(h.TextWithIcon,{value:n.obj,themeType:this.props.themeType,lang:h.I18n.getLanguage()}):n.label:"",onChange:s=>{this.setState({value:s.target.value==="_"?"":s.target.value},()=>this.onChange(this.props.attr,this.state.value))}},this.state.selectOptions.map(s=>l().createElement(u.MenuItem,{key:s.value,value:s.value,style:s.value===y.DIFFERENT_VALUE?{opacity:.5}:{}},s.obj?l().createElement(h.TextWithIcon,{value:s.obj,themeType:this.props.themeType,lang:h.I18n.getLanguage()}):s.label))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}To.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const od=(0,b.withStyles)(rd)(To),ad=()=>({fullWidth:{width:"100%"}});class ko extends y{componentDidMount(){super.componentDidMount(),this.props.socket.getHostByIp(this.props.common.host).then(e=>{this.props.schema.listenOnAllPorts||(e=e.filter(t=>t.address!=="0.0.0.0"&&t.address!=="::")),this.props.schema.onlyIp4?e=e.filter(t=>t.family==="ipv4"):this.props.schema.onlyIp6&&(e=e.filter(t=>t.family==="ipv6")),this.props.schema.noInternal&&(e=e.filter(t=>!t.internal)),e.forEach(t=>{t.address==="0.0.0.0"?t.name=`[IPv4] 0.0.0.0 - ${h.I18n.t("ra_Listen on all IPs")}`:t.address==="::"&&(t.name=`[IPv6] :: - ${h.I18n.t("ra_Listen on all IPs")}`)}),this.setState({ips:e})})}renderItem(e,t){var o,a;const n=y.getValue(this.props.data,this.props.attr),s=(o=this.state.ips)==null?void 0:o.find(i=>i.address===n);return l().createElement(u.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},this.state.ips&&this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,this.state.ips?l().createElement(u.Select,{variant:"standard",error:!!e,disabled:!!t,value:n,renderValue:i=>(s==null?void 0:s.name)||i,onChange:i=>this.onChange(this.props.attr,i.target.value)},(a=this.state.ips)==null?void 0:a.map((i,c)=>l().createElement(u.MenuItem,{key:c,value:i.address},i.name))):l().createElement(u.TextField,{fullWidth:!0,variant:"standard",error:!!e,disabled:!!t,value:n,onChange:i=>this.onChange(this.props.attr,i.target.value),label:this.getText(this.props.schema.label)}),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}ko.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const id=(0,b.withStyles)(ad)(ko),ld=()=>({fullWidth:{width:"100%"}});class Io extends y{componentDidMount(){super.componentDidMount(),this.askInstance()}askInstance(){if(this.props.alive){let e=this.props.schema.data;if(e===void 0&&this.props.schema.jsonData){e=this.getPattern(this.props.schema.jsonData);try{e=JSON.parse(e)}catch(t){console.error(`Cannot parse json data: ${e}`)}}e===void 0&&(e=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",e).then(t=>this.setState({image:t||"",context:this.getContext()}))}}getContext(){const e={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(t=>e[t]=y.getValue(this.props.data,t)),JSON.stringify(e)}renderItem(){return this.state.image===void 0?null:(this.props.alive&&this.getContext()!==this.state.context&&setTimeout(()=>this.askInstance(),300),l().createElement("img",{className:this.props.classes.fullWidth,alt:"dynamic content",src:this.state.image,style:{width:this.props.schema.width,height:this.props.schema.height}}))}}Io.propTypes={socket:d().object.isRequired,data:d().object.isRequired,schema:d().object,adapterName:d().string,instance:d().number};const cd=(0,b.withStyles)(ld)(Io),ud=()=>({fullWidth:{width:"100%"},image:{width:100}});class Ls extends y{constructor(e){super(e),this.index=Date.now()}componentDidMount(){return lt(this,null,function*(){if(Wt(Ls.prototype,this,"componentDidMount").call(this),this.props.schema.base64){const e=y.getValue(this.props.data,this.props.attr);this.setState({value:e})}else this.props.socket.fileExists(`${this.props.adapterName}.${this.props.instance}`,this.props.attr).then(e=>e&&this.loadImage())})}_getUrl(e){e&&(this.index=Date.now());let t=`files/${this.props.adapterName}.${this.props.instance}/${this.props.attr}?t=${this.index}`;return window.location.port==="3000"&&(t=`${window.location.protocol}//${window.location.hostname}:8081/${t}`),t}loadImage(){fetch(this._getUrl()).then(e=>e.blob()).then(e=>{const t=new FileReader;t.onload=()=>{this.setState({value:t.result})},t.readAsDataURL(e)}).catch(e=>console.error(e))}renderItem(e,t){return l().createElement(u.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},this.props.schema.label?l().createElement(u.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,l().createElement(h.UploadImage,{error:!!e,disabled:t,accept:this.props.schema.accept,crop:this.props.schema.crop,maxSize:this.props.schema.maxSize||256*1024,icon:this.state.value||void 0,removeIconFunc:()=>this.setState({value:null},()=>{this.props.schema.base64?this.onChange(this.props.attr,this.state.value):this.props.socket.deleteFile(`${this.props.adapterName}.${this.props.instance}`,this.props.attr)}),onChange:n=>this.setState({value:n},()=>{this.props.schema.base64?this.onChange(this.props.attr,this.state.value):n.startsWith("data")&&(n=n.split(",")[1]),this.props.socket.writeFile64(`${this.props.adapterName}.${this.props.instance}`,this.props.attr,n)}),t:h.I18n.t}),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}Ls.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const dd=(0,b.withStyles)(ud)(Ls),pd=()=>({fullWidth:{width:"100%"},icon:{width:20,height:20,marginRight:4}});class Bs extends y{constructor(){super(...arguments);We(this,"onInstancesUpdate",(t,n)=>{if(!t.match(/^system\.adapter\.[-_a-z\d]+\.\d+$/))return;const s=this.props.schema.long?t:this.props.schema.short?t.split(".").pop():t.replace(/^system\.adapter\./,""),o=this.state.selectOptions.findIndex(a=>a.value===s);if(n){if(this.props.schema.adapter==="_dataSources"&&(!n.common||!n.common.getHistory))return;if(o===-1){const a=JSON.parse(JSON.stringify(this.state.selectOptions));a.push({value:this.props.schema.long?n._id:this.props.schema.short?n._id.split(".").pop():n._id.replace(/^system\.adapter\./,""),label:`${n.common.name} [${n._id.replace(/^system\.adapter\./,"")}]`,icon:`adapter/${n.common.name}/${n.common.icon}`}),a.sort((i,c)=>i.label>c.label?1:i.label<c.label?-1:0),this.setState({selectOptions:a})}}else if(o!==-1){const a=JSON.parse(JSON.stringify(this.state.selectOptions)),i={};this.state.value===a[o].value&&(i.value=y.NONE_VALUE),a.splice(o,1),i.selectOptions=a,this.setState(i)}})}componentDidMount(){return lt(this,null,function*(){Wt(Bs.prototype,this,"componentDidMount").call(this);const t=y.getValue(this.props.data,this.props.attr);let n=this.props.schema.adapter;n==="_dataSources"&&(n=void 0),this.props.socket.getAdapterInstances(n,!0).then(s=>lt(this,null,function*(){this.props.schema.adapter==="_dataSources"?s=s.filter(a=>{var i;return(i=a==null?void 0:a.common)==null?void 0:i.getHistory}):this.props.schema.adapter?s=s.filter(a=>a==null?void 0:a._id.startsWith(`system.adapter.${this.props.schema.adapter}.`)):this.props.schema.adapters&&Array.isArray(this.props.schema.adapters)&&(s=s.filter(a=>{var i;return this.props.schema.adapters.includes((i=a==null?void 0:a.common)==null?void 0:i.name)})),this.props.schema.onlyEnabled&&(s=s.filter(a=>{var i;return(i=a==null?void 0:a.common)==null?void 0:i.enabled}));const o=s.map(a=>({value:this.props.schema.long?a._id:this.props.schema.short?a._id.split(".").pop():a._id.replace(/^system\.adapter\./,""),label:`${a.common.name} [${a._id.replace(/^system\.adapter\./,"")}]`,icon:`adapter/${a.common.name}/${a.common.icon}`}));o.sort((a,i)=>a.value>i.value?1:a.value<i.value?-1:0),this.props.schema.allowDeactivate!==!1&&o.unshift({label:h.I18n.t(y.NONE_LABEL),value:y.NONE_VALUE}),this.props.schema.all&&o.unshift({label:h.I18n.t("sch_all"),value:"*"}),this.setState({value:t||"",selectOptions:o}),yield this.props.socket.subscribeObject(`system.adapter.${n?`${n}.`:""}*`,this.onInstancesUpdate)}))})}componentWillUnmount(){this.props.socket.unsubscribeObject("system.adapter.*",this.onInstancesUpdate).then(()=>{}),super.componentWillUnmount()}renderItem(t,n){var o;if(!this.state.selectOptions)return null;const s=(o=this.state.selectOptions)==null?void 0:o.find(a=>a.value===this.state.value);return l().createElement(u.FormControl,{className:this.props.classes.fullWidth,key:this.props.attr,variant:"standard"},this.props.schema.label?l().createElement(u.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!t,displayEmpty:!0,disabled:!!n,value:this.state.value,renderValue:()=>l().createElement("span",{style:{display:"flex"}},s!=null&&s.icon?l().createElement("img",{src:`./${s.icon}`,alt:s.value,className:this.props.classes.icon}):null,this.getText(s==null?void 0:s.label,!0)),onChange:a=>this.setState({value:a.target.value},()=>this.onChange(this.props.attr,this.state.value))},this.state.selectOptions.map(a=>l().createElement(u.MenuItem,{key:a.value,value:a.value,style:a.value===y.NONE_VALUE?{opacity:.5}:{}},a.icon?l().createElement("img",{src:`./${a.icon}`,alt:a.value,className:this.props.classes.icon}):null,this.getText(a.label,!0)))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}Bs.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const hd=(0,b.withStyles)(pd)(Bs),md=()=>({fullWidth:{width:"100%"},address:{fontSize:"smaller",opacity:.5,marginLeft:8}});class Po extends y{componentDidMount(){super.componentDidMount(),this.props.socket.getObject(`system.host.${this.props.common.host}`).then(e=>{var n,s;const t=[];if((s=(n=e==null?void 0:e.native)==null?void 0:n.hardware)!=null&&s.networkInterfaces){const o=e.native.hardware.networkInterfaces;Object.keys(o).forEach(a=>{if(this.props.schema.ignoreInternal&&!o[a].find(c=>!c.internal)||this.props.schema.ignoreLoopback&&o[a].find(c=>c.address==="127.0.0.1"||c.address==="::1"))return;let i=o[a].find(c=>c.family==="IPv4");i=i||o[a].find(c=>c.family==="IPv6"),t.push({value:a,address:i.address})})}this.setState({interfaces:t})}).catch(e=>window.alert(`Cannot read interfaces: ${e}`))}renderItem(e,t){var o,a,i;const n=y.getValue(this.props.data,this.props.attr),s=(o=this.state.interfaces)==null?void 0:o.find(c=>c.value===n);return l().createElement(u.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},(a=this.state.interfaces)!=null&&a.length&&this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,(i=this.state.interfaces)!=null&&i.length?l().createElement(u.Select,{variant:"standard",error:!!e,disabled:!!t,value:n,renderValue:c=>s?l().createElement("span",null,s.value,l().createElement("span",{className:this.props.classes.address},s.address)):c,onChange:c=>this.onChange(this.props.attr,c.target.value)},this.state.interfaces.map((c,p)=>l().createElement(u.MenuItem,{key:p,value:c.value},l().createElement("span",null,c.value,l().createElement("span",{className:this.props.classes.address},c.address))))):l().createElement(u.TextField,{fullWidth:!0,variant:"standard",error:!!e,disabled:!!t,value:n,onChange:c=>this.onChange(this.props.attr,c.target.value),label:this.getText(this.props.schema.label)}),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}Po.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const fd=(0,b.withStyles)(md)(Po),gd=r=>({modalDialog:{minWidth:400,maxWidth:800},overflowHidden:{display:"flex",overflow:"hidden"},titleIcon:{marginRight:5},content:{fontSize:16},languageButton:{position:"absolute",right:r.spacing(1),top:r.spacing(1)},languageButtonActive:{color:r.palette.primary.main}}),ir=({toggleTranslation:r,noTranslation:e,title:t,fullWidth:n,help:s,maxWidth:o,progress:a,icon:i,applyDisabled:c,applyButton:p,classes:g,onClose:C,children:v,titleButtonApply:M,titleButtonClose:S,onApply:T,textInput:_,defaultValue:O,overflowHidden:B})=>{const[K,se]=(0,V.useState)(O);(0,V.useEffect)(()=>{se(O)},[O]);let Q=null;return i&&(Q=i),l().createElement(u.Dialog,{open:!0,maxWidth:o||"md",fullWidth:!!n,disableEscapeKeyDown:!1,onClose:C,classes:{paper:g.modalDialog}},t&&l().createElement(u.DialogTitle,null,i?l().createElement(Q,{className:g.titleIcon}):null,t,h.I18n.getLanguage()!=="en"&&r?l().createElement(u.IconButton,{size:"large",className:h.Utils.clsx(g.languageButton,e&&g.languageButtonActive),onClick:()=>r(),title:h.I18n.t("Disable/Enable translation")},l().createElement(D.Language,null)):null),l().createElement(u.DialogContent,{className:h.Utils.clsx(B?g.overflowHidden:null,g.content),style:{paddingTop:8}},_&&l().createElement(u.TextField,{autoComplete:"off",fullWidth:!0,autoFocus:!0,variant:"outlined",size:"medium",multiline:!0,value:K,onChange:X=>se(X.target.value)}),v,s?l().createElement("div",null,s):null),l().createElement(u.DialogActions,null,p&&l().createElement(u.Button,{startIcon:l().createElement(D.Check,null),disabled:a||c&&O===K,onClick:()=>T(_?K:""),variant:"contained",color:"primary"},h.I18n.t(M)),l().createElement(u.Button,{color:"grey",onClick:C,disabled:a,variant:"contained",startIcon:l().createElement(D.Close,null)},h.I18n.t(S))))};ir.defaultProps={onApply:()=>{},onClose:()=>{},applyButton:!0,applyDisabled:!1,titleButtonClose:"Cancel",titleButtonApply:"Ok",overflowHidden:!1,help:""},ir.propTypes={icon:d().object,onClose:d().func,children:d().any,titleButtonClose:d().string,titleButtonApply:d().string,onApply:d().func,fullWidth:d().bool,maxWidth:d().string,applyButton:d().bool,applyDisabled:d().bool,overflowHidden:d().bool,help:d().string,noTranslation:d().bool,toggleTranslation:d().func};const yd=(0,b.withStyles)(gd)(ir);var Dd=$(58093),Cd=$.n(Dd),Bm=$(97726),$m=$(51197),Vm=$(9285),jm=$(44210),Wm=$(82292);const bd={jsonError:{border:"1px solid red",minHeight:200},jsonNoError:{border:"1px solid #00000000",minHeight:200}};function vd(r){return l().createElement(Cd(),{className:r.error===!0?r.classes.jsonError:r.error===!1?r.classes.jsonNoError:void 0,mode:r.mode||"json",width:"100%",height:"100%",showPrintMargin:r.editValueMode,showGutter:r.editValueMode,highlightActiveLine:r.editValueMode,defaultValue:r.defaultValue,theme:r.themeType==="dark"?"clouds_midnight":"chrome",value:r.value,readOnly:!r.onChange,onChange:e=>r.onChange(e),name:r.name||"UNIQUE_ID_OF_DIV1",fontSize:r.fontSize||14,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:r.editValueMode,tabSize:r.editValueMode?2:void 0},editorProps:{$blockScrolling:!0}})}const Ad=(0,b.withStyles)(bd)(vd),xd=()=>({fullWidth:{width:"100%"},flex:{display:"flex"},button:{height:48,minWidth:48},wrapper:{width:"calc(100vw - 40px)",height:"calc(100vh - 188px)"}});class $s extends y{componentDidMount(){return lt(this,null,function*(){Wt($s.prototype,this,"componentDidMount").call(this);const{data:e,attr:t}=this.props,n=y.getValue(e,t)||{};this.setState({value:n,initialized:!0})})}renderItem(){if(!this.state.initialized)return null;const{classes:e,schema:t,data:n,attr:s}=this.props,{value:o,showSelectId:a}=this.state;return l().createElement(u.FormControl,{className:e.fullWidth,variant:"standard"},l().createElement("div",{className:e.flex},l().createElement(u.Button,{color:"grey",className:e.button,size:"small",variant:"outlined",onClick:()=>this.setState({showSelectId:!0})},h.I18n.t("ra_JSON editor"))),a?l().createElement(yd,{title:this.getText(t.label),open:a,overflowHidden:!0,onClose:()=>this.setState({showSelectId:!1,value:y.getValue(n,s)||{}}),onApply:()=>this.setState({showSelectId:!1},()=>this.onChange(s,o))},l().createElement("div",{className:e.wrapper},l().createElement(Ad,{value:typeof o=="object"?JSON.stringify(o):o,onChange:i=>this.setState({value:i}),name:"ConfigJsonEditor",themeType:this.props.themeType}))):null,t.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}$s.propTypes={socket:d().object.isRequired,themeType:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const wd=(0,b.withStyles)(xd)($s),Ed={fullWidth:{width:"100%"}},Sd=[{value:"en",label:"English"},{value:"de",label:"Deutsch"},{value:"ru",label:"\u0440\u0443\u0441\u0441\u043A\u0438\u0439"},{value:"pt",label:"Portugues"},{value:"nl",label:"Nederlands"},{value:"fr",label:"fran\xE7ais"},{value:"it",label:"Italiano"},{value:"es",label:"Espanol"},{value:"pl",label:"Polski"},{value:"uk",label:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0438\u0439"},{value:"zh-ch",label:"\u7B80\u4F53\u4E2D\u6587"}];class Fd extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr),t=[...Sd];this.props.schema.system?t.unshift({value:"",label:h.I18n.t("ra_System language")}):t.unshift({value:"",label:h.I18n.t("ra_none")}),this.setState({value:this.props.schema.system?e||"":e||h.I18n.getLanguage(),selectOptions:t})}renderItem(e,t){var s,o;if(!this.state.selectOptions)return null;const n=(s=this.state.selectOptions)==null?void 0:s.find(a=>a.value===this.state.value||!a.value&&!this.state.value);return l().createElement(u.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!e,disabled:t,value:this.state.value||"_",renderValue:()=>this.getText(n==null?void 0:n.label,this.props.schema.noTranslation),onChange:a=>{let{value:i}=a.target;i==="_"&&(i=""),this.setState({value:i},()=>{if(this.onChange(this.props.attr,i),this.props.schema.changeGuiLanguage)if(i){if(i===h.I18n.getLanguage())return;h.I18n.setLanguage(i),this.props.changeLanguage&&this.props.changeLanguage()}else this.props.socket.getSystemConfig().then(c=>{c.common.language!==h.I18n.getLanguage()&&c.common.language&&(h.I18n.setLanguage(c.common.language),this.props.changeLanguage&&this.props.changeLanguage())})})}},(o=this.state.selectOptions)==null?void 0:o.map(a=>l().createElement(u.MenuItem,{key:a.value,value:a.value},a.label))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const Td=(0,b.withStyles)(Ed)(Fd);class Mo extends y{constructor(e){super(e),this.scrollRef=l().createRef(),this.noPlaceRequired=!0}scrolledDown(){return this.scrollRef.current?this.scrollRef.current.offsetHeight+this.scrollRef.current.scrollTop>=this.scrollRef.current.scrollHeight:!1}componentDidMount(){super.componentDidMount(),y.getValue(this.props.data,this.props.attr)||(this.props.schema.licenseUrl?(this.setState({showLicenseDialog:!0,loading:!0,scrolledDown:!1}),fetch(this.props.schema.licenseUrl).then(e=>e.text()).then(e=>this.setState({license:e,loading:!1})).catch(e=>this.setState({license:e.toString(),loading:!1,error:!0,scrolledDown:!1}))):this.setState({showLicenseDialog:!0,scrolledDown:!1}),setTimeout(()=>{this.scrollRef.current&&(this.scrolledDown()?this.setState({scrolledDown:!0}):this.scrollRef.current.addEventListener("scroll",()=>{!this.state.scrolledDown&&this.scrolledDown()&&this.setState({scrolledDown:!0})}))},1e3))}renderItem(){return this.state.showLicenseDialog?l().createElement(u.Dialog,{maxWidth:"lg",open:!0,onClose:(e,t)=>{t!=="escapeKeyDown"&&t!=="backdropClick"&&this.setState({showLicenseDialog:!1})}},l().createElement(u.DialogTitle,null,this.props.schema.title?h.I18n.t(this.props.schema.title):h.I18n.t("ra_License agreement")),l().createElement(u.DialogContent,null,this.props.schema.licenseUrl?l().createElement(l().Fragment,null,this.state.loading?l().createElement(u.LinearProgress,null):null,l().createElement("pre",{ref:this.scrollRef,style:{width:"100%",height:"100%",overflowY:"auto",fontSize:14}},this.state.license)):null,!this.props.schema.licenseUrl&&this.props.schema.texts?l().createElement("div",{ref:this.scrollRef,style:{width:"100%",height:"100%",overflowY:"auto",fontSize:14}},this.props.schema.texts.map(e=>this.props.schema.noTranslation?l().createElement("p",null,e):l().createElement("p",null,h.I18n.t(e)))):null),l().createElement(u.DialogActions,null,this.props.schema.checkBox?l().createElement(u.FormControlLabel,{control:l().createElement(u.Checkbox,{checked:!!this.state.licenseChecked,onClick:()=>this.setState({licenseChecked:!this.state.licenseChecked})}),label:h.I18n.t(this.props.schema.checkBox)}):null,l().createElement(u.Button,{disabled:this.state.loading||this.state.error||this.props.schema.checkBox&&!this.state.licenseChecked||!this.state.scrolledDown,onClick:()=>{this.setState({showLicenseDialog:null}),this.onChange(this.props.attr,!0)},color:"primary",variant:"contained",startIcon:l().createElement(D.Check,null)},this.props.schema.agreeText?h.I18n.t(this.props.schema.agreeText):h.I18n.t("ra_Accept license")),l().createElement(u.Button,{onClick:()=>{this.setState({showLicenseDialog:!1}),setTimeout(()=>this.setState({showLicenseDialog:!0}),2e3)},color:"grey",variant:"contained",startIcon:l().createElement(D.Close,null)},h.I18n.t("ra_Close")))):null}}Mo.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const kd=Mo,Id={indeterminate:{opacity:.5},control:{flexDirection:"row",width:"100%"}};class Pd extends y{constructor(){super(...arguments);We(this,"updateTimeout")}componentDidMount(){super.componentDidMount();let t=y.getValue(this.props.data,this.props.attr);if(t==null&&(t=""),Array.isArray(t)&&this.props.multiEdit){t=y.DIFFERENT_VALUE,this.setState({_value:t,oldValue:t});return}this.setState({_value:t.toString(),oldValue:t.toString()})}static getDerivedStateFromProps(t,n){if(t.schema.min!==void 0&&t.schema.min<0||t.schema.max!==void 0&&t.schema.max<0)return null;const s=y.getValue(t.data,t.attr);return t.multiEdit&&n._value===y.DIFFERENT_VALUE?y.DIFFERENT_VALUE:s==null||n.oldValue===null||n.oldValue===void 0||s.toString()!==parseFloat(n._value).toString()&&s.toString()!==n.oldValue.toString()?{_value:s}:null}checkValue(t){if(t==null)return null;t=t.toString().trim();const n=t===""?0:parseFloat(t);return t!==""&&Number.isNaN(n)?"ra_Not a number":t!==""&&window.isFinite(n)?this.props.schema.min!==void 0&&n<this.props.schema.min?"ra_Too small":this.props.schema.max!==void 0&&n>this.props.schema.max?"ra_Too big":t===""||t==="-"||Number.isNaN(n)?"ra_Not a number":null:"ra_Not a number"}renderItem(t,n){const s=Array.isArray(this.state._value)||this.state._value===y.DIFFERENT_VALUE;if(this.state.oldValue!==null&&this.state.oldValue!==void 0?(this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>{this.updateTimeout=void 0,this.setState({oldValue:null})},30)):this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updateTimeout=void 0),s){const a=[...y.getValue(this.props.data,this.props.attr)].map(i=>({label:i.toString(),value:i}));return a.unshift({label:h.I18n.t(y.DIFFERENT_LABEL),value:y.DIFFERENT_VALUE}),l().createElement(u.Autocomplete,{className:this.props.classes.indeterminate,fullWidth:!0,freeSolo:!0,value:a[0],getOptionSelected:(i,c)=>i.label===c.label,onChange:(i,c)=>{this.onChange(this.props.attr,c==null?void 0:c.value,()=>{this.setState({_value:c==null?void 0:c.value,oldValue:this.state._value})})},options:a,getOptionLabel:i=>i.label,renderInput:i=>l().createElement(u.TextField,Ht(it({},i),{label:this.getText(this.props.schema.label),variant:"standard",inputProps:Ht(it({},i.inputProps),{readOnly:this.props.schema.readOnly||!1}),error:!!t,placeholder:this.getText(this.props.schema.placeholder),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:!!n}))})}return!t&&this.state._value!==null&&this.state._value!==void 0&&this.state._value&&(t=this.checkValue(this.state._value),t&&(t=h.I18n.t(t))),l().createElement(u.FormControl,{variant:"standard",className:this.props.classes.control},l().createElement(u.TextField,{variant:"standard",type:"number",fullWidth:!0,inputProps:{min:this.props.schema.min,max:this.props.schema.max,step:this.props.schema.step,readOnly:this.props.schema.readOnly||!1},value:this.state._value===null||this.state._value===void 0?"":this.state._value,error:!!t,disabled:!!n,onChange:o=>{const a=o.target.value,i=this.checkValue(a);i?this.onError(this.props.attr,h.I18n.t(i)):this.onError(this.props.attr),this.setState({_value:a,oldValue:this.state._value},()=>this.onChange(this.props.attr,parseFloat(a)))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:t&&typeof t=="string"?t:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}))}}const Md=(0,b.withStyles)(Id)(Pd),Nd=()=>({fullWidth:{width:"100%"},flex:{display:"flex"},button:{height:48,marginLeft:4,minWidth:48}});class Vs extends y{componentDidMount(){return lt(this,null,function*(){Wt(Vs.prototype,this,"componentDidMount").call(this);const{data:e,attr:t}=this.props,n=y.getValue(e,t)||"";this.setState({value:n,initialized:!0})})}renderItem(e,t){if(!this.state.initialized)return null;const{classes:n,schema:s,socket:o,attr:a}=this.props,{value:i,showSelectId:c}=this.state;return l().createElement(u.FormControl,{className:n.fullWidth,variant:"standard"},s.label?l().createElement(u.InputLabel,{shrink:!0},this.getText(s.label)):null,l().createElement("div",{className:n.flex},l().createElement(u.TextField,{variant:"standard",fullWidth:!0,value:i,error:!!e,disabled:t,placeholder:this.getText(s.placeholder),label:this.getText(s.label),helperText:this.renderHelp(s.help,s.helpLink,s.noTranslation),onChange:p=>{const g=p.target.value;this.setState({value:g},()=>this.onChange(a,g))}}),l().createElement(u.Button,{color:"grey",className:this.props.classes.button,size:"small",variant:"outlined",onClick:()=>this.setState({showSelectId:!0})},"...")),c?l().createElement(h.SelectID,{imagePrefix:this.props.imagePrefix===void 0?"../..":this.props.imagePrefix,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,dialogName:`admin.${this.props.adapterName}`,filterFunc:s.filterFunc,themeType:this.props.themeType,types:s.types?Array.isArray(s.types)?s.types:[s.types]:void 0,customFilter:s.customFilter,filters:s.filters,socket:o,statesOnly:s.all===void 0?!0:s.all,selected:i,root:s.root,onClose:()=>this.setState({showSelectId:!1}),onOk:p=>this.setState({showSelectId:!1,value:p},()=>this.onChange(a,p))}):null)}}Vs.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func,dateFormat:d().string,isFloatComma:d().bool,imagePrefix:d().string};const Od=(0,b.withStyles)(Nd)(Vs),_d=r=>({fullWidth:{width:"100%",display:"inline-block"},halfWidth1:{width:`calc(50% - ${r.spacing(.5)})`,display:"inline-block",marginRight:r.spacing(1)},halfWidth2:{width:`calc(50% - ${r.spacing(.5)})`,display:"inline-block"}}),ss="____ppp____";class No extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr);this.setState({_repeat:e?ss:"",_visible:!1,value:e?ss:"",_notEqual:!1})}onChangePassword(e,t){e===void 0&&(e=this.state.value),t===void 0&&(t=this.state._repeat);const n=!!this.props.schema.repeat&&t!==e;this.setState({value:e,_repeat:t,_notEqual:n},()=>{n?this.onError(this.props.attr,h.I18n.t("ra_Passwords are not equal!")):(this.onError(this.props.attr),this.onChange(this.props.attr,e))})}renderItem(e,t){if(this.state._notEqual===void 0)return null;const n=l().createElement(u.TextField,{variant:"standard",fullWidth:!0,type:this.state._visible&&this.state.value!==ss?"text":"password",value:this.state.value,error:!!e||this.state._notEqual,disabled:!!t,onChange:s=>this.onChangePassword(s.target.value),label:this.getText(this.props.schema.label),inputProps:{autoComplete:"new-password",form:{autoComplete:"off"},maxLength:this.props.schema.maxLength||this.props.schema.max||void 0},helperText:this.state._notEqual?h.I18n.t("ra_Passwords are not equal!"):this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),InputProps:{endAdornment:this.state.value&&this.state.value!==ss&&this.props.schema.visible?l().createElement(u.InputAdornment,{position:"end"},l().createElement(u.IconButton,{size:"large",tabIndex:-1,onClick:s=>{s.preventDefault(),s.stopPropagation(),this.setState({_visible:!this.state._visible})},edge:"end"},this.state._visible?l().createElement(D.VisibilityOff,null):l().createElement(D.Visibility,null))):void 0}});if(this.props.schema.repeat){const s=l().createElement(u.TextField,{variant:"standard",fullWidth:!0,type:this.state._visible&&this.state._repeat!==ss?"text":"password",value:this.state._repeat,error:!!e||this.state._notEqual,disabled:!!t,onChange:o=>this.onChangePassword(void 0,o.target.value),label:`${this.getText(this.props.schema.label)} (${h.I18n.t("ra_repeat")})`,inputProps:{autoComplete:"new-password",form:{autoComplete:"off"},maxLength:this.props.schema.maxLength||this.props.schema.max||void 0},helperText:this.state._notEqual?h.I18n.t("ra_Passwords are not equal!"):this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),InputProps:{endAdornment:this.state._repeat&&this.state._repeat!==ss?l().createElement(u.InputAdornment,{position:"end"},l().createElement(u.IconButton,{size:"large",tabIndex:-1,onClick:o=>{o.preventDefault(),o.stopPropagation(),this.setState({_visible:!this.state._visible})},edge:"end"},this.state._visible?l().createElement(D.VisibilityOff,null):l().createElement(D.Visibility,null))):void 0}});return l().createElement("div",{className:this.props.classes.fullWidth},l().createElement("div",{className:this.props.classes.halfWidth1},n),l().createElement("div",{className:this.props.classes.halfWidth2},s))}return n}}No.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const Rd=(0,b.withStyles)(_d)(No);class Oo extends y{renderItem(e,t){return l().createElement(u.TextField,{variant:"standard",fullWidth:!0,disabled:!!t,InputProps:{endAdornment:this.props.schema.copyToClipboard?l().createElement(u.IconButton,{size:"small",onClick:()=>{h.Utils.copyToClipboard(this.getPattern(this.props.schema.pattern)),window.alert("Copied")}},l().createElement(h.IconCopy,null)):void 0},value:this.getPattern(this.props.schema.pattern),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}Oo.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const Ld=Oo,Bd={indeterminate:{opacity:.5},control:{flexDirection:"row",width:"100%"},warning:{"& .Mui-error":{color:"orange"}}};class lr extends y{constructor(){super(...arguments);We(this,"updateTimeout")}componentDidMount(){return lt(this,null,function*(){Wt(lr.prototype,this,"componentDidMount").call(this);let t=y.getValue(this.props.data,this.props.attr);t==null&&(t=""),this.setState({_value:t.toString(),oldValue:t.toString()});const n=yield this.props.socket.getAdapterInstances(),s=`system.adapter.${this.props.adapterName}.${this.props.instance}`,o=yield this.props.socket.getObject(s),a=o==null?void 0:o.common.host,i=[];n.forEach(c=>{var g,C,v,M;if(!c||c._id===s||c.common.host!==a||!((g=c.native)!=null&&g.bind))return;if(c!=null&&c.native&&c.native.secure&&c.native.leEnabled&&c.native.leUpdate){const S=parseInt(c.native.leCheckPort||c.native.lePort,10);S&&i.push({name:`${c._id.replace("system.adapter.","")} (LE)`,port:S,v6bind:c.native.bind.includes(":")?c.native.bind:c.native.v6bind,bind:c.native.bind,enabled:!!((C=c.common)!=null&&C.enabled)})}const p=parseInt((v=c==null?void 0:c.native)==null?void 0:v.port,10);p&&i.push({name:c._id.replace("system.adapter.",""),bind:c.native.bind,v6bind:c.native.bind.includes(":")?c.native.bind:c.native.v6bind,port:p,enabled:!!((M=c.common)!=null&&M.enabled)})}),this.setState({ports:i})})}static getDerivedStateFromProps(t,n){const s=y.getValue(t.data,t.attr);return s==null||n.oldValue===null||n.oldValue===void 0||s.toString()!==parseInt(n._value,10).toString()&&s.toString()!==n.oldValue.toString()?{_value:s}:null}checkValue(t){if(t==null)return null;const n=this.props.schema.min===void 0?20:this.props.schema.min,s=this.props.schema.max||65535;t=t.toString().trim();const o=t===""?0:parseInt(t,10);return t!==""&&Number.isNaN(o)?"ra_Not a number":t!==""&&window.isFinite(Number(t))?o<n?"ra_Too small":o>s?"ra_Too big":t===""||t==="-"||Number.isNaN(o)?"ra_Not a number":null:"ra_Not a number"}renderItem(t,n){this.state.oldValue!==null&&this.state.oldValue!==void 0?(this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>{this.updateTimeout=void 0,this.setState({oldValue:null})},30)):this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updateTimeout=void 0);const s=this.props.schema.min===void 0?20:this.props.schema.min,o=this.props.schema.max||65535;let a;if(this.state.ports){const i=parseInt(this.state._value,10);if(i){const c=this.state.ports.filter(g=>!this.props.data.bind||this.props.data.bind===g.bind||this.props.data.bind==="0.0.0.0"||g.bind==="0.0.0.0");let p=c.findIndex(g=>g.port===i&&g.enabled);p!==-1?t=h.I18n.t("ra_Port is already used by %s",this.state.ports[p].name):(p=c.findIndex(g=>g.port===i&&!g.enabled),p!==-1&&(a=!0,t=h.I18n.t("ra_Port could be used by %s",this.state.ports[p].name)))}}return!t&&this.state._value!==null&&this.state._value!==void 0&&(t=this.checkValue(this.state._value),typeof t=="string"&&(t=h.I18n.t(t))),l().createElement(u.TextField,{variant:"standard",type:"number",fullWidth:!0,inputProps:{min:s,max:o,readOnly:this.props.schema.readOnly||!1},value:this.state._value===null||this.state._value===void 0?"":this.state._value,error:!!t,disabled:!!n,className:a?this.props.classes.warning:"",onChange:i=>{const c=Number(i.target.value.toString().replace(/[^0-9]/g,"")).toString(),p=this.checkValue(c);p?this.onError(this.props.attr,h.I18n.t(p)):this.onError(this.props.attr),this.setState({_value:c,oldValue:this.state._value},()=>{c.trim()===parseInt(c,10).toString()&&this.onChange(this.props.attr,parseInt(c,10)||0)})},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:t&&typeof t=="string"?t:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const $d=(0,b.withStyles)(Bd)(lr),Vd=()=>({fullWidth:{width:"100%"}});class _o extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr);this.props.socket.getEnums("rooms").then(t=>{const n=Object.keys(t).map(s=>({value:this.props.schema.short?s.replace("enum.rooms.",""):s,label:this.getText(t[s].common.name),obj:t[s]}));this.props.schema.allowDeactivate!==!1&&n.unshift({label:h.I18n.t(y.NONE_LABEL),value:y.NONE_VALUE}),this.setState({value:e,selectOptions:n})})}renderItem(e,t){if(!this.state.selectOptions)return null;const n=this.state.selectOptions.find(s=>s.value===this.state.value);return l().createElement(u.FormControl,{variant:"standard",className:this.props.classes.fullWidth},this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!e,disabled:!!t,value:this.state.value||"_",renderValue:()=>n?n.obj?l().createElement(h.TextWithIcon,{value:n.obj,themeType:this.props.themeType,lang:h.I18n.getLanguage()}):n.label:"",onChange:s=>{this.setState({value:s.target.value==="_"?"":s.target.value},()=>this.onChange(this.props.attr,this.state.value))}},this.state.selectOptions.map(s=>l().createElement(u.MenuItem,{key:s.value,value:s.value,style:s.value===y.DIFFERENT_VALUE?{opacity:.5}:{}},s.obj?l().createElement(h.TextWithIcon,{value:s.obj,themeType:this.props.themeType,lang:h.I18n.getLanguage()}):s.label))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}_o.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const jd=(0,b.withStyles)(Vd)(_o),Wd=()=>({fullWidth:{width:"100%"},noMargin:{"&>div":{marginTop:0}}});class Ro extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr),t=[];(this.props.schema.options||[]).forEach(n=>{if(Array.isArray(n.items)){t.push({label:n.label,value:n.value,group:!0}),n.items=n.items.forEach(s=>t.push(s));return}t.push(n)}),Array.isArray(e)?(this.initialValue=[...e],t.unshift({label:h.I18n.t(y.DIFFERENT_LABEL),value:y.DIFFERENT_VALUE}),this.setState({value:y.DIFFERENT_VALUE,selectOptions:t})):this.setState({value:e,selectOptions:t})}renderItem(e,t){if(!this.state.selectOptions)return null;const n=(this.state.selectOptions||[]).filter(o=>o.hidden?this.props.custom?!this.executeCustom(o.hidden,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!this.execute(o.hidden,this.props.schema.default,this.props.data,this.props.arrayIndex,this.props.globalData):!0),s=n.find(o=>o.value==this.state.value);return l().createElement(u.FormControl,{variant:"standard",className:h.Utils.clsx(this.props.classes.fullWidth,this.props.table!==void 0&&this.props.classes.noMargin),id:`jsonSelect_${this.props.schema.attr}_${this.props.index||this.props.index===0?this.props.index:""}`},this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!e,disabled:!!t,value:this.state.value||"_",renderValue:()=>this.getText(s==null?void 0:s.label,this.props.schema.noTranslation),onChange:o=>{this.setState({value:o.target.value==="_"?"":o.target.value},()=>{this.state.value===y.DIFFERENT_VALUE?this.onChange(this.props.attr,this.initialValue):this.onChange(this.props.attr,this.state.value)})}},n.map((o,a)=>o.group?l().createElement(u.ListSubheader,{key:a},this.getText(o.label,this.props.schema.noTranslation)):l().createElement(u.MenuItem,{key:a,value:o.value,style:o.value===y.DIFFERENT_VALUE?{opacity:.5}:{}},this.getText(o.label,this.props.schema.noTranslation)))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}Ro.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const Ud=(0,b.withStyles)(Wd)(Ro),Hd={fullWidth:{width:"100%"},menuPaper:{maxHeight:800}};class zd extends y{componentDidMount(){super.componentDidMount(),this.askInstance()}askInstance(){if(this.props.alive){let e=this.props.schema.data;if(e===void 0&&this.props.schema.jsonData){const t=this.getPattern(this.props.schema.jsonData);try{e=JSON.parse(t)}catch(n){console.error(`Cannot parse json data: ${t}`)}}e===void 0&&(e=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",e).then(t=>this.setState({list:t,context:this.getContext()}))}else{const e=y.getValue(this.props.data,this.props.attr);this.setState({value:e})}}getContext(){const e={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(t=>e[t]=y.getValue(this.props.data,t)),JSON.stringify(e)}_getValue(){let e=this.state.value===null||this.state.value===void 0?y.getValue(this.props.data,this.props.attr):this.state.value;return this.props.schema.multiple&&(typeof e=="string"?e=[e]:e==null&&(e=[])),e}renderItem(e,t){this.props.alive&&this.getContext()!==this.state.context&&setTimeout(()=>this.askInstance(),300);const n=this._getValue();if(!this.props.alive)return this.props.schema.multiple||this.props.schema.manual===!1?h.I18n.t("ra_Cannot retrieve options, as instance is offline"):l().createElement(u.TextField,{variant:"standard",fullWidth:!0,value:n,error:!!e,disabled:!!t,onChange:a=>{const i=a.target.value;this.setState({value:i},()=>this.onChange(this.props.attr,(i||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),InputProps:{endAdornment:this.state.value&&!this.props.schema.noClearButton?l().createElement(u.InputAdornment,{position:"end"},l().createElement(u.IconButton,{size:"small",onClick:()=>this.setState({value:""},()=>this.onChange(this.props.attr,""))},l().createElement(D.Close,null))):null}});if(!this.state.list)return l().createElement(u.CircularProgress,{size:"small"});const s=this.state.list.filter(a=>a.hidden?this.props.custom?!this.executeCustom(a.hidden,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!this.execute(a.hidden,this.props.schema.default,this.props.data,this.props.arrayIndex,this.props.globalData):!0),o=s.find(a=>a.value===n);return l().createElement(u.FormControl,{variant:"standard",className:this.props.classes.fullWidth},this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!e,multiple:this.props.schema.multiple,disabled:!!t,value:n,MenuProps:this.props.schema.multiple?{classes:{paper:this.props.classes.menuPaper}}:void 0,renderValue:a=>this.props.schema.multiple?l().createElement(u.Box,{sx:{display:"flex",flexWrap:"wrap",gap:.5}},a.map(i=>{const c=s.find(p=>p.value===i);if(c||this.props.schema.showAllValues!==!1){const p=(c==null?void 0:c.label)||i;return l().createElement(u.Chip,{key:i,label:p})}return null})):(o==null?void 0:o.label)||a,onChange:a=>{this.onChange(this.props.attr,a.target.value)}},s.map((a,i)=>l().createElement(u.MenuItem,{key:i,value:a.value},this.props.schema.multiple?l().createElement(u.Checkbox,{checked:n.includes(a.value),onClick:()=>{const c=JSON.parse(JSON.stringify(this._getValue())),p=n.indexOf(a.value);p!==-1?c.splice(p,1):(c.push(a.value),c.sort()),this.setState({value:c},()=>this.onChange(this.props.attr,c))}}):null,l().createElement(u.ListItemText,{primary:a.label})))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const Jd=(0,b.withStyles)(Hd)(zd),Yd={fullWidth:{width:"100%"},icon:{width:24,height:24,marginRight:4}};function kn(r){return r.split(".").reduce((e,t)=>(e<<8)+parseInt(t,10),0)>>>0}function Kd(r,e){var s,o;const t=(o=(s=r==null?void 0:r.native)==null?void 0:s.hardware)==null?void 0:o.networkInterfaces;if(!t)return null;let n;return Object.keys(t).forEach(a=>t[a].forEach(i=>{i.internal||e.includes(":")&&i.family!=="IPv6"||e.includes(".")&&!e.match(/[^.\d]/)&&i.family!=="IPv4"||(i.family==="IPv4"&&!i.address.startsWith("172")&&(e==="127.0.0.0"||e==="localhost"||e.match(/[^.\d]/))?n=i.address:n||(i.family==="IPv4"&&e.includes(".")&&(kn(e)&kn(i.netmask),kn(i.address)&kn(i.netmask)),n=i.address))})),n||Object.keys(t).forEach(a=>t[a].forEach(i=>{i.internal||e.includes(":")&&i.family!=="IPv6"||e.includes(".")&&!e.match(/[^.\d]/)&&i.family!=="IPv4"||(i.family==="IPv6"&&(e==="127.0.0.0"||e==="localhost"||e.match(/[^.\d]/))?n=i.address:n||(i.family==="IPv4"&&e.includes(".")&&(kn(e)&kn(i.netmask),kn(i.address)&kn(i.netmask)),n=i.address))})),n||Object.keys(t).forEach(a=>{t[a].forEach(i=>{i.internal||e.includes(":")&&i.family!=="IPv6"||e.includes(".")&&!e.match(/[^.\d]/)&&i.family!=="IPv4"||(e==="127.0.0.0"||e==="localhost"||e.match(/[^.\d]/),n=i.address)})}),n||Object.keys(t).forEach(a=>{t[a].forEach(i=>{i.internal||(n=i.address)})}),n}class cr extends y{componentDidMount(){return lt(this,null,function*(){var t;Wt(cr.prototype,this,"componentDidMount").call(this);let e=window.location.hostname;if(this.props.schema.openUrl){const n=yield this.props.socket.getCurrentInstance(),s=yield this.props.socket.getObject(`system.adapter.${n}`);if(s){const o=yield this.props.socket.getObject(`system.host.${(t=s==null?void 0:s.common)==null?void 0:t.host}`);if(o){const a=Kd(o,window.location.hostname);if(a)e=`${a}:${window.location.port}`;else{console.warn(`Cannot find suitable IP in host ${s.common.host} for ${s._id}`);return}}}}yield new Promise(n=>{this.setState({_error:"",_message:"",hostname:e},n)}),this.props.schema.onLoaded&&this._onClick()})}renderErrorDialog(){return this.state._error?l().createElement(h.Error,{text:this.state._error,onClose:()=>this.setState({_error:""})}):null}renderMessageDialog(){return this.state._message?l().createElement(h.Message,{text:this.state._message,onClose:()=>this.setState({_message:""})}):null}_onClick(){this.props.onCommandRunning(!0),this.setState({running:!0});const e=`${window.location.protocol}//${window.location.host}${window.location.pathname.replace(/\/index\.html$/,"")}`,t=`${window.location.protocol}//${this.state.hostname.split(":").length>3?`[${this.state.hostname}]`:this.state.hostname}${window.location.pathname.replace(/\/index\.html$/,"")}`;let n=this.props.schema.data;if(n===void 0&&this.props.schema.jsonData){const o=this.getPattern(this.props.schema.jsonData,it({_origin:e,_originIp:t},this.props.data));try{n=JSON.parse(o)}catch(a){console.error(`Cannot parse json data: ${o}`)}}n===void 0&&(n=null),this.props.schema.openUrl&&!n&&(n={_origin:e,_originIp:t});let s;this.props.schema.timeout&&(s=setTimeout(()=>{this.props.onCommandRunning(!1),this.setState({_error:h.I18n.t("ra_Request timed out"),running:!1})},parseInt(this.props.schema.timeout,10)||1e4)),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",n).then(o=>lt(this,null,function*(){if(s&&(clearTimeout(s),s=void 0),o!=null&&o.error)if(this.props.schema.error&&this.props.schema.error[o.error]){let a=this.getText(this.props.schema.error[o.error]);o.args&&o.args.forEach(i=>a=a.replace("%s",i)),this.setState({_error:a})}else this.setState({_error:o.error?h.I18n.t(o.error):h.I18n.t("ra_Error")});else{if(o!=null&&o.reloadBrowser&&this.props.schema.reloadBrowser)window.location.reload();else if(o!=null&&o.openUrl&&this.props.schema.openUrl)window.open(o.openUrl,o.window||this.props.schema.window||"_blank");else if(o!=null&&o.result&&this.props.schema.result&&this.props.schema.result[o.result]){let a=this.getText(this.props.schema.result[o.result]);o.args&&o.args.forEach(i=>a=a.replace("%s",i)),window.alert(a)}if(o!=null&&o.native&&this.props.schema.useNative){for(const[a,i]of Object.entries(o.native))yield this.onChangeAsync(a,i);setTimeout(()=>this.props.forceUpdate(Object.keys(o.native),this.props.data),300)}else o!=null&&o.result?window.alert(typeof o.result=="object"?JSON.stringify(o.result):o.result):window.alert(h.I18n.t("ra_Ok"));o!=null&&o.saveConfig&&this.props.onChange(null,null,null,!0)}})).catch(o=>{this.props.schema.error&&this.props.schema.error[o.toString()]?this.setState({_error:this.getText(this.props.schema.error[o.toString()])}):this.setState({_error:h.I18n.t(o.toString())||h.I18n.t("ra_Error")})}).then(()=>{this.props.onCommandRunning(!1),this.setState({running:!1})})}renderConfirmDialog(){if(!this.state.confirmDialog)return null;const e=this.state.confirmData||this.props.schema.confirm;let t=null;return e.type==="warning"?t=l().createElement(D.Warning,null):e.type==="error"?t=l().createElement(D.Error,null):e.type==="info"&&(t=l().createElement(D.Info,null)),l().createElement(h.Confirm,{title:this.getText(e.title)||h.I18n.t("ra_Please confirm"),text:this.getText(e.text),ok:this.getText(e.ok)||h.I18n.t("ra_Ok"),cancel:this.getText(e.cancel)||h.I18n.t("ra_Cancel"),icon:t||void 0,onClose:n=>this.setState({confirmDialog:!1},()=>n&&this._onClick())})}renderItem(e,t){const n=this.getIcon();return l().createElement("div",{className:this.props.classes.fullWidth},l().createElement(u.Button,{variant:this.props.schema.variant||void 0,color:this.props.schema.color||"grey",className:this.props.classes.fullWidth,disabled:t||!this.props.alive,startIcon:n,title:this.props.alive?this.getText(this.props.schema.title)||"":h.I18n.t("ra_Instance is not alive"),onClick:()=>{this.props.schema.confirm?this.setState({confirmDialog:!0}):this._onClick()}},this.props.schema.showProcess&&this.state.running?l().createElement(u.CircularProgress,{size:20,style:{marginRight:8}}):null,this.getText(this.props.schema.label,this.props.schema.noTranslation)),this.renderErrorDialog(),this.renderMessageDialog())}}const Lo=(0,b.withStyles)(Yd)(cr),Gd=()=>({fullWidth:{width:"100%"},icon:{width:24,height:24,marginRight:4}});class Bo extends y{_onClick(){return lt(this,null,function*(){var n,s;let e=this.props.schema.val;if(typeof e=="string"&&e.includes("${")){e=this.getPattern(e);const o=yield this.props.socket.getObject(this.props.schema.id);((n=o==null?void 0:o.common)==null?void 0:n.type)==="number"?e=parseFloat(e):((s=o==null?void 0:o.common)==null?void 0:s.type)==="boolean"&&(e=e==="true"||e===!0||e==="1"||e===1)}const t=(this.props.schema.id||"").replace(/%INSTANCE%/g,this.props.instance);try{yield this.props.socket.setState(t,{val:e,ack:!!this.props.schema.ack}),this.props.schema.okText&&window.alert(this.getText(this.props.schema.okText))}catch(o){this.props.schema.error&&this.props.schema.error[o.toString()]?window.alert(this.getText(this.props.schema.error[o.toString()])):window.alert(h.I18n.t(o.toString())||h.I18n.t("ra_Error"))}})}renderConfirmDialog(){if(!this.state.confirmDialog)return null;const e=this.state.confirmData||this.props.schema.confirm;let t=null;return e.type==="warning"?t=l().createElement(D.Warning,null):e.type==="error"?t=l().createElement(D.Error,null):e.type==="info"&&(t=l().createElement(D.Info,null)),l().createElement(h.Confirm,{title:this.getText(e.title)||h.I18n.t("ra_Please confirm"),text:this.getText(e.text),ok:this.getText(e.ok)||h.I18n.t("ra_Ok"),cancel:this.getText(e.cancel)||h.I18n.t("ra_Cancel"),icon:t,onClose:n=>this.setState({confirmDialog:!1},()=>n&&this._onClick())})}renderItem(e,t){return l().createElement(u.Button,{variant:this.props.schema.variant||void 0,color:this.props.schema.color||"grey",className:this.props.classes.fullWidth,disabled:t,onClick:()=>lt(this,null,function*(){this.props.schema.confirm?this.setState({confirmDialog:!0}):yield this._onClick()})},this.props.schema.icon?l().createElement(h.Icon,{src:this.props.schema.icon,className:this.props.classes.icon}):null,this.getText(this.props.schema.label,this.props.schema.noTranslation))}}Bo.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func,adapterName:d().string,instance:d().number,commandRunning:d().bool,onCommandRunning:d().func};const qd=(0,b.withStyles)(Gd)(Bo),Qd=()=>({fullWidth:{width:"100%"},slider:{marginLeft:10,marginRight:10,width:"calc(100% - 20px)"}});class $o extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr);this.setState({_value:e})}static getDerivedStateFromProps(e,t){if(e.schema.min!==void 0&&e.schema.min<0||e.schema.max!==void 0&&e.schema.max<0)return null;const n=y.getValue(e.data,e.attr);return n==null||n.toString()!==parseFloat(t._value).toString()?{_value:n}:null}renderItem(e,t){const n=this.props.schema.min||0,s=this.props.schema.max||100,o=this.props.schema.unit||"",a=[{value:n,label:n+o},{value:s,label:s+o}];return l().createElement(u.Box,{className:this.props.classes.fullWidth},this.props.schema.label?l().createElement(u.Typography,{gutterBottom:!0},this.getText(this.props.schema.label)):null,l().createElement(u.Slider,{className:this.props.classes.slider,value:this.state._value,getAriaValueText:i=>i+o,step:this.props.schema.step||(s-n)/100,valueLabelDisplay:"auto",marks:a,min:n,max:s,disabled:!!t,error:e||"",onChange:i=>{const c=i.target.value;this.setState({_value:c},()=>this.onChange(this.props.attr,c))}}),this.props.schema.help?l().createElement(u.Typography,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}$o.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const Xd=(0,b.withStyles)(Qd)($o),Zd=r=>({fullWidth:{width:"100%",backgroundColor:r.palette.mode==="dark"?"#FFF":"#000",borderStyle:"hidden"},primary:{backgroundColor:r.palette.primary.main},secondary:{backgroundColor:r.palette.secondary.main}});class Vo extends y{renderItem(){return l().createElement("hr",{className:h.Utils.clsx(this.props.classes.fullWidth,this.props.schema.color==="primary"&&this.props.classes.primary,this.props.schema.color==="secondary"&&this.props.classes.secondary),style:{height:this.props.schema.color?this.props.schema.height||2:this.props.schema.height||1,backgroundColor:this.props.schema.color!=="primary"&&this.props.schema.color!=="secondary"&&this.props.schema.color?this.props.schema.color:void 0}})}}Vo.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const ep=(0,b.withStyles)(Zd)(Vo),tp=r=>({header:{width:"100%",background:r.palette.primary.main,color:r.palette.primary.contrastText,padding:"4px !important",borderRadius:3,marginBlockEnd:0,marginBlockStart:0}});class jo extends y{renderItem(){switch((this.props.schema.size||5).toString()){case"1":return l().createElement("h1",{className:this.props.classes.header},this.getText(this.props.schema.text,this.props.schema.noTranslation));case"2":return l().createElement("h2",{className:this.props.classes.header},this.getText(this.props.schema.text,this.props.schema.noTranslation));case"3":return l().createElement("h3",{className:this.props.classes.header},this.getText(this.props.schema.text,this.props.schema.noTranslation));case"4":return l().createElement("h4",{className:this.props.classes.header},this.getText(this.props.schema.text,this.props.schema.noTranslation));case"5":default:return l().createElement("h5",{className:this.props.classes.header},this.getText(this.props.schema.text,this.props.schema.noTranslation))}}}jo.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const np=(0,b.withStyles)(tp)(jo),sp=()=>({fullWidth:{height:"100%",width:"100%"}});class Wo extends y{renderItem(){let e=this.props.schema.src;return e&&!e.startsWith(".")&&!e.startsWith("http")&&!e.startsWith(`adapter/${this.props.adapterName}/`)&&!e.startsWith(`./adapter/${this.props.adapterName}/`)&&(e=`adapter/${this.props.adapterName}/${e}`),l().createElement("img",{className:this.props.classes.fullWidth,src:e,style:this.props.schema.href?{cursor:"pointer"}:{},onClick:this.props.schema.href?()=>this.props.schema.href&&window.open(this.props.schema.href,"_blank"):null,alt:""})}}Wo.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const rp=(0,b.withStyles)(sp)(Wo),op=r=>({fullWidth:{height:"100%",width:"100%"},link:{textDecoration:"underline",color:r.palette.mode==="dark"?"#4dabf5":"#254e72",cursor:"pointer"}});class Uo extends y{renderItem(e,t){if(this.props.schema.button){const s=this.getIcon();return l().createElement(u.Button,{variant:this.props.schema.variant||void 0,color:this.props.schema.color||"grey",className:this.props.classes.fullWidth,disabled:t,startIcon:s,onClick:this.props.schema.href?()=>{const o=this.props.schema.href?this.getText(this.props.schema.href,!0):null;o&&window.open(o,"_blank")}:null},this.getText(this.props.schema.text||this.props.schema.label,this.props.schema.noTranslation))}let n=this.getText(this.props.schema.text||this.props.schema.label,this.props.schema.noTranslation);return n&&(n.includes("<a ")||n.includes("<br")||n.includes("<b>")||n.includes("<i>"))&&(n=h.Utils.renderTextWithA(n)),l().createElement("span",{className:this.props.schema.href?this.props.classes.link:"",onClick:this.props.schema.href?()=>{const s=this.props.schema.href?this.getText(this.props.schema.href,!0):null;s&&window.open(s,"_blank")}:null},n)}}Uo.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const Ho=(0,b.withStyles)(op)(Uo),ur=1024*1024,ap=r=>({fullWidth:{width:"100%"},root:{width:"100%"},paper:{width:"100%",marginBottom:r.spacing(2),backgroundColor:"rgba(255, 255, 255, 0.1)"},headerText:{width:"100%"},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},label:{display:"flex",justifyContent:"space-between"},highlight:r.palette.mode==="light"?{color:r.palette.secondary.main}:{color:r.palette.text.primary,backgroundColor:r.palette.secondary.dark},title:{flex:"1 1 100%"},rootTool:{paddingLeft:r.spacing(2),paddingRight:r.spacing(1)},silver:{opacity:.2},flex:{display:"flex",alignItems:"baseline"},filteredOut:{padding:10,display:"flex",textAlign:"center"},buttonEmpty:{width:34,display:"inline-block"},buttonCell:{whiteSpace:"nowrap"},dropZone:{width:"100%",height:100,position:"relative"},dropZoneEmpty:{},uploadDiv:{position:"relative",width:"100%",height:300,opacity:.9,marginTop:30,cursor:"pointer",outline:"none"},uploadDivDragging:{opacity:1,background:"rgba(128,255,128,0.1)"},image:{objectFit:"contain",margin:"auto",display:"flex",width:"100%",height:"100%"},uploadCenterDiv:{margin:5,border:"3px dashed grey",borderRadius:5,width:"calc(100% - 10px)",height:"calc(100% - 10px)",minHeight:300,position:"relative",display:"flex"},uploadCenterIcon:{paddingTop:10,width:48,height:48},uploadCenterText:{fontSize:16},uploadCenterTextAndIcon:{textAlign:"center",position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},buttonRemoveWrapper:{position:"absolute",zIndex:222,right:0},error:{border:"2px solid red",boxSizing:"border-box"}});function ip(r,e,t){e=e||"key";const n=[];return Object.keys(r).forEach(s=>{const o={};o[e]=s,t?(o[t]=r[s],n.push(o)):n.push(Object.assign(o,r[s]))}),n}function zo(r,e,t){e=e||"key";const n={};return r.forEach(s=>{let o=s[e];o==null&&(o=""),delete s[e],t?n[o]=s[t]:n[o]=s}),n}function lp(r,e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(r[n%r.length].charCodeAt(0)^e.charCodeAt(n));return t}function cp(r,e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(r[n%r.length].charCodeAt(0)^e.charCodeAt(n));return t}class qt extends y{constructor(t){super(t);We(this,"filterRefs");We(this,"typingTimer",null);We(this,"secret","Zgfr56gFe87jJOM");We(this,"handleRequestSort",(t,n=!1)=>{const{order:s,orderBy:o}=this.state;if(o){const i=n?s:o===t&&s==="asc"?"desc":"asc",c=this.stableSort(i,t);this.setState({order:i,orderBy:t,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,c))}});We(this,"stableSort",(t,n)=>{const{value:s}=this.state,o=qt.getComparator(t,n),a=s.map((i,c)=>({el:i,index:c}));return a.sort((i,c)=>{const p=o(i.el,c.el);return p!==0?p:i.index-c.index}),a.map(i=>i.el)});We(this,"onDelete",t=>()=>{const n=JSON.parse(JSON.stringify(this.state.value));n.splice(t,1),this.setState({value:n,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))});We(this,"onClone",t=>()=>{const n=JSON.parse(JSON.stringify(this.state.value)),s=JSON.parse(JSON.stringify(n[t]));if(typeof this.props.schema.clone=="string"&&typeof s[this.props.schema.clone]=="string"){let o=1,a=s[this.props.schema.clone];const i=a.match(/(\d+)$/);for(i?(a=a.replace(i[0],""),o=parseInt(i[0],10)+1):a+="_";n.find(c=>c[this.props.schema.clone]===a+o.toString());)o++;s[this.props.schema.clone]=`${s[this.props.schema.clone]}_${o}`}n.splice(t,0,s),this.setState({value:n,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))});We(this,"onChangeWrapper",(t,n)=>{this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=setTimeout((s,o)=>{if(this.typingTimer=null,this.props.schema.encryptedAttributes){const a=JSON.parse(JSON.stringify(s));if(a.forEach(i=>{this.props.schema.encryptedAttributes.forEach(c=>{i[c]&&(i[c]=lp(this.secret,i[c]))})}),this.props.schema.objKeyName){const i=zo(a,this.props.schema.objKeyName,this.props.schema.objValueName);this.onChange(this.props.attr,i)}else this.onChange(this.props.attr,a)}else if(this.props.schema.objKeyName){const a=zo(JSON.parse(JSON.stringify(s)),this.props.schema.objKeyName,this.props.schema.objValueName);this.onChange(this.props.attr,a)}else this.onChange(this.props.attr,s);o&&(this.applyFilter(!1,s),this.handleRequestSort(this.state.orderBy,!0))},300,t,n)});We(this,"onAdd",()=>{var o;const{schema:t}=this.props,n=JSON.parse(JSON.stringify(this.state.value)),s=(o=t.items)==null?void 0:o.reduce((a,i)=>{let c;return i.defaultFunc?this.props.custom?c=i.defaultFunc?this.executeCustom(i.defaultFunc,this.props.data,this.props.customObj,this.props.instanceObj,n.length,this.props.data):this.props.schema.default:c=i.defaultFunc?this.execute(i.defaultFunc,this.props.schema.default,this.props.data,n.length,this.props.data):this.props.schema.default:c=i.default===void 0?null:i.default,a[i.attr]=c,a},{});n.push(s),this.setState({value:n},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))});We(this,"applyFilter",(t,n,s)=>{n=n||this.state.value;let o=n.map((a,i)=>i);if(Object.keys(this.filterRefs).forEach(a=>{let i=qt.getFilterValue(this.filterRefs[a]);!t&&i?(i=i.toLowerCase(),o=o.filter(c=>n[c]&&n[c][a]&&n[c][a].toLowerCase().includes(i))):this.filterRefs[a].current&&qt.setFilterValue(this.filterRefs[a],"")}),o.length===n.length&&(o=null),o===null&&this.state.visibleValue===null){s&&s();return}JSON.stringify(o)!==JSON.stringify(this.state.visibleValue)?this.setState({visibleValue:o},()=>s&&s()):s&&s()});this.filterRefs={},this.props.schema.items=this.props.schema.items||[],this.props.schema.items.forEach(n=>{n.filter&&(this.filterRefs[n.attr]=(0,V.createRef)())})}componentDidMount(){return lt(this,null,function*(){Wt(qt.prototype,this,"componentDidMount").call(this);const t=y.getValue(this.props.data,this.props.attr)||[];let n;if(this.props.schema.objKeyName?n=ip(t,this.props.schema.objKeyName,this.props.schema.objValueName):n=t,Array.isArray(t)||(n=[]),this.props.schema.encryptedAttributes){const s=yield this.props.socket.getCompactSystemConfig();this.secret=(s==null?void 0:s.native.secret)||this.secret,t.forEach(o=>{this.props.schema.encryptedAttributes.forEach(a=>{o[a]&&(o[a]=cp(this.secret,o[a]))})})}this.setState({value:n,visibleValue:null,orderBy:"",order:"asc",iteration:0,filterOn:[]},()=>this.validateUniqueProps())})}componentWillUnmount(){this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=null,super.componentWillUnmount()}itemTable(t,n,s){const{value:o}=this.state,{schema:a}=this.props,i=a.items&&a.items.find(p=>p.attr===t);if(!i)return null;const c={items:{[t]:i}};return l().createElement(Ds,{index:s+this.state.iteration,arrayIndex:s,changed:this.props.changed,globalData:this.props.data,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,alive:this.props.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:n,table:!0,custom:!0,schema:c,systemConfig:this.props.systemConfig,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,imagePrefix:this.props.imagePrefix,onCommandRunning:this.props.onCommandRunning,forceUpdate:this.props.forceUpdate,originalData:this.props.originalData,customs:this.props.customs,onChange:(p,g)=>{const C=JSON.parse(JSON.stringify(o));C[s][p]=g,this.setState({value:C},()=>{this.validateUniqueProps(),this.onChangeWrapper(C,!0)})},onError:(p,g)=>this.onError(p,g)})}validateUniqueProps(){if(this.props.schema.uniqueColumns)for(const t of this.props.schema.uniqueColumns){const n=[];this.state.value.find(o=>{const a=o[t];return n.includes(a)?(this.onError(t,"is not unique"),this.setState({errorMessage:h.I18n.t('Non-allowed duplicate entry "%s" in column "%s"',a,t)}),!0):(n.push(a),!1)})||(this.onError(t,null),this.setState({errorMessage:""}))}}static descendingComparator(t,n,s){return n[s]<t[s]?-1:n[s]>t[s]?1:0}static getComparator(t,n){return t==="desc"?(s,o)=>qt.descendingComparator(s,o,n):(s,o)=>-qt.descendingComparator(s,o,n)}static getFilterValue(t){var n,s,o;return(o=(s=(n=t==null?void 0:t.current)==null?void 0:n.children[0])==null?void 0:s.children[0])==null?void 0:o.value}static setFilterValue(t,n){return t.current.children[0].children[0].value=n}enhancedTableHead(t,n){const{schema:s,classes:o}=this.props,{order:a,orderBy:i}=this.state;return l().createElement(u.TableHead,null,l().createElement(u.TableRow,null,s.items&&s.items.map((c,p)=>l().createElement(u.TableCell,{style:{width:(typeof c.width=="string"&&c.width.endsWith("%"),c.width)},key:`${c.attr}_${p}`,align:"left",sortDirection:i===c.attr?a:!1},l().createElement("div",{className:o.flex,style:s.showFirstAddOnTop?{flexDirection:"column"}:void 0},!p&&!s.noDelete?l().createElement(u.Tooltip,{title:n?h.I18n.t("ra_Cannot add items with set filter"):h.I18n.t("ra_Add row")},l().createElement("span",null,l().createElement(u.IconButton,{size:"small",color:"primary",disabled:!!n&&!this.props.schema.allowAddByFilter,onClick:this.onAdd},l().createElement(D.Add,null)))):null,c.sort&&l().createElement(u.TableSortLabel,{active:!0,className:h.Utils.clsx(i!==c.attr&&o.silver),direction:i===c.attr?a:"asc",onClick:()=>this.handleRequestSort(c.attr)}),c.filter&&this.state.filterOn.includes(c.attr)?l().createElement(u.TextField,{variant:"standard",ref:this.filterRefs[c.attr],onChange:()=>this.applyFilter(),title:h.I18n.t("ra_You can filter entries by entering here some text"),InputProps:{endAdornment:qt.getFilterValue(this.filterRefs[c.attr])&&l().createElement(u.InputAdornment,{position:"end"},l().createElement(u.IconButton,{size:"small",onClick:()=>{qt.setFilterValue(this.filterRefs[c.attr],""),this.applyFilter()}},l().createElement(D.Close,null)))},fullWidth:!0,placeholder:this.getText(c.title)}):l().createElement("span",{className:this.props.classes.headerText},this.getText(c.title)),c.filter?l().createElement(u.IconButton,{title:h.I18n.t("ra_Show/hide filter input"),size:"small",onClick:()=>{const g=[...this.state.filterOn],C=this.state.filterOn.indexOf(c.attr);C===-1?g.push(c.attr):g.splice(C,1),this.setState({filterOn:g},()=>{C&&qt.getFilterValue(this.filterRefs[c.attr])&&(qt.setFilterValue(this.filterRefs[c.attr],""),this.applyFilter())})}},this.state.filterOn.includes(c.attr)?l().createElement(D.FilterAltOff,null):l().createElement(D.FilterAlt,null)):null))),!s.noDelete&&l().createElement(u.TableCell,{style:{paddingLeft:20,paddingRight:20,width:t,textAlign:"right"},padding:"checkbox"},s.import?l().createElement(u.IconButton,{style:{marginRight:10},size:"small",onClick:()=>this.setState({showImportDialog:!0}),title:h.I18n.t("ra_import data from %s file","CSV")},l().createElement(D.UploadFile,null)):null,s.export?l().createElement(u.IconButton,{style:{marginRight:10},size:"small",onClick:()=>this.onExport(),title:h.I18n.t("ra_Export data to %s file","CSV")},l().createElement(D.Download,null)):null,l().createElement(u.IconButton,{disabled:!0,size:"small"},l().createElement(D.Delete,null)))))}onExport(){const{schema:t}=this.props,{value:n}=this.state,o=[t.items.map(c=>c.attr).join(";")];n.forEach(c=>{const p=[];t.items.forEach(g=>{c[g.attr].includes(";")?p.push(`"${c[g.attr]}"`):p.push(c[g.attr])}),o.push(p.join(";"))});const a=document.createElement("a");a.setAttribute("href",`data:text/csv;charset=utf-8,${encodeURIComponent(o.join(`
`))}`);const i=new Date;a.setAttribute("download",`${i.getFullYear()}_${(i.getMonth()+1).toString().padStart(2,"0")}_${i.getDate().toString().padStart(2,"0")}_${this.props.adapterName}.${this.props.instance}_${this.props.attr}.csv`),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}onImport(t){var i;const n=t.split(`
`).map(c=>c.replace("\r","").trim()),{schema:s}=this.props,o=n.shift().split(";").filter(c=>c&&s.items.find(p=>p.attr===c)),a=[];n.forEach(c=>{const p=c.split(";"),g={};for(let C=0;C<p.length;C++){let v=p[C];if(v.startsWith('"')){for(v=v.substring(1);C<p.length&&!v.endsWith('"');)v+=`;${p[++C]}`;v=v.substring(0,v.length-1)}let M=v;if(v==="true")M=!0;else if(v==="false")M=!1;else if(window.isFinite(v)){const S=this.props.schema.items.find(T=>T.attr===o[C]);S&&S.type==="number"?M=parseFloat(v):M=v}else M=v;g[o[C]]=M}a.push(g)}),a.length?(i=this.state.value)!=null&&i.length?this.setState({showTypeOfImportDialog:a,showImportDialog:!1}):this.setState({value:a,showImportDialog:!1}):window.alert("ra_No data found in file")}isAnyFilterSet(){return!!Object.keys(this.filterRefs).find(t=>qt.getFilterValue(this.filterRefs[t]))}onMoveUp(t){const n=JSON.parse(JSON.stringify(this.state.value)),s=n[t];n.splice(t,1),n.splice(t-1,0,s),this.setState({value:n,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))}onMoveDown(t){const n=JSON.parse(JSON.stringify(this.state.value)),s=n[t];n.splice(t,1),n.splice(t+1,0,s),this.setState({value:n,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))}onDrop(t){const n=t[0],s=new FileReader;s.onabort=()=>console.log("file reading was aborted"),s.onerror=()=>console.log("file reading has failed"),s.onload=()=>{if(n.size>ur){window.alert(h.I18n.t("ra_File is too big. Max %sk allowed. Try use SVG.",Math.round(ur/1024)));return}const o=new Uint8Array(s.result).reduce((a,i)=>a+String.fromCharCode(i),"");this.onImport(o)},s.readAsArrayBuffer(n)}showTypeOfImportDialog(){return this.state.showTypeOfImportDialog?l().createElement(u.Dialog,{open:!0,onClose:()=>this.setState({showTypeOfImportDialog:!1}),maxWidth:"md"},l().createElement(u.DialogTitle,null,h.I18n.t("ra_Append or replace?")),l().createElement(u.DialogContent,null,h.I18n.t("ra_Append %s entries or replace existing?",this.state.showTypeOfImportDialog.length)),l().createElement(u.DialogActions,null,l().createElement(u.Button,{variant:"contained",color:"primary",autoFocus:!0,onClick:()=>{const t=JSON.parse(JSON.stringify(this.state.value));this.state.showTypeOfImportDialog.forEach(n=>t.push(n)),this.setState({value:t,iteration:this.state.iteration+1e4,showTypeOfImportDialog:!1},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(t)))}},h.I18n.t("ra_Append")),l().createElement(u.Button,{variant:"contained",color:"secondary",autoFocus:!0,onClick:()=>{const t=this.state.showTypeOfImportDialog;this.setState({value:t,iteration:this.state.iteration+1e4,showTypeOfImportDialog:!1},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(t)))}},h.I18n.t("ra_Replace")))):null}showImportDialog(){return this.state.showImportDialog?l().createElement(u.Dialog,{open:!0,onClose:()=>this.setState({showImportDialog:!1}),maxWidth:"md",fullWidth:!0},l().createElement(u.DialogTitle,null,h.I18n.t("ra_Import from %s","CSV")),l().createElement(u.DialogContent,null,l().createElement(Eo(),{multiple:!1,accept:{"text/csv":[".csv"]},maxSize:ur,onDragEnter:()=>this.setState({uploadFile:"dragging"}),onDragLeave:()=>this.setState({uploadFile:!0}),onDrop:(t,n)=>{this.setState({uploadFile:!1}),t.length?this.onDrop(t):window.alert(n&&n[0]&&n[0].errors&&n[0].errors[0]&&n[0].errors[0].message||h.I18n.t("ra_Cannot upload"))}},({getRootProps:t,getInputProps:n})=>l().createElement("div",it({className:h.Utils.clsx(this.props.classes.uploadDiv,this.state.uploadFile==="dragging"&&this.props.classes.uploadDivDragging,this.props.classes.dropZone,!this.state.icon&&this.props.classes.dropZoneEmpty)},t()),l().createElement("input",it({},n())),l().createElement("div",{className:h.Utils.clsx(this.props.classes.uploadCenterDiv)},l().createElement("div",{className:this.props.classes.uploadCenterTextAndIcon},l().createElement(D.UploadFile,{className:this.props.classes.uploadCenterIcon}),l().createElement("div",{className:this.props.classes.uploadCenterText},this.state.uploadFile==="dragging"?h.I18n.t("ra_Drop file here"):h.I18n.t("ra_Place your files here or click here to open the browse dialog"))))))),l().createElement(u.DialogActions,null,l().createElement(u.Button,{variant:"contained",onClick:()=>this.setState({showImportDialog:!1}),color:"primary",startIcon:l().createElement(D.Close,null)},h.I18n.t("Cancel")))):null}renderItem(){const{classes:t,schema:n}=this.props;let{visibleValue:s}=this.state;if(!this.state.value)return null;s=s||this.state.value.map((a,i)=>i);const o=this.isAnyFilterSet();return l().createElement(u.Paper,{className:t.paper},this.showImportDialog(),this.showTypeOfImportDialog(),n.label?l().createElement("div",{className:t.label},l().createElement(u.Toolbar,{variant:"dense",className:t.rootTool},l().createElement(u.Typography,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},this.getText(n.label)))):null,l().createElement(u.TableContainer,null,l().createElement(u.Table,{className:t.table,size:"small"},this.enhancedTableHead(!o&&!this.state.orderBy?120:64,o),l().createElement(u.TableBody,null,s.map((a,i)=>l().createElement(u.TableRow,{hover:!0,key:`${a}_${i}`},n.items&&n.items.map(c=>l().createElement(u.TableCell,{key:`${c.attr}_${a}`,align:"left"},this.itemTable(c.attr,this.state.value[a],a))),!n.noDelete&&l().createElement(u.TableCell,{align:"left",className:t.buttonCell},!o&&!this.state.orderBy?i?l().createElement(u.Tooltip,{title:h.I18n.t("ra_Move up")},l().createElement(u.IconButton,{size:"small",onClick:()=>this.onMoveUp(a)},l().createElement(D.ArrowUpward,null))):l().createElement("div",{className:t.buttonEmpty}):null,!o&&!this.state.orderBy?i<s.length-1?l().createElement(u.Tooltip,{title:h.I18n.t("ra_Move down")},l().createElement(u.IconButton,{size:"small",onClick:()=>this.onMoveDown(a)},l().createElement(D.ArrowDownward,null))):l().createElement("div",{className:t.buttonEmpty}):null,l().createElement(u.Tooltip,{title:h.I18n.t("ra_Delete current row")},l().createElement(u.IconButton,{size:"small",onClick:this.onDelete(a)},l().createElement(D.Delete,null))),this.props.schema.clone?l().createElement(u.Tooltip,{title:h.I18n.t("ra_Clone current row")},l().createElement(u.IconButton,{size:"small",onClick:this.onClone(a)},l().createElement(D.ContentCopy,null))):null))),!n.noDelete&&s.length>=(n.showSecondAddAt||5)?l().createElement(u.TableRow,null,l().createElement(u.TableCell,{colSpan:n.items.length+1},l().createElement(u.Tooltip,{title:o?h.I18n.t("ra_Cannot add items with set filter"):h.I18n.t("ra_Add row")},l().createElement("span",null,l().createElement(u.IconButton,{size:"small",color:"primary",disabled:!!o&&!this.props.schema.allowAddByFilter,onClick:this.onAdd},l().createElement(D.Add,null)))))):null)),!s.length&&this.state.value.length?l().createElement("div",{className:t.filteredOut},l().createElement(u.Typography,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},h.I18n.t("ra_All items are filtered out"),l().createElement(u.IconButton,{size:"small",onClick:()=>this.applyFilter(!0)},l().createElement(D.Close,null)))):null),n.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null,this.state.errorMessage?l().createElement("div",{style:{display:"flex",padding:"5px"}},l().createElement(D.Warning,{color:"error"}),l().createElement("span",{style:{color:"red",alignSelf:"center"}},this.state.errorMessage)):null)}}const up=(0,b.withStyles)(ap)(qt),dp={indeterminate:{opacity:.5},label:{width:"100%",fontSize:16},helper:{width:"100%",fontSize:12},error:{width:"100%",fontSize:12,color:"#FF0000"}};class pp extends y{constructor(){super(...arguments);We(this,"updateTimeout",null)}componentDidMount(){super.componentDidMount();let t=y.getValue(this.props.data,this.props.attr);if(Array.isArray(t)&&this.props.multiEdit){t=y.DIFFERENT_VALUE,this.setState({value:t,oldValue:t});return}this.setState({value:t,oldValue:t})}static getDerivedStateFromProps(t,n){if(t.multiEdit&&n.value===y.DIFFERENT_VALUE)return y.DIFFERENT_VALUE;let s=y.getValue(t.data,t.attr);return s!=null&&(s=s.toString()),s==null||s!==n.value&&s!==n.oldValue?{value:s}:null}renderItem(t,n){const s=Array.isArray(this.state.value)||this.state.value===y.DIFFERENT_VALUE;if(this.state.oldValue!==null&&this.state.oldValue!==void 0?(this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>{this.updateTimeout=null,this.setState({oldValue:null})},30)):this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updateTimeout=null),s){const a=[...y.getValue(this.props.data,this.props.attr)].map(i=>({label:i.toString(),value:i}));return a.unshift({label:h.I18n.t(y.DIFFERENT_LABEL),value:y.DIFFERENT_VALUE}),l().createElement(u.Autocomplete,{className:this.props.classes.indeterminate,fullWidth:!0,value:a[0],onChange:(i,c)=>{const p=c?c.value:"";this.onChange(this.props.attr,p,()=>{this.setState({value:p,oldValue:p})})},options:a,getOptionLabel:i=>i.label,renderInput:i=>l().createElement(u.TextField,Ht(it({variant:"standard"},i),{error:!!t,placeholder:this.getText(this.props.schema.placeholder),inputProps:Ht(it({},i.inputProps),{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:this.props.schema.readOnly||!1}),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:!!n}))})}if(this.props.schema.minRows>1){const o=this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation);return l().createElement("div",{style:{width:"100%"}},this.props.schema.label?l().createElement("div",{className:this.props.classes.label},this.getText(this.props.schema.label)):null,l().createElement(u.TextareaAutosize,{style:{width:"100%",resize:"vertical",backgroundColor:this.props.themeType==="dark"?"#363636":"#cccccc",color:this.props.themeType==="dark"?"#fff":"#111"},minRows:this.props.schema.minRows,maxRows:this.props.schema.maxRows,value:this.state.value===null||this.state.value===void 0?"":this.state.value,disabled:!!n,readOnly:this.props.schema.readOnly||!1,onChange:a=>{const i=a.target.value;this.setState({value:i,oldValue:this.state.value},()=>this.onChange(this.props.attr,i||""))},placeholder:this.getText(this.props.schema.placeholder)}),o||t?l().createElement("div",{className:t?this.props.classes.error:this.props.classes.helper},t||o):null)}return l().createElement(u.TextField,{variant:"standard",fullWidth:!0,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!t,disabled:!!n,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:this.props.schema.readOnly||!1},InputProps:{endAdornment:this.state.value&&!this.props.schema.noClearButton?l().createElement(u.InputAdornment,{position:"end"},l().createElement(u.IconButton,{size:"small",onClick:()=>this.setState({value:"",oldValue:this.state.value},()=>this.onChange(this.props.attr,""))},l().createElement(D.Close,null))):null},onChange:o=>{const a=o.target.value;this.setState({value:a,oldValue:this.state.value},()=>this.onChange(this.props.attr,a))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const hp=(0,b.withStyles)(dp)(pp),mp={fullWidth:{width:"100%"}};class fp extends y{componentDidMount(){super.componentDidMount(),this.askInstance()}askInstance(){if(this.props.alive){let e=this.props.schema.data;if(e===void 0&&this.props.schema.jsonData){const t=this.getPattern(this.props.schema.jsonData);try{e=JSON.parse(t)}catch(n){console.error(`Cannot parse json data: ${t}`)}}e===void 0&&(e=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",e).then(t=>this.setState({text:t||"",context:this.getContext()}))}}getContext(){const e={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(t=>e[t]=y.getValue(this.props.data,t)),JSON.stringify(e)}renderItem(){return this.state.text===void 0?null:(this.props.alive&&this.getContext()!==this.state.context&&setTimeout(()=>this.askInstance(),300),this.props.schema.container==="text"?l().createElement(u.TextField,{variant:"standard",fullWidth:!0,InputProps:{endAdornment:this.props.schema.copyToClipboard?l().createElement(u.IconButton,{size:"small",onClick:()=>{h.Utils.copyToClipboard(this.state.text),window.alert("Copied")}},l().createElement(h.IconCopy,null)):void 0},value:this.state.text,label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}):l().createElement("div",{className:this.props.classes.fullWidth},this.state.text))}}const gp=(0,b.withStyles)(mp)(fp),dr=({adapter:r,value:e,props:t})=>{if(e===null)return null;const{minTime:n,maxTime:s,minutesStep:o,shouldDisableTime:a,disableIgnoringDatePartForTimeValidation:i=!1,disablePast:c,disableFuture:p,timezone:g}=t,C=r.utils.date(void 0,g),v=On(i,r.utils);switch(!0){case!r.utils.isValid(e):return"invalidDate";case!!(n&&v(n,e)):return"minTime";case!!(s&&v(e,s)):return"maxTime";case!!(p&&r.utils.isAfter(e,C)):return"disableFuture";case!!(c&&r.utils.isBefore(e,C)):return"disablePast";case!!(a&&a(e,"hours")):return"shouldDisableTime-hours";case!!(a&&a(e,"minutes")):return"shouldDisableTime-minutes";case!!(a&&a(e,"seconds")):return"shouldDisableTime-seconds";case!!(o&&r.utils.getMinutes(e)%o!==0):return"minutesStep";default:return null}},yp=r=>{const e=Xi(r),{forwardedProps:t,internalProps:n}=Xr(e,"time");return qr({forwardedProps:t,internalProps:n,valueManager:Vt,fieldValueManager:Ir,validator:dr,valueType:"time"})},Dp=["slots","slotProps","InputProps","inputProps"],Jo=R.forwardRef(function(e,t){var T;const n=(0,Z.useThemeProps)({props:e,name:"MuiTimeField"}),{slots:s,slotProps:o,InputProps:a,inputProps:i}=n,c=(0,Ge.A)(n,Dp),p=n,g=(T=s==null?void 0:s.textField)!=null?T:e.enableAccessibleFieldDOMStructure?lo:Kr.A,C=(0,Dt.Q)({elementType:g,externalSlotProps:o==null?void 0:o.textField,externalForwardedProps:c,ownerState:p,additionalProps:{ref:t}});C.inputProps=(0,P.A)({},i,C.inputProps),C.InputProps=(0,P.A)({},a,C.InputProps);const v=yp(C),M=co(v),S=Zr((0,P.A)({},M,{slots:s,slotProps:o}));return(0,W.jsx)(g,(0,P.A)({},S))});function Cp(r){return(0,gt.Ay)("MuiPickersToolbarText",r)}const Yo=(0,yt.A)("MuiPickersToolbarText",["root","selected"]),bp=["className","selected","value"],vp=r=>{const{classes:e,selected:t}=r,n={root:["root",t&&"selected"]};return(0,mt.A)(n,Cp,e)},Ap=(0,Z.styled)(Fn.A,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(r,e)=>[e.root,{[`&.${Yo.selected}`]:e.selected}]})(({theme:r})=>({transition:r.transitions.create("color"),color:(r.vars||r).palette.text.secondary,[`&.${Yo.selected}`]:{color:(r.vars||r).palette.text.primary}})),Ko=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersToolbarText"}),{className:s,value:o}=n,a=(0,Ge.A)(n,bp),i=vp(n);return(0,W.jsx)(Ap,(0,P.A)({ref:t,className:(0,At.A)(s,i.root),component:"span"},a,{children:o}))}),xp=["align","className","selected","typographyClassName","value","variant","width"],wp=r=>{const{classes:e}=r,t={root:["root"]};return(0,mt.A)(t,Nr,e)},Ep=(0,Z.styled)(us.A,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(r,e)=>e.root})({padding:0,minWidth:16,textTransform:"none"}),fs=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersToolbarButton"}),{align:s,className:o,selected:a,typographyClassName:i,value:c,variant:p,width:g}=n,C=(0,Ge.A)(n,xp),v=wp(n);return(0,W.jsx)(Ep,(0,P.A)({variant:"text",ref:t,className:(0,At.A)(o,v.root)},g?{sx:{width:g}}:{},C,{children:(0,W.jsx)(Ko,{align:s,className:i,variant:p,value:c,selected:a})}))});function Sp(r){return(0,gt.Ay)("MuiTimePickerToolbar",r)}const gs=(0,yt.A)("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Fp=["ampm","ampmInClock","value","isLandscape","onChange","view","onViewChange","views","disabled","readOnly","className"],Tp=r=>{const{isLandscape:e,classes:t,isRtl:n}=r,s={root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",e&&"hourMinuteLabelLandscape",n&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",e&&"ampmLandscape"],ampmLabel:["ampmLabel"]};return(0,mt.A)(s,Sp,t)},kp=(0,Z.styled)(Or,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(r,e)=>e.root})({}),Ip=(0,Z.styled)(Ko,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(r,e)=>e.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),Pp=(0,Z.styled)("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(r,e)=>[{[`&.${gs.hourMinuteLabelLandscape}`]:e.hourMinuteLabelLandscape,[`&.${gs.hourMinuteLabelReverse}`]:e.hourMinuteLabelReverse},e.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{isLandscape:!0},style:{marginTop:"auto"}}]}),Mp=(0,Z.styled)("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(r,e)=>[{[`.${gs.ampmLabel}`]:e.ampmLabel},{[`&.${gs.ampmLandscape}`]:e.ampmLandscape},e.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${gs.ampmLabel}`]:{fontSize:17},variants:[{props:{isLandscape:!0},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function Np(r){const e=(0,Z.useThemeProps)({props:r,name:"MuiTimePickerToolbar"}),{ampm:t,ampmInClock:n,value:s,isLandscape:o,onChange:a,view:i,onViewChange:c,views:p,disabled:g,readOnly:C,className:v}=e,M=(0,Ge.A)(e,Fp),S=pt(),T=jt(),_=(0,mn.I)(),O=!!(t&&!n&&p.includes("hours")),{meridiemMode:B,handleMeridiemChange:K}=ar(s,t,a),se=Y=>t?S.format(Y,"hours12h"):S.format(Y,"hours24h"),Q=(0,P.A)({},e,{isRtl:_}),X=Tp(Q),oe=(0,W.jsx)(Ip,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:X.separator});return(0,W.jsxs)(kp,(0,P.A)({landscapeDirection:"row",toolbarTitle:T.timePickerToolbarTitle,isLandscape:o,ownerState:Q,className:(0,At.A)(X.root,v)},M,{children:[(0,W.jsxs)(Pp,{className:X.hourMinuteLabel,ownerState:Q,children:[qn(p,"hours")&&(0,W.jsx)(fs,{tabIndex:-1,variant:"h3",onClick:()=>c("hours"),selected:i==="hours",value:s?se(s):"--"}),qn(p,["hours","minutes"])&&oe,qn(p,"minutes")&&(0,W.jsx)(fs,{tabIndex:-1,variant:"h3",onClick:()=>c("minutes"),selected:i==="minutes",value:s?S.format(s,"minutes"):"--"}),qn(p,["minutes","seconds"])&&oe,qn(p,"seconds")&&(0,W.jsx)(fs,{variant:"h3",onClick:()=>c("seconds"),selected:i==="seconds",value:s?S.format(s,"seconds"):"--"})]}),O&&(0,W.jsxs)(Mp,{className:X.ampmSelection,ownerState:Q,children:[(0,W.jsx)(fs,{disableRipple:!0,variant:"subtitle2",selected:B==="am",typographyClassName:X.ampmLabel,value:tt(S,"am"),onClick:C?void 0:()=>K("am"),disabled:g}),(0,W.jsx)(fs,{disableRipple:!0,variant:"subtitle2",selected:B==="pm",typographyClassName:X.ampmLabel,value:tt(S,"pm"),onClick:C?void 0:()=>K("pm"),disabled:g})]})]}))}function Go(r,e){var a,i,c,p;const t=pt(),n=(0,Z.useThemeProps)({props:r,name:e}),s=(a=n.ampm)!=null?a:t.is12HourCycleInCurrentLocale(),o=R.useMemo(()=>{var g;return((g=n.localeText)==null?void 0:g.toolbarTitle)==null?n.localeText:(0,P.A)({},n.localeText,{timePickerToolbarTitle:n.localeText.toolbarTitle})},[n.localeText]);return(0,P.A)({},n,{ampm:s,localeText:o},xs({views:n.views,openTo:n.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{disableFuture:(i=n.disableFuture)!=null?i:!1,disablePast:(c=n.disablePast)!=null?c:!1,slots:(0,P.A)({toolbar:Np},n.slots),slotProps:(0,P.A)({},n.slotProps,{toolbar:(0,P.A)({ampm:s,ampmInClock:n.ampmInClock},(p=n.slotProps)==null?void 0:p.toolbar)})})}function Op(r){return(0,gt.Ay)("MuiTimeClock",r)}const Um=(0,yt.A)("MuiTimeClock",["root","arrowSwitcher"]),rs=220,fn=36,ys={x:rs/2,y:rs/2},qo={x:ys.x,y:0},_p=qo.x-ys.x,Rp=qo.y-ys.y,Lp=r=>r*(180/Math.PI),Qo=(r,e,t)=>{const n=e-ys.x,s=t-ys.y,o=Math.atan2(_p,Rp)-Math.atan2(n,s);let a=Lp(o);a=Math.round(a/r)*r,a%=360;const i=Math.floor(a/r)||0,c=Qt(n,2)+Qt(s,2),p=Math.sqrt(c);return{value:i,distance:p}},Bp=(r,e,t=1)=>{const n=t*6;let{value:s}=Qo(n,r,e);return s=s*t%60,s},$p=(r,e,t)=>{const{value:n,distance:s}=Qo(30,r,e);let o=n||12;return t?o%=12:s<rs/2-fn&&(o+=12,o%=24),o};function Vp(r){return(0,gt.Ay)("MuiClockPointer",r)}const Hm=(0,yt.A)("MuiClockPointer",["root","thumb"]),jp=["className","hasSelected","isInner","type","viewValue"],Wp=r=>{const{classes:e}=r,t={root:["root"],thumb:["thumb"]};return(0,mt.A)(t,Vp,e)},Up=(0,Z.styled)("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>({width:2,backgroundColor:(r.vars||r).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{shouldAnimate:!0},style:{transition:r.transitions.create(["transform","height"])}}]})),Hp=(0,Z.styled)("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(r,e)=>e.thumb})(({theme:r})=>({width:4,height:4,backgroundColor:(r.vars||r).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${fn/2}px)`,border:`${(fn-4)/2}px solid ${(r.vars||r).palette.primary.main}`,boxSizing:"content-box",variants:[{props:{hasSelected:!0},style:{backgroundColor:(r.vars||r).palette.primary.main}}]}));function zp(r){const e=(0,Z.useThemeProps)({props:r,name:"MuiClockPointer"}),{className:t,isInner:n,type:s,viewValue:o}=e,a=(0,Ge.A)(e,jp),i=R.useRef(s);R.useEffect(()=>{i.current=s},[s]);const c=(0,P.A)({},e,{shouldAnimate:i.current!==s}),p=Wp(c),g=()=>{let v=360/(s==="hours"?12:60)*o;return s==="hours"&&o>12&&(v-=360),{height:Math.round((n?.26:.4)*rs),transform:`rotateZ(${v}deg)`}};return(0,W.jsx)(Up,(0,P.A)({style:g(),className:(0,At.A)(t,p.root),ownerState:c},a,{children:(0,W.jsx)(Hp,{ownerState:c,className:p.thumb})}))}function Jp(r){return(0,gt.Ay)("MuiClock",r)}const zm=(0,yt.A)("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText"]),Yp=r=>{const{classes:e}=r,t={root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton"],pmButton:["pmButton"],meridiemText:["meridiemText"]};return(0,mt.A)(t,Jp,e)},Kp=(0,Z.styled)("div",{name:"MuiClock",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:r.spacing(2)})),Gp=(0,Z.styled)("div",{name:"MuiClock",slot:"Clock",overridesResolver:(r,e)=>e.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),qp=(0,Z.styled)("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(r,e)=>e.wrapper})({"&:focus":{outline:"none"}}),Qp=(0,Z.styled)("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(r,e)=>e.squareMask})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{disabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),Xp=(0,Z.styled)("div",{name:"MuiClock",slot:"Pin",overridesResolver:(r,e)=>e.pin})(({theme:r})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(r.vars||r).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),Zp=(0,Z.styled)(Kn.A,{name:"MuiClock",slot:"AmButton",overridesResolver:(r,e)=>e.amButton})(({theme:r})=>({zIndex:1,position:"absolute",bottom:8,left:8,paddingLeft:4,paddingRight:4,width:fn,variants:[{props:{meridiemMode:"am"},style:{backgroundColor:(r.vars||r).palette.primary.main,color:(r.vars||r).palette.primary.contrastText,"&:hover":{backgroundColor:(r.vars||r).palette.primary.light}}}]})),eh=(0,Z.styled)(Kn.A,{name:"MuiClock",slot:"PmButton",overridesResolver:(r,e)=>e.pmButton})(({theme:r})=>({zIndex:1,position:"absolute",bottom:8,right:8,paddingLeft:4,paddingRight:4,width:fn,variants:[{props:{meridiemMode:"pm"},style:{backgroundColor:(r.vars||r).palette.primary.main,color:(r.vars||r).palette.primary.contrastText,"&:hover":{backgroundColor:(r.vars||r).palette.primary.light}}}]})),Xo=(0,Z.styled)(Fn.A,{name:"MuiClock",slot:"meridiemText",overridesResolver:(r,e)=>e.meridiemText})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function th(r){const e=(0,Z.useThemeProps)({props:r,name:"MuiClock"}),{ampm:t,ampmInClock:n,autoFocus:s,children:o,value:a,handleMeridiemChange:i,isTimeDisabled:c,meridiemMode:p,minutesStep:g=1,onChange:C,selectedId:v,type:M,viewValue:S,disabled:T=!1,readOnly:_,className:O}=e,B=e,K=pt(),se=jt(),Q=R.useRef(!1),X=Yp(B),oe=c(S,M),Y=!t&&M==="hours"&&(S<1||S>12),De=(Ne,Oe)=>{T||_||c(Ne,M)||C(Ne,Oe)},q=(Ne,Oe)=>{let{offsetX:Je,offsetY:Fe}=Ne;if(Je===void 0){const ht=Ne.target.getBoundingClientRect();Je=Ne.changedTouches[0].clientX-ht.left,Fe=Ne.changedTouches[0].clientY-ht.top}const Le=M==="seconds"||M==="minutes"?Bp(Je,Fe,g):$p(Je,Fe,!!t);De(Le,Oe)},ve=Ne=>{Q.current=!0,q(Ne,"shallow")},Te=Ne=>{Q.current&&(q(Ne,"finish"),Q.current=!1)},ne=Ne=>{Ne.buttons>0&&q(Ne.nativeEvent,"shallow")},ke=Ne=>{Q.current&&(Q.current=!1),q(Ne.nativeEvent,"finish")},me=R.useMemo(()=>M==="hours"?!0:S%5===0,[M,S]),Pe=M==="minutes"?g:1,Me=R.useRef(null);(0,xn.A)(()=>{s&&Me.current.focus()},[s]);const $e=Ne=>{if(!Q.current)switch(Ne.key){case"Home":De(0,"partial"),Ne.preventDefault();break;case"End":De(M==="minutes"?59:23,"partial"),Ne.preventDefault();break;case"ArrowUp":De(S+Pe,"partial"),Ne.preventDefault();break;case"ArrowDown":De(S-Pe,"partial"),Ne.preventDefault();break;default:}};return(0,W.jsxs)(Kp,{className:(0,At.A)(O,X.root),children:[(0,W.jsxs)(Gp,{className:X.clock,children:[(0,W.jsx)(Qp,{onTouchMove:ve,onTouchEnd:Te,onMouseUp:ke,onMouseMove:ne,ownerState:{disabled:T},className:X.squareMask}),!oe&&(0,W.jsxs)(R.Fragment,{children:[(0,W.jsx)(Xp,{className:X.pin}),a!=null&&(0,W.jsx)(zp,{type:M,viewValue:S,isInner:Y,hasSelected:me})]}),(0,W.jsx)(qp,{"aria-activedescendant":v,"aria-label":se.clockLabelText(M,a,K),ref:Me,role:"listbox",onKeyDown:$e,tabIndex:0,className:X.wrapper,children:o})]}),t&&n&&(0,W.jsxs)(R.Fragment,{children:[(0,W.jsx)(Zp,{onClick:_?void 0:()=>i("am"),disabled:T||p===null,ownerState:B,className:X.amButton,title:tt(K,"am"),children:(0,W.jsx)(Xo,{variant:"caption",className:X.meridiemText,children:tt(K,"am")})}),(0,W.jsx)(eh,{disabled:T||p===null,onClick:_?void 0:()=>i("pm"),ownerState:B,className:X.pmButton,title:tt(K,"pm"),children:(0,W.jsx)(Xo,{variant:"caption",className:X.meridiemText,children:tt(K,"pm")})})]})]})}function nh(r){return(0,gt.Ay)("MuiClockNumber",r)}const js=(0,yt.A)("MuiClockNumber",["root","selected","disabled"]),sh=["className","disabled","index","inner","label","selected"],rh=r=>{const{classes:e,selected:t,disabled:n}=r,s={root:["root",t&&"selected",n&&"disabled"]};return(0,mt.A)(s,nh,e)},oh=(0,Z.styled)("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(r,e)=>[e.root,{[`&.${js.disabled}`]:e.disabled},{[`&.${js.selected}`]:e.selected}]})(({theme:r})=>({height:fn,width:fn,position:"absolute",left:`calc((100% - ${fn}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(r.vars||r).palette.text.primary,fontFamily:r.typography.fontFamily,"&:focused":{backgroundColor:(r.vars||r).palette.background.paper},[`&.${js.selected}`]:{color:(r.vars||r).palette.primary.contrastText},[`&.${js.disabled}`]:{pointerEvents:"none",color:(r.vars||r).palette.text.disabled},variants:[{props:{inner:!0},style:(0,P.A)({},r.typography.body2,{color:(r.vars||r).palette.text.secondary})}]}));function Zo(r){const e=(0,Z.useThemeProps)({props:r,name:"MuiClockNumber"}),{className:t,disabled:n,index:s,inner:o,label:a,selected:i}=e,c=(0,Ge.A)(e,sh),p=e,g=rh(p),C=s%12/12*Math.PI*2-Math.PI/2,v=(rs-fn-2)/2*(o?.65:1),M=Math.round(Math.cos(C)*v),S=Math.round(Math.sin(C)*v);return(0,W.jsx)(oh,(0,P.A)({className:(0,At.A)(t,g.root),"aria-disabled":n?!0:void 0,"aria-selected":i?!0:void 0,role:"option",style:{transform:`translate(${M}px, ${S+(rs-fn)/2}px`},ownerState:p},c,{children:a}))}const ah=({ampm:r,value:e,getClockNumberText:t,isDisabled:n,selectedId:s,utils:o})=>{const a=e?o.getHours(e):null,i=[],c=r?1:0,p=r?12:23,g=C=>a===null?!1:r?C===12?a===12||a===0:a===C||a-12===C:a===C;for(let C=c;C<=p;C+=1){let v=C.toString();C===0&&(v="00");const M=!r&&(C===0||C>12);v=o.formatNumber(v);const S=g(C);i.push((0,W.jsx)(Zo,{id:S?s:void 0,index:C,inner:M,selected:S,disabled:n(C),label:v,"aria-label":t(v)},C))}return i},ea=({utils:r,value:e,isDisabled:t,getClockNumberText:n,selectedId:s})=>{const o=r.formatNumber;return[[5,o("05")],[10,o("10")],[15,o("15")],[20,o("20")],[25,o("25")],[30,o("30")],[35,o("35")],[40,o("40")],[45,o("45")],[50,o("50")],[55,o("55")],[0,o("00")]].map(([a,i],c)=>{const p=a===e;return(0,W.jsx)(Zo,{label:i,id:p?s:void 0,index:c+1,inner:!1,disabled:t(a),selected:p,"aria-label":n(i)},a)})},pr=({value:r,referenceDate:e,utils:t,props:n,timezone:s})=>{const o=R.useMemo(()=>Vt.getInitialReferenceValue({value:r,utils:t,props:n,referenceDate:e,granularity:ut.day,timezone:s,getTodayDate:()=>qe(t,s,"date")}),[]);return r!=null?r:o},ih=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","timezone"],lh=r=>{const{classes:e}=r,t={root:["root"],arrowSwitcher:["arrowSwitcher"]};return(0,mt.A)(t,Op,e)},ch=(0,Z.styled)(_s,{name:"MuiTimeClock",slot:"Root",overridesResolver:(r,e)=>e.root})({display:"flex",flexDirection:"column",position:"relative"}),uh=(0,Z.styled)(bo,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(r,e)=>e.arrowSwitcher})({position:"absolute",right:12,top:15}),dh=["hours","minutes"],ph=R.forwardRef(function(e,t){const n=pt(),s=(0,Z.useThemeProps)({props:e,name:"MuiTimeClock"}),{ampm:o=n.is12HourCycleInCurrentLocale(),ampmInClock:a=!1,autoFocus:i,slots:c,slotProps:p,value:g,defaultValue:C,referenceDate:v,disableIgnoringDatePartForTimeValidation:M=!1,maxTime:S,minTime:T,disableFuture:_,disablePast:O,minutesStep:B=1,shouldDisableTime:K,showViewSwitcher:se,onChange:Q,view:X,views:oe=dh,openTo:Y,onViewChange:De,focusedView:q,onFocusedViewChange:ve,className:Te,disabled:ne,readOnly:ke,timezone:me}=s,Pe=(0,Ge.A)(s,ih),{value:Me,handleValueChange:$e,timezone:Ne}=Xn({name:"TimeClock",timezone:me,value:g,defaultValue:C,onChange:Q,valueManager:Vt}),Oe=pr({value:Me,referenceDate:v,utils:n,props:s,timezone:Ne}),Je=jt(),Fe=Rn(Ne),{view:Le,setView:ht,previousView:ae,nextView:be,setValueAndGoToNextView:Ie}=cs({view:X,views:oe,openTo:Y,onViewChange:De,onChange:$e,focusedView:q,onFocusedViewChange:ve}),{meridiemMode:Be,handleMeridiemChange:Qe}=ar(Oe,o,Ie),He=R.useCallback((Ee,_e)=>{const fe=On(M,n),Ae=_e==="hours"||_e==="minutes"&&oe.includes("seconds"),nt=({start:ft,end:Rt})=>!(T&&fe(T,Rt)||S&&fe(ft,S)||_&&fe(ft,Fe)||O&&fe(Fe,Ae?Rt:ft)),Pt=(ft,Rt=1)=>{if(ft%Rt!==0)return!1;if(K)switch(_e){case"hours":return!K(n.setHours(Oe,ft),"hours");case"minutes":return!K(n.setMinutes(Oe,ft),"minutes");case"seconds":return!K(n.setSeconds(Oe,ft),"seconds");default:return!1}return!0};switch(_e){case"hours":{const ft=nn(Ee,Be,o),Rt=n.setHours(Oe,ft),St=n.setSeconds(n.setMinutes(Rt,0),0),Kt=n.setSeconds(n.setMinutes(Rt,59),59);return!nt({start:St,end:Kt})||!Pt(ft)}case"minutes":{const ft=n.setMinutes(Oe,Ee),Rt=n.setSeconds(ft,0),St=n.setSeconds(ft,59);return!nt({start:Rt,end:St})||!Pt(Ee,B)}case"seconds":{const ft=n.setSeconds(Oe,Ee);return!nt({start:ft,end:ft})||!Pt(Ee)}default:throw new Error("not supported")}},[o,Oe,M,S,Be,T,B,K,n,_,O,Fe,oe]),rt=(0,Gn.A)(),Ve=R.useMemo(()=>{switch(Le){case"hours":{const Ee=(_e,fe)=>{const Ae=nn(_e,Be,o);Ie(n.setHours(Oe,Ae),fe,"hours")};return{onChange:Ee,viewValue:n.getHours(Oe),children:ah({value:Me,utils:n,ampm:o,onChange:Ee,getClockNumberText:Je.hoursClockNumberText,isDisabled:_e=>ne||He(_e,"hours"),selectedId:rt})}}case"minutes":{const Ee=n.getMinutes(Oe),_e=(fe,Ae)=>{Ie(n.setMinutes(Oe,fe),Ae,"minutes")};return{viewValue:Ee,onChange:_e,children:ea({utils:n,value:Ee,onChange:_e,getClockNumberText:Je.minutesClockNumberText,isDisabled:fe=>ne||He(fe,"minutes"),selectedId:rt})}}case"seconds":{const Ee=n.getSeconds(Oe),_e=(fe,Ae)=>{Ie(n.setSeconds(Oe,fe),Ae,"seconds")};return{viewValue:Ee,onChange:_e,children:ea({utils:n,value:Ee,onChange:_e,getClockNumberText:Je.secondsClockNumberText,isDisabled:fe=>ne||He(fe,"seconds"),selectedId:rt})}}default:throw new Error("You must provide the type for ClockView")}},[Le,n,Me,o,Je.hoursClockNumberText,Je.minutesClockNumberText,Je.secondsClockNumberText,Be,Ie,Oe,He,rt,ne]),le=s,Ce=lh(le);return(0,W.jsxs)(ch,(0,P.A)({ref:t,className:(0,At.A)(Ce.root,Te),ownerState:le},Pe,{children:[(0,W.jsx)(th,(0,P.A)({autoFocus:i!=null?i:!!q,ampmInClock:a&&oe.includes("hours"),value:Me,type:Le,ampm:o,minutesStep:B,isTimeDisabled:He,meridiemMode:Be,handleMeridiemChange:Qe,selectedId:rt,disabled:ne,readOnly:ke},Ve)),se&&(0,W.jsx)(uh,{className:Ce.arrowSwitcher,slots:c,slotProps:p,onGoToPrevious:()=>ht(ae),isPreviousDisabled:!ae,previousLabel:Je.openPreviousView,onGoToNext:()=>ht(be),isNextDisabled:!be,nextLabel:Je.openNextView,ownerState:le})]}))});var ta=$(25471),na=$(80705);function hh(r){return(0,gt.Ay)("MuiDigitalClock",r)}const Jm=(0,yt.A)("MuiDigitalClock",["root","list","item"]),mh=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","views","skipDisabled","timezone"],fh=r=>{const{classes:e}=r,t={root:["root"],list:["list"],item:["item"]};return(0,mt.A)(t,hh,e)},gh=(0,Z.styled)(_s,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(r,e)=>e.root})({overflowY:"auto",width:"100%","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:zr,variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),yh=(0,Z.styled)(na.A,{name:"MuiDigitalClock",slot:"List",overridesResolver:(r,e)=>e.list})({padding:0}),Dh=(0,Z.styled)(ta.A,{name:"MuiDigitalClock",slot:"Item",overridesResolver:(r,e)=>e.item})(({theme:r})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,Z.alpha)(r.palette.primary.main,r.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(r.vars||r).palette.primary.main,color:(r.vars||r).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(r.vars||r).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.focusOpacity})`:(0,Z.alpha)(r.palette.primary.main,r.palette.action.focusOpacity)}})),Ch=R.forwardRef(function(e,t){var Ee;const n=pt(),s=R.useRef(null),o=(0,Yt.A)(t,s),a=(0,Z.useThemeProps)({props:e,name:"MuiDigitalClock"}),{ampm:i=n.is12HourCycleInCurrentLocale(),timeStep:c=30,autoFocus:p,slots:g,slotProps:C,value:v,defaultValue:M,referenceDate:S,disableIgnoringDatePartForTimeValidation:T=!1,maxTime:_,minTime:O,disableFuture:B,disablePast:K,minutesStep:se=1,shouldDisableTime:Q,onChange:X,view:oe,openTo:Y,onViewChange:De,focusedView:q,onFocusedViewChange:ve,className:Te,disabled:ne,readOnly:ke,views:me=["hours"],skipDisabled:Pe=!1,timezone:Me}=a,$e=(0,Ge.A)(a,mh),{value:Ne,handleValueChange:Oe,timezone:Je}=Xn({name:"DigitalClock",timezone:Me,value:v,defaultValue:M,onChange:X,valueManager:Vt}),Fe=jt(),Le=Rn(Je),ht=R.useMemo(()=>(0,P.A)({},a,{alreadyRendered:!!s.current}),[a]),ae=fh(ht),be=(Ee=g==null?void 0:g.digitalClockItem)!=null?Ee:Dh,Ie=(0,Dt.Q)({elementType:be,externalSlotProps:C==null?void 0:C.digitalClockItem,ownerState:{},className:ae.item}),Be=pr({value:Ne,referenceDate:S,utils:n,props:a,timezone:Je}),Qe=(0,Ue.A)(_e=>Oe(_e,"finish","hours")),{setValueAndGoToNextView:He}=cs({view:oe,views:me,openTo:Y,onViewChange:De,onChange:Qe,focusedView:q,onFocusedViewChange:ve}),rt=(0,Ue.A)(_e=>{He(_e,"finish")});R.useEffect(()=>{if(s.current===null)return;const _e=s.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!_e)return;const fe=_e.offsetTop;(p||q)&&_e.focus(),s.current.scrollTop=fe-4});const Ve=R.useCallback(_e=>{const fe=On(T,n),Ae=()=>!(O&&fe(O,_e)||_&&fe(_e,_)||B&&fe(_e,Le)||K&&fe(Le,_e)),nt=()=>n.getMinutes(_e)%se!==0?!1:Q?!Q(_e,"hours"):!0;return!Ae()||!nt()},[T,n,O,_,B,Le,K,se,Q]),le=R.useMemo(()=>{const _e=n.startOfDay(Be);return[_e,...Array.from({length:Math.ceil(24*60/c)-1},(fe,Ae)=>n.addMinutes(_e,c*(Ae+1)))]},[Be,c,n]),Ce=le.findIndex(_e=>n.isEqual(_e,Be));return(0,W.jsx)(gh,(0,P.A)({ref:o,className:(0,At.A)(ae.root,Te),ownerState:ht},$e,{children:(0,W.jsx)(yh,{role:"listbox","aria-label":Fe.timePickerToolbarTitle,className:ae.list,children:le.map((_e,fe)=>{if(Pe&&Ve(_e))return null;const Ae=n.isEqual(_e,Ne),nt=n.format(_e,i?"fullTime12h":"fullTime24h"),Pt=Ce===fe||Ce===-1&&fe===0?0:-1;return(0,W.jsx)(be,(0,P.A)({onClick:()=>!ke&&rt(_e),selected:Ae,disabled:ne||Ve(_e),disableRipple:ke,role:"option","aria-disabled":ke,"aria-selected":Ae,tabIndex:Pt},Ie,{children:nt}),nt)})})}))});function bh(r){return(0,gt.Ay)("MuiMultiSectionDigitalClock",r)}const Ym=(0,yt.A)("MuiMultiSectionDigitalClock",["root"]);function vh(r){return(0,gt.Ay)("MuiMultiSectionDigitalClockSection",r)}const Km=(0,yt.A)("MuiMultiSectionDigitalClockSection",["root","item"]),Ah=["autoFocus","onChange","className","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],xh=r=>{const{classes:e}=r,t={root:["root"],item:["item"]};return(0,mt.A)(t,vh,e)},wh=(0,Z.styled)(na.A,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>({maxHeight:zr,width:56,padding:0,overflow:"hidden","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(r.vars||r).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),Eh=(0,Z.styled)(ta.A,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(r,e)=>e.item})(({theme:r})=>({padding:8,margin:"2px 4px",width:Di,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,Z.alpha)(r.palette.primary.main,r.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(r.vars||r).palette.primary.main,color:(r.vars||r).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(r.vars||r).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.focusOpacity})`:(0,Z.alpha)(r.palette.primary.main,r.palette.action.focusOpacity)}})),Sh=R.forwardRef(function(e,t){var X;const n=R.useRef(null),s=(0,Yt.A)(t,n),o=R.useRef(null),a=(0,Z.useThemeProps)({props:e,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:i,onChange:c,className:p,disabled:g,readOnly:C,items:v,active:M,slots:S,slotProps:T,skipDisabled:_}=a,O=(0,Ge.A)(a,Ah),B=R.useMemo(()=>(0,P.A)({},a,{alreadyRendered:!!n.current}),[a]),K=xh(B),se=(X=S==null?void 0:S.digitalClockSectionItem)!=null?X:Eh;R.useEffect(()=>{if(n.current===null)return;const oe=n.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(M&&i&&oe&&oe.focus(),!oe||o.current===oe)return;o.current=oe;const Y=oe.offsetTop;n.current.scrollTop=Y-4});const Q=v.findIndex(oe=>oe.isFocused(oe.value));return(0,W.jsx)(wh,(0,P.A)({ref:s,className:(0,At.A)(K.root,p),ownerState:B,autoFocusItem:i&&M,role:"listbox"},O,{children:v.map((oe,Y)=>{var ne;const De=(ne=oe.isDisabled)==null?void 0:ne.call(oe,oe.value),q=g||De;if(_&&q)return null;const ve=oe.isSelected(oe.value),Te=Q===Y||Q===-1&&Y===0?0:-1;return(0,W.jsx)(se,(0,P.A)({onClick:()=>!C&&c(oe.value),selected:ve,disabled:q,disableRipple:C,role:"option","aria-disabled":C||q||void 0,"aria-label":oe.ariaLabel,"aria-selected":ve,tabIndex:Te,className:K.item},T==null?void 0:T.digitalClockSectionItem,{children:oe.label}),oe.label)})}))}),Fh=({now:r,value:e,utils:t,ampm:n,isDisabled:s,resolveAriaLabel:o,timeStep:a,valueOrReferenceDate:i})=>{const c=e?t.getHours(e):null,p=[],g=(M,S)=>{const T=S!=null?S:c;return T===null?!1:n?M===12?T===12||T===0:T===M||T-12===M:T===M},C=M=>g(M,t.getHours(i)),v=n?11:23;for(let M=0;M<=v;M+=a){let S=t.format(t.setHours(r,M),n?"hours12h":"hours24h");const T=o(parseInt(S,10).toString());S=t.formatNumber(S),p.push({value:M,label:S,isSelected:g,isDisabled:s,isFocused:C,ariaLabel:T})}return p},sa=({value:r,utils:e,isDisabled:t,timeStep:n,resolveLabel:s,resolveAriaLabel:o,hasValue:a=!0})=>{const i=p=>r===null?!1:a&&r===p,c=p=>r===p;return[...Array.from({length:Math.ceil(60/n)},(p,g)=>{const C=n*g;return{value:C,label:e.formatNumber(s(C)),isDisabled:t,isSelected:i,isFocused:c,ariaLabel:o(C.toString())}})]},Th=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","skipDisabled","timezone"],kh=r=>{const{classes:e}=r,t={root:["root"]};return(0,mt.A)(t,bh,e)},Ih=(0,Z.styled)(_s,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>({display:"flex",flexDirection:"row",width:"100%",borderBottom:`1px solid ${(r.vars||r).palette.divider}`})),Ph=R.forwardRef(function(e,t){const n=pt(),s=(0,Z.useThemeProps)({props:e,name:"MuiMultiSectionDigitalClock"}),{ampm:o=n.is12HourCycleInCurrentLocale(),timeSteps:a,autoFocus:i,slots:c,slotProps:p,value:g,defaultValue:C,referenceDate:v,disableIgnoringDatePartForTimeValidation:M=!1,maxTime:S,minTime:T,disableFuture:_,disablePast:O,minutesStep:B=1,shouldDisableTime:K,onChange:se,view:Q,views:X=["hours","minutes"],openTo:oe,onViewChange:Y,focusedView:De,onFocusedViewChange:q,className:ve,disabled:Te,readOnly:ne,skipDisabled:ke=!1,timezone:me}=s,Pe=(0,Ge.A)(s,Th),{value:Me,handleValueChange:$e,timezone:Ne}=Xn({name:"MultiSectionDigitalClock",timezone:me,value:g,defaultValue:C,onChange:se,valueManager:Vt}),Oe=jt(),Je=Rn(Ne),Fe=R.useMemo(()=>(0,P.A)({hours:1,minutes:5,seconds:5},a),[a]),Le=pr({value:Me,referenceDate:v,utils:n,props:s,timezone:Ne}),ht=(0,Ue.A)((fe,Ae,nt)=>$e(fe,Ae,nt)),ae=R.useMemo(()=>!o||!X.includes("hours")||X.includes("meridiem")?X:[...X,"meridiem"],[o,X]),{view:be,setValueAndGoToNextView:Ie,focusedView:Be}=cs({view:Q,views:ae,openTo:oe,onViewChange:Y,onChange:ht,focusedView:De,onFocusedViewChange:q}),Qe=(0,Ue.A)(fe=>{Ie(fe,"finish","meridiem")}),{meridiemMode:He,handleMeridiemChange:rt}=ar(Le,o,Qe,"finish"),Ve=R.useCallback((fe,Ae)=>{const nt=On(M,n),Pt=Ae==="hours"||Ae==="minutes"&&ae.includes("seconds"),ft=({start:St,end:Kt})=>!(T&&nt(T,Kt)||S&&nt(St,S)||_&&nt(St,Je)||O&&nt(Je,Pt?Kt:St)),Rt=(St,Kt=1)=>{if(St%Kt!==0)return!1;if(K)switch(Ae){case"hours":return!K(n.setHours(Le,St),"hours");case"minutes":return!K(n.setMinutes(Le,St),"minutes");case"seconds":return!K(n.setSeconds(Le,St),"seconds");default:return!1}return!0};switch(Ae){case"hours":{const St=nn(fe,He,o),Kt=n.setHours(Le,St),jn=n.setSeconds(n.setMinutes(Kt,0),0),bs=n.setSeconds(n.setMinutes(Kt,59),59);return!ft({start:jn,end:bs})||!Rt(St)}case"minutes":{const St=n.setMinutes(Le,fe),Kt=n.setSeconds(St,0),jn=n.setSeconds(St,59);return!ft({start:Kt,end:jn})||!Rt(fe,B)}case"seconds":{const St=n.setSeconds(Le,fe);return!ft({start:St,end:St})||!Rt(fe)}default:throw new Error("not supported")}},[o,Le,M,S,He,T,B,K,n,_,O,Je,ae]),le=R.useCallback(fe=>{switch(fe){case"hours":return{onChange:Ae=>{const nt=nn(Ae,He,o);Ie(n.setHours(Le,nt),"finish","hours")},items:Fh({now:Je,value:Me,ampm:o,utils:n,isDisabled:Ae=>Ve(Ae,"hours"),timeStep:Fe.hours,resolveAriaLabel:Oe.hoursClockNumberText,valueOrReferenceDate:Le})};case"minutes":return{onChange:Ae=>{Ie(n.setMinutes(Le,Ae),"finish","minutes")},items:sa({value:n.getMinutes(Le),utils:n,isDisabled:Ae=>Ve(Ae,"minutes"),resolveLabel:Ae=>n.format(n.setMinutes(Je,Ae),"minutes"),timeStep:Fe.minutes,hasValue:!!Me,resolveAriaLabel:Oe.minutesClockNumberText})};case"seconds":return{onChange:Ae=>{Ie(n.setSeconds(Le,Ae),"finish","seconds")},items:sa({value:n.getSeconds(Le),utils:n,isDisabled:Ae=>Ve(Ae,"seconds"),resolveLabel:Ae=>n.format(n.setSeconds(Je,Ae),"seconds"),timeStep:Fe.seconds,hasValue:!!Me,resolveAriaLabel:Oe.secondsClockNumberText})};case"meridiem":{const Ae=tt(n,"am"),nt=tt(n,"pm");return{onChange:rt,items:[{value:"am",label:Ae,isSelected:()=>!!Me&&He==="am",isFocused:()=>!!Le&&He==="am",ariaLabel:Ae},{value:"pm",label:nt,isSelected:()=>!!Me&&He==="pm",isFocused:()=>!!Le&&He==="pm",ariaLabel:nt}]}}default:throw new Error(`Unknown view: ${fe} found.`)}},[Je,Me,o,n,Fe.hours,Fe.minutes,Fe.seconds,Oe.hoursClockNumberText,Oe.minutesClockNumberText,Oe.secondsClockNumberText,He,Ie,Le,Ve,rt]),Ce=R.useMemo(()=>ae.reduce((fe,Ae)=>(0,P.A)({},fe,{[Ae]:le(Ae)}),{}),[ae,le]),Ee=s,_e=kh(Ee);return(0,W.jsx)(Ih,(0,P.A)({ref:t,className:(0,At.A)(_e.root,ve),ownerState:Ee,role:"group"},Pe,{children:Object.entries(Ce).map(([fe,Ae])=>(0,W.jsx)(Sh,{items:Ae.items,onChange:Ae.onChange,active:be===fe,autoFocus:i!=null?i:Be===fe,disabled:Te,readOnly:ne,slots:c,slotProps:p,skipDisabled:ke,"aria-label":Oe.selectViewText(fe)},fe))}))}),hr=({view:r,onViewChange:e,focusedView:t,onFocusedViewChange:n,views:s,value:o,defaultValue:a,referenceDate:i,onChange:c,className:p,classes:g,disableFuture:C,disablePast:v,minTime:M,maxTime:S,shouldDisableTime:T,minutesStep:_,ampm:O,ampmInClock:B,slots:K,slotProps:se,readOnly:Q,disabled:X,sx:oe,autoFocus:Y,showViewSwitcher:De,disableIgnoringDatePartForTimeValidation:q,timezone:ve})=>(0,W.jsx)(ph,{view:r,onViewChange:e,focusedView:t&&Bt(t)?t:null,onFocusedViewChange:n,views:s.filter(Bt),value:o,defaultValue:a,referenceDate:i,onChange:c,className:p,classes:g,disableFuture:C,disablePast:v,minTime:M,maxTime:S,shouldDisableTime:T,minutesStep:_,ampm:O,ampmInClock:B,slots:K,slotProps:se,readOnly:Q,disabled:X,sx:oe,autoFocus:Y,showViewSwitcher:De,disableIgnoringDatePartForTimeValidation:q,timezone:ve}),Mh=({view:r,onViewChange:e,focusedView:t,onFocusedViewChange:n,views:s,value:o,defaultValue:a,referenceDate:i,onChange:c,className:p,classes:g,disableFuture:C,disablePast:v,minTime:M,maxTime:S,shouldDisableTime:T,minutesStep:_,ampm:O,slots:B,slotProps:K,readOnly:se,disabled:Q,sx:X,autoFocus:oe,disableIgnoringDatePartForTimeValidation:Y,timeSteps:De,skipDisabled:q,timezone:ve})=>(0,W.jsx)(Ch,{view:r,onViewChange:e,focusedView:t,onFocusedViewChange:n,views:s.filter(Bt),value:o,defaultValue:a,referenceDate:i,onChange:c,className:p,classes:g,disableFuture:C,disablePast:v,minTime:M,maxTime:S,shouldDisableTime:T,minutesStep:_,ampm:O,slots:B,slotProps:K,readOnly:se,disabled:Q,sx:X,autoFocus:oe,disableIgnoringDatePartForTimeValidation:Y,timeStep:De==null?void 0:De.minutes,skipDisabled:q,timezone:ve}),ra=({view:r,onViewChange:e,focusedView:t,onFocusedViewChange:n,views:s,value:o,defaultValue:a,referenceDate:i,onChange:c,className:p,classes:g,disableFuture:C,disablePast:v,minTime:M,maxTime:S,shouldDisableTime:T,minutesStep:_,ampm:O,slots:B,slotProps:K,readOnly:se,disabled:Q,sx:X,autoFocus:oe,disableIgnoringDatePartForTimeValidation:Y,timeSteps:De,skipDisabled:q,timezone:ve})=>(0,W.jsx)(Ph,{view:r,onViewChange:e,focusedView:t,onFocusedViewChange:n,views:s.filter(Bt),value:o,defaultValue:a,referenceDate:i,onChange:c,className:p,classes:g,disableFuture:C,disablePast:v,minTime:M,maxTime:S,shouldDisableTime:T,minutesStep:_,ampm:O,slots:B,slotProps:K,readOnly:se,disabled:Q,sx:X,autoFocus:oe,disableIgnoringDatePartForTimeValidation:Y,timeSteps:De,skipDisabled:q,timezone:ve}),Nh=null,Gm=(r,e)=>{let{views:t,format:n}=e,s=_objectWithoutPropertiesLoose(e,Nh);if(n)return n;const o=[],a=[];if(t.forEach(p=>{isTimeView(p)?a.push(p):o.push(p)}),a.length===0)return resolveDateFormat(r,_extends({views:o},s),!1);if(o.length===0)return resolveTimeFormat(r,_extends({views:a},s));const i=resolveTimeFormat(r,_extends({views:a},s));return`${resolveDateFormat(r,_extends({views:o},s),!1)} ${i}`},Oh=(r,e,t)=>t?e.filter(n=>!tn(n)||n==="hours"):r?[...e,"meridiem"]:e,_h=(r,e)=>{var t,n;return 24*60/(((t=r.hours)!=null?t:1)*((n=r.minutes)!=null?n:5))<=e};function Rh({thresholdToRenderTimeInASingleColumn:r,ampm:e,timeSteps:t,views:n}){const s=r!=null?r:24,o=(0,P.A)({hours:1,minutes:5,seconds:5},t),a=_h(o,s);return{thresholdToRenderTimeInASingleColumn:s,timeSteps:o,shouldRenderTimeInASingleColumn:a,views:Oh(e,n,a)}}const oa=R.forwardRef(function(e,t){var O,B,K,se,Q,X;const n=jt(),s=pt(),o=Go(e,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:a,views:i,timeSteps:c}=Rh(o),p=a?Mh:ra,g=(0,P.A)({hours:p,minutes:p,seconds:p,meridiem:p},o.viewRenderers),C=(O=o.ampmInClock)!=null?O:!0,v=a?[]:["accept"],S=((B=g.hours)==null?void 0:B.name)===ra.name?i:i.filter(oe=>oe!=="meridiem"),T=(0,P.A)({},o,{ampmInClock:C,timeSteps:c,viewRenderers:g,format:Es(s,o),views:a?["hours"]:S,slots:(0,P.A)({field:Jo,openPickerIcon:_i},o.slots),slotProps:(0,P.A)({},o.slotProps,{field:oe=>{var Y;return(0,P.A)({},(0,Hn.Y)((Y=o.slotProps)==null?void 0:Y.field,oe),Is(o),{ref:t})},toolbar:(0,P.A)({hidden:!0,ampmInClock:C},(K=o.slotProps)==null?void 0:K.toolbar),actionBar:(0,P.A)({actions:v},(se=o.slotProps)==null?void 0:se.actionBar)})}),{renderPicker:_}=Yr({props:T,valueManager:Vt,valueType:"time",getOpenDialogAriaText:(X=(Q=T.localeText)==null?void 0:Q.openTimePickerDialogue)!=null?X:n.openTimePickerDialogue,validator:dr});return _()});oa.propTypes={ampm:d().bool,ampmInClock:d().bool,autoFocus:d().bool,className:d().string,closeOnSelect:d().bool,defaultValue:d().object,disabled:d().bool,disableFuture:d().bool,disableIgnoringDatePartForTimeValidation:d().bool,disableOpenPicker:d().bool,disablePast:d().bool,enableAccessibleFieldDOMStructure:d().any,format:d().string,formatDensity:d().oneOf(["dense","spacious"]),inputRef:Dn,label:d().node,localeText:d().object,maxTime:d().object,minTime:d().object,minutesStep:d().number,name:d().string,onAccept:d().func,onChange:d().func,onClose:d().func,onError:d().func,onOpen:d().func,onSelectedSectionsChange:d().func,onViewChange:d().func,open:d().bool,openTo:d().oneOf(["hours","meridiem","minutes","seconds"]),orientation:d().oneOf(["landscape","portrait"]),readOnly:d().bool,reduceAnimations:d().bool,referenceDate:d().object,selectedSections:d().oneOfType([d().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),d().number]),shouldDisableTime:d().func,skipDisabled:d().bool,slotProps:d().object,slots:d().object,sx:d().oneOfType([d().arrayOf(d().oneOfType([d().func,d().object,d().bool])),d().func,d().object]),thresholdToRenderTimeInASingleColumn:d().number,timeSteps:d().shape({hours:d().number,minutes:d().number,seconds:d().number}),timezone:d().string,value:d().object,view:d().oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:d().shape({hours:d().func,meridiem:d().func,minutes:d().func,seconds:d().func}),views:d().arrayOf(d().oneOf(["hours","minutes","seconds"]).isRequired)};const aa=R.forwardRef(function(e,t){var g,C,v,M;const n=jt(),s=pt(),o=Go(e,"MuiMobileTimePicker"),a=(0,P.A)({hours:hr,minutes:hr,seconds:hr},o.viewRenderers),i=(g=o.ampmInClock)!=null?g:!1,c=(0,P.A)({},o,{ampmInClock:i,viewRenderers:a,format:Es(s,o),slots:(0,P.A)({field:Jo},o.slots),slotProps:(0,P.A)({},o.slotProps,{field:S=>{var T;return(0,P.A)({},(0,Hn.Y)((T=o.slotProps)==null?void 0:T.field,S),Is(o),{ref:t})},toolbar:(0,P.A)({hidden:!1,ampmInClock:i},(C=o.slotProps)==null?void 0:C.toolbar)})}),{renderPicker:p}=xo({props:c,valueManager:Vt,valueType:"time",getOpenDialogAriaText:(M=(v=c.localeText)==null?void 0:v.openTimePickerDialogue)!=null?M:n.openTimePickerDialogue,validator:dr});return p()});aa.propTypes={ampm:d().bool,ampmInClock:d().bool,autoFocus:d().bool,className:d().string,closeOnSelect:d().bool,defaultValue:d().object,disabled:d().bool,disableFuture:d().bool,disableIgnoringDatePartForTimeValidation:d().bool,disableOpenPicker:d().bool,disablePast:d().bool,enableAccessibleFieldDOMStructure:d().any,format:d().string,formatDensity:d().oneOf(["dense","spacious"]),inputRef:Dn,label:d().node,localeText:d().object,maxTime:d().object,minTime:d().object,minutesStep:d().number,name:d().string,onAccept:d().func,onChange:d().func,onClose:d().func,onError:d().func,onOpen:d().func,onSelectedSectionsChange:d().func,onViewChange:d().func,open:d().bool,openTo:d().oneOf(["hours","minutes","seconds"]),orientation:d().oneOf(["landscape","portrait"]),readOnly:d().bool,reduceAnimations:d().bool,referenceDate:d().object,selectedSections:d().oneOfType([d().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),d().number]),shouldDisableTime:d().func,slotProps:d().object,slots:d().object,sx:d().oneOfType([d().arrayOf(d().oneOfType([d().func,d().object,d().bool])),d().func,d().object]),timezone:d().string,value:d().object,view:d().oneOf(["hours","minutes","seconds"]),viewRenderers:d().shape({hours:d().func,minutes:d().func,seconds:d().func}),views:d().arrayOf(d().oneOf(["hours","minutes","seconds"]).isRequired)};const Lh=["desktopModeMediaQuery"],Bh=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiTimePicker"}),{desktopModeMediaQuery:s=Lr}=n,o=(0,Ge.A)(n,Lh);return(0,un.A)(s,{defaultMatches:!0})?(0,W.jsx)(oa,(0,P.A)({ref:t},o)):(0,W.jsx)(aa,(0,P.A)({ref:t},o))});class $h extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr);this.setState({value:e})}renderItem(e,t){const n=this.props.schema.returnFormat!=="HH:mm:ss",s=new Date(Date.parse(`Thu, 01 Jan 1970 ${this.state.value||"00:00:00"}`));return l().createElement(Bh,{sx:o=>({width:"100%",borderBottom:`1px solid ${o.palette.text.primary}`,"& fieldset":{display:"none"},"& input":{padding:`${o.spacing(1.5)} 0 4px 0`},"& .MuiInputAdornment-root":{marginLeft:0,marginTop:1},"& label":{transform:"translate(0px, -9px) scale(0.75)"}}),ampm:this.props.systemConfig.dateFormat.includes("/"),timeSteps:this.props.schema.timeSteps||this.props.schema.timesteps||{hours:1,minutes:5,seconds:5},format:this.props.schema.format||"HH:mm:ss",disabled:!!t,value:s,onChange:o=>{let a=o.toTimeString();a=o instanceof Date?o.toTimeString().split(" ")[0]:o.toTimeString(),n&&(a=a.split(":").slice(0,2).join(":")),this.setState({value:a},()=>this.onChange(this.props.attr,this.state.value))},views:this.props.schema.views||["hours","minutes","seconds"],label:this.getText(this.props.schema.label)})}}const Vh=()=>({fullWidth:{width:"100%"},icon:{width:16,height:16,marginRight:8}});function jh(r,e,t){let n;return t&&r.substring(0,t.length)===t?n=r.substring(t.length+1):n=r,n=n.replace(/\./g,"/").replace(/_/g," "),n}class ia extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr);if(!e&&this.props.customObj&&this.props.customObj._id){const t=jh(this.props.customObj._id,null,`${this.props.adapterName}.${this.props.instance}`);this.setState({value:t})}else this.setState({value:e||""})}renderItem(e,t){return l().createElement(u.TextField,{variant:"standard",fullWidth:!0,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0},value:this.state.value,error:!!e,disabled:t,placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),onChange:n=>{const s=n.target.value;this.setState({value:s},()=>this.onChange(this.props.attr,s))}})}}ia.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func,adapterName:d().string,instance:d().number,customObj:d().object};const Wh=(0,b.withStyles)(Vh)(ia);class mr extends y{componentDidMount(){return lt(this,null,function*(){var t;Wt(mr.prototype,this,"componentDidMount").call(this);const e=yield this.props.socket.getObject("system.meta.uuid");this.setState({uuid:((t=e==null?void 0:e.native)==null?void 0:t.uuid)||"unknown"})})}renderItem(e,t){return l().createElement(u.TextField,{variant:"standard",fullWidth:!0,error:!!e,disabled:!!t,inputProps:{readOnly:!0},InputProps:{endAdornment:l().createElement(u.IconButton,{onClick:()=>{h.Utils.copyToClipboard(this.state.uuid),window.alert(h.I18n.t("ra_Copied %s",this.state.uuid))}},l().createElement(D.ContentCopy,null))},value:this.state.uuid||"",label:this.getText(this.props.schema.label)||h.I18n.t("ra_Serial number (UUID)"),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const Uh=mr,Hh=()=>({fullWidth:{width:"100%"},icon:{width:16,height:16,marginRight:8}});class la extends y{componentDidMount(){super.componentDidMount(),this.props.socket.getUsers().then(e=>{const t={},n=h.I18n.getLanguage();this.props.schema.short?e.forEach(s=>{var o,a;return t[s._id]={color:(o=s.common)==null?void 0:o.color,icon:(a=s.common)==null?void 0:a.icon,name:h.Utils.getObjectNameFromObj(s,n)}}):e.forEach(s=>{var o,a;return t[s._id.replace(/^system\.user\./,"")]={color:(o=s.common)==null?void 0:o.color,icon:(a=s.common)==null?void 0:a.icon,name:h.Utils.getObjectNameFromObj(s,n)}}),this.setState({users:t})})}renderItem(e,t){var s,o;const n=y.getValue(this.props.data,this.props.attr);return l().createElement(u.FormControl,{variant:"standard",className:this.props.classes.fullWidth},this.state.users&&this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,this.state.users?l().createElement(u.Select,{variant:"standard",error:!!e,disabled:!!t,value:n,renderValue:a=>{var i,c,p;return l().createElement("span",null,this.state.users&&((i=this.state.users[a])!=null&&i.icon)?l().createElement(h.Icon,{src:this.state.users&&((c=this.state.users[a])==null?void 0:c.icon),className:this.props.classes.icon}):null,this.state.users&&((p=this.state.users[a])==null?void 0:p.name)||a||"")},style:{color:this.state.users&&((s=this.state.users[n])==null?void 0:s.color)||void 0,backgroundColor:h.Utils.getInvertedColor(this.state.users&&((o=this.state.users[n])==null?void 0:o.color),this.props.themeType)},onChange:a=>this.onChange(this.props.attr,a.target.value)},this.state.users&&Object.keys(this.state.users).map(a=>l().createElement(u.MenuItem,{style:{color:this.state.users[a].color||void 0,backgroundColor:h.Utils.getInvertedColor(this.state.users[a].color,this.props.themeType)},key:a,value:a},this.state.users[a].icon?l().createElement(h.Icon,{src:this.state.users[a].icon,className:this.props.classes.icon}):null,this.state.users[a].name))):l().createElement(u.TextField,{variant:"standard",error:!!e,disabled:!!t,value:n,onChange:a=>this.onChange(this.props.attr,a.target.value),label:this.getText(this.props.schema.label)}),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}la.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const zh=(0,b.withStyles)(Hh)(la),Jh={accordion:w,alive:E,autocomplete:z,autocompleteSendTo:ue,certCollection:wn,certificate:we,certificates:kt,checkbox:ln,checkLicense:wt,chip:ct,chips:ct,color:he,coordinates:yn,cron:de,custom:Sn,datePicker:Vu,deviceManager:Wu,divider:ep,file:sd,fileSelector:So,func:od,header:np,image:dd,imageSendTo:cd,instance:hd,interface:fd,ip:id,jsonEditor:wd,language:Td,license:kd,number:Md,objectId:Od,password:Rd,pattern:Ld,port:$d,room:jd,select:Ud,selectSendTo:Jd,sendto:Lo,sendTo:Lo,setState:qd,slider:Xd,staticImage:rp,staticLink:Ho,staticText:Ho,table:up,text:hp,textSendTo:gp,timePicker:$h,topic:Wh,uuid:Uh,user:zh},Yh=r=>({fullWidth:{width:"100%"},paper:{margin:10,height:"calc(100vh - 235px) !important",width:"auto !important",overflowY:"auto",paddingBottom:r.spacing(1)},padding:{padding:10},heading:{},primary:{backgroundColor:r.palette.primary.main,color:r.palette.mode==="dark"?"inherit":"#FFF"},secondary:{backgroundColor:r.palette.secondary.main}});class Kh extends y{componentDidMount(){super.componentDidMount(),this.props.schema&&this.props.schema.collapsable&&this.setState({expanded:(window._localStorage||window.localStorage).getItem(`${this.props.adapterName}.${this.props.attr}`)==="true"})}renderItems(e,t){const n=this.props.classes||{};return e?Object.keys(e).map(s=>{if(this.props.multiEdit&&e[s].noMultiEdit)return null;const o=e[s].type||"panel";let a;return o==="custom"?e[s].url?a=Sn:this.props.customs&&this.props.customs[e[s].component]?a=this.props.customs[e[s].component]:(console.error(`Cannot find custom component: ${e[s].component}`),a=y):o==="panel"?a=ca:a=Jh[o]||y,l().createElement(a,{key:`${s}_${this.props.index===void 0?"":this.props.index}`,index:this.props.index,changed:this.props.changed,arrayIndex:this.props.arrayIndex,globalData:this.props.globalData,onCommandRunning:this.props.onCommandRunning,commandRunning:this.props.commandRunning,className:n.panel,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,customs:this.props.customs,alive:this.props.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:this.props.data,originalData:this.props.originalData,systemConfig:this.props.systemConfig,onError:this.props.onError,onChange:this.props.onChange,multiEdit:this.props.multiEdit,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,disabled:t,imagePrefix:this.props.imagePrefix,changeLanguage:this.props.changeLanguage,forceUpdate:this.props.forceUpdate,registerOnForceUpdate:this.props.registerOnForceUpdate,customObj:this.props.customObj,instanceObj:this.props.instanceObj,custom:this.props.custom,schema:e[s],attr:s,table:this.props.table})}):null}render(){const e=this.props.schema;if(!e)return null;const{disabled:t,hidden:n}=this.calculate(e),s=this.props.schema.items,o=this.props.classes||{},a=this.props.schema.style||{};if(n){if(e.hideOnlyControl){const c=l().createElement(u.Grid,{item:!0,xs:e.xs||void 0,lg:e.lg||void 0,md:e.md||void 0,sm:e.sm||void 0,style:it(it({marginBottom:0,textAlign:"left"},e.style),this.props.themeType==="dark"?e.darkStyle:{})});return e.newLine?l().createElement(l().Fragment,null,l().createElement("div",{style:{flexBasis:"100%",height:0}}),c):c}return null}if(this.props.table)return this.renderItems(s,t);if(this.props.custom)return l().createElement(u.Grid,{key:`${this.props.attr}_${this.props.index}`,container:!0,className:o.fullWidth,spacing:2,style:a},this.renderItems(s,t));let i;if(e.collapsable?i=l().createElement(u.Accordion,{key:`${this.props.attr}_${this.props.index}`,className:o.fullWidth,expanded:!!this.state.expanded,onChange:()=>{(window._localStorage||window.localStorage).setItem(`${this.props.adapterName}.${this.props.attr}`,this.state.expanded?"false":"true"),this.setState({expanded:!this.state.expanded})}},l().createElement(u.AccordionSummary,{expandIcon:l().createElement(D.ExpandMore,null),style:it(it({},e.style),this.props.themeType?e.darkStyle:{}),className:h.Utils.clsx(o.fullWidth,e.color==="primary"&&o.primary,e.color==="secondary"&&o.secondary)},l().createElement(u.Typography,{className:o.heading},this.getText(e.label))),l().createElement(u.AccordionDetails,null,l().createElement(u.Grid,{container:!0,className:`${o.fullWidth} ${o.padding}`,spacing:2,style:a},this.renderItems(s,t)))):i=l().createElement("div",{key:`${this.props.attr}_${this.props.index}`,className:h.Utils.clsx(this.props.className,this.props.isParentTab&&o.paper,o.fullWidth),style:a},l().createElement(u.Grid,{container:!0,className:h.Utils.clsx(o.fullWidth,this.props.isParentTab&&o.padding),spacing:2,style:this.props.schema.innerStyle},this.renderItems(s,t))),!this.props.isParentTab){const c=l().createElement(u.Grid,{item:!0,title:this.getText(e.tooltip),xs:e.xs||void 0,lg:e.lg||void 0,md:e.md||void 0,sm:e.sm||void 0,style:it({marginBottom:0,textAlign:"left"},e.style)},i);return e.newLine?l().createElement(l().Fragment,null,l().createElement("div",{style:{flexBasis:"100%",height:0}}),c):c}return i}}const ca=(0,b.withStyles)(Yh)(Kh),Ds=ca,Gh={tabs:{height:"100%",width:"100%"},panel:{height:"calc(100% - 48px)",width:"100%",display:"block"}};class qh extends y{constructor(e){super(e);let t=(window._localStorage||window.localStorage).getItem(`${this.props.dialogName||"App"}.${this.props.adapterName}`)||Object.keys(this.props.schema.items)[0];Object.keys(this.props.schema.items).includes(t)||(t=Object.keys(this.props.schema.items)[0]),Object.assign(this.state,{tab:t})}render(){const e=this.props.schema.items;return l().createElement("div",{className:this.props.classes.tabs},l().createElement(u.Tabs,{variant:"scrollable",scrollButtons:"auto",style:this.props.schema.tabsStyle,value:this.state.tab,onChange:(t,n)=>{(window._localStorage||window.localStorage).setItem(`${this.props.dialogName||"App"}.${this.props.adapterName}`,n),this.setState({tab:n})}},Object.keys(e).map(t=>{let n;if(this.props.custom){if(this.executeCustom(e[t].hidden,this.props.data,this.props.customObj,this.props.instanceObj,this.props.index,this.props.globalData))return null;n=this.executeCustom(e[t].disabled,this.props.data,this.props.customObj,this.props.instanceObj,this.props.index,this.props.globalData)}else{if(this.execute(e[t].hidden,!1,this.props.data,this.props.index,this.props.globalData))return null;n=this.execute(e[t].disabled,!1,this.props.data,this.props.index,this.props.globalData)}return l().createElement(u.Tab,{wrapped:!0,disabled:n,key:t,value:t,iconPosition:this.props.schema.iconPosition||"start",icon:this.getIcon(e[t].icon),label:this.getText(e[t].label)})})),l().createElement(Ds,{isParentTab:!0,changed:this.props.changed,key:this.state.tab,index:1001,arrayIndex:this.props.arrayIndex,globalData:this.props.globalData,onCommandRunning:this.props.onCommandRunning,commandRunning:this.props.commandRunning,className:this.props.classes.panel,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,customs:this.props.customs,alive:this.props.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:this.props.data,originalData:this.props.originalData,systemConfig:this.props.systemConfig,onError:this.props.onError,onChange:this.props.onChange,multiEdit:this.props.multiEdit,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,imagePrefix:this.props.imagePrefix,changeLanguage:this.props.changeLanguage,forceUpdate:this.props.forceUpdate,registerOnForceUpdate:this.props.registerOnForceUpdate,customObj:this.props.customObj,instanceObj:this.props.instanceObj,custom:this.props.custom,schema:e[this.state.tab],table:this.props.table}))}}const Qh=(0,b.withStyles)(Gh)(qh),Xh={root:{width:"100%",height:"100%"}};class ua extends V.Component{constructor(t){super(t);We(this,"forceUpdateHandlers");We(this,"errorTimeout",null);We(this,"errorCached",null);We(this,"onCommandRunning",t=>this.setState({commandRunning:t}));We(this,"onAlive",(t,n)=>{!!(n!=null&&n.val)!==this.state.alive&&this.setState({alive:!!(n!=null&&n.val)})});We(this,"onChange",(t,n,s,o)=>{if(this.props.onValueChange)this.props.onValueChange(t,n,o),s&&s();else if(t&&this.props.onChange){const a={data:t};a.changed=JSON.stringify(t)!==this.state.originalData,this.setState(a,()=>{this.props.onChange(t,a.changed,o),s&&s()})}else o&&this.props.onChange(null,null,o)});We(this,"onError",(t,n)=>{this.errorCached=this.errorCached||JSON.parse(JSON.stringify(this.state.errors));const s=this.errorCached;n?s[t]=n:delete s[t],this.errorTimeout&&clearTimeout(this.errorTimeout),JSON.stringify(s)!==JSON.stringify(this.state.errors)?this.errorTimeout=setTimeout(()=>this.setState({errors:this.errorCached},()=>{this.errorTimeout=null,this.errorCached=null,this.props.onError(!!Object.keys(this.state.errors).length)}),50):this.errorCached=null});We(this,"changeLanguage",()=>{this.forceUpdate()});We(this,"forceAttrUpdate",(t,n)=>{Array.isArray(t)?t.forEach(s=>this.forceUpdateHandlers[s]&&this.forceUpdateHandlers[s](n)):this.forceUpdateHandlers[t]&&this.forceUpdateHandlers[t](n)});We(this,"registerOnForceUpdate",(t,n)=>{n?this.forceUpdateHandlers[t]=n:this.forceUpdateHandlers[t]&&delete this.forceUpdateHandlers[t]});this.state={originalData:JSON.stringify(this.props.data),changed:!1,errors:{},updateData:this.props.updateData||0,systemConfig:null,alive:!1,commandRunning:!1,schema:JSON.parse(JSON.stringify(this.props.schema)),data:null},this.forceUpdateHandlers={},this.buildDependencies(this.state.schema),this.readData()}static getDerivedStateFromProps(t,n){return t.updateData!==n.updateData?{updateData:t.updateData,originalData:JSON.stringify(t.data),schema:JSON.parse(JSON.stringify(t.schema))}:null}static loadI18n(t,n,s){return lt(this,null,function*(){if(n===!0||n&&typeof n=="string"){const o=h.I18n.getLanguage(),a=typeof n=="string"?n:"i18n";let i=yield t.fileExists(`${s}.admin`,`${a}/${o}.json`),c;if(i?c=`${a}/${o}.json`:(i=yield t.fileExists(`${s}.admin`,`${a}/${o}/translations.json`),i?c=`${a}/${o}/translations.json`:o!=="en"&&(i=yield t.fileExists(`${s}.admin`,`${a}/en.json`),i?c=`${a}/en.json`:(i=yield t.fileExists(`${s}.admin`,`${a}/en/translations.json`),i&&(c=`${a}/en/translations.json`)))),c){const p=yield t.readFile(`${s}.admin`,c);let g;p.file!==void 0?g=p.file:g=p;try{const C=JSON.parse(g);h.I18n.extendTranslations(C,o)}catch(C){return console.error(`Cannot parse language file "${s}.admin/${c}: ${C}`),""}return c}return console.warn(`Cannot find i18n for ${s} / ${c}`),""}return n&&typeof n=="object"&&h.I18n.extendTranslations(n),""})}readSettings(){return lt(this,null,function*(){if((this.props.custom||this.props.common)&&this.props.data)return;const t=yield this.props.socket.getObject(`system.adapter.${this.props.adapterName}.${this.props.instance}`);this.setState({data:this.props.data||t.native})})}readData(){this.readSettings().then(()=>this.props.socket.getCompactSystemConfig()).then(t=>this.props.socket.getState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`).then(n=>{this.props.custom?this.setState({systemConfig:t.common,alive:!!(n&&n.val)}):this.setState({systemConfig:t.common,alive:!!(n&&n.val)},()=>this.props.socket.subscribeState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`,this.onAlive))}))}flatten(t,n){return n=n||{},t.items&&Object.keys(t.items).forEach(s=>{n[s]=t.items[s],this.flatten(t.items[s],n)}),n}buildDependencies(t){const n=this.flatten(t);Object.keys(n).forEach(s=>{var o,a,i,c,p,g,C,v,M,S;(o=n[s].confirm)!=null&&o.alsoDependsOn&&((a=n[s].confirm)==null||a.alsoDependsOn.forEach(T=>{if(!n[T])console.error(`[JsonConfigComponent] Attribute ${T} does not exist!`),T.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${T.replace(/^data\./,"")}" instead of "${T}"`);else{n[T].confirmDependsOn=n[T].confirmDependsOn||[];const _=Ht(it({},n[s]),{attr:s});_.confirm&&(_.confirm.cancel="Undo"),n[T].confirmDependsOn.push(_)}})),(i=n[s].onChange)!=null&&i.alsoDependsOn&&((c=n[s].onChange)==null||c.alsoDependsOn.forEach(T=>{if(!n[T])console.error(`[JsonConfigComponent] Attribute ${T} does not exist!`),T.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${T.replace(/^data\./,"")}" instead of "${T}"`);else{n[T].onChangeDependsOn=n[T].onChangeDependsOn||[];const _=Ht(it({},n[s]),{attr:s});n[T].onChangeDependsOn.push(_)}})),(p=n[s].hidden)!=null&&p.alsoDependsOn&&((g=n[s].hidden)==null||g.alsoDependsOn.forEach(T=>{if(!n[T])console.error(`[JsonConfigComponent] Attribute ${T} does not exist!`),T.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${T.replace(/^data\./,"")}" instead of "${T}"`);else{n[T].hiddenDependsOn=n[T].hiddenDependsOn||[];const _=Ht(it({},n[s]),{attr:s});n[T].hiddenDependsOn.push(_)}})),(C=n[s].label)!=null&&C.alsoDependsOn&&((v=n[s].label)==null||v.alsoDependsOn.forEach(T=>{if(!n[T])console.error(`[JsonConfigComponent] Attribute ${T} does not exist!`),T.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${T.replace(/^data\./,"")}" instead of "${T}"`);else{n[T].labelDependsOn=n[T].labelDependsOn||[];const _=Ht(it({},n[s]),{attr:s});n[T].labelDependsOn.push(_)}})),(M=n[s].help)!=null&&M.alsoDependsOn&&((S=n[s].help)==null||S.alsoDependsOn.forEach(T=>{if(!n[T])console.error(`[JsonConfigComponent] Attribute ${T} does not exist!`),T.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${T.replace(/^data\./,"")}" instead of "${T}"`);else{n[T].helpDependsOn=n[T].helpDependsOn||[];const _=Ht(it({},n[s]),{attr:s});n[T].helpDependsOn.push(_)}}))})}renderItem(t){return t.type==="tabs"?l().createElement(Qh,{onCommandRunning:this.onCommandRunning,commandRunning:this.state.commandRunning,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,alive:this.state.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:this.props.data,originalData:JSON.parse(this.state.originalData),schema:t,systemConfig:this.state.systemConfig,customs:this.props.customs,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,multiEdit:this.props.multiEdit,imagePrefix:this.props.imagePrefix,custom:this.props.custom,customObj:this.props.customObj,instanceObj:this.props.instanceObj,changeLanguage:this.changeLanguage,forceUpdate:this.forceAttrUpdate,registerOnForceUpdate:this.registerOnForceUpdate,onChange:this.onChange,changed:this.state.changed,onError:(n,s)=>this.onError(n,s),DeviceManager:this.props.DeviceManager}):t.type==="panel"||!t.type?l().createElement(Ds,{index:1e3,isParentTab:!this.props.embedded,changed:this.state.changed,onCommandRunning:this.onCommandRunning,commandRunning:this.state.commandRunning,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,alive:this.state.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:this.props.data,originalData:JSON.parse(this.state.originalData),schema:t,systemConfig:this.state.systemConfig,customs:this.props.customs,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,multiEdit:this.props.multiEdit,imagePrefix:this.props.imagePrefix,custom:this.props.custom,customObj:this.props.customObj,instanceObj:this.props.instanceObj,changeLanguage:this.changeLanguage,forceUpdate:this.forceAttrUpdate,registerOnForceUpdate:this.registerOnForceUpdate,onChange:this.onChange,onError:(n,s)=>this.onError(n,s),DeviceManager:this.props.DeviceManager}):null}render(){return this.state.systemConfig?l().createElement("div",{className:h.Utils.clsx(!this.props.embedded&&this.props.classes.root,this.props.className),style:this.state.schema.style},this.renderItem(this.state.schema)):l().createElement(u.LinearProgress,null)}}const Ws=(0,b.withStyles)(Xh)(ua),Zh={root:{width:"100%",height:"100%",overflow:"hidden",position:"relative"},scroll:{height:"calc(100% - 48px)",overflowY:"auto"},exportImportButtons:{position:"absolute",top:5,right:0,zIndex:3},button:{marginRight:5}};function em(r,e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(r[n%r.length].charCodeAt(0)^e.charCodeAt(n));return t}function tm(r,e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(r[n%r.length].charCodeAt(0)^e.charCodeAt(n));return t}function nm(r,e){if(typeof e!="string")return e;if(!e.startsWith("$/aes-192-cbc:")||!/^[0-9a-f]{48}$/.test(r))return em(r,e);const t=e.split(":",3),n=window.CryptoJS.enc.Hex.parse(r),s=window.CryptoJS.enc.Hex.parse(t[1]),o=window.CryptoJS.lib.CipherParams.create({ciphertext:window.CryptoJS.enc.Hex.parse(t[2])}),a=window.CryptoJS.AES.decrypt(o,n,{iv:s});return window.CryptoJS.enc.Utf8.stringify(a)}function sm(r,e,t){if(typeof e!="string")return e;if(!/^[0-9a-f]{48}$/.test(r))return tm(r,e);let n;t?n=window.CryptoJS.enc.Hex.parse(t):n=window.CryptoJS.lib.WordArray.random(128/8);const s=window.CryptoJS.enc.Hex.parse(r),o=window.CryptoJS.AES.encrypt(e,s,{iv:n}).ciphertext;return`$/aes-192-cbc:${window.CryptoJS.enc.Hex.stringify(n)}:${o}`}function da(r,e){var t;return!e||!document.getElementById(e)?new Promise(n=>{const s=document.createElement("script");s.setAttribute("id",e),s.onload=n,s.src=r,document.getElementsByTagName("head")[0].appendChild(s)}):(t=document.getElementById(e))==null?void 0:t.onload}class fr extends h.Router{constructor(t){super(t);We(this,"fileSubscribed",[]);We(this,"fileLangSubscribed","");We(this,"secret","");We(this,"handleFileSelect",t=>{const n=t.target.files[0];if(n){const s=new FileReader;s.onload=o=>lt(this,null,function*(){if(!o.target)return;const a=o.target.result;try{const i=JSON.parse(a);this.setState({data:i,changed:JSON.stringify(i)!==JSON.stringify(this.state.originalData)})}catch(i){window.alert(h.I18n.t("[JsonConfig] Failed to parse JSON file"))}}),s.readAsText(n)}else window.alert(h.I18n.t("[JsonConfig] Failed to open JSON File"))});We(this,"onFileChange",(t,n,s)=>lt(this,null,function*(){var o;if(t===`${this.props.adapterName}.admin`&&s){if(n===this.fileLangSubscribed)try{yield Ws.loadI18n(this.props.socket,(o=this.state.schema)==null?void 0:o.i18n,this.props.adapterName),this.setState({hash:`${this.state.hash}1`})}catch(a){}else if(this.fileSubscribed.includes(n))try{const a=yield this.getConfigFile(this.fileSubscribed[0]);this.setState({schema:a,hash:I()(JSON.stringify(a))})}catch(a){}}}));this.state={updateData:0,changed:!1,confirmDialog:!1,theme:(0,h.Theme)(t.themeName),saveConfigDialog:!1,hash:"_"},this.getInstanceObject().then(n=>this.getConfigFile().then(s=>Ws.loadI18n(this.props.socket,s==null?void 0:s.i18n,this.props.adapterName).then(o=>{o&&(this.fileLangSubscribed||(this.fileLangSubscribed=o,this.props.socket.subscribeFiles(`${this.props.adapterName}.admin`,this.fileLangSubscribed,this.onFileChange))),n?this.setState({schema:s,data:n.native,common:n.common,hash:I()(JSON.stringify(s))}):window.alert(`Instance system.adapter.${this.props.adapterName}.${this.props.instance} not found!`)})))}componentWillUnmount(){return lt(this,null,function*(){Wt(fr.prototype,this,"componentWillUnmount").call(this),this.fileSubscribed.length&&(this.props.socket.unsubscribeFiles(`${this.props.adapterName}.admin`,this.fileSubscribed,this.onFileChange),this.fileSubscribed=[]),this.fileLangSubscribed&&(this.props.socket.unsubscribeFiles(`${this.props.adapterName}.admin`,this.fileLangSubscribed,this.onFileChange),this.fileLangSubscribed="")})}getExportImportButtons(){return l().createElement("div",{className:this.props.classes.exportImportButtons},l().createElement(u.Tooltip,{title:this.props.t("Import settings from JSON file")},l().createElement(u.Fab,{size:"small",classes:{root:this.props.classes.button},onClick:()=>{const t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("id","files"),t.setAttribute("opacity",0),t.addEventListener("change",n=>this.handleFileSelect(n),!1),t.click()}},l().createElement(D.Publish,null))),l().createElement(u.Tooltip,{title:this.props.t("Export setting to JSON file")},l().createElement(u.Fab,{size:"small",classes:{root:this.props.classes.button},onClick:()=>{this.state.data&&Ye.generateFile(`${this.props.adapterName}.${this.props.instance}.json`,this.state.data)}},l().createElement(D.Publish,{style:{transform:"rotate(180deg)"}}))))}getInstanceObject(){return lt(this,null,function*(){var t;try{const n=yield this.props.socket.getObject(`system.adapter.${this.props.adapterName}.${this.props.instance}`);if(Array.isArray(n.encryptedNative)){const s=yield this.props.socket.getSystemConfig();return yield da("../../lib/js/crypto-js/crypto-js.js","crypto-js"),this.secret=s.native.secret,(t=n.encryptedNative)==null||t.forEach(o=>{n.native[o]&&(n.native[o]=nm(this.secret,n.native[o]))}),n}return n}catch(n){window.alert(`[JsonConfig] Cannot read instance object: ${n}`)}return null})}renderConfirmDialog(){return this.state.confirmDialog?l().createElement(h.Confirm,{title:h.I18n.t("ra_Please confirm"),text:h.I18n.t("ra_Some data are not stored. Discard?"),ok:h.I18n.t("ra_Discard"),cancel:h.I18n.t("ra_Cancel"),onClose:t=>this.setState({confirmDialog:!1},()=>t&&h.Router.doNavigate(null))}):null}scanForInclude(t,n){return lt(this,null,function*(){if(typeof t["#include"]=="string"){const o=yield this._getConfigFile(t["#include"],[...n]);return delete t["#include"],o&&(t=it(it({},t),o)),t}const s=Object.keys(t);for(let o=0;o<s.length;o++)typeof t[s[o]]=="object"&&(t[s[o]]=yield this.scanForInclude(t[s[o]],n));return t})}getConfigFile(t){return lt(this,null,function*(){return this._getConfigFile(t)})}_getConfigFile(t,n){return lt(this,null,function*(){if(t=t||"jsonConfig.json5",n=n||[],n.includes(t))return window.alert(`[JsonConfig] Circular reference in file: ${t} => ${n.join(" => ")}`),null;n.push(t);try{(yield this.props.socket.fileExists(`${this.props.adapterName}.admin`,t))||(t="jsonConfig.json");const o=yield this.props.socket.readFile(`${this.props.adapterName}.admin`,t);let a="",i="";if(o.file!==void 0&&(i=o.file),typeof i=="string")a=i;else if(i.type==="Buffer"){let c="";const p=new Uint8Array(i.data),g=p.byteLength;for(let C=0;C<g;C++)c+=String.fromCharCode(p[C]);a=c}this.fileSubscribed.includes(t)||(this.fileSubscribed.push(t),yield this.props.socket.subscribeFiles(`${this.props.adapterName}.admin`,t,this.onFileChange));try{return yield this.scanForInclude(k().parse(a),n)}catch(c){window.alert("[JsonConfig] Cannot parse json5 config!"),console.log(c)}}catch(s){!this.state.schema&&window.alert(`[JsonConfig] Cannot read file "${t}: ${s}`)}return null})}renderSaveConfigDialog(){return this.state.saveConfigDialog?l().createElement(h.Confirm,{title:h.I18n.t("ra_Please confirm"),text:h.I18n.t("Save configuration?"),ok:h.I18n.t("ra_Save"),cancel:h.I18n.t("ra_Cancel"),onClose:t=>this.setState({saveConfigDialog:!1},()=>t&&this.onSave(!0))}):null}findAttr(t,n){if(n=n||this.state.schema,n!=null&&n.items){if(t in n.items)return n.items[t];for(const s of Object.values(n.items)){const o=this.findAttr(t,s);if(o)return o}}return null}postProcessing(t,n,s){if(s=s||this.state.schema,!t){console.error(`Data is empty in postProcessing: ${n}, ${JSON.stringify(s)}`);return}const o=t[n];if(s.items)if(s.type==="table"){const a=o;if(!Array.isArray(a))return;for(const i of a)for(const c of s.items)this.postProcessing(i,c.attr,c)}else for(const[a,i]of Object.entries(s.items)){if(i.type==="panel"||i.type==="tabs"||i.type==="accordion")return;this.postProcessing(t,a,i)}else if(n&&typeof o=="string")if(s.type==="text")s.trim!==!1&&(t[n]=o.trim());else if(s.type==="ip")t[n]=o.trim();else if(s.type==="number"){const a=parseFloat(o.toString().replace(",","."));s.min!==void 0&&a<s.min?t[n]=s.min:s.max!==void 0&&a>s.max?t[n]=s.max:t[n]=a}else if(s.type==="port"){const a=parseInt(o.toString(),10);s.min!==void 0&&a<s.min?t[n]=s.min:s.max!==void 0&&a>s.max&&(t[n]=s.max),t[n]!==0&&a<20?t[n]=20:a>65535?t[n]=65535:t[n]=a}else s.type==="checkbox"&&(t[n]=t[n]===!0||t[n]==="true"||t[n]==="on"||t[n]===1||t[n]==="1")}onSave(t,n){return lt(this,null,function*(){if(t){const s=yield this.getInstanceObject();if(!s){console.error("Something went wrong: may be no connection?"),window.alert("Something went wrong: may be no connection?");return}if(!this.state.data||!this.state.schema)return;const o={};for(const i of Object.keys(this.state.data)){const c=this.findAttr(i);(!c||!c.doNotSave)&&!i.startsWith("_")?y.setValue(s.native,i,this.state.data[i]):(y.setValue(s.native,i,null),o[i]=this.state.data[i])}try{const i=JSON.parse(JSON.stringify(s));if(Array.isArray(i.encryptedNative)){yield da("../../lib/js/crypto-js/crypto-js.js","crypto-js");for(const c of i.encryptedNative)i.native[c]&&(i.native[c]=sm(this.secret,i.native[c]))}yield this.props.socket.setObject(i._id,i)}catch(i){window.alert(`[JsonConfig] Cannot set object: ${i}`)}const a=it(it({},s.native),o);console.log(a),this.setState({changed:!1,data:a,updateData:this.state.updateData+1,originalData:a},()=>n&&h.Router.doNavigate(null))}else this.state.changed?this.setState({confirmDialog:!0}):h.Router.doNavigate(null)})}componentDidUpdate(t,n){n.changed!==this.state.changed&&this.props.configStored(!this.state.changed)}componentDidMount(){return lt(this,null,function*(){const t=`${window.location.protocol}//${window.location.host}${window.location.pathname}validate_config/${this.props.adapterName}`;console.log(`fetch ${t}`),yield fetch(t)})}render(){const{classes:t}=this.props;return!this.state.data||!this.state.schema?l().createElement(u.LinearProgress,null):l().createElement("div",{className:this.props.classes.root},this.renderConfirmDialog(),this.getExportImportButtons(),this.renderSaveConfigDialog(),l().createElement(Ws,{key:this.state.hash,className:t.scroll,socket:this.props.socket,themeName:this.props.themeName,themeType:this.props.themeType,adapterName:this.props.adapterName,instance:this.props.instance,isFloatComma:this.props.isFloatComma,dateFormat:this.props.dateFormat,schema:this.state.schema,common:this.state.common,data:this.state.data,updateData:this.state.updateData,onError:n=>this.setState({error:n}),onChange:(n,s,o)=>{o&&this.state.error&&(window.alert(h.I18n.t("Cannot save configuration because of error in configuration")),o=!1),o&&!this.state.changed&&!s&&(o=!1),n?this.setState({data:n,changed:s,saveConfigDialog:o}):o!==void 0&&this.setState({saveConfigDialog:o})},DeviceManager:this.props.DeviceManager}),l().createElement(h.SaveCloseButtons,{isIFrame:!1,dense:!0,paddingLeft:0,newReact:!0,theme:this.state.theme,noTextOnButtons:this.props.width==="xs"||this.props.width==="sm"||this.props.width==="md",changed:!!(this.state.error||this.state.changed),error:!!this.state.error,onSave:n=>this.onSave(!0,n),onClose:()=>this.onSave(!1)}))}}const rm=(0,b.withStyles)(Zh)(fr)},68114:(te,ye,$)=>{"use strict";$.d(ye,{A:()=>l});const l={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"}},57215:(te,ye,$)=>{"use strict";$.d(ye,{A:()=>l});const l={black:"#000",white:"#fff"}},82199:(te,ye,$)=>{"use strict";$.d(ye,{A:()=>l});const l={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"}},68917:(te,ye,$)=>{"use strict";$.d(ye,{A:()=>l});const l={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"}},57844:(te,ye,$)=>{"use strict";$.d(ye,{A:()=>l});const l={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"}},67060:(te,ye,$)=>{"use strict";$.d(ye,{A:()=>l});const l={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"}},42240:(te,ye,$)=>{"use strict";$.d(ye,{A:()=>l});const l={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"}},44327:(te,ye,$)=>{"use strict";$.d(ye,{A:()=>l});const l={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"}},75757:(te,ye,$)=>{"use strict";/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */$(55946);var V=$(10590),l=60103;if(ye.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var b=Symbol.for;l=b("react.element"),ye.Fragment=b("react.fragment")}var A=V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k=Object.prototype.hasOwnProperty,F={key:!0,ref:!0,__self:!0,__source:!0};function I(u,D,h){var J,ce={},Se=null,re=null;h!==void 0&&(Se=""+h),D.key!==void 0&&(Se=""+D.key),D.ref!==void 0&&(re=D.ref);for(J in D)k.call(D,J)&&!F.hasOwnProperty(J)&&(ce[J]=D[J]);if(u&&u.defaultProps)for(J in D=u.defaultProps,D)ce[J]===void 0&&(ce[J]=D[J]);return{$$typeof:l,type:u,key:Se,ref:re,props:ce,_owner:A.current}}ye.jsx=I,ye.jsxs=I},45703:(te,ye,$)=>{"use strict";te.exports=$(75757)},49262:(te,ye,$)=>{"use strict";$.d(ye,{A:()=>ce,I:()=>J});var V=$(58168),l=$(98587),b=$(28437),A=$.n(b),k=$(95973),F=$.n(k),I=$(64922);const u=["value"],D=b.createContext();function h(Se){let{value:re}=Se,pe=(0,l.A)(Se,u);return(0,I.jsx)(D.Provider,(0,V.A)({value:re!=null?re:!0},pe))}const J=()=>{const Se=b.useContext(D);return Se!=null?Se:!1},ce=h},97581:(te,ye,$)=>{"use strict";$.d(ye,{Cg:()=>pe,E2:()=>A,J1:()=>ce,Me:()=>u,Nd:()=>Ye,Ob:()=>h,X0:()=>D,X4:()=>re,Y9:()=>f,YL:()=>J,a:()=>ie,e$:()=>Re,eM:()=>Se,j4:()=>y,rP:()=>F,tL:()=>N});var V=$(22571),l=$(26048);function b(m,x=0,E=1){return(0,l.A)(m,x,E)}function A(m){m=m.slice(1);const x=new RegExp(`.{1,${m.length>=6?2:1}}`,"g");let E=m.match(x);return E&&E[0].length===1&&(E=E.map(L=>L+L)),E?`rgb${E.length===4?"a":""}(${E.map((L,G)=>G<3?parseInt(L,16):Math.round(parseInt(L,16)/255*1e3)/1e3).join(", ")})`:""}function k(m){const x=m.toString(16);return x.length===1?`0${x}`:x}function F(m){if(m.type)return m;if(m.charAt(0)==="#")return F(A(m));const x=m.indexOf("("),E=m.substring(0,x);if(["rgb","rgba","hsl","hsla","color"].indexOf(E)===-1)throw new Error((0,V.A)(9,m));let L=m.substring(x+1,m.length-1),G;if(E==="color"){if(L=L.split(" "),G=L.shift(),L.length===4&&L[3].charAt(0)==="/"&&(L[3]=L[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(G)===-1)throw new Error((0,V.A)(10,G))}else L=L.split(",");return L=L.map(z=>parseFloat(z)),{type:E,values:L,colorSpace:G}}const I=m=>{const x=F(m);return x.values.slice(0,3).map((E,L)=>x.type.indexOf("hsl")!==-1&&L!==0?`${E}%`:E).join(" ")},u=(m,x)=>{try{return I(m)}catch(E){return m}};function D(m){const{type:x,colorSpace:E}=m;let{values:L}=m;return x.indexOf("rgb")!==-1?L=L.map((G,z)=>z<3?parseInt(G,10):G):x.indexOf("hsl")!==-1&&(L[1]=`${L[1]}%`,L[2]=`${L[2]}%`),x.indexOf("color")!==-1?L=`${E} ${L.join(" ")}`:L=`${L.join(", ")}`,`${x}(${L})`}function h(m){if(m.indexOf("#")===0)return m;const{values:x}=F(m);return`#${x.map((E,L)=>k(L===3?Math.round(255*E):E)).join("")}`}function J(m){m=F(m);const{values:x}=m,E=x[0],L=x[1]/100,G=x[2]/100,z=L*Math.min(G,1-G),U=(Ke,d=(Ke+E/30)%12)=>G-z*Math.max(Math.min(d-3,9-d,1),-1);let H="rgb";const ue=[Math.round(U(0)*255),Math.round(U(8)*255),Math.round(U(4)*255)];return m.type==="hsla"&&(H+="a",ue.push(x[3])),D({type:H,values:ue})}function ce(m){m=F(m);let x=m.type==="hsl"||m.type==="hsla"?F(J(m)).values:m.values;return x=x.map(E=>(m.type!=="color"&&(E/=255),E<=.03928?E/12.92:Qt((E+.055)/1.055,2.4))),Number((.2126*x[0]+.7152*x[1]+.0722*x[2]).toFixed(3))}function Se(m,x){const E=ce(m),L=ce(x);return(Math.max(E,L)+.05)/(Math.min(E,L)+.05)}function re(m,x){return m=F(m),x=b(x),(m.type==="rgb"||m.type==="hsl")&&(m.type+="a"),m.type==="color"?m.values[3]=`/${x}`:m.values[3]=x,D(m)}function pe(m,x,E){try{return re(m,x)}catch(L){return m}}function Re(m,x){if(m=F(m),x=b(x),m.type.indexOf("hsl")!==-1)m.values[2]*=1-x;else if(m.type.indexOf("rgb")!==-1||m.type.indexOf("color")!==-1)for(let E=0;E<3;E+=1)m.values[E]*=1-x;return D(m)}function Ye(m,x,E){try{return Re(m,x)}catch(L){return m}}function ie(m,x){if(m=F(m),x=b(x),m.type.indexOf("hsl")!==-1)m.values[2]+=(100-m.values[2])*x;else if(m.type.indexOf("rgb")!==-1)for(let E=0;E<3;E+=1)m.values[E]+=(255-m.values[E])*x;else if(m.type.indexOf("color")!==-1)for(let E=0;E<3;E+=1)m.values[E]+=(1-m.values[E])*x;return D(m)}function y(m,x,E){try{return ie(m,x)}catch(L){return m}}function N(m,x=.15){return ce(m)>.5?Re(m,x):ie(m,x)}function f(m,x,E){try{return N(m,x)}catch(L){return m}}function w(m,x,E,L=1){const G=(ue,Ke)=>Math.round(Qt(Qt(ue,1/L)*(1-E)+Qt(Ke,1/L)*E,L)),z=F(m),U=F(x),H=[G(z.values[0],U.values[0]),G(z.values[1],U.values[1]),G(z.values[2],U.values[2])];return D({type:"rgb",values:H})}},82292:(te,ye,$)=>{te=$.nmd(te),ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(V,l,b){"use strict";function A(f){var w=new Date().toLocaleString("en-us",f);return w.length==1?"0"+w:w}var k=V("./lib/dom"),F=V("./lib/oop"),I=V("./lib/event_emitter").EventEmitter,u=V("./lib/lang"),D=V("./range").Range,h=V("./range_list").RangeList,J=V("./keyboard/hash_handler").HashHandler,ce=V("./tokenizer").Tokenizer,Se=V("./clipboard"),re={CURRENT_WORD:function(f){return f.session.getTextRange(f.session.getWordRange())},SELECTION:function(f,w,m){var x=f.session.getTextRange();return m?x.replace(/\n\r?([ \t]*\S)/g,`
`+m+"$1"):x},CURRENT_LINE:function(f){return f.session.getLine(f.getCursorPosition().row)},PREV_LINE:function(f){return f.session.getLine(f.getCursorPosition().row-1)},LINE_INDEX:function(f){return f.getCursorPosition().row},LINE_NUMBER:function(f){return f.getCursorPosition().row+1},SOFT_TABS:function(f){return f.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(f){return f.session.getTabSize()},CLIPBOARD:function(f){return Se.getText&&Se.getText()},FILENAME:function(f){return/[^/\\]*$/.exec(this.FILEPATH(f))[0]},FILENAME_BASE:function(f){return/[^/\\]*$/.exec(this.FILEPATH(f))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(f){return this.FILEPATH(f).replace(/[^/\\]*$/,"")},FILEPATH:function(f){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(f){var w=f.session.$mode||{};return w.blockComment&&w.blockComment.start||""},BLOCK_COMMENT_END:function(f){var w=f.session.$mode||{};return w.blockComment&&w.blockComment.end||""},LINE_COMMENT:function(f){var w=f.session.$mode||{};return w.lineCommentStart||""},CURRENT_YEAR:A.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:A.bind(null,{year:"2-digit"}),CURRENT_MONTH:A.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:A.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:A.bind(null,{month:"short"}),CURRENT_DATE:A.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:A.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:A.bind(null,{weekday:"short"}),CURRENT_HOUR:A.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:A.bind(null,{minute:"2-digit"}),CURRENT_SECOND:A.bind(null,{second:"2-digit"})};re.SELECTED_TEXT=re.SELECTION;var pe=function(){function f(){this.snippetMap={},this.snippetNameMap={},this.variables=re}return f.prototype.getTokenizer=function(){return f.$tokenizer||this.createTokenizer()},f.prototype.createTokenizer=function(){function w(E){return E=E.substr(1),/^\d+$/.test(E)?[{tabstopId:parseInt(E,10)}]:[{text:E}]}function m(E){return"(?:[^\\\\"+E+"]|\\\\.)"}var x={regex:"/("+m("/")+"+)/",onMatch:function(E,L,G){var z=G[0];return z.fmtString=!0,z.guard=E.slice(1,-1),z.flag="",""},next:"formatString"};return f.$tokenizer=new ce({start:[{regex:/\\./,onMatch:function(E,L,G){var z=E[1];return(z=="}"&&G.length||"`$\\".indexOf(z)!=-1)&&(E=z),[E]}},{regex:/}/,onMatch:function(E,L,G){return[G.length?G.shift():E]}},{regex:/\$(?:\d+|\w+)/,onMatch:w},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(E,L,G){var z=w(E.substr(1));return G.unshift(z[0]),z},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+m("\\|")+"*\\|",onMatch:function(E,L,G){var z=E.slice(1,-1).replace(/\\[,|\\]|,/g,function(U){return U.length==2?U[1]:"\0"}).split("\0").map(function(U){return{value:U}});return G[0].choices=z,[z[0]]},next:"start"},x,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(E,L,G){return G.length&&G[0].expectElse?(G[0].expectElse=!1,G[0].ifEnd={elseEnd:G[0]},[G[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(E,L,G){var z=E[1];return z=="}"&&G.length||"`$\\".indexOf(z)!=-1?E=z:z=="n"?E=`
`:z=="t"?E="	":"ulULE".indexOf(z)!=-1&&(E={changeCase:z,local:z>"a"}),[E]}},{regex:"/\\w*}",onMatch:function(E,L,G){var z=G.shift();return z&&(z.flag=E.slice(1,-1)),this.next=z&&z.tabstopId?"start":"",[z||E]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(E,L,G){return[{text:E.slice(1)}]}},{regex:/\${\w+/,onMatch:function(E,L,G){var z={text:E.slice(2)};return G.unshift(z),[z]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(E,L,G){var z=G.shift();return this.next=z&&z.tabstopId?"start":"",[z||E]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(E,L,G){var z=G[0];return z.formatFunction=E.slice(2,-1),[G.shift()]},next:"formatString"},x,{regex:/:[\?\-+]?/,onMatch:function(E,L,G){E[1]=="+"&&(G[0].ifEnd=G[0]),E[1]=="?"&&(G[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),f.$tokenizer},f.prototype.tokenizeTmSnippet=function(w,m){return this.getTokenizer().getLineTokens(w,m).tokens.map(function(x){return x.value||x})},f.prototype.getVariableValue=function(w,m,x){if(/^\d+$/.test(m))return(this.variables.__||{})[m]||"";if(/^[A-Z]\d+$/.test(m))return(this.variables[m[0]+"__"]||{})[m.substr(1)]||"";if(m=m.replace(/^TM_/,""),!this.variables.hasOwnProperty(m))return"";var E=this.variables[m];return typeof E=="function"&&(E=this.variables[m](w,m,x)),E==null?"":E},f.prototype.tmStrFormat=function(w,m,x){if(!m.fmt)return w;var E=m.flag||"",L=m.guard;L=new RegExp(L,E.replace(/[^gim]/g,""));var G=typeof m.fmt=="string"?this.tokenizeTmSnippet(m.fmt,"formatString"):m.fmt,z=this,U=w.replace(L,function(){var H=z.variables.__;z.variables.__=[].slice.call(arguments);for(var ue=z.resolveVariables(G,x),Ke="E",d=0;d<ue.length;d++){var et=ue[d];if(typeof et=="object")if(ue[d]="",et.changeCase&&et.local){var Xe=ue[d+1];Xe&&typeof Xe=="string"&&(et.changeCase=="u"?ue[d]=Xe[0].toUpperCase():ue[d]=Xe[0].toLowerCase(),ue[d+1]=Xe.substr(1))}else et.changeCase&&(Ke=et.changeCase);else Ke=="U"?ue[d]=et.toUpperCase():Ke=="L"&&(ue[d]=et.toLowerCase())}return z.variables.__=H,ue.join("")});return U},f.prototype.tmFormatFunction=function(w,m,x){return m.formatFunction=="upcase"?w.toUpperCase():m.formatFunction=="downcase"?w.toLowerCase():w},f.prototype.resolveVariables=function(w,m){function x(Ke){var d=w.indexOf(Ke,z+1);d!=-1&&(z=d)}for(var E=[],L="",G=!0,z=0;z<w.length;z++){var U=w[z];if(typeof U=="string"){E.push(U),U==`
`?(G=!0,L=""):G&&(L=/^\t*/.exec(U)[0],G=/\S/.test(U));continue}if(U){if(G=!1,U.fmtString){var H=w.indexOf(U,z+1);H==-1&&(H=w.length),U.fmt=w.slice(z+1,H),z=H}if(U.text){var ue=this.getVariableValue(m,U.text,L)+"";U.fmtString&&(ue=this.tmStrFormat(ue,U,m)),U.formatFunction&&(ue=this.tmFormatFunction(ue,U,m)),ue&&!U.ifEnd?(E.push(ue),x(U)):!ue&&U.ifEnd&&x(U.ifEnd)}else U.elseEnd?x(U.elseEnd):(U.tabstopId!=null||U.changeCase!=null)&&E.push(U)}}return E},f.prototype.getDisplayTextForSnippet=function(w,m){var x=Re.call(this,w,m);return x.text},f.prototype.insertSnippetForSelection=function(w,m,x){x===void 0&&(x={});var E=Re.call(this,w,m,x),L=w.getSelectionRange(),G=w.session.replace(L,E.text),z=new Ye(w),U=w.inVirtualSelectionMode&&w.selection.index;z.addTabstops(E.tabstops,L.start,G,U)},f.prototype.insertSnippet=function(w,m,x){x===void 0&&(x={});var E=this;if(w.inVirtualSelectionMode)return E.insertSnippetForSelection(w,m,x);w.forEachSelection(function(){E.insertSnippetForSelection(w,m,x)},null,{keepOrder:!0}),w.tabstopManager&&w.tabstopManager.tabNext()},f.prototype.$getScope=function(w){var m=w.session.$mode.$id||"";if(m=m.split("/").pop(),m==="html"||m==="php"){m==="php"&&!w.session.$mode.inlinePhp&&(m="html");var x=w.getCursorPosition(),E=w.session.getState(x.row);typeof E=="object"&&(E=E[0]),E.substring&&(E.substring(0,3)=="js-"?m="javascript":E.substring(0,4)=="css-"?m="css":E.substring(0,4)=="php-"&&(m="php"))}return m},f.prototype.getActiveScopes=function(w){var m=this.$getScope(w),x=[m],E=this.snippetMap;return E[m]&&E[m].includeScopes&&x.push.apply(x,E[m].includeScopes),x.push("_"),x},f.prototype.expandWithTab=function(w,m){var x=this,E=w.forEachSelection(function(){return x.expandSnippetForSelection(w,m)},null,{keepOrder:!0});return E&&w.tabstopManager&&w.tabstopManager.tabNext(),E},f.prototype.expandSnippetForSelection=function(w,m){var x=w.getCursorPosition(),E=w.session.getLine(x.row),L=E.substring(0,x.column),G=E.substr(x.column),z=this.snippetMap,U;return this.getActiveScopes(w).some(function(H){var ue=z[H];return ue&&(U=this.findMatchingSnippet(ue,L,G)),!!U},this),U?(m&&m.dryRun||(w.session.doc.removeInLine(x.row,x.column-U.replaceBefore.length,x.column+U.replaceAfter.length),this.variables.M__=U.matchBefore,this.variables.T__=U.matchAfter,this.insertSnippetForSelection(w,U.content),this.variables.M__=this.variables.T__=null),!0):!1},f.prototype.findMatchingSnippet=function(w,m,x){for(var E=w.length;E--;){var L=w[E];if(!(L.startRe&&!L.startRe.test(m))&&!(L.endRe&&!L.endRe.test(x))&&!(!L.startRe&&!L.endRe))return L.matchBefore=L.startRe?L.startRe.exec(m):[""],L.matchAfter=L.endRe?L.endRe.exec(x):[""],L.replaceBefore=L.triggerRe?L.triggerRe.exec(m)[0]:"",L.replaceAfter=L.endTriggerRe?L.endTriggerRe.exec(x)[0]:"",L}},f.prototype.register=function(w,m){function x(H){return H&&!/^\^?\(.*\)\$?$|^\\b$/.test(H)&&(H="(?:"+H+")"),H||""}function E(H,ue,Ke){return H=x(H),ue=x(ue),Ke?(H=ue+H,H&&H[H.length-1]!="$"&&(H+="$")):(H+=ue,H&&H[0]!="^"&&(H="^"+H)),new RegExp(H)}function L(H){H.scope||(H.scope=m||"_"),m=H.scope,G[m]||(G[m]=[],z[m]={});var ue=z[m];if(H.name){var Ke=ue[H.name];Ke&&U.unregister(Ke),ue[H.name]=H}G[m].push(H),H.prefix&&(H.tabTrigger=H.prefix),!H.content&&H.body&&(H.content=Array.isArray(H.body)?H.body.join(`
`):H.body),H.tabTrigger&&!H.trigger&&(!H.guard&&/^\w/.test(H.tabTrigger)&&(H.guard="\\b"),H.trigger=u.escapeRegExp(H.tabTrigger)),!(!H.trigger&&!H.guard&&!H.endTrigger&&!H.endGuard)&&(H.startRe=E(H.trigger,H.guard,!0),H.triggerRe=new RegExp(H.trigger),H.endRe=E(H.endTrigger,H.endGuard,!0),H.endTriggerRe=new RegExp(H.endTrigger))}var G=this.snippetMap,z=this.snippetNameMap,U=this;w||(w=[]),Array.isArray(w)?w.forEach(L):Object.keys(w).forEach(function(H){L(w[H])}),this._signal("registerSnippets",{scope:m})},f.prototype.unregister=function(w,m){function x(G){var z=L[G.scope||m];if(z&&z[G.name]){delete z[G.name];var U=E[G.scope||m],H=U&&U.indexOf(G);H>=0&&U.splice(H,1)}}var E=this.snippetMap,L=this.snippetNameMap;w.content?x(w):Array.isArray(w)&&w.forEach(x)},f.prototype.parseSnippetFile=function(w){w=w.replace(/\r/g,"");for(var m=[],x={},E=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,L;L=E.exec(w);){if(L[1])try{x=JSON.parse(L[1]),m.push(x)}catch(H){}if(L[4])x.content=L[4].replace(/^\t/gm,""),m.push(x),x={};else{var G=L[2],z=L[3];if(G=="regex"){var U=/\/((?:[^\/\\]|\\.)*)|$/g;x.guard=U.exec(z)[1],x.trigger=U.exec(z)[1],x.endTrigger=U.exec(z)[1],x.endGuard=U.exec(z)[1]}else G=="snippet"?(x.tabTrigger=z.match(/^\S*/)[0],x.name||(x.name=z)):G&&(x[G]=z)}}return m},f.prototype.getSnippetByName=function(w,m){var x=this.snippetNameMap,E;return this.getActiveScopes(m).some(function(L){var G=x[L];return G&&(E=G[w]),!!E},this),E},f}();F.implement(pe.prototype,I);var Re=function(f,w,m){function x(ot){for(var kt=[],Xt=0;Xt<ot.length;Xt++){var bt=ot[Xt];if(typeof bt=="object"){if(ue[bt.tabstopId])continue;var wn=ot.lastIndexOf(bt,Xt-1);bt=kt[wn]||{tabstopId:bt.tabstopId}}kt[Xt]=bt}return kt}m===void 0&&(m={});var E=f.getCursorPosition(),L=f.session.getLine(E.row),G=f.session.getTabString(),z=L.match(/^\s*/)[0];E.column<z.length&&(z=z.slice(0,E.column)),w=w.replace(/\r/g,"");var U=this.tokenizeTmSnippet(w);U=this.resolveVariables(U,f),U=U.map(function(ot){return ot==`
`&&!m.excludeExtraIndent?ot+z:typeof ot=="string"?ot.replace(/\t/g,G):ot});var H=[];U.forEach(function(ot,kt){if(typeof ot=="object"){var Xt=ot.tabstopId,bt=H[Xt];if(bt||(bt=H[Xt]=[],bt.index=Xt,bt.value="",bt.parents={}),bt.indexOf(ot)===-1){ot.choices&&!bt.choices&&(bt.choices=ot.choices),bt.push(ot);var wn=U.indexOf(ot,kt+1);if(wn!==-1){var En=U.slice(kt+1,wn),Ut=En.some(function(wt){return typeof wt=="object"});Ut&&!bt.value?bt.value=En:En.length&&(!bt.value||typeof bt.value!="string")&&(bt.value=En.join(""))}}}}),H.forEach(function(ot){ot.length=0});for(var ue={},Ke=0;Ke<U.length;Ke++){var d=U[Ke];if(typeof d=="object"){var et=d.tabstopId,Xe=H[et],de=U.indexOf(d,Ke+1);if(ue[et]){ue[et]===d&&(delete ue[et],Object.keys(ue).forEach(function(ot){Xe.parents[ot]=!0}));continue}ue[et]=d;var xe=Xe.value;typeof xe!="string"?xe=x(xe):d.fmt&&(xe=this.tmStrFormat(xe,d,f)),U.splice.apply(U,[Ke+1,Math.max(0,de-Ke)].concat(xe,d)),Xe.indexOf(d)===-1&&Xe.push(d)}}var ge=0,we=0,zt="";return U.forEach(function(ot){if(typeof ot=="string"){var kt=ot.split(`
`);kt.length>1?(we=kt[kt.length-1].length,ge+=kt.length-1):we+=ot.length,zt+=ot}else ot&&(ot.start?ot.end={row:ge,column:we}:ot.start={row:ge,column:we})}),{text:zt,tabstops:H,tokens:U}},Ye=function(){function f(w){if(this.index=0,this.ranges=[],this.tabstops=[],w.tabstopManager)return w.tabstopManager;w.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=u.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(w)}return f.prototype.attach=function(w){this.$openTabstops=null,this.selectedTabstop=null,this.editor=w,this.session=w.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},f.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},f.prototype.onChange=function(w){for(var m=w.action[0]=="r",x=this.selectedTabstop||{},E=x.parents||{},L=this.tabstops.slice(),G=0;G<L.length;G++){var z=L[G],U=z==x||E[z.index];if(z.rangeList.$bias=U?0:1,w.action=="remove"&&z!==x){var H=z.parents&&z.parents[x.index],ue=z.rangeList.pointIndex(w.start,H);ue=ue<0?-ue-1:ue+1;var Ke=z.rangeList.pointIndex(w.end,H);Ke=Ke<0?-Ke-1:Ke-1;for(var d=z.rangeList.ranges.slice(ue,Ke),et=0;et<d.length;et++)this.removeRange(d[et])}z.rangeList.$onChange(w)}var Xe=this.session;!this.$inChange&&m&&Xe.getLength()==1&&!Xe.getValue()&&this.detach()},f.prototype.updateLinkedFields=function(){var w=this.selectedTabstop;if(!(!w||!w.hasLinkedRanges||!w.firstNonLinked)){this.$inChange=!0;for(var m=this.session,x=m.getTextRange(w.firstNonLinked),E=0;E<w.length;E++){var L=w[E];if(L.linked){var G=L.original,z=l.snippetManager.tmStrFormat(x,G,this.editor);m.replace(L,z)}}this.$inChange=!1}},f.prototype.onAfterExec=function(w){w.command&&!w.command.readOnly&&this.updateLinkedFields()},f.prototype.onChangeSelection=function(){if(this.editor){for(var w=this.editor.selection.lead,m=this.editor.selection.anchor,x=this.editor.selection.isEmpty(),E=0;E<this.ranges.length;E++)if(!this.ranges[E].linked){var L=this.ranges[E].contains(w.row,w.column),G=x||this.ranges[E].contains(m.row,m.column);if(L&&G)return}this.detach()}},f.prototype.onChangeSession=function(){this.detach()},f.prototype.tabNext=function(w){var m=this.tabstops.length,x=this.index+(w||1);x=Math.min(Math.max(x,1),m),x==m&&(x=0),this.selectTabstop(x),this.updateTabstopMarkers(),x===0&&this.detach()},f.prototype.selectTabstop=function(w){this.$openTabstops=null;var m=this.tabstops[this.index];if(m&&this.addTabstopMarkers(m),this.index=w,m=this.tabstops[this.index],!(!m||!m.length)){this.selectedTabstop=m;var x=m.firstNonLinked||m;if(m.choices&&(x.cursor=x.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(x);else{var E=this.editor.multiSelect;E.toSingleRange(x);for(var L=0;L<m.length;L++)m.hasLinkedRanges&&m[L].linked||E.addRange(m[L].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},f.prototype.addTabstops=function(w,m,x){var E=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!w[0]){var L=D.fromPoints(x,x);y(L.start,m),y(L.end,m),w[0]=[L],w[0].index=0}var G=this.index,z=[G+1,0],U=this.ranges,H=this.snippetId=(this.snippetId||0)+1;w.forEach(function(ue,Ke){var d=this.$openTabstops[Ke]||ue;d.snippetId=H;for(var et=0;et<ue.length;et++){var Xe=ue[et],de=D.fromPoints(Xe.start,Xe.end||Xe.start);ie(de.start,m),ie(de.end,m),de.original=Xe,de.tabstop=d,U.push(de),d!=ue?d.unshift(de):d[et]=de,Xe.fmtString||d.firstNonLinked&&E?(de.linked=!0,d.hasLinkedRanges=!0):d.firstNonLinked||(d.firstNonLinked=de)}d.firstNonLinked||(d.hasLinkedRanges=!1),d===ue&&(z.push(d),this.$openTabstops[Ke]=d),this.addTabstopMarkers(d),d.rangeList=d.rangeList||new h,d.rangeList.$bias=0,d.rangeList.addList(d)},this),z.length>2&&(this.tabstops.length&&z.push(z.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,z))},f.prototype.addTabstopMarkers=function(w){var m=this.session;w.forEach(function(x){x.markerId||(x.markerId=m.addMarker(x,"ace_snippet-marker","text"))})},f.prototype.removeTabstopMarkers=function(w){var m=this.session;w.forEach(function(x){m.removeMarker(x.markerId),x.markerId=null})},f.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var w=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&w--,this.tabstops.forEach(function(m){m.snippetId===w?this.addTabstopMarkers(m):this.removeTabstopMarkers(m)},this)}},f.prototype.removeRange=function(w){var m=w.tabstop.indexOf(w);m!=-1&&w.tabstop.splice(m,1),m=this.ranges.indexOf(w),m!=-1&&this.ranges.splice(m,1),m=w.tabstop.rangeList.ranges.indexOf(w),m!=-1&&w.tabstop.splice(m,1),this.session.removeMarker(w.markerId),w.tabstop.length||(m=this.tabstops.indexOf(w.tabstop),m!=-1&&this.tabstops.splice(m,1),this.tabstops.length||this.detach())},f}();Ye.prototype.keyboardHandler=new J,Ye.prototype.keyboardHandler.bindKeys({Tab:function(f){l.snippetManager&&l.snippetManager.expandWithTab(f)||(f.tabstopManager.tabNext(1),f.renderer.scrollCursorIntoView())},"Shift-Tab":function(f){f.tabstopManager.tabNext(-1),f.renderer.scrollCursorIntoView()},Esc:function(f){f.tabstopManager.detach()}});var ie=function(f,w){f.row==0&&(f.column+=w.column),f.row+=w.row},y=function(f,w){f.row==w.row&&(f.column-=w.column),f.row-=w.row};k.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),l.snippetManager=new pe;var N=V("./editor").Editor;(function(){this.insertSnippet=function(f,w){return l.snippetManager.insertSnippet(this,f,w)},this.expandSnippet=function(f){return l.snippetManager.expandWithTab(this,f)}}).call(N.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(V,l,b){"use strict";var A=V("../virtual_renderer").VirtualRenderer,k=V("../editor").Editor,F=V("../range").Range,I=V("../lib/event"),u=V("../lib/lang"),D=V("../lib/dom"),h=V("../config").nls,J=V("./../lib/useragent"),ce=function(ie){return"suggest-aria-id:".concat(ie)},Se=J.isSafari?"menu":"listbox",re=J.isSafari?"menuitem":"option",pe=J.isSafari?"aria-current":"aria-selected",Re=function(ie){var y=new A(ie);y.$maxLines=4;var N=new k(y);return N.setHighlightActiveLine(!1),N.setShowPrintMargin(!1),N.renderer.setShowGutter(!1),N.renderer.setHighlightGutterLine(!1),N.$mouseHandler.$focusTimeout=0,N.$highlightTagPending=!0,N},Ye=function(){function ie(y){var N=D.createElement("div"),f=Re(N);y&&y.appendChild(N),N.style.display="none",f.renderer.content.style.cursor="default",f.renderer.setStyle("ace_autocomplete"),f.renderer.$textLayer.element.setAttribute("role",Se),f.renderer.$textLayer.element.setAttribute("aria-roledescription",h("Autocomplete suggestions")),f.renderer.$textLayer.element.setAttribute("aria-label",h("Autocomplete suggestions")),f.renderer.textarea.setAttribute("aria-hidden","true"),f.setOption("displayIndentGuides",!1),f.setOption("dragDelay",150);var w=function(){};f.focus=w,f.$isFocused=!0,f.renderer.$cursorLayer.restartTimer=w,f.renderer.$cursorLayer.element.style.opacity="0",f.renderer.$maxLines=8,f.renderer.$keepTextAreaAtCursor=!1,f.setHighlightActiveLine(!1),f.session.highlight(""),f.session.$searchHighlight.clazz="ace_highlight-marker",f.on("mousedown",function(U){var H=U.getDocumentPosition();f.selection.moveToPosition(H),E.start.row=E.end.row=H.row,U.stop()});var m,x=new F(-1,0,-1,1/0),E=new F(-1,0,-1,1/0);E.id=f.session.addMarker(E,"ace_active-line","fullLine"),f.setSelectOnHover=function(U){U?x.id&&(f.session.removeMarker(x.id),x.id=null):x.id=f.session.addMarker(x,"ace_line-hover","fullLine")},f.setSelectOnHover(!1),f.on("mousemove",function(U){if(!m){m=U;return}if(!(m.x==U.x&&m.y==U.y)){m=U,m.scrollTop=f.renderer.scrollTop,f.isMouseOver=!0;var H=m.getDocumentPosition().row;x.start.row!=H&&(x.id||f.setRow(H),G(H))}}),f.renderer.on("beforeRender",function(){if(m&&x.start.row!=-1){m.$pos=null;var U=m.getDocumentPosition().row;x.id||f.setRow(U),G(U,!0)}}),f.renderer.on("afterRender",function(){var U=f.getRow(),H=f.renderer.$textLayer,ue=H.element.childNodes[U-H.config.firstRow],Ke=document.activeElement;if(ue!==f.selectedNode&&f.selectedNode&&(D.removeCssClass(f.selectedNode,"ace_selected"),Ke.removeAttribute("aria-activedescendant"),f.selectedNode.removeAttribute(pe),f.selectedNode.removeAttribute("id")),f.selectedNode=ue,ue){D.addCssClass(ue,"ace_selected");var d=ce(U);ue.id=d,H.element.setAttribute("aria-activedescendant",d),Ke.setAttribute("aria-activedescendant",d),ue.setAttribute("role",re),ue.setAttribute("aria-roledescription",h("item")),ue.setAttribute("aria-label",f.getData(U).caption||f.getData(U).value),ue.setAttribute("aria-setsize",f.data.length),ue.setAttribute("aria-posinset",U+1),ue.setAttribute("aria-describedby","doc-tooltip"),ue.setAttribute(pe,"true")}});var L=function(){G(-1)},G=function(U,H){U!==x.start.row&&(x.start.row=x.end.row=U,H||f.session._emit("changeBackMarker"),f._emit("changeHoverMarker"))};f.getHoveredRow=function(){return x.start.row},I.addListener(f.container,"mouseout",function(){f.isMouseOver=!1,L()}),f.on("hide",L),f.on("changeSelection",L),f.session.doc.getLength=function(){return f.data.length},f.session.doc.getLine=function(U){var H=f.data[U];return typeof H=="string"?H:H&&H.value||""};var z=f.session.bgTokenizer;return z.$tokenizeRow=function(U){function H(ot,kt){ot&&Ke.push({type:(ue.className||"")+(kt||""),value:ot})}var ue=f.data[U],Ke=[];if(!ue)return Ke;typeof ue=="string"&&(ue={value:ue});for(var d=ue.caption||ue.value||ue.name,et=d.toLowerCase(),Xe=(f.filterText||"").toLowerCase(),de=0,xe=0,ge=0;ge<=Xe.length;ge++)if(ge!=xe&&(ue.matchMask&1<<ge||ge==Xe.length)){var we=Xe.slice(xe,ge);xe=ge;var zt=et.indexOf(we,de);if(zt==-1)continue;H(d.slice(de,zt),""),de=zt+we.length,H(d.slice(zt,de),"completion-highlight")}return H(d.slice(de,d.length),""),Ke.push({type:"completion-spacer",value:" "}),ue.meta&&Ke.push({type:"completion-meta",value:ue.meta}),ue.message&&Ke.push({type:"completion-message",value:ue.message}),Ke},z.$updateOnChange=w,z.start=w,f.session.$computeWidth=function(){return this.screenWidth=0},f.isOpen=!1,f.isTopdown=!1,f.autoSelect=!0,f.filterText="",f.isMouseOver=!1,f.data=[],f.setData=function(U,H){f.filterText=H||"",f.setValue(u.stringRepeat(`
`,U.length),-1),f.data=U||[],f.setRow(0)},f.getData=function(U){return f.data[U]},f.getRow=function(){return E.start.row},f.setRow=function(U){U=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,U)),E.start.row!=U&&(f.selection.clearSelection(),E.start.row=E.end.row=U||0,f.session._emit("changeBackMarker"),f.moveCursorTo(U||0,0),f.isOpen&&f._signal("select"))},f.on("changeSelection",function(){f.isOpen&&f.setRow(f.selection.lead.row),f.renderer.scrollCursorIntoView()}),f.hide=function(){this.container.style.display="none",f.anchorPos=null,f.anchor=null,f.isOpen&&(f.isOpen=!1,this._signal("hide"))},f.tryShow=function(U,H,ue,Ke){if(!Ke&&f.isOpen&&f.anchorPos&&f.anchor&&f.anchorPos.top===U.top&&f.anchorPos.left===U.left&&f.anchor===ue)return!0;var d=this.container,et=window.innerHeight,Xe=window.innerWidth,de=this.renderer,xe=de.$maxLines*H*1.4,ge={top:0,bottom:0,left:0},we=et-U.top-3*this.$borderSize-H,zt=U.top-3*this.$borderSize;ue||(zt<=we||we>=xe?ue="bottom":ue="top"),ue==="top"?(ge.bottom=U.top-this.$borderSize,ge.top=ge.bottom-xe):ue==="bottom"&&(ge.top=U.top+H+this.$borderSize,ge.bottom=ge.top+xe);var ot=ge.top>=0&&ge.bottom<=et;if(!Ke&&!ot)return!1;ot?de.$maxPixelHeight=null:ue==="top"?de.$maxPixelHeight=zt:de.$maxPixelHeight=we,ue==="top"?(d.style.top="",d.style.bottom=et-ge.bottom+"px",f.isTopdown=!1):(d.style.top=ge.top+"px",d.style.bottom="",f.isTopdown=!0),d.style.display="";var kt=U.left;return kt+d.offsetWidth>Xe&&(kt=Xe-d.offsetWidth),d.style.left=kt+"px",d.style.right="",f.isOpen||(f.isOpen=!0,this._signal("show"),m=null),f.anchorPos=U,f.anchor=ue,!0},f.show=function(U,H,ue){this.tryShow(U,H,ue?"bottom":void 0,!0)},f.goTo=function(U){var H=this.getRow(),ue=this.session.getLength()-1;switch(U){case"up":H=H<=0?ue:H-1;break;case"down":H=H>=ue?-1:H+1;break;case"start":H=0;break;case"end":H=ue}this.setRow(H)},f.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},f.$imageSize=0,f.$borderSize=1,f}return ie}();D.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),l.AcePopup=Ye,l.$singleLineEditor=Re,l.getAriaId=ce}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(V,l,b){"use strict";var A=function(){function k(F){this.editor=F,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return k.prototype.setScreenReaderContent=function(F){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",function(){var u=this.popup.getRow(),D=this.popup.renderer.$textLayer,h=D.element.childNodes[u-D.config.firstRow];if(h){for(var J="doc-tooltip ",ce=0;ce<this._lines.length;ce++)J+="ace-inline-screenreader-line-".concat(ce," ");h.setAttribute("aria-describedby",J)}}.bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=F.split(/\r\n|\r|\n/);var I=this.createCodeBlock();this.screenReaderDiv.appendChild(I)},k.prototype.destroy=function(){this.screenReaderDiv.remove()},k.prototype.createCodeBlock=function(){var F=document.createElement("pre");F.setAttribute("id","ace-inline-screenreader");for(var I=0;I<this._lines.length;I++){var u=document.createElement("code");u.setAttribute("id","ace-inline-screenreader-line-".concat(I));var D=document.createTextNode(this._lines[I]);u.appendChild(D),F.appendChild(u)}return F},k}();l.AceInlineScreenReader=A}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(V,l,b){"use strict";var A=V("../snippets").snippetManager,k=V("./inline_screenreader").AceInlineScreenReader,F=function(){function I(){this.editor=null}return I.prototype.show=function(u,D,h){if(h=h||"",u&&this.editor&&this.editor!==u&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!u||!D)return!1;this.inlineScreenReader||(this.inlineScreenReader=new k(u));var J=D.snippet?A.getDisplayTextForSnippet(u,D.snippet):D.value;return D.hideInlinePreview||!J||!J.startsWith(h)?!1:(this.editor=u,this.inlineScreenReader.setScreenReaderContent(J),J=J.slice(h.length),J===""?u.removeGhostText():u.setGhostText(J),!0)},I.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},I.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},I.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},I}();l.AceInline=F}),ace.define("ace/autocomplete/util",["require","exports","module"],function(V,l,b){"use strict";l.parForEach=function(k,F,I){var u=0,D=k.length;D===0&&I();for(var h=0;h<D;h++)F(k[h],function(J,ce){u++,u===D&&I(J,ce)})};var A=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;l.retrievePrecedingIdentifier=function(k,F,I){I=I||A;for(var u=[],D=F-1;D>=0&&I.test(k[D]);D--)u.push(k[D]);return u.reverse().join("")},l.retrieveFollowingIdentifier=function(k,F,I){I=I||A;for(var u=[],D=F;D<k.length&&I.test(k[D]);D++)u.push(k[D]);return u},l.getCompletionPrefix=function(k){var F=k.getCursorPosition(),I=k.session.getLine(F.row),u;return k.completers.forEach(function(D){D.identifierRegexps&&D.identifierRegexps.forEach(function(h){!u&&h&&(u=this.retrievePrecedingIdentifier(I,F.column,h))}.bind(this))}.bind(this)),u||this.retrievePrecedingIdentifier(I,F.column)},l.triggerAutocomplete=function(k,I){var I=I==null?k.session.getPrecedingCharacter():I;return k.completers.some(function(u){if(u.triggerCharacters&&Array.isArray(u.triggerCharacters))return u.triggerCharacters.includes(I)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(V,l,b){"use strict";var A=V("./keyboard/hash_handler").HashHandler,k=V("./autocomplete/popup").AcePopup,F=V("./autocomplete/inline").AceInline,I=V("./autocomplete/popup").getAriaId,u=V("./autocomplete/util"),D=V("./lib/lang"),h=V("./lib/dom"),J=V("./snippets").snippetManager,ce=V("./config"),Se=V("./lib/event"),re=V("./lib/scroll").preventParentScroll,pe=function(y,N){N.completer&&N.completer.destroy()},Re=function(){function y(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new A,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=D.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=D.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=D.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=D.delayedCall(function(){this.stickySelection=!0}.bind(this),this.stickySelectionDelay),this.$firstOpenTimer=D.delayedCall(function(){var N=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!N||this.editor.completers.length===0||(this.completions=new ie(y.completionsForLoading),this.openPopup(this.editor,N.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}.bind(this),this.stickySelectionDelay)}return Object.defineProperty(y,"completionsForLoading",{get:function(){return[{caption:ce.nls("Loading..."),value:""}]},enumerable:!1,configurable:!0}),y.prototype.$init=function(){return this.popup=new k(this.parentNode||document.body||document.documentElement),this.popup.on("click",function(N){this.insertMatch(),N.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),Se.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},y.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new F,this.inlineRenderer},y.prototype.getPopup=function(){return this.popup||this.$init()},y.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},y.prototype.$seen=function(N){!this.hasSeen.has(N)&&N&&N.completer&&N.completer.onSeen&&typeof N.completer.onSeen=="function"&&(N.completer.onSeen(this.editor,N),this.hasSeen.add(N))},y.prototype.$onPopupChange=function(N){if(this.inlineRenderer&&this.inlineEnabled){var f=N?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(f),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},y.prototype.$updateGhostText=function(N){var f=this.base.row,w=this.base.column,m=this.editor.getCursorPosition().column,x=this.editor.session.getLine(f).slice(w,m);this.inlineRenderer.show(this.editor,N,x)?this.$seen(N):this.inlineRenderer.hide()},y.prototype.$onPopupRender=function(){var N=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var f=this.popup.getFirstVisibleRow();f<=this.popup.getLastVisibleRow();f++){var w=this.popup.getData(f);w&&(!N||w.hideInlinePreview)&&this.$seen(w)}},y.prototype.$onPopupShow=function(N){this.$onPopupChange(N),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},y.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var N=this.editor.container.parentNode,f=[];N;)f.push(N),N.addEventListener("scroll",this.onLayoutChange,{passive:!0}),N=N.parentNode;this.$elements=f}},y.prototype.unObserveLayoutChanges=function(){var N=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(f){f.removeEventListener("scroll",N.onLayoutChange,{passive:!0})}),this.$elements=null},y.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},y.prototype.$updatePopupPosition=function(){var N=this.editor,f=N.renderer,w=f.layerConfig.lineHeight,m=f.$cursorLayer.getPixelPosition(this.base,!0);m.left-=this.popup.getTextLeftOffset();var x=N.container.getBoundingClientRect();m.top+=x.top-f.layerConfig.offset,m.left+=x.left-N.renderer.scrollLeft,m.left+=f.gutterWidth;var E={top:m.top,left:m.left};f.$ghostText&&f.$ghostTextWidget&&this.base.row===f.$ghostText.position.row&&(E.top+=f.$ghostTextWidget.el.offsetHeight);var L=N.container.getBoundingClientRect().bottom-w,G=L<E.top?{top:L,left:E.left}:E;this.popup.tryShow(G,w,"bottom")||this.popup.tryShow(m,w,"top")||this.popup.show(m,w)},y.prototype.openPopup=function(N,f,w){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var m=this.popup.getRow(),x=this.popup.data[m];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:I(this.popup.getRow()),inline:this.inlineEnabled}),N.keyBinding.addKeyboardHandler(this.keyboardHandler);var E;this.stickySelection&&(E=this.popup.data.indexOf(x)),(!E||E===-1)&&(E=0),this.popup.setRow(this.autoSelect?E:-1),E===m&&x!==this.completions.filtered[E]&&this.$onPopupChange();var L=this.inlineRenderer&&this.inlineEnabled;if(E===m&&L){var G=this.popup.getData(this.popup.getRow());this.$updateGhostText(G)}w||(this.popup.setTheme(N.getTheme()),this.popup.setFontSize(N.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},y.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},y.prototype.changeListener=function(N){var f=this.editor.selection.lead;(f.row!=this.base.row||f.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},y.prototype.blurListener=function(N){var f=document.activeElement,w=this.editor.textInput.getElement(),m=N.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(N.relatedTarget),x=this.popup&&this.popup.container;f!=w&&f.parentNode!=x&&!m&&f!=this.tooltipNode&&N.relatedTarget!=w&&this.detach()},y.prototype.mousedownListener=function(N){this.detach()},y.prototype.mousewheelListener=function(N){this.popup.isMouseOver||this.detach()},y.prototype.mouseOutListener=function(N){this.popup.isOpen&&this.$updatePopupPosition()},y.prototype.goTo=function(N){this.popup.goTo(N)},y.prototype.insertMatch=function(N,f){if(N||(N=this.popup.getData(this.popup.getRow())),!N)return!1;if(N.value==="")return this.detach();var w=this.completions,m=this.getCompletionProvider().insertMatch(this.editor,N,w.filterText,f);return this.completions==w&&this.detach(),m},y.prototype.showPopup=function(N,f){this.editor&&this.detach(),this.activated=!0,this.editor=N,N.completer!=this&&(N.completer&&N.completer.detach(),N.completer=this),N.on("changeSelection",this.changeListener),N.on("blur",this.blurListener),N.on("mousedown",this.mousedownListener),N.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,f)},y.prototype.getCompletionProvider=function(N){return this.completionProvider||(this.completionProvider=new Ye(N)),this.completionProvider},y.prototype.gatherCompletions=function(N,f){return this.getCompletionProvider().gatherCompletions(N,f)},y.prototype.updateCompletions=function(N,f){if(N&&this.base&&this.completions){var m=this.editor.getCursorPosition(),x=this.editor.session.getTextRange({start:this.base,end:m});if(x==this.completions.filterText)return;if(this.completions.setFilter(x),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==x&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,x,N);return}if(f&&f.matches){var m=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(m.row,m.column),this.base.$insertRight=!0,this.completions=new ie(f.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",N)}var w=this.editor.getSession(),m=this.editor.getCursorPosition(),x=u.getCompletionPrefix(this.editor);this.base=w.doc.createAnchor(m.row,m.column-x.length),this.base.$insertRight=!0;var E={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:x,pos:m}).provideCompletions(this.editor,E,function(L,G,z){var U=G.filtered,H=u.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),z){if(!U.length){var ue=!this.autoShown&&this.emptyMessage;if(typeof ue=="function"&&(ue=this.emptyMessage(H)),ue){var Ke=[{caption:ue,value:""}];this.completions=new ie(Ke),this.openPopup(this.editor,H,N),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(U.length==1&&U[0].value==H&&!U[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&U.length==1)return this.insertMatch(U[0])}this.completions=!z&&this.showLoadingState?new ie(y.completionsForLoading.concat(U),G.filterText):G,this.openPopup(this.editor,H,N),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!z)}.bind(this)),this.showLoadingState&&!this.autoShown&&(!this.popup||!this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},y.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},y.prototype.updateDocTooltip=function(){var N=this.popup,f=this.completions.filtered,w=f&&(f[N.getHoveredRow()]||f[N.getRow()]),m=null;if(!w||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var x=this.editor.completers.length,E=0;E<x;E++){var L=this.editor.completers[E];if(L.getDocTooltip&&w.completerId===L.id){m=L.getDocTooltip(w);break}}if(!m&&typeof w!="string"&&(m=w),typeof m=="string"&&(m={docText:m}),!m||!m.docHTML&&!m.docText)return this.hideDocTooltip();this.showDocTooltip(m)},y.prototype.showDocTooltip=function(N){this.tooltipNode||(this.tooltipNode=h.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",re));var f=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(f.isDark?"ace_dark ":"")+(f.cssClass||"");var w=this.tooltipNode;N.docHTML?w.innerHTML=N.docHTML:N.docText&&(w.textContent=N.docText),w.parentNode||this.popup.container.appendChild(this.tooltipNode);var m=this.popup,x=m.container.getBoundingClientRect();w.style.top=m.container.style.top,w.style.bottom=m.container.style.bottom,w.style.display="block",window.innerWidth-x.right<320?x.left<320?m.isTopdown?(w.style.top=x.bottom+"px",w.style.left=x.left+"px",w.style.right="",w.style.bottom=""):(w.style.top=m.container.offsetTop-w.offsetHeight+"px",w.style.left=x.left+"px",w.style.right="",w.style.bottom=""):(w.style.right=window.innerWidth-x.left+"px",w.style.left=""):(w.style.left=x.right+1+"px",w.style.right="")},y.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var N=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==N&&this.editor.focus(),this.tooltipNode=null,N.parentNode&&N.parentNode.removeChild(N)}},y.prototype.onTooltipClick=function(N){for(var f=N.target;f&&f!=this.tooltipNode;){if(f.nodeName=="A"&&f.href){f.rel="noreferrer",f.target="_blank";break}f=f.parentNode}},y.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var N=this.popup.container;N&&N.parentNode&&N.parentNode.removeChild(N)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",pe),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},y}();Re.prototype.commands={Up:function(y){y.completer.goTo("up")},Down:function(y){y.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(y){y.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(y){y.completer.goTo("end")},Esc:function(y){y.completer.detach()},Return:function(y){return y.completer.insertMatch()},"Shift-Return":function(y){y.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(y){var N=y.completer.insertMatch();if(N||y.tabstopManager)return N;y.completer.goTo("down")},Backspace:function(y){y.execCommand("backspace");var N=u.getCompletionPrefix(y);!N&&y.completer&&y.completer.detach()},PageUp:function(y){y.completer.popup.gotoPageUp()},PageDown:function(y){y.completer.popup.gotoPageDown()}},Re.for=function(y){return y.completer instanceof Re||(y.completer&&(y.completer.destroy(),y.completer=null),ce.get("sharedPopups")?(Re.$sharedInstance||(Re.$sharedInstance=new Re),y.completer=Re.$sharedInstance):(y.completer=new Re,y.once("destroy",pe))),y.completer},Re.startCommand={name:"startAutocomplete",exec:function(y,N){var f=Re.for(y);f.autoInsert=!1,f.autoSelect=!0,f.autoShown=!1,f.showPopup(y,N),f.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var Ye=function(){function y(N){this.initialPosition=N,this.active=!0}return y.prototype.insertByIndex=function(N,f,w){return!this.completions||!this.completions.filtered?!1:this.insertMatch(N,this.completions.filtered[f],w)},y.prototype.insertMatch=function(N,f,w){if(!f)return!1;if(N.startOperation({command:{name:"insertMatch"}}),f.completer&&f.completer.insertMatch)f.completer.insertMatch(N,f);else{if(!this.completions)return!1;var m=this.completions.filterText.length,x=0;if(f.range&&f.range.start.row===f.range.end.row&&(m-=this.initialPosition.prefix.length,m+=this.initialPosition.pos.column-f.range.start.column,x+=f.range.end.column-this.initialPosition.pos.column),m||x){var E;N.selection.getAllRanges?E=N.selection.getAllRanges():E=[N.getSelectionRange()];for(var L=0,G;G=E[L];L++)G.start.column-=m,G.end.column+=x,N.session.remove(G)}f.snippet?J.insertSnippet(N,f.snippet):this.$insertString(N,f),f.completer&&f.completer.onInsert&&typeof f.completer.onInsert=="function"&&f.completer.onInsert(N,f),f.command&&f.command==="startAutocomplete"&&N.execCommand(f.command)}return N.endOperation(),!0},y.prototype.$insertString=function(N,f){var w=f.value||f;N.execCommand("insertstring",w)},y.prototype.gatherCompletions=function(N,f){var w=N.getSession(),m=N.getCursorPosition(),x=u.getCompletionPrefix(N),E=[];this.completers=N.completers;var L=N.completers.length;return N.completers.forEach(function(G,z){G.getCompletions(N,w,m,x,function(U,H){G.hideInlinePreview&&(H=H.map(function(ue){return Object.assign(ue,{hideInlinePreview:G.hideInlinePreview})})),!U&&H&&(E=E.concat(H)),f(null,{prefix:u.getCompletionPrefix(N),matches:E,finished:--L===0})})}),!0},y.prototype.provideCompletions=function(N,f,w){var m=function(G){var z=G.prefix,U=G.matches;this.completions=new ie(U),f.exactMatch&&(this.completions.exactMatch=!0),f.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(z),(G.finished||this.completions.filtered.length)&&w(null,this.completions,G.finished)}.bind(this),x=!0,E=null;if(this.gatherCompletions(N,function(G,z){if(this.active){G&&(w(G,[],!0),this.detach());var U=z.prefix;if(U.indexOf(z.prefix)===0){if(x){E=z;return}m(z)}}}.bind(this)),x=!1,E){var L=E;E=null,m(L)}},y.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(N){typeof N.cancel=="function"&&N.cancel()})},y}(),ie=function(){function y(N,f){this.all=N,this.filtered=N,this.filterText=f||"",this.exactMatch=!1,this.ignoreCaption=!1}return y.prototype.setFilter=function(N){if(N.length>this.filterText&&N.lastIndexOf(this.filterText,0)===0)var f=this.filtered;else var f=this.all;this.filterText=N,f=this.filterCompletions(f,this.filterText),f=f.sort(function(m,x){return x.exactMatch-m.exactMatch||x.$score-m.$score||(m.caption||m.value).localeCompare(x.caption||x.value)});var w=null;f=f.filter(function(m){var x=m.snippet||m.caption||m.value;return x===w?!1:(w=x,!0)}),this.filtered=f},y.prototype.filterCompletions=function(N,f){var w=[],m=f.toUpperCase(),x=f.toLowerCase();e:for(var E=0,L;L=N[E];E++){var G=!this.ignoreCaption&&L.caption||L.value||L.snippet;if(G){var z=-1,U=0,H=0,ue,Ke;if(this.exactMatch){if(f!==G.substr(0,f.length))continue e}else{var d=G.toLowerCase().indexOf(x);if(d>-1)H=d;else for(var et=0;et<f.length;et++){var Xe=G.indexOf(x[et],z+1),de=G.indexOf(m[et],z+1);if(ue=Xe>=0&&(de<0||Xe<de)?Xe:de,ue<0)continue e;Ke=ue-z-1,Ke>0&&(z===-1&&(H+=10),H+=Ke,U|=1<<et),z=ue}}L.matchMask=U,L.exactMatch=H?0:1,L.$score=(L.score||0)-H,w.push(L)}}return w},y}();l.Autocomplete=Re,l.CompletionProvider=Ye,l.FilteredList=ie}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(V,l,b){function A(u,D){var h=u.getTextRange(F.fromPoints({row:0,column:0},D));return h.split(I).length-1}function k(u,D){var h=A(u,D),J=u.getValue().split(I),ce=Object.create(null),Se=J[h];return J.forEach(function(re,pe){if(!(!re||re===Se)){var Re=Math.abs(h-pe),Ye=J.length-Re;ce[re]?ce[re]=Math.max(Ye,ce[re]):ce[re]=Ye}}),ce}var F=V("../range").Range,I=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;l.getCompletions=function(u,D,h,J,ce){var Se=k(D,h),re=Object.keys(Se);ce(null,re.map(function(pe){return{caption:pe,value:pe,score:Se[pe],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(V,l,b){"use strict";var A=V("../snippets").snippetManager,k=V("../autocomplete").Autocomplete,F=V("../config"),I=V("../lib/lang"),u=V("../autocomplete/util"),D=V("../autocomplete/text_completer"),h={getCompletions:function(m,x,E,L,G){if(x.$mode.completer)return x.$mode.completer.getCompletions(m,x,E,L,G);var z=m.session.getState(E.row),U=x.$mode.getCompletions(z,x,E,L);U=U.map(function(H){return H.completerId=h.id,H}),G(null,U)},id:"keywordCompleter"},J=function(m){var x={};return m.replace(/\${(\d+)(:(.*?))?}/g,function(E,L,G,z){return x[L]=z||""}).replace(/\$(\d+?)/g,function(E,L){return x[L]})},ce={getCompletions:function(m,x,E,L,G){var z=[],U=x.getTokenAt(E.row,E.column);U&&U.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?z.push("html-tag"):z=A.getActiveScopes(m);var H=A.snippetMap,ue=[];z.forEach(function(Ke){for(var d=H[Ke]||[],et=d.length;et--;){var Xe=d[et],de=Xe.name||Xe.tabTrigger;de&&ue.push({caption:de,snippet:Xe.content,meta:Xe.tabTrigger&&!Xe.name?Xe.tabTrigger+"\u21E5 ":"snippet",completerId:ce.id})}},this),G(null,ue)},getDocTooltip:function(m){m.snippet&&!m.docHTML&&(m.docHTML=["<b>",I.escapeHTML(m.caption),"</b>","<hr></hr>",I.escapeHTML(J(m.snippet))].join(""))},id:"snippetCompleter"},Se=[ce,D,h];l.setCompleters=function(m){Se.length=0,m&&Se.push.apply(Se,m)},l.addCompleter=function(m){Se.push(m)},l.textCompleter=D,l.keyWordCompleter=h,l.snippetCompleter=ce;var re={name:"expandSnippet",exec:function(m){return A.expandWithTab(m)},bindKey:"Tab"},pe=function(m,x){Re(x.session.$mode)},Re=function(m){typeof m=="string"&&(m=F.$modes[m]),m&&(A.files||(A.files={}),Ye(m.$id,m.snippetFileId),m.modes&&m.modes.forEach(Re))},Ye=function(m,x){!x||!m||A.files[m]||(A.files[m]={},F.loadModule(x,function(E){E&&(A.files[m]=E,!E.snippets&&E.snippetText&&(E.snippets=A.parseSnippetFile(E.snippetText)),A.register(E.snippets||[],E.scope),E.includeScopes&&(A.snippetMap[E.scope].includeScopes=E.includeScopes,E.includeScopes.forEach(function(L){Re("ace/mode/"+L)})))}))},ie=function(m){var x=m.editor,E=x.completer&&x.completer.activated;if(m.command.name==="backspace")E&&!u.getCompletionPrefix(x)&&x.completer.detach();else if(m.command.name==="insertstring"&&!E){y=m;var L=m.editor.$liveAutocompletionDelay;L?N.delay(L):f(m)}},y,N=I.delayedCall(function(){f(y)},0),f=function(m){var x=m.editor,E=u.getCompletionPrefix(x),L=m.args,G=u.triggerAutocomplete(x,L);if(E&&E.length>=x.$liveAutocompletionThreshold||G){var z=k.for(x);z.autoShown=!0,z.showPopup(x)}},w=V("../editor").Editor;V("../config").defineOptions(w.prototype,"editor",{enableBasicAutocompletion:{set:function(m){m?(this.completers||(this.completers=Array.isArray(m)?m:Se),this.commands.addCommand(k.startCommand)):this.commands.removeCommand(k.startCommand)},value:!1},enableLiveAutocompletion:{set:function(m){m?(this.completers||(this.completers=Array.isArray(m)?m:Se),this.commands.on("afterExec",ie)):this.commands.off("afterExec",ie)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(m){m?(this.commands.addCommand(re),this.on("changeMode",pe),pe(null,this)):(this.commands.removeCommand(re),this.off("changeMode",pe))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(V){te&&(te.exports=V)})}()},97726:(te,ye,$)=>{te=$.nmd(te),ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(V,l,b){"use strict";var A=V("../lib/oop"),k=V("./text_highlight_rules").TextHighlightRules,F=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};A.inherits(F,k),l.JsonHighlightRules=F}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(V,l,b){"use strict";var A=V("../range").Range,k=function(){};(function(){this.checkOutdent=function(F,I){return/^\s+$/.test(F)?/^\s*\}/.test(I):!1},this.autoOutdent=function(F,I){var u=F.getLine(I),D=u.match(/^(\s*\})/);if(!D)return 0;var h=D[1].length,J=F.findMatchingBracket({row:I,column:h});if(!J||J.row==I)return 0;var ce=this.$getIndent(F.getLine(J.row));F.replace(new A(I,0,I,h-1),ce)},this.$getIndent=function(F){return F.match(/^\s*/)[0]}}).call(k.prototype),l.MatchingBraceOutdent=k}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(V,l,b){"use strict";var A=V("../../lib/oop"),k=V("../../range").Range,F=V("./fold_mode").FoldMode,I=l.FoldMode=function(u){u&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+u.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+u.end)))};A.inherits(I,F),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(u,D,h){var J=u.getLine(h);if(this.singleLineBlockCommentRe.test(J)&&!this.startRegionRe.test(J)&&!this.tripleStarBlockCommentRe.test(J))return"";var ce=this._getFoldWidgetBase(u,D,h);return!ce&&this.startRegionRe.test(J)?"start":ce},this.getFoldWidgetRange=function(u,D,h,J){var ce=u.getLine(h);if(this.startRegionRe.test(ce))return this.getCommentRegionBlock(u,ce,h);var pe=ce.match(this.foldingStartMarker);if(pe){var Se=pe.index;if(pe[1])return this.openingBracketBlock(u,pe[1],h,Se);var re=u.getCommentFoldRange(h,Se+pe[0].length,1);return re&&!re.isMultiLine()&&(J?re=this.getSectionRange(u,h):D!="all"&&(re=null)),re}if(D!=="markbegin"){var pe=ce.match(this.foldingStopMarker);if(pe){var Se=pe.index+pe[0].length;return pe[1]?this.closingBracketBlock(u,pe[1],h,Se):u.getCommentFoldRange(h,Se,-1)}}},this.getSectionRange=function(u,D){var h=u.getLine(D),J=h.search(/\S/),ce=D,Se=h.length;D+=1;for(var re=D,pe=u.getLength();++D<pe;){h=u.getLine(D);var Re=h.search(/\S/);if(Re!==-1){if(J>Re)break;var Ye=this.getFoldWidgetRange(u,"all",D);if(Ye){if(Ye.start.row<=ce)break;if(Ye.isMultiLine())D=Ye.end.row;else if(J==Re)break}re=D}}return new k(ce,Se,re,u.getLine(re).length)},this.getCommentRegionBlock=function(u,D,h){for(var J=D.search(/\s*$/),ce=u.getLength(),Se=h,re=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,pe=1;++h<ce;){D=u.getLine(h);var Re=re.exec(D);if(Re&&(Re[1]?pe--:pe++,!pe))break}var Ye=h;if(Ye>Se)return new k(Se,J,Ye,D.length)}}.call(I.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle","ace/worker/worker_client"],function(V,l,b){"use strict";var A=V("../lib/oop"),k=V("./text").Mode,F=V("./json_highlight_rules").JsonHighlightRules,I=V("./matching_brace_outdent").MatchingBraceOutdent,u=V("./folding/cstyle").FoldMode,D=V("../worker/worker_client").WorkerClient,h=function(){this.HighlightRules=F,this.$outdent=new I,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new u};A.inherits(h,k),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(J,ce,Se){var re=this.$getIndent(ce);if(J=="start"){var pe=ce.match(/^.*[\{\(\[]\s*$/);pe&&(re+=Se)}return re},this.checkOutdent=function(J,ce,Se){return this.$outdent.checkOutdent(ce,Se)},this.autoOutdent=function(J,ce,Se){this.$outdent.autoOutdent(ce,Se)},this.createWorker=function(J){var ce=new D(["ace"],"ace/mode/json_worker","JsonWorker");return ce.attachToDocument(J.getDocument()),ce.on("annotate",function(Se){J.setAnnotations(Se.data)}),ce.on("terminate",function(){J.clearAnnotations()}),ce},this.$id="ace/mode/json"}.call(h.prototype),l.Mode=h}),function(){ace.require(["ace/mode/json"],function(V){te&&(te.exports=V)})}()},44210:(te,ye,$)=>{te=$.nmd(te),ace.define("ace/theme/chrome-css",["require","exports","module"],function(V,l,b){b.exports=`.ace-chrome .ace_gutter {
  background: #ebebeb;
  color: #333;
  overflow : hidden;
}

.ace-chrome .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-chrome {
  background-color: #FFFFFF;
  color: black;
}

.ace-chrome .ace_cursor {
  color: black;
}

.ace-chrome .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-chrome .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-chrome .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-chrome .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-chrome .ace_invalid {
  background-color: rgb(153, 0, 0);
  color: white;
}

.ace-chrome .ace_fold {
}

.ace-chrome .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-chrome .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-chrome .ace_support.ace_type,
.ace-chrome .ace_support.ace_class
.ace-chrome .ace_support.ace_other {
  color: rgb(109, 121, 222);
}

.ace-chrome .ace_variable.ace_parameter {
  font-style:italic;
  color:#FD971F;
}
.ace-chrome .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-chrome .ace_comment {
  color: #236e24;
}

.ace-chrome .ace_comment.ace_doc {
  color: #236e24;
}

.ace-chrome .ace_comment.ace_doc.ace_tag {
  color: #236e24;
}

.ace-chrome .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-chrome .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-chrome .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-chrome .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-chrome .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-chrome .ace_list {
  color:rgb(185, 6, 144);
}

.ace-chrome .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-chrome .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-chrome .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-chrome .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-chrome .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-chrome .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-chrome .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-chrome .ace_storage,
.ace-chrome .ace_keyword,
.ace-chrome .ace_meta.ace_tag {
  color: rgb(147, 15, 128);
}

.ace-chrome .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-chrome .ace_string {
  color: #1A1AA6;
}

.ace-chrome .ace_entity.ace_other.ace_attribute-name {
  color: #994409;
}

.ace-chrome .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}
  
.ace-chrome .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/chrome",["require","exports","module","ace/theme/chrome-css","ace/lib/dom"],function(V,l,b){l.isDark=!1,l.cssClass="ace-chrome",l.cssText=V("./chrome-css");var A=V("../lib/dom");A.importCssString(l.cssText,l.cssClass,!1)}),function(){ace.require(["ace/theme/chrome"],function(V){te&&(te.exports=V)})}()},9285:(te,ye,$)=>{te=$.nmd(te),ace.define("ace/theme/clouds_midnight-css",["require","exports","module"],function(V,l,b){b.exports=`.ace-clouds-midnight .ace_gutter {
  background: #232323;
  color: #929292
}

.ace-clouds-midnight .ace_print-margin {
  width: 1px;
  background: #232323
}

.ace-clouds-midnight {
  background-color: #191919;
  color: #929292
}

.ace-clouds-midnight .ace_cursor {
  color: #7DA5DC
}

.ace-clouds-midnight .ace_marker-layer .ace_selection {
  background: #000000
}

.ace-clouds-midnight.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #191919;
}

.ace-clouds-midnight .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-clouds-midnight .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #BFBFBF
}

.ace-clouds-midnight .ace_marker-layer .ace_active-line {
  background: rgba(215, 215, 215, 0.031)
}

.ace-clouds-midnight .ace_gutter-active-line {
  background-color: rgba(215, 215, 215, 0.031)
}

.ace-clouds-midnight .ace_marker-layer .ace_selected-word {
  border: 1px solid #000000
}

.ace-clouds-midnight .ace_invisible {
  color: #666
}

.ace-clouds-midnight .ace_keyword,
.ace-clouds-midnight .ace_meta,
.ace-clouds-midnight .ace_support.ace_constant.ace_property-value {
  color: #927C5D
}

.ace-clouds-midnight .ace_keyword.ace_operator {
  color: #4B4B4B
}

.ace-clouds-midnight .ace_keyword.ace_other.ace_unit {
  color: #366F1A
}

.ace-clouds-midnight .ace_constant.ace_language {
  color: #39946A
}

.ace-clouds-midnight .ace_constant.ace_numeric {
  color: #46A609
}

.ace-clouds-midnight .ace_constant.ace_character.ace_entity {
  color: #A165AC
}

.ace-clouds-midnight .ace_invalid {
  color: #FFFFFF;
  background-color: #E92E2E
}

.ace-clouds-midnight .ace_fold {
  background-color: #927C5D;
  border-color: #929292
}

.ace-clouds-midnight .ace_storage,
.ace-clouds-midnight .ace_support.ace_class,
.ace-clouds-midnight .ace_support.ace_function,
.ace-clouds-midnight .ace_support.ace_other,
.ace-clouds-midnight .ace_support.ace_type {
  color: #E92E2E
}

.ace-clouds-midnight .ace_string {
  color: #5D90CD
}

.ace-clouds-midnight .ace_comment {
  color: #3C403B
}

.ace-clouds-midnight .ace_entity.ace_name.ace_tag,
.ace-clouds-midnight .ace_entity.ace_other.ace_attribute-name {
  color: #606060
}

.ace-clouds-midnight .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y
}

.ace-clouds-midnight .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/clouds_midnight",["require","exports","module","ace/theme/clouds_midnight-css","ace/lib/dom"],function(V,l,b){l.isDark=!0,l.cssClass="ace-clouds-midnight",l.cssText=V("./clouds_midnight-css");var A=V("../lib/dom");A.importCssString(l.cssText,l.cssClass,!1)}),function(){ace.require(["ace/theme/clouds_midnight"],function(V){te&&(te.exports=V)})}()},51197:function(){"no use strict";(function(te){function ye(l,b){for(var A=l,k="";A;){var F=b[A];if(typeof F=="string")return F+k;if(F)return F.location.replace(/\/*$/,"/")+(k||F.main||F.name);if(F===!1)return"";var I=A.lastIndexOf("/");if(I===-1)break;k=A.substr(I)+k,A=A.slice(0,I)}return l}if(!(typeof te.window!="undefined"&&te.document)&&!(te.require&&te.define)){te.console||(te.console=function(){var l=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:l})},te.console.error=te.console.warn=te.console.log=te.console.trace=te.console),te.window=te,te.ace=te,te.onerror=function(l,b,A,k,F){postMessage({type:"error",data:{message:l,data:F&&F.data,file:b,line:A,col:k,stack:F&&F.stack}})},te.normalizeModule=function(l,b){if(b.indexOf("!")!==-1){var A=b.split("!");return te.normalizeModule(l,A[0])+"!"+te.normalizeModule(l,A[1])}if(b.charAt(0)=="."){var k=l.split("/").slice(0,-1).join("/");for(b=(k?k+"/":"")+b;b.indexOf(".")!==-1&&F!=b;){var F=b;b=b.replace(/^\.\//,"").replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return b},te.require=function(l,b){if(b||(b=l,l=null),!b.charAt)throw new Error("worker.js require() accepts only (parentId, id) as arguments");b=te.normalizeModule(l,b);var A=te.require.modules[b];if(A)return A.initialized||(A.initialized=!0,A.exports=A.factory().exports),A.exports;if(!te.require.tlns)return console.log("unable to load "+b);var k=ye(b,te.require.tlns);return k.slice(-3)!=".js"&&(k+=".js"),te.require.id=b,te.require.modules[b]={},importScripts(k),te.require(l,b)},te.require.modules={},te.require.tlns={},te.define=function(l,b,A){if(arguments.length==2?(A=b,typeof l!="string"&&(b=l,l=te.require.id)):arguments.length==1&&(A=l,b=[],l=te.require.id),typeof A!="function"){te.require.modules[l]={exports:A,initialized:!0};return}b.length||(b=["require","exports","module"]);var k=function(F){return te.require(l,F)};te.require.modules[l]={exports:{},factory:function(){var F=this,I=A.apply(this,b.slice(0,A.length).map(function(u){switch(u){case"require":return k;case"exports":return F.exports;case"module":return F;default:return k(u)}}));return I&&(F.exports=I),F}}},te.define.amd={},te.require.tlns={},te.initBaseUrls=function(l){for(var b in l)this.require.tlns[b]=l[b]},te.initSender=function(){var l=te.require("ace/lib/event_emitter").EventEmitter,b=te.require("ace/lib/oop"),A=function(){};return function(){b.implement(this,l),this.callback=function(k,F){postMessage({type:"call",id:F,data:k})},this.emit=function(k,F){postMessage({type:"event",name:k,data:F})}}.call(A.prototype),new A};var $=te.main=null,V=te.sender=null;te.onmessage=function(l){var b=l.data;if(b.event&&V)V._signal(b.event,b.data);else if(b.command)if($[b.command])$[b.command].apply($,b.args);else{if(!te[b.command])throw new Error("Unknown command:"+b.command);te[b.command].apply(te,b.args)}else if(b.init){te.initBaseUrls(b.tlns),V=te.sender=te.initSender();var A=this.require(b.module)[b.classname];$=te.main=new A(V)}}}})(this),ace.define("ace/lib/oop",[],function(te,ye,$){"use strict";ye.inherits=function(V,l){V.super_=l,V.prototype=Object.create(l.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}})},ye.mixin=function(V,l){for(var b in l)V[b]=l[b];return V},ye.implement=function(V,l){ye.mixin(V,l)}}),ace.define("ace/apply_delta",[],function(te,ye,$){"use strict";function V(A,k){throw console.log("Invalid Delta:",A),"Invalid Delta: "+k}function l(A,k){return k.row>=0&&k.row<A.length&&k.column>=0&&k.column<=A[k.row].length}function b(A,k){k.action!="insert"&&k.action!="remove"&&V(k,"delta.action must be 'insert' or 'remove'"),k.lines instanceof Array||V(k,"delta.lines must be an Array"),(!k.start||!k.end)&&V(k,"delta.start/end must be an present");var F=k.start;l(A,k.start)||V(k,"delta.start must be contained in document");var I=k.end;k.action=="remove"&&!l(A,I)&&V(k,"delta.end must contained in document for 'remove' actions");var u=I.row-F.row,D=I.column-(u==0?F.column:0);(u!=k.lines.length-1||k.lines[u].length!=D)&&V(k,"delta.range must match delta lines")}ye.applyDelta=function(A,k,F){var I=k.start.row,u=k.start.column,D=A[I]||"";switch(k.action){case"insert":var h=k.lines;if(h.length===1)A[I]=D.substring(0,u)+k.lines[0]+D.substring(u);else{var J=[I,1].concat(k.lines);A.splice.apply(A,J),A[I]=D.substring(0,u)+A[I],A[I+k.lines.length-1]+=D.substring(u)}break;case"remove":var ce=k.end.column,Se=k.end.row;I===Se?A[I]=D.substring(0,u)+D.substring(ce):A.splice(I,Se-I+1,D.substring(0,u)+A[Se].substring(ce))}}}),ace.define("ace/lib/event_emitter",[],function(te,ye,$){"use strict";var V={},l=function(){this.propagationStopped=!0},b=function(){this.defaultPrevented=!0};V._emit=V._dispatchEvent=function(A,k){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var F=this._eventRegistry[A]||[],I=this._defaultHandlers[A];if(!(!F.length&&!I)){(typeof k!="object"||!k)&&(k={}),k.type||(k.type=A),k.stopPropagation||(k.stopPropagation=l),k.preventDefault||(k.preventDefault=b),F=F.slice();for(var u=0;u<F.length&&(F[u](k,this),!k.propagationStopped);u++);if(I&&!k.defaultPrevented)return I(k,this)}},V._signal=function(A,k){var F=(this._eventRegistry||{})[A];if(F){F=F.slice();for(var I=0;I<F.length;I++)F[I](k,this)}},V.once=function(A,k){var F=this;if(this.on(A,function I(){F.off(A,I),k.apply(null,arguments)}),!k)return new Promise(function(I){k=I})},V.setDefaultHandler=function(A,k){var F=this._defaultHandlers;if(F||(F=this._defaultHandlers={_disabled_:{}}),F[A]){var I=F[A],u=F._disabled_[A];u||(F._disabled_[A]=u=[]),u.push(I);var D=u.indexOf(k);D!=-1&&u.splice(D,1)}F[A]=k},V.removeDefaultHandler=function(A,k){var F=this._defaultHandlers;if(F){var I=F._disabled_[A];if(F[A]==k)I&&this.setDefaultHandler(A,I.pop());else if(I){var u=I.indexOf(k);u!=-1&&I.splice(u,1)}}},V.on=V.addEventListener=function(A,k,F){this._eventRegistry=this._eventRegistry||{};var I=this._eventRegistry[A];return I||(I=this._eventRegistry[A]=[]),I.indexOf(k)==-1&&I[F?"unshift":"push"](k),k},V.off=V.removeListener=V.removeEventListener=function(A,k){this._eventRegistry=this._eventRegistry||{};var F=this._eventRegistry[A];if(F){var I=F.indexOf(k);I!==-1&&F.splice(I,1)}},V.removeAllListeners=function(A){A||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[A]=void 0),this._defaultHandlers&&(this._defaultHandlers[A]=void 0)},ye.EventEmitter=V}),ace.define("ace/range",[],function(te,ye,$){"use strict";var V=function(){function l(b,A,k,F){this.start={row:b,column:A},this.end={row:k,column:F}}return l.prototype.isEqual=function(b){return this.start.row===b.start.row&&this.end.row===b.end.row&&this.start.column===b.start.column&&this.end.column===b.end.column},l.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},l.prototype.contains=function(b,A){return this.compare(b,A)==0},l.prototype.compareRange=function(b){var A,k=b.end,F=b.start;return A=this.compare(k.row,k.column),A==1?(A=this.compare(F.row,F.column),A==1?2:A==0?1:0):A==-1?-2:(A=this.compare(F.row,F.column),A==-1?-1:A==1?42:0)},l.prototype.comparePoint=function(b){return this.compare(b.row,b.column)},l.prototype.containsRange=function(b){return this.comparePoint(b.start)==0&&this.comparePoint(b.end)==0},l.prototype.intersects=function(b){var A=this.compareRange(b);return A==-1||A==0||A==1},l.prototype.isEnd=function(b,A){return this.end.row==b&&this.end.column==A},l.prototype.isStart=function(b,A){return this.start.row==b&&this.start.column==A},l.prototype.setStart=function(b,A){typeof b=="object"?(this.start.column=b.column,this.start.row=b.row):(this.start.row=b,this.start.column=A)},l.prototype.setEnd=function(b,A){typeof b=="object"?(this.end.column=b.column,this.end.row=b.row):(this.end.row=b,this.end.column=A)},l.prototype.inside=function(b,A){return this.compare(b,A)==0?!(this.isEnd(b,A)||this.isStart(b,A)):!1},l.prototype.insideStart=function(b,A){return this.compare(b,A)==0?!this.isEnd(b,A):!1},l.prototype.insideEnd=function(b,A){return this.compare(b,A)==0?!this.isStart(b,A):!1},l.prototype.compare=function(b,A){return!this.isMultiLine()&&b===this.start.row?A<this.start.column?-1:A>this.end.column?1:0:b<this.start.row?-1:b>this.end.row?1:this.start.row===b?A>=this.start.column?0:-1:this.end.row===b?A<=this.end.column?0:1:0},l.prototype.compareStart=function(b,A){return this.start.row==b&&this.start.column==A?-1:this.compare(b,A)},l.prototype.compareEnd=function(b,A){return this.end.row==b&&this.end.column==A?1:this.compare(b,A)},l.prototype.compareInside=function(b,A){return this.end.row==b&&this.end.column==A?1:this.start.row==b&&this.start.column==A?-1:this.compare(b,A)},l.prototype.clipRows=function(b,A){if(this.end.row>A)var k={row:A+1,column:0};else if(this.end.row<b)var k={row:b,column:0};if(this.start.row>A)var F={row:A+1,column:0};else if(this.start.row<b)var F={row:b,column:0};return l.fromPoints(F||this.start,k||this.end)},l.prototype.extend=function(b,A){var k=this.compare(b,A);if(k==0)return this;if(k==-1)var F={row:b,column:A};else var I={row:b,column:A};return l.fromPoints(F||this.start,I||this.end)},l.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},l.prototype.isMultiLine=function(){return this.start.row!==this.end.row},l.prototype.clone=function(){return l.fromPoints(this.start,this.end)},l.prototype.collapseRows=function(){return this.end.column==0?new l(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new l(this.start.row,0,this.end.row,0)},l.prototype.toScreenRange=function(b){var A=b.documentToScreenPosition(this.start),k=b.documentToScreenPosition(this.end);return new l(A.row,A.column,k.row,k.column)},l.prototype.moveBy=function(b,A){this.start.row+=b,this.start.column+=A,this.end.row+=b,this.end.column+=A},l}();V.fromPoints=function(l,b){return new V(l.row,l.column,b.row,b.column)},V.comparePoints=function(l,b){return l.row-b.row||l.column-b.column},ye.Range=V}),ace.define("ace/anchor",[],function(te,ye,$){"use strict";function V(F,I,u){var D=u?F.column<=I.column:F.column<I.column;return F.row<I.row||F.row==I.row&&D}function l(F,I,u){var D=F.action=="insert",h=(D?1:-1)*(F.end.row-F.start.row),J=(D?1:-1)*(F.end.column-F.start.column),ce=F.start,Se=D?ce:F.end;return V(I,ce,u)?{row:I.row,column:I.column}:V(Se,I,!u)?{row:I.row+h,column:I.column+(I.row==Se.row?J:0)}:{row:ce.row,column:ce.column}}var b=te("./lib/oop"),A=te("./lib/event_emitter").EventEmitter,k=function(){function F(I,u,D){this.$onChange=this.onChange.bind(this),this.attach(I),typeof u!="number"?this.setPosition(u.row,u.column):this.setPosition(u,D)}return F.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},F.prototype.getDocument=function(){return this.document},F.prototype.onChange=function(I){if(!(I.start.row==I.end.row&&I.start.row!=this.row)&&!(I.start.row>this.row)){var u=l(I,{row:this.row,column:this.column},this.$insertRight);this.setPosition(u.row,u.column,!0)}},F.prototype.setPosition=function(I,u,D){var h;if(D?h={row:I,column:u}:h=this.$clipPositionToDocument(I,u),!(this.row==h.row&&this.column==h.column)){var J={row:this.row,column:this.column};this.row=h.row,this.column=h.column,this._signal("change",{old:J,value:h})}},F.prototype.detach=function(){this.document.off("change",this.$onChange)},F.prototype.attach=function(I){this.document=I||this.document,this.document.on("change",this.$onChange)},F.prototype.$clipPositionToDocument=function(I,u){var D={};return I>=this.document.getLength()?(D.row=Math.max(0,this.document.getLength()-1),D.column=this.document.getLine(D.row).length):I<0?(D.row=0,D.column=0):(D.row=I,D.column=Math.min(this.document.getLine(D.row).length,Math.max(0,u))),u<0&&(D.column=0),D},F}();k.prototype.$insertRight=!1,b.implement(k.prototype,A),ye.Anchor=k}),ace.define("ace/document",[],function(te,ye,$){"use strict";var V=te("./lib/oop"),l=te("./apply_delta").applyDelta,b=te("./lib/event_emitter").EventEmitter,A=te("./range").Range,k=te("./anchor").Anchor,F=function(){function I(u){this.$lines=[""],u.length===0?this.$lines=[""]:Array.isArray(u)?this.insertMergedLines({row:0,column:0},u):this.insert({row:0,column:0},u)}return I.prototype.setValue=function(u){var D=this.getLength()-1;this.remove(new A(0,0,D,this.getLine(D).length)),this.insert({row:0,column:0},u||"")},I.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},I.prototype.createAnchor=function(u,D){return new k(this,u,D)},I.prototype.$detectNewLine=function(u){var D=u.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=D?D[1]:`
`,this._signal("changeNewLineMode")},I.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},I.prototype.setNewLineMode=function(u){this.$newLineMode!==u&&(this.$newLineMode=u,this._signal("changeNewLineMode"))},I.prototype.getNewLineMode=function(){return this.$newLineMode},I.prototype.isNewLine=function(u){return u==`\r
`||u=="\r"||u==`
`},I.prototype.getLine=function(u){return this.$lines[u]||""},I.prototype.getLines=function(u,D){return this.$lines.slice(u,D+1)},I.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},I.prototype.getLength=function(){return this.$lines.length},I.prototype.getTextRange=function(u){return this.getLinesForRange(u).join(this.getNewLineCharacter())},I.prototype.getLinesForRange=function(u){var D;if(u.start.row===u.end.row)D=[this.getLine(u.start.row).substring(u.start.column,u.end.column)];else{D=this.getLines(u.start.row,u.end.row),D[0]=(D[0]||"").substring(u.start.column);var h=D.length-1;u.end.row-u.start.row==h&&(D[h]=D[h].substring(0,u.end.column))}return D},I.prototype.insertLines=function(u,D){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(u,D)},I.prototype.removeLines=function(u,D){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(u,D)},I.prototype.insertNewLine=function(u){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(u,["",""])},I.prototype.insert=function(u,D){return this.getLength()<=1&&this.$detectNewLine(D),this.insertMergedLines(u,this.$split(D))},I.prototype.insertInLine=function(u,D){var h=this.clippedPos(u.row,u.column),J=this.pos(u.row,u.column+D.length);return this.applyDelta({start:h,end:J,action:"insert",lines:[D]},!0),this.clonePos(J)},I.prototype.clippedPos=function(u,D){var h=this.getLength();u===void 0?u=h:u<0?u=0:u>=h&&(u=h-1,D=void 0);var J=this.getLine(u);return D==null&&(D=J.length),D=Math.min(Math.max(D,0),J.length),{row:u,column:D}},I.prototype.clonePos=function(u){return{row:u.row,column:u.column}},I.prototype.pos=function(u,D){return{row:u,column:D}},I.prototype.$clipPosition=function(u){var D=this.getLength();return u.row>=D?(u.row=Math.max(0,D-1),u.column=this.getLine(D-1).length):(u.row=Math.max(0,u.row),u.column=Math.min(Math.max(u.column,0),this.getLine(u.row).length)),u},I.prototype.insertFullLines=function(u,D){u=Math.min(Math.max(u,0),this.getLength());var h=0;u<this.getLength()?(D=D.concat([""]),h=0):(D=[""].concat(D),u--,h=this.$lines[u].length),this.insertMergedLines({row:u,column:h},D)},I.prototype.insertMergedLines=function(u,D){var h=this.clippedPos(u.row,u.column),J={row:h.row+D.length-1,column:(D.length==1?h.column:0)+D[D.length-1].length};return this.applyDelta({start:h,end:J,action:"insert",lines:D}),this.clonePos(J)},I.prototype.remove=function(u){var D=this.clippedPos(u.start.row,u.start.column),h=this.clippedPos(u.end.row,u.end.column);return this.applyDelta({start:D,end:h,action:"remove",lines:this.getLinesForRange({start:D,end:h})}),this.clonePos(D)},I.prototype.removeInLine=function(u,D,h){var J=this.clippedPos(u,D),ce=this.clippedPos(u,h);return this.applyDelta({start:J,end:ce,action:"remove",lines:this.getLinesForRange({start:J,end:ce})},!0),this.clonePos(J)},I.prototype.removeFullLines=function(u,D){u=Math.min(Math.max(0,u),this.getLength()-1),D=Math.min(Math.max(0,D),this.getLength()-1);var h=D==this.getLength()-1&&u>0,J=D<this.getLength()-1,ce=h?u-1:u,Se=h?this.getLine(ce).length:0,re=J?D+1:D,pe=J?0:this.getLine(re).length,Re=new A(ce,Se,re,pe),Ye=this.$lines.slice(u,D+1);return this.applyDelta({start:Re.start,end:Re.end,action:"remove",lines:this.getLinesForRange(Re)}),Ye},I.prototype.removeNewLine=function(u){u<this.getLength()-1&&u>=0&&this.applyDelta({start:this.pos(u,this.getLine(u).length),end:this.pos(u+1,0),action:"remove",lines:["",""]})},I.prototype.replace=function(u,D){if(u instanceof A||(u=A.fromPoints(u.start,u.end)),D.length===0&&u.isEmpty())return u.start;if(D==this.getTextRange(u))return u.end;this.remove(u);var h;return D?h=this.insert(u.start,D):h=u.start,h},I.prototype.applyDeltas=function(u){for(var D=0;D<u.length;D++)this.applyDelta(u[D])},I.prototype.revertDeltas=function(u){for(var D=u.length-1;D>=0;D--)this.revertDelta(u[D])},I.prototype.applyDelta=function(u,D){var h=u.action=="insert";(h?u.lines.length<=1&&!u.lines[0]:!A.comparePoints(u.start,u.end))||(h&&u.lines.length>2e4?this.$splitAndapplyLargeDelta(u,2e4):(l(this.$lines,u,D),this._signal("change",u)))},I.prototype.$safeApplyDelta=function(u){var D=this.$lines.length;(u.action=="remove"&&u.start.row<D&&u.end.row<D||u.action=="insert"&&u.start.row<=D)&&this.applyDelta(u)},I.prototype.$splitAndapplyLargeDelta=function(u,D){for(var h=u.lines,J=h.length-D+1,ce=u.start.row,Se=u.start.column,re=0,pe=0;re<J;re=pe){pe+=D-1;var Re=h.slice(re,pe);Re.push(""),this.applyDelta({start:this.pos(ce+re,Se),end:this.pos(ce+pe,Se=0),action:u.action,lines:Re},!0)}u.lines=h.slice(re),u.start.row=ce+re,u.start.column=Se,this.applyDelta(u,!0)},I.prototype.revertDelta=function(u){this.$safeApplyDelta({start:this.clonePos(u.start),end:this.clonePos(u.end),action:u.action=="insert"?"remove":"insert",lines:u.lines.slice()})},I.prototype.indexToPosition=function(u,D){for(var h=this.$lines||this.getAllLines(),J=this.getNewLineCharacter().length,ce=D||0,Se=h.length;ce<Se;ce++)if(u-=h[ce].length+J,u<0)return{row:ce,column:u+h[ce].length+J};return{row:Se-1,column:u+h[Se-1].length+J}},I.prototype.positionToIndex=function(u,D){for(var h=this.$lines||this.getAllLines(),J=this.getNewLineCharacter().length,ce=0,Se=Math.min(u.row,h.length),re=D||0;re<Se;++re)ce+=h[re].length+J;return ce+u.column},I.prototype.$split=function(u){return u.split(/\r\n|\r|\n/)},I}();F.prototype.$autoNewLine="",F.prototype.$newLineMode="auto",V.implement(F.prototype,b),ye.Document=F}),ace.define("ace/lib/deep_copy",[],function(te,ye,$){ye.deepCopy=function V(l){if(typeof l!="object"||!l)return l;var b;if(Array.isArray(l)){b=[];for(var A=0;A<l.length;A++)b[A]=V(l[A]);return b}if(Object.prototype.toString.call(l)!=="[object Object]")return l;b={};for(var A in l)b[A]=V(l[A]);return b}}),ace.define("ace/lib/lang",[],function(te,ye,$){"use strict";ye.last=function(b){return b[b.length-1]},ye.stringReverse=function(b){return b.split("").reverse().join("")},ye.stringRepeat=function(b,A){for(var k="";A>0;)A&1&&(k+=b),(A>>=1)&&(b+=b);return k};var V=/^\s\s*/,l=/\s\s*$/;ye.stringTrimLeft=function(b){return b.replace(V,"")},ye.stringTrimRight=function(b){return b.replace(l,"")},ye.copyObject=function(b){var A={};for(var k in b)A[k]=b[k];return A},ye.copyArray=function(b){for(var A=[],k=0,F=b.length;k<F;k++)b[k]&&typeof b[k]=="object"?A[k]=this.copyObject(b[k]):A[k]=b[k];return A},ye.deepCopy=te("./deep_copy").deepCopy,ye.arrayToMap=function(b){for(var A={},k=0;k<b.length;k++)A[b[k]]=1;return A},ye.createMap=function(b){var A=Object.create(null);for(var k in b)A[k]=b[k];return A},ye.arrayRemove=function(b,A){for(var k=0;k<=b.length;k++)A===b[k]&&b.splice(k,1)},ye.escapeRegExp=function(b){return b.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},ye.escapeHTML=function(b){return(""+b).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},ye.getMatchOffsets=function(b,A){var k=[];return b.replace(A,function(F){k.push({offset:arguments[arguments.length-2],length:F.length})}),k},ye.deferredCall=function(b){var A=null,k=function(){A=null,b()},F=function(I){return F.cancel(),A=setTimeout(k,I||0),F};return F.schedule=F,F.call=function(){return this.cancel(),b(),F},F.cancel=function(){return clearTimeout(A),A=null,F},F.isPending=function(){return A},F},ye.delayedCall=function(b,A){var k=null,F=function(){k=null,b()},I=function(u){k==null&&(k=setTimeout(F,u||A))};return I.delay=function(u){k&&clearTimeout(k),k=setTimeout(F,u||A)},I.schedule=I,I.call=function(){this.cancel(),b()},I.cancel=function(){k&&clearTimeout(k),k=null},I.isPending=function(){return k},I},ye.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch(b){return!1}return!0},ye.skipEmptyMatch=function(b,A,k){return k&&b.codePointAt(A)>65535?2:1}}),ace.define("ace/worker/mirror",[],function(te,ye,$){"use strict";var V=te("../document").Document,l=te("../lib/lang"),b=ye.Mirror=function(A){this.sender=A;var k=this.doc=new V(""),F=this.deferredUpdate=l.delayedCall(this.onUpdate.bind(this)),I=this;A.on("change",function(u){var D=u.data;if(D[0].start)k.applyDeltas(D);else for(var h=0;h<D.length;h+=2){var J,ce;if(Array.isArray(D[h+1])?J={action:"insert",start:D[h],lines:D[h+1]}:J={action:"remove",start:D[h],end:D[h+1]},(J.action=="insert"?J.start:J.end).row>=k.$lines.length)throw ce=new Error("Invalid delta"),ce.data={path:I.$path,linesLength:k.$lines.length,start:J.start,end:J.end},ce;k.applyDelta(J,!0)}if(I.$timeout)return F.schedule(I.$timeout);I.onUpdate()})};(function(){this.$timeout=500,this.setTimeout=function(A){this.$timeout=A},this.setValue=function(A){this.doc.setValue(A),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(A){this.sender.callback(this.doc.getValue(),A)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(b.prototype)}),ace.define("ace/mode/json/json_parse",[],function(te,ye,$){"use strict";var V,l,b={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},A,k=function(re){throw{name:"SyntaxError",message:re,at:V,text:A}},F=function(re){return re&&re!==l&&k("Expected '"+re+"' instead of '"+l+"'"),l=A.charAt(V),V+=1,l},I=function(){var re,pe="";for(l==="-"&&(pe="-",F("-"));l>="0"&&l<="9";)pe+=l,F();if(l===".")for(pe+=".";F()&&l>="0"&&l<="9";)pe+=l;if(l==="e"||l==="E")for(pe+=l,F(),(l==="-"||l==="+")&&(pe+=l,F());l>="0"&&l<="9";)pe+=l,F();if(re=+pe,!isNaN(re))return re;k("Bad number")},u=function(){var re,pe,Re="",Ye;if(l==='"')for(;F();){if(l==='"')return F(),Re;if(l==="\\")if(F(),l==="u"){for(Ye=0,pe=0;pe<4&&(re=parseInt(F(),16),!!isFinite(re));pe+=1)Ye=Ye*16+re;Re+=String.fromCharCode(Ye)}else{if(typeof b[l]!="string")break;Re+=b[l]}else{if(l==`
`||l=="\r")break;Re+=l}}k("Bad string")},D=function(){for(;l&&l<=" ";)F()},h=function(){switch(l){case"t":return F("t"),F("r"),F("u"),F("e"),!0;case"f":return F("f"),F("a"),F("l"),F("s"),F("e"),!1;case"n":return F("n"),F("u"),F("l"),F("l"),null}k("Unexpected '"+l+"'")},J,ce=function(){var re=[];if(l==="["){if(F("["),D(),l==="]")return F("]"),re;for(;l;){if(re.push(J()),D(),l==="]")return F("]"),re;F(","),D()}}k("Bad array")},Se=function(){var re,pe={};if(l==="{"){if(F("{"),D(),l==="}")return F("}"),pe;for(;l;){if(re=u(),D(),F(":"),Object.hasOwnProperty.call(pe,re)&&k('Duplicate key "'+re+'"'),pe[re]=J(),D(),l==="}")return F("}"),pe;F(","),D()}}k("Bad object")};return J=function(){switch(D(),l){case"{":return Se();case"[":return ce();case'"':return u();case"-":return I();default:return l>="0"&&l<="9"?I():h()}},function(re,pe){var Re;return A=re,V=0,l=" ",Re=J(),D(),l&&k("Syntax error"),typeof pe=="function"?function Ye(ie,y){var N,f,w=ie[y];if(w&&typeof w=="object")for(N in w)Object.hasOwnProperty.call(w,N)&&(f=Ye(w,N),f!==void 0?w[N]=f:delete w[N]);return pe.call(ie,y,w)}({"":Re},""):Re}}),ace.define("ace/mode/json_worker",[],function(te,ye,$){"use strict";var V=te("../lib/oop"),l=te("../worker/mirror").Mirror,b=te("./json/json_parse"),A=ye.JsonWorker=function(k){l.call(this,k),this.setTimeout(200)};V.inherits(A,l),function(){this.onUpdate=function(){var k=this.doc.getValue(),F=[];try{k&&b(k)}catch(u){var I=this.doc.indexToPosition(u.at-1);F.push({row:I.row,column:I.column,text:u.message,type:"error"})}this.sender.emit("annotate",F)}}.call(A.prototype)})},57051:function(te,ye,$){(function(V,l){te.exports=ye=l()})(this,function(){var V=V||function(l,b){var A;if(typeof window!="undefined"&&window.crypto&&(A=window.crypto),typeof self!="undefined"&&self.crypto&&(A=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(A=globalThis.crypto),!A&&typeof window!="undefined"&&window.msCrypto&&(A=window.msCrypto),!A&&typeof $.g!="undefined"&&$.g.crypto&&(A=$.g.crypto),!A)try{A=$(50477)}catch(ie){}var k=function(){if(A){if(typeof A.getRandomValues=="function")try{return A.getRandomValues(new Uint32Array(1))[0]}catch(ie){}if(typeof A.randomBytes=="function")try{return A.randomBytes(4).readInt32LE()}catch(ie){}}throw new Error("Native crypto module could not be used to get secure random number.")},F=Object.create||function(){function ie(){}return function(y){var N;return ie.prototype=y,N=new ie,ie.prototype=null,N}}(),I={},u=I.lib={},D=u.Base=function(){return{extend:function(ie){var y=F(this);return ie&&y.mixIn(ie),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var ie=this.extend();return ie.init.apply(ie,arguments),ie},init:function(){},mixIn:function(ie){for(var y in ie)ie.hasOwnProperty(y)&&(this[y]=ie[y]);ie.hasOwnProperty("toString")&&(this.toString=ie.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=u.WordArray=D.extend({init:function(ie,y){ie=this.words=ie||[],y!=b?this.sigBytes=y:this.sigBytes=ie.length*4},toString:function(ie){return(ie||ce).stringify(this)},concat:function(ie){var y=this.words,N=ie.words,f=this.sigBytes,w=ie.sigBytes;if(this.clamp(),f%4)for(var m=0;m<w;m++){var x=N[m>>>2]>>>24-m%4*8&255;y[f+m>>>2]|=x<<24-(f+m)%4*8}else for(var E=0;E<w;E+=4)y[f+E>>>2]=N[E>>>2];return this.sigBytes+=w,this},clamp:function(){var ie=this.words,y=this.sigBytes;ie[y>>>2]&=4294967295<<32-y%4*8,ie.length=l.ceil(y/4)},clone:function(){var ie=D.clone.call(this);return ie.words=this.words.slice(0),ie},random:function(ie){for(var y=[],N=0;N<ie;N+=4)y.push(k());return new h.init(y,ie)}}),J=I.enc={},ce=J.Hex={stringify:function(ie){for(var y=ie.words,N=ie.sigBytes,f=[],w=0;w<N;w++){var m=y[w>>>2]>>>24-w%4*8&255;f.push((m>>>4).toString(16)),f.push((m&15).toString(16))}return f.join("")},parse:function(ie){for(var y=ie.length,N=[],f=0;f<y;f+=2)N[f>>>3]|=parseInt(ie.substr(f,2),16)<<24-f%8*4;return new h.init(N,y/2)}},Se=J.Latin1={stringify:function(ie){for(var y=ie.words,N=ie.sigBytes,f=[],w=0;w<N;w++){var m=y[w>>>2]>>>24-w%4*8&255;f.push(String.fromCharCode(m))}return f.join("")},parse:function(ie){for(var y=ie.length,N=[],f=0;f<y;f++)N[f>>>2]|=(ie.charCodeAt(f)&255)<<24-f%4*8;return new h.init(N,y)}},re=J.Utf8={stringify:function(ie){try{return decodeURIComponent(escape(Se.stringify(ie)))}catch(y){throw new Error("Malformed UTF-8 data")}},parse:function(ie){return Se.parse(unescape(encodeURIComponent(ie)))}},pe=u.BufferedBlockAlgorithm=D.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(ie){typeof ie=="string"&&(ie=re.parse(ie)),this._data.concat(ie),this._nDataBytes+=ie.sigBytes},_process:function(ie){var y,N=this._data,f=N.words,w=N.sigBytes,m=this.blockSize,x=m*4,E=w/x;ie?E=l.ceil(E):E=l.max((E|0)-this._minBufferSize,0);var L=E*m,G=l.min(L*4,w);if(L){for(var z=0;z<L;z+=m)this._doProcessBlock(f,z);y=f.splice(0,L),N.sigBytes-=G}return new h.init(y,G)},clone:function(){var ie=D.clone.call(this);return ie._data=this._data.clone(),ie},_minBufferSize:0}),Re=u.Hasher=pe.extend({cfg:D.extend(),init:function(ie){this.cfg=this.cfg.extend(ie),this.reset()},reset:function(){pe.reset.call(this),this._doReset()},update:function(ie){return this._append(ie),this._process(),this},finalize:function(ie){ie&&this._append(ie);var y=this._doFinalize();return y},blockSize:512/32,_createHelper:function(ie){return function(y,N){return new ie.init(N).finalize(y)}},_createHmacHelper:function(ie){return function(y,N){return new Ye.HMAC.init(ie,N).finalize(y)}}}),Ye=I.algo={};return I}(Math);return V})},91778:function(te,ye,$){(function(V,l){te.exports=ye=l($(57051))})(this,function(V){return function(l){var b=V,A=b.lib,k=A.WordArray,F=A.Hasher,I=b.algo,u=[];(function(){for(var re=0;re<64;re++)u[re]=l.abs(l.sin(re+1))*4294967296|0})();var D=I.MD5=F.extend({_doReset:function(){this._hash=new k.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(re,pe){for(var Re=0;Re<16;Re++){var Ye=pe+Re,ie=re[Ye];re[Ye]=(ie<<8|ie>>>24)&16711935|(ie<<24|ie>>>8)&4278255360}var y=this._hash.words,N=re[pe+0],f=re[pe+1],w=re[pe+2],m=re[pe+3],x=re[pe+4],E=re[pe+5],L=re[pe+6],G=re[pe+7],z=re[pe+8],U=re[pe+9],H=re[pe+10],ue=re[pe+11],Ke=re[pe+12],d=re[pe+13],et=re[pe+14],Xe=re[pe+15],de=y[0],xe=y[1],ge=y[2],we=y[3];de=h(de,xe,ge,we,N,7,u[0]),we=h(we,de,xe,ge,f,12,u[1]),ge=h(ge,we,de,xe,w,17,u[2]),xe=h(xe,ge,we,de,m,22,u[3]),de=h(de,xe,ge,we,x,7,u[4]),we=h(we,de,xe,ge,E,12,u[5]),ge=h(ge,we,de,xe,L,17,u[6]),xe=h(xe,ge,we,de,G,22,u[7]),de=h(de,xe,ge,we,z,7,u[8]),we=h(we,de,xe,ge,U,12,u[9]),ge=h(ge,we,de,xe,H,17,u[10]),xe=h(xe,ge,we,de,ue,22,u[11]),de=h(de,xe,ge,we,Ke,7,u[12]),we=h(we,de,xe,ge,d,12,u[13]),ge=h(ge,we,de,xe,et,17,u[14]),xe=h(xe,ge,we,de,Xe,22,u[15]),de=J(de,xe,ge,we,f,5,u[16]),we=J(we,de,xe,ge,L,9,u[17]),ge=J(ge,we,de,xe,ue,14,u[18]),xe=J(xe,ge,we,de,N,20,u[19]),de=J(de,xe,ge,we,E,5,u[20]),we=J(we,de,xe,ge,H,9,u[21]),ge=J(ge,we,de,xe,Xe,14,u[22]),xe=J(xe,ge,we,de,x,20,u[23]),de=J(de,xe,ge,we,U,5,u[24]),we=J(we,de,xe,ge,et,9,u[25]),ge=J(ge,we,de,xe,m,14,u[26]),xe=J(xe,ge,we,de,z,20,u[27]),de=J(de,xe,ge,we,d,5,u[28]),we=J(we,de,xe,ge,w,9,u[29]),ge=J(ge,we,de,xe,G,14,u[30]),xe=J(xe,ge,we,de,Ke,20,u[31]),de=ce(de,xe,ge,we,E,4,u[32]),we=ce(we,de,xe,ge,z,11,u[33]),ge=ce(ge,we,de,xe,ue,16,u[34]),xe=ce(xe,ge,we,de,et,23,u[35]),de=ce(de,xe,ge,we,f,4,u[36]),we=ce(we,de,xe,ge,x,11,u[37]),ge=ce(ge,we,de,xe,G,16,u[38]),xe=ce(xe,ge,we,de,H,23,u[39]),de=ce(de,xe,ge,we,d,4,u[40]),we=ce(we,de,xe,ge,N,11,u[41]),ge=ce(ge,we,de,xe,m,16,u[42]),xe=ce(xe,ge,we,de,L,23,u[43]),de=ce(de,xe,ge,we,U,4,u[44]),we=ce(we,de,xe,ge,Ke,11,u[45]),ge=ce(ge,we,de,xe,Xe,16,u[46]),xe=ce(xe,ge,we,de,w,23,u[47]),de=Se(de,xe,ge,we,N,6,u[48]),we=Se(we,de,xe,ge,G,10,u[49]),ge=Se(ge,we,de,xe,et,15,u[50]),xe=Se(xe,ge,we,de,E,21,u[51]),de=Se(de,xe,ge,we,Ke,6,u[52]),we=Se(we,de,xe,ge,m,10,u[53]),ge=Se(ge,we,de,xe,H,15,u[54]),xe=Se(xe,ge,we,de,f,21,u[55]),de=Se(de,xe,ge,we,z,6,u[56]),we=Se(we,de,xe,ge,Xe,10,u[57]),ge=Se(ge,we,de,xe,L,15,u[58]),xe=Se(xe,ge,we,de,d,21,u[59]),de=Se(de,xe,ge,we,x,6,u[60]),we=Se(we,de,xe,ge,ue,10,u[61]),ge=Se(ge,we,de,xe,w,15,u[62]),xe=Se(xe,ge,we,de,U,21,u[63]),y[0]=y[0]+de|0,y[1]=y[1]+xe|0,y[2]=y[2]+ge|0,y[3]=y[3]+we|0},_doFinalize:function(){var re=this._data,pe=re.words,Re=this._nDataBytes*8,Ye=re.sigBytes*8;pe[Ye>>>5]|=128<<24-Ye%32;var ie=l.floor(Re/4294967296),y=Re;pe[(Ye+64>>>9<<4)+15]=(ie<<8|ie>>>24)&16711935|(ie<<24|ie>>>8)&4278255360,pe[(Ye+64>>>9<<4)+14]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,re.sigBytes=(pe.length+1)*4,this._process();for(var N=this._hash,f=N.words,w=0;w<4;w++){var m=f[w];f[w]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360}return N},clone:function(){var re=F.clone.call(this);return re._hash=this._hash.clone(),re}});function h(re,pe,Re,Ye,ie,y,N){var f=re+(pe&Re|~pe&Ye)+ie+N;return(f<<y|f>>>32-y)+pe}function J(re,pe,Re,Ye,ie,y,N){var f=re+(pe&Ye|Re&~Ye)+ie+N;return(f<<y|f>>>32-y)+pe}function ce(re,pe,Re,Ye,ie,y,N){var f=re+(pe^Re^Ye)+ie+N;return(f<<y|f>>>32-y)+pe}function Se(re,pe,Re,Ye,ie,y,N){var f=re+(Re^(pe|~Ye))+ie+N;return(f<<y|f>>>32-y)+pe}b.MD5=F._createHelper(D),b.HmacMD5=F._createHmacHelper(D)}(Math),V.MD5})},85589:function(te){(function(ye,$){te.exports=$()})(this,function(){"use strict";function ye(j,ee){return ee={exports:{}},j(ee,ee.exports),ee.exports}var $=ye(function(j){var ee=j.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=ee)}),V=ye(function(j){var ee=j.exports={version:"2.6.5"};typeof __e=="number"&&(__e=ee)}),l=V.version,b=function(j){return typeof j=="object"?j!==null:typeof j=="function"},A=function(j){if(!b(j))throw TypeError(j+" is not an object!");return j},k=function(j){try{return!!j()}catch(ee){return!0}},F=!k(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),I=$.document,u=b(I)&&b(I.createElement),D=function(j){return u?I.createElement(j):{}},h=!F&&!k(function(){return Object.defineProperty(D("div"),"a",{get:function(){return 7}}).a!=7}),J=function(j,ee){if(!b(j))return j;var ze,je;if(ee&&typeof(ze=j.toString)=="function"&&!b(je=ze.call(j))||typeof(ze=j.valueOf)=="function"&&!b(je=ze.call(j))||!ee&&typeof(ze=j.toString)=="function"&&!b(je=ze.call(j)))return je;throw TypeError("Can't convert object to primitive value")},ce=Object.defineProperty,Se=F?Object.defineProperty:function(ee,ze,je){if(A(ee),ze=J(ze,!0),A(je),h)try{return ce(ee,ze,je)}catch(qe){}if("get"in je||"set"in je)throw TypeError("Accessors not supported!");return"value"in je&&(ee[ze]=je.value),ee},re={f:Se},pe=function(j,ee){return{enumerable:!(j&1),configurable:!(j&2),writable:!(j&4),value:ee}},Re=F?function(j,ee,ze){return re.f(j,ee,pe(1,ze))}:function(j,ee,ze){return j[ee]=ze,j},Ye={}.hasOwnProperty,ie=function(j,ee){return Ye.call(j,ee)},y=0,N=Math.random(),f=function(j){return"Symbol(".concat(j===void 0?"":j,")_",(++y+N).toString(36))},w=!1,m=ye(function(j){var ee="__core-js_shared__",ze=$[ee]||($[ee]={});(j.exports=function(je,qe){return ze[je]||(ze[je]=qe!==void 0?qe:{})})("versions",[]).push({version:V.version,mode:w?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})}),x=m("native-function-to-string",Function.toString),E=ye(function(j){var ee=f("src"),ze="toString",je=(""+x).split(ze);V.inspectSource=function(qe){return x.call(qe)},(j.exports=function(qe,tt,dt,Nt){var Ft=typeof dt=="function";Ft&&(ie(dt,"name")||Re(dt,"name",tt)),qe[tt]!==dt&&(Ft&&(ie(dt,ee)||Re(dt,ee,qe[tt]?""+qe[tt]:je.join(String(tt)))),qe===$?qe[tt]=dt:Nt?qe[tt]?qe[tt]=dt:Re(qe,tt,dt):(delete qe[tt],Re(qe,tt,dt)))})(Function.prototype,ze,function(){return typeof this=="function"&&this[ee]||x.call(this)})}),L=function(j){if(typeof j!="function")throw TypeError(j+" is not a function!");return j},G=function(j,ee,ze){if(L(j),ee===void 0)return j;switch(ze){case 1:return function(je){return j.call(ee,je)};case 2:return function(je,qe){return j.call(ee,je,qe)};case 3:return function(je,qe,tt){return j.call(ee,je,qe,tt)}}return function(){return j.apply(ee,arguments)}},z="prototype",U=function(j,ee,ze){var je=j&U.F,qe=j&U.G,tt=j&U.S,dt=j&U.P,Nt=j&U.B,Ft=qe?$:tt?$[ee]||($[ee]={}):($[ee]||{})[z],Cn=qe?V:V[ee]||(V[ee]={}),bn=Cn[z]||(Cn[z]={}),Bt,tn,$t,nn;qe&&(ze=ee);for(Bt in ze)tn=!je&&Ft&&Ft[Bt]!==void 0,$t=(tn?Ft:ze)[Bt],nn=Nt&&tn?G($t,$):dt&&typeof $t=="function"?G(Function.call,$t):$t,Ft&&E(Ft,Bt,$t,j&U.U),Cn[Bt]!=$t&&Re(Cn,Bt,nn),dt&&bn[Bt]!=$t&&(bn[Bt]=$t)};$.core=V,U.F=1,U.G=2,U.S=4,U.P=8,U.B=16,U.W=32,U.U=64,U.R=128;var H=U,ue=Math.ceil,Ke=Math.floor,d=function(j){return isNaN(j=+j)?0:(j>0?Ke:ue)(j)},et=function(j){if(j==null)throw TypeError("Can't call method on  "+j);return j},Xe=function(j){return function(ee,ze){var je=String(et(ee)),qe=d(ze),tt=je.length,dt,Nt;return qe<0||qe>=tt?j?"":void 0:(dt=je.charCodeAt(qe),dt<55296||dt>56319||qe+1===tt||(Nt=je.charCodeAt(qe+1))<56320||Nt>57343?j?je.charAt(qe):dt:j?je.slice(qe,qe+2):(dt-55296<<10)+(Nt-56320)+65536)}},de=Xe(!1);H(H.P,"String",{codePointAt:function(ee){return de(this,ee)}});var xe=V.String.codePointAt,ge=Math.max,we=Math.min,zt=function(j,ee){return j=d(j),j<0?ge(j+ee,0):we(j,ee)},ot=String.fromCharCode,kt=String.fromCodePoint;H(H.S+H.F*(!!kt&&kt.length!=1),"String",{fromCodePoint:function(ee){for(var ze=arguments,je=[],qe=arguments.length,tt=0,dt;qe>tt;){if(dt=+ze[tt++],zt(dt,1114111)!==dt)throw RangeError(dt+" is not a valid code point");je.push(dt<65536?ot(dt):ot(((dt-=65536)>>10)+55296,dt%1024+56320))}return je.join("")}});var Xt=V.String.fromCodePoint,bt=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,wn=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,En=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,Ut={Space_Separator:bt,ID_Start:wn,ID_Continue:En},wt={isSpaceSeparator:function(ee){return typeof ee=="string"&&Ut.Space_Separator.test(ee)},isIdStartChar:function(ee){return typeof ee=="string"&&(ee>="a"&&ee<="z"||ee>="A"&&ee<="Z"||ee==="$"||ee==="_"||Ut.ID_Start.test(ee))},isIdContinueChar:function(ee){return typeof ee=="string"&&(ee>="a"&&ee<="z"||ee>="A"&&ee<="Z"||ee>="0"&&ee<="9"||ee==="$"||ee==="_"||ee==="\u200C"||ee==="\u200D"||Ut.ID_Continue.test(ee))},isDigit:function(ee){return typeof ee=="string"&&/[0-9]/.test(ee)},isHexDigit:function(ee){return typeof ee=="string"&&/[0-9A-Fa-f]/.test(ee)}},os,Lt,ln,Wn,hn,Gt,It,as,Pn,Un=function(ee,ze){os=String(ee),Lt="start",ln=[],Wn=0,hn=1,Gt=0,It=void 0,as=void 0,Pn=void 0;do It=Us(),P[Lt]();while(It.type!=="eof");return typeof ze=="function"?is({"":Pn},"",ze):Pn};function is(j,ee,ze){var je=j[ee];if(je!=null&&typeof je=="object")if(Array.isArray(je))for(var qe=0;qe<je.length;qe++){var tt=String(qe),dt=is(je,tt,ze);dt===void 0?delete je[tt]:Object.defineProperty(je,tt,{value:dt,writable:!0,enumerable:!0,configurable:!0})}else for(var Nt in je){var Ft=is(je,Nt,ze);Ft===void 0?delete je[Nt]:Object.defineProperty(je,Nt,{value:Ft,writable:!0,enumerable:!0,configurable:!0})}return ze.call(j,ee,je)}var at,st,Mn,Zt,ct;function Us(){for(at="default",st="",Mn=!1,Zt=1;;){ct=cn();var j=As[at]();if(j)return j}}function cn(){if(os[Wn])return String.fromCodePoint(os.codePointAt(Wn))}function he(){var j=cn();return j===`
`?(hn++,Gt=0):j?Gt+=j.length:Gt++,j&&(Wn+=j.length),j}var As={default:function(){switch(ct){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":he();return;case"/":he(),at="comment";return;case void 0:return he(),vt("eof")}if(wt.isSpaceSeparator(ct)){he();return}return As[Lt]()},comment:function(){switch(ct){case"*":he(),at="multiLineComment";return;case"/":he(),at="singleLineComment";return}throw Ct(he())},multiLineComment:function(){switch(ct){case"*":he(),at="multiLineCommentAsterisk";return;case void 0:throw Ct(he())}he()},multiLineCommentAsterisk:function(){switch(ct){case"*":he();return;case"/":he(),at="default";return;case void 0:throw Ct(he())}he(),at="multiLineComment"},singleLineComment:function(){switch(ct){case`
`:case"\r":case"\u2028":case"\u2029":he(),at="default";return;case void 0:return he(),vt("eof")}he()},value:function(){switch(ct){case"{":case"[":return vt("punctuator",he());case"n":return he(),yn("ull"),vt("null",null);case"t":return he(),yn("rue"),vt("boolean",!0);case"f":return he(),yn("alse"),vt("boolean",!1);case"-":case"+":he()==="-"&&(Zt=-1),at="sign";return;case".":st=he(),at="decimalPointLeading";return;case"0":st=he(),at="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":st=he(),at="decimalInteger";return;case"I":return he(),yn("nfinity"),vt("numeric",1/0);case"N":return he(),yn("aN"),vt("numeric",NaN);case'"':case"'":Mn=he()==='"',st="",at="string";return}throw Ct(he())},identifierNameStartEscape:function(){if(ct!=="u")throw Ct(he());he();var ee=Sn();switch(ee){case"$":case"_":break;default:if(!wt.isIdStartChar(ee))throw Z();break}st+=ee,at="identifierName"},identifierName:function(){switch(ct){case"$":case"_":case"\u200C":case"\u200D":st+=he();return;case"\\":he(),at="identifierNameEscape";return}if(wt.isIdContinueChar(ct)){st+=he();return}return vt("identifier",st)},identifierNameEscape:function(){if(ct!=="u")throw Ct(he());he();var ee=Sn();switch(ee){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!wt.isIdContinueChar(ee))throw Z();break}st+=ee,at="identifierName"},sign:function(){switch(ct){case".":st=he(),at="decimalPointLeading";return;case"0":st=he(),at="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":st=he(),at="decimalInteger";return;case"I":return he(),yn("nfinity"),vt("numeric",Zt*(1/0));case"N":return he(),yn("aN"),vt("numeric",NaN)}throw Ct(he())},zero:function(){switch(ct){case".":st+=he(),at="decimalPoint";return;case"e":case"E":st+=he(),at="decimalExponent";return;case"x":case"X":st+=he(),at="hexadecimal";return}return vt("numeric",Zt*0)},decimalInteger:function(){switch(ct){case".":st+=he(),at="decimalPoint";return;case"e":case"E":st+=he(),at="decimalExponent";return}if(wt.isDigit(ct)){st+=he();return}return vt("numeric",Zt*Number(st))},decimalPointLeading:function(){if(wt.isDigit(ct)){st+=he(),at="decimalFraction";return}throw Ct(he())},decimalPoint:function(){switch(ct){case"e":case"E":st+=he(),at="decimalExponent";return}if(wt.isDigit(ct)){st+=he(),at="decimalFraction";return}return vt("numeric",Zt*Number(st))},decimalFraction:function(){switch(ct){case"e":case"E":st+=he(),at="decimalExponent";return}if(wt.isDigit(ct)){st+=he();return}return vt("numeric",Zt*Number(st))},decimalExponent:function(){switch(ct){case"+":case"-":st+=he(),at="decimalExponentSign";return}if(wt.isDigit(ct)){st+=he(),at="decimalExponentInteger";return}throw Ct(he())},decimalExponentSign:function(){if(wt.isDigit(ct)){st+=he(),at="decimalExponentInteger";return}throw Ct(he())},decimalExponentInteger:function(){if(wt.isDigit(ct)){st+=he();return}return vt("numeric",Zt*Number(st))},hexadecimal:function(){if(wt.isHexDigit(ct)){st+=he(),at="hexadecimalInteger";return}throw Ct(he())},hexadecimalInteger:function(){if(wt.isHexDigit(ct)){st+=he();return}return vt("numeric",Zt*Number(st))},string:function(){switch(ct){case"\\":he(),st+=Hs();return;case'"':if(Mn)return he(),vt("string",st);st+=he();return;case"'":if(!Mn)return he(),vt("string",st);st+=he();return;case`
`:case"\r":throw Ct(he());case"\u2028":case"\u2029":Hn(ct);break;case void 0:throw Ct(he())}st+=he()},start:function(){switch(ct){case"{":case"[":return vt("punctuator",he())}at="value"},beforePropertyName:function(){switch(ct){case"$":case"_":st=he(),at="identifierName";return;case"\\":he(),at="identifierNameStartEscape";return;case"}":return vt("punctuator",he());case'"':case"'":Mn=he()==='"',at="string";return}if(wt.isIdStartChar(ct)){st+=he(),at="identifierName";return}throw Ct(he())},afterPropertyName:function(){if(ct===":")return vt("punctuator",he());throw Ct(he())},beforePropertyValue:function(){at="value"},afterPropertyValue:function(){switch(ct){case",":case"}":return vt("punctuator",he())}throw Ct(he())},beforeArrayValue:function(){if(ct==="]")return vt("punctuator",he());at="value"},afterArrayValue:function(){switch(ct){case",":case"]":return vt("punctuator",he())}throw Ct(he())},end:function(){throw Ct(he())}};function vt(j,ee){return{type:j,value:ee,line:hn,column:Gt}}function yn(j){for(var ee=0,ze=j;ee<ze.length;ee+=1){var je=ze[ee],qe=cn();if(qe!==je)throw Ct(he());he()}}function Hs(){var j=cn();switch(j){case"b":return he(),"\b";case"f":return he(),"\f";case"n":return he(),`
`;case"r":return he(),"\r";case"t":return he(),"	";case"v":return he(),"\v";case"0":if(he(),wt.isDigit(cn()))throw Ct(he());return"\0";case"x":return he(),zs();case"u":return he(),Sn();case`
`:case"\u2028":case"\u2029":return he(),"";case"\r":return he(),cn()===`
`&&he(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw Ct(he());case void 0:throw Ct(he())}return he()}function zs(){var j="",ee=cn();if(!wt.isHexDigit(ee)||(j+=he(),ee=cn(),!wt.isHexDigit(ee)))throw Ct(he());return j+=he(),String.fromCodePoint(parseInt(j,16))}function Sn(){for(var j="",ee=4;ee-- >0;){var ze=cn();if(!wt.isHexDigit(ze))throw Ct(he());j+=he()}return String.fromCodePoint(parseInt(j,16))}var P={start:function(){if(It.type==="eof")throw un();Ge()},beforePropertyName:function(){switch(It.type){case"identifier":case"string":as=It.value,Lt="afterPropertyName";return;case"punctuator":R();return;case"eof":throw un()}},afterPropertyName:function(){if(It.type==="eof")throw un();Lt="beforePropertyValue"},beforePropertyValue:function(){if(It.type==="eof")throw un();Ge()},beforeArrayValue:function(){if(It.type==="eof")throw un();if(It.type==="punctuator"&&It.value==="]"){R();return}Ge()},afterPropertyValue:function(){if(It.type==="eof")throw un();switch(It.value){case",":Lt="beforePropertyName";return;case"}":R()}},afterArrayValue:function(){if(It.type==="eof")throw un();switch(It.value){case",":Lt="beforeArrayValue";return;case"]":R()}},end:function(){}};function Ge(){var j;switch(It.type){case"punctuator":switch(It.value){case"{":j={};break;case"[":j=[];break}break;case"null":case"boolean":case"numeric":case"string":j=It.value;break}if(Pn===void 0)Pn=j;else{var ee=ln[ln.length-1];Array.isArray(ee)?ee.push(j):Object.defineProperty(ee,as,{value:j,writable:!0,enumerable:!0,configurable:!0})}if(j!==null&&typeof j=="object")ln.push(j),Array.isArray(j)?Lt="beforeArrayValue":Lt="beforePropertyName";else{var ze=ln[ln.length-1];ze==null?Lt="end":Array.isArray(ze)?Lt="afterArrayValue":Lt="afterPropertyValue"}}function R(){ln.pop();var j=ln[ln.length-1];j==null?Lt="end":Array.isArray(j)?Lt="afterArrayValue":Lt="afterPropertyValue"}function Ct(j){return Dn(j===void 0?"JSON5: invalid end of input at "+hn+":"+Gt:"JSON5: invalid character '"+Js(j)+"' at "+hn+":"+Gt)}function un(){return Dn("JSON5: invalid end of input at "+hn+":"+Gt)}function Z(){return Gt-=5,Dn("JSON5: invalid identifier character at "+hn+":"+Gt)}function Hn(j){console.warn("JSON5: '"+Js(j)+"' in strings is not valid ECMAScript; consider escaping")}function Js(j){var ee={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(ee[j])return ee[j];if(j<" "){var ze=j.charCodeAt(0).toString(16);return"\\x"+("00"+ze).substring(ze.length)}return j}function Dn(j){var ee=new SyntaxError(j);return ee.lineNumber=hn,ee.columnNumber=Gt,ee}var en=function(ee,ze,je){var qe=[],tt="",dt,Nt,Ft="",Cn;if(ze!=null&&typeof ze=="object"&&!Array.isArray(ze)&&(je=ze.space,Cn=ze.quote,ze=ze.replacer),typeof ze=="function")Nt=ze;else if(Array.isArray(ze)){dt=[];for(var bn=0,Bt=ze;bn<Bt.length;bn+=1){var tn=Bt[bn],$t=void 0;typeof tn=="string"?$t=tn:(typeof tn=="number"||tn instanceof String||tn instanceof Number)&&($t=String(tn)),$t!==void 0&&dt.indexOf($t)<0&&dt.push($t)}}return je instanceof Number?je=Number(je):je instanceof String&&(je=String(je)),typeof je=="number"?je>0&&(je=Math.min(10,Math.floor(je)),Ft="          ".substr(0,je)):typeof je=="string"&&(Ft=je.substr(0,10)),nn("",{"":ee});function nn(ut,Ot){var Ze=Ot[ut];switch(Ze!=null&&(typeof Ze.toJSON5=="function"?Ze=Ze.toJSON5(ut):typeof Ze.toJSON=="function"&&(Ze=Ze.toJSON(ut))),Nt&&(Ze=Nt.call(Ot,ut,Ze)),Ze instanceof Number?Ze=Number(Ze):Ze instanceof String?Ze=String(Ze):Ze instanceof Boolean&&(Ze=Ze.valueOf()),Ze){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof Ze=="string")return Jn(Ze,!1);if(typeof Ze=="number")return String(Ze);if(typeof Ze=="object")return Array.isArray(Ze)?Es(Ze):ws(Ze)}function Jn(ut){for(var Ot={"'":.1,'"':.2},Ze={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},Mt="",Jt=0;Jt<ut.length;Jt++){var _t=ut[Jt];switch(_t){case"'":case'"':Ot[_t]++,Mt+=_t;continue;case"\0":if(wt.isDigit(ut[Jt+1])){Mt+="\\x00";continue}}if(Ze[_t]){Mt+=Ze[_t];continue}if(_t<" "){var sn=_t.charCodeAt(0).toString(16);Mt+="\\x"+("00"+sn).substring(sn.length);continue}Mt+=_t}var rn=Cn||Object.keys(Ot).reduce(function(dn,vn){return Ot[dn]<Ot[vn]?dn:vn});return Mt=Mt.replace(new RegExp(rn,"g"),Ze[rn]),rn+Mt+rn}function ws(ut){if(qe.indexOf(ut)>=0)throw TypeError("Converting circular structure to JSON5");qe.push(ut);var Ot=tt;tt=tt+Ft;for(var Ze=dt||Object.keys(ut),Mt=[],Jt=0,_t=Ze;Jt<_t.length;Jt+=1){var sn=_t[Jt],rn=nn(sn,ut);if(rn!==void 0){var dn=On(sn)+":";Ft!==""&&(dn+=" "),dn+=rn,Mt.push(dn)}}var vn;if(Mt.length===0)vn="{}";else{var Yn;if(Ft==="")Yn=Mt.join(","),vn="{"+Yn+"}";else{var An=`,
`+tt;Yn=Mt.join(An),vn=`{
`+tt+Yn+`,
`+Ot+"}"}}return qe.pop(),tt=Ot,vn}function On(ut){if(ut.length===0)return Jn(ut,!0);var Ot=String.fromCodePoint(ut.codePointAt(0));if(!wt.isIdStartChar(Ot))return Jn(ut,!0);for(var Ze=Ot.length;Ze<ut.length;Ze++)if(!wt.isIdContinueChar(String.fromCodePoint(ut.codePointAt(Ze))))return Jn(ut,!0);return ut}function Es(ut){if(qe.indexOf(ut)>=0)throw TypeError("Converting circular structure to JSON5");qe.push(ut);var Ot=tt;tt=tt+Ft;for(var Ze=[],Mt=0;Mt<ut.length;Mt++){var Jt=nn(String(Mt),ut);Ze.push(Jt!==void 0?Jt:"null")}var _t;if(Ze.length===0)_t="[]";else if(Ft===""){var sn=Ze.join(",");_t="["+sn+"]"}else{var rn=`,
`+tt,dn=Ze.join(rn);_t=`[
`+tt+dn+`,
`+Ot+"]"}return qe.pop(),tt=Ot,_t}},xs={parse:Un,stringify:en},zn=xs,Nn=zn;return Nn})},55946:te=>{"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ye=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;function l(A){if(A==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(A)}function b(){try{if(!Object.assign)return!1;var A=new String("abc");if(A[5]="de",Object.getOwnPropertyNames(A)[0]==="5")return!1;for(var k={},F=0;F<10;F++)k["_"+String.fromCharCode(F)]=F;var I=Object.getOwnPropertyNames(k).map(function(D){return k[D]});if(I.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(D){u[D]=D}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch(D){return!1}}te.exports=b()?Object.assign:function(A,k){for(var F,I=l(A),u,D=1;D<arguments.length;D++){F=Object(arguments[D]);for(var h in F)$.call(F,h)&&(I[h]=F[h]);if(ye){u=ye(F);for(var J=0;J<u.length;J++)V.call(F,u[J])&&(I[u[J]]=F[u[J]])}}return I}}}]);

//# sourceMappingURL=vendors-node_modules_iobroker_json-config_build_index_js-node_modules_iobroker_json-config_no-675983.e424ab1b.chunk.js.map