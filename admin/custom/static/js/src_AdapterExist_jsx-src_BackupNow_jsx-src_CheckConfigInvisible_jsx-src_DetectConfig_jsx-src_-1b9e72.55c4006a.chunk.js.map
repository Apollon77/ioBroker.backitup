{"version":3,"file":"static/js/src_AdapterExist_jsx-src_BackupNow_jsx-src_CheckConfigInvisible_jsx-src_DetectConfig_jsx-src_-1b9e72.55c4006a.chunk.js","mappings":"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","sources":["AdapterExist.jsx","BackupNow.jsx","BaseField.jsx","CheckConfigInvisible.jsx","DetectConfig.jsx","Dropbox.jsx","GoogleDrive.jsx","Instance.jsx","Onedrive.jsx","Components/GetBackups.jsx","Components/SourceSelector.jsx","Components/Restore.jsx","RestoreBackup.jsx"],"sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { I18n } from '@iobroker/adapter-react-v5';\r\nimport { Checkbox, FormControlLabel } from '@mui/material';\r\nimport BaseField from './BaseField';\r\n\r\nclass AdapterExist extends BaseField {\r\n    renderItem() {\r\n        return <>\r\n            <FormControlLabel\r\n                control={<Checkbox\r\n                    checked={((this.props.schema.adapter === 'hm-rpc' || this.props.schema.adapter === 'javascript' || this.props.schema.adapter === 'backitup') && this.props.data.hostType === 'Slave') ? false : this.props.data[this.props.attr] ? this.props.data[this.props.attr] : false}\r\n                    disabled={\r\n                        ((this.props.schema.adapter === 'influxdb' || this.props.schema.adapter === 'sql') && !this.props.data._isDockerDB) ||\r\n                        ((this.props.schema.adapter === 'hm-rpc' || this.props.schema.adapter === 'javascript' || this.props.schema.adapter === 'backitup') && this.props.data.hostType === 'Slave')\r\n                    }\r\n                    onChange={async e => {\r\n                        if (e.target.checked) {\r\n                            if (this.props.schema.adapter) {\r\n                                this.checkAdapterInstall(this.props.schema.adapter, this.props.schema.allHosts)\r\n                                    .catch(err => console.error(err));\r\n                            } else if (this.props.schema.alert) {\r\n                                const text = I18n.t(this.props.schema.alert);\r\n                                const lines = text.split('\\n').map(line => <div key={line} style={{ minHeight: 24 }}>{line}</div>);\r\n                                this.setState({ message: { text: lines, title: I18n.t(this.props.schema.title) } });\r\n                            }\r\n                        }\r\n                        this.props.onChange({ ...this.props.data, [this.props.attr]: e.target.checked });\r\n                    }}\r\n                />}\r\n                label={I18n.t(this.props.schema.label || this.props.schema.adapter)}\r\n            />\r\n            {this.renderMessage()}\r\n        </>;\r\n    }\r\n}\r\n\r\nAdapterExist.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    themeName: PropTypes.string,\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    data: PropTypes.object.isRequired,\r\n    attr: PropTypes.string,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n};\r\n\r\nexport default AdapterExist;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@mui/styles';\r\n\r\nimport { ConfigGeneric, I18n } from '@iobroker/adapter-react-v5';\r\nimport {\r\n    Button, Checkbox, Dialog, DialogActions, DialogContent, DialogTitle, FormControlLabel, LinearProgress,\r\n} from '@mui/material';\r\nimport { CloudUpload } from '@mui/icons-material';\r\n\r\nconst styles = {\r\n    paper: {\r\n        height: 'calc(100% - 64px)',\r\n    },\r\n    fullHeight: {\r\n        height: '100%',\r\n        '& .MuiInputBase-root': {\r\n            height: '100%',\r\n        },\r\n    },\r\n    textTime: {\r\n        display: 'inline-block',\r\n        width: 95,\r\n    },\r\n    textLevel: {\r\n        display: 'inline-block',\r\n        width: 50,\r\n    },\r\n    'textLevel-ERROR': {\r\n        color: 'red',\r\n    },\r\n    'textLevel-WARN': {\r\n        color: 'orange',\r\n    },\r\n    textSource: {\r\n        display: 'inline-block',\r\n        width: 100,\r\n        textAlign: 'left',\r\n    },\r\n    text: {\r\n        display: 'inline-block',\r\n    },\r\n    textLine: {\r\n        whiteSpace: 'nowrap',\r\n    },\r\n};\r\n\r\nclass BackupNow extends ConfigGeneric {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ...this.state,\r\n            executing: false,\r\n            executionDialog: false,\r\n            executionLog: [],\r\n            closeOnReady: false,\r\n        };\r\n        this.lastExecutionLine = '';\r\n        this.textRef = React.createRef();\r\n    }\r\n\r\n    static getTime() {\r\n        const date = new Date();\r\n        return `${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}:${date.getSeconds().toString().padStart(2, '0')}.${date.getMilliseconds().toString().padStart(3, '0')}`;\r\n    }\r\n\r\n    onOutput = (id, state)  => {\r\n        if (state && state.val && state.val !== this.lastExecutionLine) {\r\n            this.lastExecutionLine = state.val;\r\n            const executionLog = [...this.state.executionLog];\r\n            const lines = (state.val || '').toString().replace(/\\n$/, '').split('\\n');\r\n            const now = BackupNow.getTime();\r\n            lines.forEach(line => {\r\n                line = line.trim();\r\n                if (!line) {\r\n                    // return;\r\n                }\r\n                const parts = line.match(/^\\[(\\w+)] \\[(\\w+)] - (.*)/);\r\n                if (parts) {\r\n                    executionLog.push({\r\n                        level: parts[1],\r\n                        source: parts[2],\r\n                        ts: now,\r\n                        text: parts[3],\r\n                    });\r\n                } else {\r\n                    executionLog.push({ text: line });\r\n                }\r\n            });\r\n\r\n            // scroll down\r\n            if (this.textRef.current && this.textRef.current.scrollTop + this.textRef.current.clientHeight >= this.textRef.current.scrollHeight) {\r\n                setTimeout(() => this.textRef.current.scrollTop = this.textRef.current.scrollHeight, 100);\r\n            }\r\n\r\n            this.setState({ executionLog });\r\n\r\n            if (state.val.startsWith('[EXIT]')) {\r\n                this.setState({ executing: false });\r\n                const code = state.val.match(/^\\[EXIT] ([-\\d]+)/);\r\n                if (this.state.closeOnReady && (!code || code[1] === '0')) {\r\n                    this.closeTimeout = this.closeTimeout || setTimeout(() => {\r\n                        this.closeTimeout = null;\r\n                        this.setState({ executionDialog: false });\r\n                    }, 1500);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    async componentDidMount() {\r\n        super.componentDidMount();\r\n        await this.props.socket.subscribeState(`${this.props.adapterName}.${this.props.instance}.oneClick.${this.props.schema.backUpType}`, this.onEnabled);\r\n        await this.props.socket.subscribeState(`${this.props.adapterName}.${this.props.instance}.output.line`, this.onOutput);\r\n    }\r\n\r\n    onEnabled = (id, state) => {\r\n        if (id === `${this.props.adapterName}.${this.props.instance}.oneClick.${this.props.schema.backUpType}`) {\r\n            if (!!state?.val !== this.state.executing) {\r\n                this.setState({ executing: !!state?.val });\r\n            }\r\n        }\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        super.componentWillUnmount();\r\n        this.props.socket.unsubscribeState(`${this.props.adapterName}.${this.props.instance}.oneClick.${this.props.schema.backUpType}`, this.onEnabled);\r\n        this.props.socket.unsubscribeState(`${this.props.adapterName}.${this.props.instance}.output.line`, this.onOutput);\r\n        this.closeTimeout && clearTimeout(this.closeTimeout);\r\n        this.closeTimeout = null;\r\n    }\r\n\r\n    renderLine(line, i) {\r\n        return <div key={i} className={this.props.classes.textLine}>\r\n            <div className={this.props.classes.textTime}>{line.ts}</div>\r\n            <div className={`${this.props.classes.textLevel} ${line.level ? (this.props.classes[`textLevel-${line.level}`] || '') : ''}`}>{line.level}</div>\r\n            <div className={this.props.classes.textSource}>{line.source}</div>\r\n            <div className={this.props.classes.text}>{line.text}</div>\r\n        </div>;\r\n    }\r\n\r\n    renderExecutionDialog() {\r\n        return this.state.executionDialog ? <Dialog\r\n            open={!0}\r\n            onClose={() => this.setState({ executionDialog: false })}\r\n            maxWidth=\"lg\"\r\n            fullWidth\r\n            classes={{ paper: this.props.classes.paper }}\r\n        >\r\n            <DialogTitle>\r\n                {I18n.t('BackItUp execution:')}\r\n            </DialogTitle>\r\n            <DialogContent style={{ position: 'relative' }}>\r\n                {this.state.executing ?\r\n                    <LinearProgress\r\n                        style={{\r\n                            position: 'absolute',\r\n                            top: 0,\r\n                            left: 24,\r\n                            width: 'calc(100% - 64px)',\r\n                        }}\r\n                    /> : <div style={{ height: 4, width: 'calc(100% - 64px)' }} />}\r\n                <div\r\n                    style={{\r\n                        height: 'calc(100% - 16px - 4px)',\r\n                        width: 'calc(100% - 16px)',\r\n                        fontSize: 12,\r\n                        fontFamily: 'monospace',\r\n                        marginTop: 4,\r\n                        padding: 8,\r\n                        border: '1px solid grey',\r\n                        borderRadius: 5,\r\n                        overflow: 'auto',\r\n                        backgroundColor: this.props.themeType === 'dark' ? '#111' : '#EEE',\r\n                        boxSizing: 'border-box',\r\n                    }}\r\n                    ref={this.textRef}\r\n                >\r\n                    {this.state.executionLog.map((line, i) => this.renderLine(line, i))}\r\n                </div>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <FormControlLabel\r\n                    control={\r\n                        <Checkbox\r\n                            disabled={!this.state.executing}\r\n                            checked={this.state.closeOnReady}\r\n                            onChange={e => this.setState({ closeOnReady: e.target.checked })}\r\n                        />\r\n                    }\r\n                    label={I18n.t('Close on ready')}\r\n                />\r\n                <Button\r\n                    variant=\"contained\"\r\n                    onClick={() => this.setState({ executionDialog: false })}\r\n                >\r\n                    {I18n.t('Close')}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog> : null;\r\n    }\r\n\r\n    renderItem() {\r\n        return <>\r\n            <Button\r\n                disabled={!this.props.alive || this.state.executing}\r\n                onClick={() => this.setState({\r\n                    executionDialog: true,\r\n                    executionLog: [{\r\n                        ts: BackupNow.getTime(),\r\n                        level: 'INFO',\r\n                        text: 'starting Backup...',\r\n                        source: 'gui',\r\n                    }],\r\n                    executing: true,\r\n                }, async () => {\r\n                    this.lastExecutionLine = '';\r\n                    await this.props.socket.setState(`${this.props.adapterName}.${this.props.instance}.oneClick.${this.props.schema.backUpType}`, true);\r\n                })}\r\n                className={this.props.className}\r\n                color={this.props.color}\r\n                variant=\"contained\"\r\n                style={this.props.style}\r\n                endIcon={<CloudUpload />}\r\n            >\r\n                {this.props.schema.label ? I18n.t(this.props.schema.label) : I18n.t('Backup now')}\r\n            </Button>\r\n            {this.renderExecutionDialog()}\r\n        </>;\r\n    }\r\n}\r\n\r\nBackupNow.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    style: PropTypes.object,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n};\r\n\r\nexport default withStyles(styles)(BackupNow);\r\n","import { ConfigGeneric, I18n, Message } from '@iobroker/adapter-react-v5';\r\nimport { Info, Warning } from '@mui/icons-material';\r\nimport { Alert } from '@mui/material';\r\n\r\nclass BaseField extends ConfigGeneric {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state.message = false;\r\n    }\r\n\r\n    isConfigFilled(type) {\r\n        if (type === 'ccu') {\r\n            return !!this.props.data.ccuHost && !!this.props.data.ccuEnabled;\r\n        }\r\n        if (type === 'mySql') {\r\n            return !!this.props.data.mySqlUser && !!this.props.data.mySqlEnabled;\r\n        }\r\n        if (type === 'sqlite') {\r\n            return !!this.props.data.sqlitePath && !!this.props.data.sqliteEnabled;\r\n        }\r\n        if (type === 'pgSql') {\r\n            return !!this.props.data.pgSqlUser && !!this.props.data.pgSqlEnabled;\r\n        }\r\n        if (type === 'influxDB') {\r\n            return !!this.props.data.influxDBName && !!this.props.data.influxDBEnabled;\r\n        }\r\n        if (type === 'history') {\r\n            return !!this.props.data.historyPath && !!this.props.data.historyEnabled;\r\n        }\r\n        this.showMessage(I18n.t('BackItUp Warning!'), I18n.t('Unknown config type %s', type));\r\n        return false;\r\n    }\r\n\r\n    fetchConfig = async (type, data) => {\r\n        if (type === 'ccu') {\r\n            return this.fetchCcuConfig(data);\r\n        }\r\n        if (type === 'mySql') {\r\n            return this.fetchMySqlConfig(data);\r\n        }\r\n        if (type === 'sqlite') {\r\n            return this.fetchSqliteConfig(data);\r\n        }\r\n        if (type === 'pgSql') {\r\n            return this.fetchPgSqlConfig(data);\r\n        }\r\n        if (type === 'influxDB') {\r\n            return this.fetchInfluxDBConfig(data);\r\n        }\r\n        if (type === 'history') {\r\n            return this.fetchHistoryConfig(data);\r\n        }\r\n\r\n        this.showMessage(I18n.t('BackItUp Warning!'), I18n.t('Unknown config type %s', type));\r\n        return { changed: false, found: false };\r\n    };\r\n\r\n    async fetchCcuConfig(data) {\r\n        const result = Object.values(await this.props.socket.getObjectViewCustom('system', 'instance', 'system.adapter.hm-rpc.', 'system.adapter.hm-rpc.\\u9999'));\r\n\r\n        let found = false;\r\n        let changed = false;\r\n        if (result && result.length) {\r\n            for (let i = 0; i < result.length; i++) {\r\n                const common = result[i].common;\r\n                const native = result[i].native;\r\n                if (common.enabled && native) {\r\n                    if (data.ccuHost !== native.homematicAddress || data.ccuUsehttps !== native.useHttps) {\r\n                        data.ccuHost = native.homematicAddress;\r\n                        data.ccuUsehttps = native.useHttps;\r\n                        changed = true;\r\n                    }\r\n                    found = result[i]._id;\r\n                    break;\r\n                }\r\n            }\r\n            if (!found) {\r\n                for (let i = 0; i < result.length; i++) {\r\n                    const native = result[i].native;\r\n                    if (native && (data.ccuHost !== native.homematicAddress || data.ccuUsehttps !== native.useHttps)) {\r\n                        data.ccuHost = native.homematicAddress;\r\n                        data.ccuUsehttps = native.useHttps;\r\n                        changed = true;\r\n                    }\r\n                    found = result[i]._id;\r\n                }\r\n            }\r\n        }\r\n\r\n        return { changed, found };\r\n    }\r\n\r\n    async fetchMySqlConfig(data) {\r\n        const result = Object.values(await this.props.socket.getObjectViewCustom('system', 'instance', 'system.adapter.sql.', 'system.adapter.sql.\\u9999'));\r\n\r\n        let found = false;\r\n        let changed = false;\r\n        if (result && result.length) {\r\n            for (let i = 0; i < result.length; i++) {\r\n                const common = result[i].common;\r\n                const native = result[i].native;\r\n                if (common.enabled && native?.dbtype === 'mysql') {\r\n                    const port = native.port === '0' ? 3306 : (native.port || 3306);\r\n                    if (data.mySqlUser !== native.user ||\r\n                        data.mySqlPassword !== native.password ||\r\n                        data.mySqlHost !== native.host ||\r\n                        data.mySqlPort !== port ||\r\n                        data.mySqlName !== native.dbname\r\n                    ) {\r\n                        data.mySqlUser = native.user;\r\n                        data.mySqlPassword = native.password;\r\n                        data.mySqlHost = native.host;\r\n                        data.mySqlPort = port;\r\n                        data.mySqlName = native.dbname;\r\n                        changed = true;\r\n                    }\r\n                    found = result[i]._id;\r\n                    break;\r\n                }\r\n            }\r\n            if (!found) {\r\n                for (let i = 0; i < result.length; i++) {\r\n                    const native = result[i].native;\r\n                    if (native?.dbtype === 'mysql') {\r\n                        const port = native.port === '0' ? 3306 : (native.port || 3306);\r\n                        if (data.mySqlUser !== native.user ||\r\n                            data.mySqlPassword !== native.password ||\r\n                            data.mySqlHost !== native.host ||\r\n                            data.mySqlPort !== port ||\r\n                            data.mySqlName !== native.dbname\r\n                        ) {\r\n                            data.mySqlUser = native.user;\r\n                            data.mySqlPassword = native.password;\r\n                            data.mySqlHost = native.host;\r\n                            data.mySqlPort = port;\r\n                            data.mySqlName = native.dbname;\r\n                            changed = true;\r\n                        }\r\n                        found = result[i]._id;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return { changed, found };\r\n    }\r\n\r\n    async fetchSqliteConfig(data) {\r\n        const result = Object.values(await this.props.socket.getObjectViewCustom('system', 'instance', 'system.adapter.sql.', 'system.adapter.sql.\\u9999'));\r\n        let found = false;\r\n        let changed = false;\r\n        if (result && result.length) {\r\n            for (let i = 0; i < result.length; i++) {\r\n                const common = result[i].common;\r\n                const native = result[i].native;\r\n                if (common.enabled && native && native.dbtype === 'sqlite' && native.fileName) {\r\n                    const pathLength = native.fileName.split('/');\r\n                    const sqlitePath = pathLength > 1 ? native.fileName : `/opt/iobroker/iobroker-data/sqlite/${native.fileName}`;\r\n                    if (data.sqlitePath !== sqlitePath) {\r\n                        data.sqlitePath = sqlitePath;\r\n                        changed = true;\r\n                    }\r\n                    found = result[i]._id;\r\n                    break;\r\n                }\r\n            }\r\n            if (!found) {\r\n                for (let i = 0; i < result.length; i++) {\r\n                    const native = result[i].native;\r\n                    if (native?.dbtype === 'sqlite' && native.fileName) {\r\n                        const pathLength = native.fileName.split('/');\r\n                        const sqlitePath = pathLength > 1 ? native.fileName : `/opt/iobroker/iobroker-data/sqlite/${native.fileName}`;\r\n                        if (data.sqlitePath !== sqlitePath) {\r\n                            data.sqlitePath = sqlitePath;\r\n                            changed = true;\r\n                        }\r\n                        found = result[i]._id;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return { changed, found };\r\n    }\r\n\r\n    async fetchPgSqlConfig(data) {\r\n        const result = Object.values(await this.props.socket.getObjectViewCustom('system', 'instance', 'system.adapter.sql.', 'system.adapter.sql.\\u9999'));\r\n\r\n        let found = false;\r\n        let changed = false;\r\n        if (result && result.length) {\r\n            for (let i = 0; i < result.length; i++) {\r\n                const common = result[i].common;\r\n                const native = result[i].native;\r\n                if (common.enabled && native?.dbtype === 'postgresql') {\r\n                    const port = native.port === '0' ? 5432 : native.port || 5432;\r\n                    if (data.pgSqlUser !== native.user ||\r\n                        data.pgSqlPassword !== native.password ||\r\n                        data.pgSqlHost !== native.host ||\r\n                        data.pgSqlPort !== port ||\r\n                        data.pgSqlName !== native.dbname\r\n                    ) {\r\n                        data.pgSqlUser = native.user;\r\n                        data.pgSqlPassword = native.password;\r\n                        data.pgSqlHost = native.host;\r\n                        data.pgSqlPort = port;\r\n                        data.pgSqlName = native.dbname;\r\n                        changed = true;\r\n                    }\r\n                    found = result[i]._id;\r\n                    break;\r\n                }\r\n            }\r\n            if (!found) {\r\n                for (let i = 0; i < result.length; i++) {\r\n                    const native = result[i].native;\r\n                    if (native?.dbtype === 'postgresql') {\r\n                        const port = native.port === '0' ? 5432 : native.port || 5432;\r\n                        if (data.pgSqlUser !== native.user ||\r\n                            data.pgSqlPassword !== native.password ||\r\n                            data.pgSqlHost !== native.host ||\r\n                            data.pgSqlPort !== port ||\r\n                            data.pgSqlName !== native.dbname\r\n                        ) {\r\n                            data.pgSqlUser = native.user;\r\n                            data.pgSqlPassword = native.password;\r\n                            data.pgSqlHost = native.host;\r\n                            data.pgSqlPort = port;\r\n                            data.pgSqlName = native.dbname;\r\n                            changed = true;\r\n                        }\r\n                        found = result[i]._id;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return { changed, found };\r\n    }\r\n\r\n    async fetchInfluxDBConfig(data) {\r\n        const result = Object.values(await this.props.socket.getObjectViewCustom('system', 'instance', 'system.adapter.influxdb.', 'system.adapter.influxdb.\\u9999'));\r\n        let found = false;\r\n        let changed = false;\r\n        if (result && result.length) {\r\n            for (let i = 0; i < result.length; i++) {\r\n                const common = result[i].common;\r\n                const native = result[i].native;\r\n                if (common.enabled) {\r\n                    if (data.influxDBHost !== native.host ||\r\n                        data.influxDBVersion !== native.dbversion ||\r\n                        data.influxDBProtocol !== native.protocol ||\r\n                        data.influxDBName !== native.dbname ||\r\n                        (native.dbversion === '2.x' && data.influxDBPort !== native.port)\r\n                    ) {\r\n                        data.influxDBHost = native.host;\r\n                        data.influxDBVersion = native.dbversion;\r\n                        data.influxDBProtocol = native.protocol;\r\n                        data.influxDBName = native.dbname;\r\n                        if (native.port && native.dbversion === '2.x') {\r\n                            data.influxDBPort = native.port;\r\n                        }\r\n                        changed = true;\r\n                    }\r\n\r\n                    found = result[i]._id;\r\n                    break;\r\n                }\r\n            }\r\n            if (!found && result.length && result[0].native) {\r\n                const native = result[0].native;\r\n                if (native && (data.influxDBHost !== native.host ||\r\n                    data.influxDBVersion !== native.dbversion ||\r\n                    data.influxDBProtocol !== native.protocol ||\r\n                    data.influxDBName !== native.dbname ||\r\n                    (native.dbversion === '2.x' && data.influxDBPort !== native.port))\r\n                ) {\r\n                    data.influxDBHost = native.host;\r\n                    data.influxDBVersion = native.dbversion;\r\n                    data.influxDBProtocol = native.protocol;\r\n                    data.influxDBName = native.dbname;\r\n                    if (native.port && native.dbversion === '2.x') {\r\n                        data.influxDBPort = native.port;\r\n                    }\r\n                    changed = true;\r\n                }\r\n\r\n                found = result[0]._id;\r\n            }\r\n        }\r\n\r\n        return { changed, found };\r\n    }\r\n\r\n    async fetchHistoryConfig(data) {\r\n        const result = Object.values(await this.props.socket.getObjectViewCustom('system', 'instance', 'system.adapter.history.', 'system.adapter.history.\\u9999'));\r\n\r\n        let storeDir = '';\r\n        let found = false;\r\n        let changed = false;\r\n        if (result && result.length) {\r\n            for (let i = 0; i < result.length; i++) {\r\n                const common = result[i].common;\r\n                const native = result[i].native;\r\n                if (common.enabled && native) {\r\n                    const historyPath = native.storeDir && !native.storeDir.startsWith('/opt/iobroker/backups') ? native.storeDir : '/opt/iobroker/iobroker-data/history';\r\n                    if (data.historyPath !== historyPath) {\r\n                        data.historyPath = historyPath;\r\n                        changed = true;\r\n                    }\r\n                    storeDir = native.storeDir;\r\n                    found = result[i]._id;\r\n                    break;\r\n                }\r\n            }\r\n            if (!found && result[0]) {\r\n                const native = result[0].native;\r\n                if (native) {\r\n                    const historyPath = native.storeDir && !native.storeDir.startsWith('/opt/iobroker/backups') ? native.storeDir : '/opt/iobroker/iobroker-data/history';\r\n                    if (data.historyPath !== historyPath) {\r\n                        data.historyPath = historyPath;\r\n                        changed = true;\r\n                    }\r\n                    storeDir = native.storeDir;\r\n                    found = result[0]._id;\r\n                }\r\n            }\r\n        }\r\n\r\n        let message;\r\n        if (found) {\r\n            if (!storeDir) {\r\n                message = I18n.t('No storage path of %s is configured.\\nThe default path of the history adapter has been set.', found.substring('system.adapter.'.length));\r\n            } else if (storeDir?.startsWith('/opt/iobroker/backups')) {\r\n                message = I18n.t('The storage path of %s must not be identical to the path for backups.\\nThe default path of the history adapter has been set.\\n\\nPlease change the path in the history adapter!', found.substring('system.adapter.'.length));\r\n            }\r\n        }\r\n\r\n        return { changed, found, message };\r\n    }\r\n\r\n    checkAdapterInstall = async (name, ignoreHosts) => {\r\n        const backItUpHost = this.props.common.host;\r\n        const ignore = false;\r\n        let adapterName = name;\r\n\r\n        if (name === 'pgsql' || name === 'mysql' || name === 'sqlite') {\r\n            adapterName = 'sql';\r\n        }\r\n\r\n        const SHOW_MESSAGE_FOR = [\r\n            'zigbee',\r\n            'esphome',\r\n            'zigbee2mqtt',\r\n            'node-red',\r\n            'yahka',\r\n            'jarvis',\r\n            'history',\r\n        ];\r\n\r\n        if (!ignore) {\r\n            const res = Object.values(await this.props.socket.getObjectViewCustom('system', 'instance', `system.adapter.${adapterName}.`, `system.adapter.${adapterName}.\\u9999`));\r\n            if (res?.length) {\r\n                let found = false;\r\n                for (let i = 0; i < res.length; i++) {\r\n                    const common = res[i].common;\r\n\r\n                    if (common.host === backItUpHost || ignoreHosts) {\r\n                        found = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!found && SHOW_MESSAGE_FOR.includes(adapterName)) {\r\n                    this.showMessage(\r\n                        I18n.t('BackItUp Warning!'),\r\n                        I18n.t('No \"%s\" Instance found on this host. Please check your system', adapterName),\r\n                    );\r\n                }\r\n            } else if (SHOW_MESSAGE_FOR.includes(adapterName)) {\r\n                this.showMessage(\r\n                    I18n.t('BackItUp Warning!'),\r\n                    I18n.t('No \"%s\" Instance found. Please check your system', adapterName),\r\n                );\r\n            }\r\n        }\r\n    };\r\n\r\n    showMessage = (title, text, level) => {\r\n        this.setState({ message: { title, text, level: level || 'info' } });\r\n    };\r\n\r\n    renderMessage() {\r\n        return this.state.message ? <Message\r\n            title={this.state.message.title}\r\n            text={this.state.message.text}\r\n            icon={this.state.message.level === 'info' ? <Info /> :\r\n                (this.state.message.level === 'warning' ? <Warning style={{ color: 'orange' }} /> :\r\n                    (this.state.message.level === 'error' ? <Alert style={{ color: 'red' }} /> : null))}\r\n            onClose={() => this.setState({ message: false })}\r\n        /> : null;\r\n    }\r\n}\r\n\r\nexport default BaseField;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport BaseField from './BaseField';\r\n\r\nclass CheckConfigInvisible extends BaseField {\r\n    async componentDidMount() {\r\n        super.componentDidMount();\r\n        if (!this.isConfigFilled(this.props.schema.adapter)) {\r\n            const data = { ...this.props.data };\r\n            const result = await this.fetchConfig(this.props.schema.adapter, data);\r\n            if (result.changed) {\r\n                this.props.onChange(data);\r\n            }\r\n        }\r\n    }\r\n\r\n    renderItem() {\r\n        return this.renderMessage();\r\n    }\r\n}\r\n\r\nCheckConfigInvisible.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    themeName: PropTypes.string,\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    data: PropTypes.object.isRequired,\r\n    attr: PropTypes.string,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n};\r\n\r\nexport default CheckConfigInvisible;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Button } from '@mui/material';\r\n\r\nimport { Search } from '@mui/icons-material';\r\n\r\nimport { I18n } from '@iobroker/adapter-react-v5';\r\n\r\nimport BaseField from './BaseField';\r\n\r\nclass DetectConfig extends BaseField {\r\n    renderItem() {\r\n        return <>\r\n            <Button\r\n                variant=\"contained\"\r\n                endIcon={<Search />}\r\n                onClick={async () => {\r\n                    const data = { ...this.props.data };\r\n                    const result = await this.fetchConfig(this.props.schema.adapter, data);\r\n                    if (result.found) {\r\n                        if (result.changed) {\r\n                            this.showMessage(I18n.t('BackItUp Information!'), result.message || I18n.t('Config taken from %s', result.found.substring('system.adapter.'.length)));\r\n                            this.props.onChange(data);\r\n                        } else {\r\n                            this.showMessage(I18n.t('BackItUp Information!'), result.message || I18n.t('Config found in %s, but nothing changed', result.found.substring('system.adapter.'.length)));\r\n                        }\r\n                    } else {\r\n                        this.showMessage(I18n.t('BackItUp Warning!'), I18n.t('No config found'), 'warning');\r\n                    }\r\n                }}\r\n            >\r\n                {I18n.t('Detect config')}\r\n            </Button>\r\n            {this.renderMessage()}\r\n        </>;\r\n    }\r\n}\r\n\r\nDetectConfig.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    themeName: PropTypes.string,\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    data: PropTypes.object.isRequired,\r\n    attr: PropTypes.string,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n};\r\n\r\nexport default DetectConfig;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Button, TextField } from '@mui/material';\r\nimport { CloudUpload } from '@mui/icons-material';\r\n\r\nimport { ConfigGeneric, i18n as I18n } from '@iobroker/adapter-react-v5';\r\n\r\nclass Dropbox extends ConfigGeneric {\r\n    renderItem() {\r\n        return <div style={{ width: '100%', margin: '0 0 1rem 0' }}>\r\n            <div style={{ width: '100%', margin: '0 0 1rem 0' }}>\r\n                <span\r\n                    hidden={this.state.dropboxUrl}\r\n                >\r\n                    <span style={{ marginRight: 4 }}>{`${I18n.t('Dropbox refresh token:')}`}</span>\r\n                    {I18n.t(\r\n                        this.state.droboxState === 'Present' || this.props.data.dropboxAccessJson ?\r\n                            'Present' :\r\n                            'Not present',\r\n                    )}\r\n                </span>\r\n            </div>\r\n            <Button\r\n                disabled={this.state.dropboxUrl || !this.props.alive || this.state.running}\r\n                endIcon={<CloudUpload />}\r\n                variant=\"contained\"\r\n                onClick={() => this.setState({ running: true }, async () => {\r\n                    const result = await this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`, 'authDropbox', null);\r\n                    this.setState({ dropboxUrl: result.url, codeChallenge: result.code_challenge, running: false });\r\n                    this.props.onChange({ ...this.props.data, dropboxCodeChallenge: result.code_challenge });\r\n                })}\r\n            >\r\n                {I18n.t(\r\n                    this.props.data.dropboxAccessJson ?\r\n                        'Renew Dropbox Access' :\r\n                        'Get Dropbox Access',\r\n                )}\r\n            </Button>\r\n            {this.state.dropboxUrl ? <>\r\n                <div style={{ width: '100%', margin: '1rem 0 1rem 0' }}>\r\n                    <span style={{ marginRight: 4 }}>{`${I18n.t('Authorize this app by visiting this url:')}`}</span>\r\n                    <br />\r\n                    <a\r\n                        target=\"_blank\"\r\n                        href={`${this.state.dropboxUrl}&code_challenge=${this.state.codeChallenge}`}\r\n                        rel=\"noreferrer\"\r\n                    >\r\n                        {`${this.state.dropboxUrl}&code_challenge=${this.state.codeChallenge}`}\r\n                    </a>\r\n                </div>\r\n                <TextField\r\n                    label={I18n.t('Enter the code from that page here')}\r\n                    variant=\"standard\"\r\n                    onChange={e => this.setState({ code: e.target.value })}\r\n                    fullWidth\r\n                />\r\n                <Button\r\n                    style={{ margin: '1rem 0 1rem 0' }}\r\n                    disabled={!this.state.dropboxUrl || !this.props.alive || this.state.running}\r\n                    endIcon={<CloudUpload />}\r\n                    variant=\"contained\"\r\n                    onClick={() => this.setState({ running: true }, async () => {\r\n                        const result = await this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`, 'authDropbox', { code: this.state.code, codeChallenge: this.props.data.dropboxCodeChallenge });\r\n                        this.props.onChange({ ...this.props.data, dropboxAccessJson: result.json });\r\n                        this.setState({ dropboxState: result.done ? 'Present' : 'Not present', running: false, dropboxUrl: null });\r\n                    })}\r\n                >\r\n                    {I18n.t('Submit')}\r\n                </Button>\r\n            </> : null}\r\n        </div>;\r\n    }\r\n}\r\n\r\nDropbox.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    themeName: PropTypes.string,\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    data: PropTypes.object.isRequired,\r\n    attr: PropTypes.string,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n};\r\n\r\nexport default Dropbox;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Button, TextField } from '@mui/material';\r\nimport { CloudUpload } from '@mui/icons-material';\r\n\r\nimport { ConfigGeneric, i18n as I18n } from '@iobroker/adapter-react-v5';\r\n\r\nclass GoogleDrive extends ConfigGeneric {\r\n    renderItem() {\r\n        return <div style={{ width: '100%', margin: '0 0 1rem 0' }}>\r\n            <Button\r\n                disabled={this.state.googleDriveUrl || !this.props.alive || this.state.running}\r\n                endIcon={<CloudUpload />}\r\n                variant=\"contained\"\r\n                onClick={() => this.setState({ running: true }, async () => {\r\n                    const result = await this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`, 'authGoogleDrive', null);\r\n                    this.setState({ googleDriveUrl: result.url, running: false });\r\n                })}\r\n            >\r\n                {I18n.t(\r\n                    this.props.data.googledriveAccessTokens ?\r\n                        'Renew Google Drive Access' :\r\n                        'Get Google Drive Access',\r\n                )}\r\n            </Button>\r\n            {this.state.googleDriveUrl ? <>\r\n                <div style={{ width: '100%', margin: '1rem 0 1rem 0' }}>\r\n                    <span style={{ marginRight: 4 }}>{`${I18n.t('Authorize this app by visiting this url:')}`}</span>\r\n                    <br />\r\n                    <a\r\n                        target=\"_blank\"\r\n                        href={this.state.googleDriveUrl}\r\n                        rel=\"noreferrer\"\r\n                    >\r\n                        {this.state.googleDriveUrl}\r\n                    </a>\r\n                </div>\r\n                <TextField\r\n                    label={I18n.t('Enter the code from that page here')}\r\n                    variant=\"standard\"\r\n                    value=\"\"\r\n                    onChange={e => this.props.onChange({ ...this.props.data, googledriveAccessTokens: e.target.value })}\r\n                    fullWidth\r\n                />\r\n            </> : null}\r\n        </div>;\r\n    }\r\n}\r\n\r\nGoogleDrive.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    themeName: PropTypes.string,\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    data: PropTypes.object.isRequired,\r\n    attr: PropTypes.string,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n};\r\n\r\nexport default GoogleDrive;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport {\r\n    FormControl, FormHelperText, InputLabel,\r\n    MenuItem, Select, TextField,\r\n} from '@mui/material';\r\n\r\nimport { I18n, ConfigGeneric } from '@iobroker/adapter-react-v5';\r\n\r\nimport BaseField from './BaseField';\r\n\r\nclass Instance extends BaseField {\r\n    async componentDidMount() {\r\n        super.componentDidMount();\r\n        const instance = ConfigGeneric.getValue(this.props.data, this.props.attr);\r\n        const target = ConfigGeneric.getValue(this.props.data, this.props.schema.adapter === 'telegram' ? 'telegramUser' : 'discordTarget');\r\n        const result = Object.values(await this.props.socket.getObjectViewCustom(\r\n            'system',\r\n            'instance',\r\n            `system.adapter.${this.props.schema.adapter}.`,\r\n            `system.adapter.${this.props.schema.adapter}.\\u9999`,\r\n        ));\r\n\r\n        const instances = result.map(item => ({ value: item._id.substring('system.adapter.'.length), label: item._id.substring('system.adapter.'.length) }));\r\n        instances.unshift({ value: '_', label: 'none' });\r\n\r\n        this.setState({ instances, instance, target }, () => {\r\n            this.readTargets();\r\n        });\r\n    }\r\n\r\n    async fillTelegramUser() {\r\n        if (this.state.instance?.startsWith('telegram.')) {\r\n            if (this.instanceRead !== this.state.instance) {\r\n                let useUserName = false;\r\n                const obj = await this.props.socket.getObject(`system.adapter.${this.state.instance}`);\r\n                if (obj && obj.native) {\r\n                    useUserName = obj.native.useUsername;\r\n                }\r\n                const state = await this.props.socket.getState(`${this.state.instance}.communicate.users`);\r\n                const userListStr = state?.val;\r\n                const targets = [{ value: 'allTelegramUsers', label: 'All Receiver' }];\r\n\r\n                if (userListStr) {\r\n                    this.instanceRead = this.state.target;\r\n                    const userList = JSON.parse(userListStr);\r\n                    for (const i in userList) {\r\n                        if (useUserName) {\r\n                            targets.push({ value: userList[i].userName, label: userList[i].userName });\r\n                        } else {\r\n                            targets.push({ value: userList[i].firstName, label: userList[i].firstName });\r\n                        }\r\n                    }\r\n                }\r\n                this.setState({ targets });\r\n            }\r\n        } else if (this.props.data.telegramUser !== 'allTelegramUsers') {\r\n            setTimeout(() => this.props.onChange({ ...this.props.data, telegramUser: 'allTelegramUsers' }), 50);\r\n        }\r\n    }\r\n\r\n    async fillDiscordTarget() {\r\n        if (this.state.instance?.startsWith('discord.')) {\r\n            if (this.instanceRead !== this.state.instance) {\r\n                const alive = await this.props.socket.getState(`system.adapter.${this.state.instance}.alive`);\r\n                if (alive?.val) {\r\n                    const targetList = await this.props.socket.sendTo(this.state.instance, 'getNotificationTargets', {});\r\n                    if (Array.isArray(targetList)) {\r\n                        this.instanceRead = this.state.instance;\r\n                        const targets = [{ value: '_', label: 'none' }];\r\n                        for (const i in targetList) {\r\n                            targets.push({ value: targetList[i].value, label: targetList[i].label });\r\n                        }\r\n                        this.setState({ targets });\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            const targets = [{ value: '_', label: 'none' }];\r\n            this.setState({ targets });\r\n            if (this.props.data.discordTarget) {\r\n                setTimeout(() => this.props.onChange({ ...this.props.data, discordTarget: '' }), 50);\r\n            }\r\n        }\r\n    }\r\n\r\n    async readTargets() {\r\n        if (this.props.schema.adapter === 'telegram') {\r\n            await this.fillTelegramUser();\r\n        } else if (this.props.schema.adapter === 'discord') {\r\n            await this.fillDiscordTarget();\r\n        }\r\n    }\r\n\r\n    renderItem() {\r\n        const itemInstance = this.state.instances?.find(it => it.value === (this.state.instance || ''));\r\n        const itemTarget = this.state.targets?.find(it => it.value === (this.state.target || ''));\r\n\r\n        return <div style={{ width: '100%' }}>\r\n            {this.state.instances ? <FormControl style={this.props.schema.adapter === 'telegram' || this.props.schema.adapter === 'discord' ? { width: 'calc(50% - 5px)', marginRight: 10 } : { width: '100%', marginRight: 10 }} variant=\"standard\">\r\n                <InputLabel>{I18n.t(this.props.schema.label)}</InputLabel>\r\n                <Select\r\n                    variant=\"standard\"\r\n                    value={this.state.instance || '_'}\r\n                    renderValue={() => this.getText(itemInstance?.label, itemInstance?.label !== 'none')}\r\n                    onChange={e => this.setState({ instance: e.target.value === '_' ? '' : e.target.value }, () => {\r\n                        this.readTargets();\r\n                        this.onChange(this.props.attr, this.state.value);\r\n                    })}\r\n                >\r\n                    {this.state.instances.map((it, i) => <MenuItem key={i} value={it.value}>\r\n                        {this.getText(it.label, it?.label !== 'none')}\r\n                    </MenuItem>)}\r\n                </Select>\r\n                {this.props.schema.help ? <FormHelperText>{this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}</FormHelperText> : null}\r\n            </FormControl> : null}\r\n\r\n            {this.state.targets && (this.props.schema.adapter === 'telegram' || this.props.schema.adapter === 'discord') ? <FormControl style={{ width: 'calc(50% - 5px)' }} variant=\"standard\">\r\n                <InputLabel>{I18n.t(this.props.schema.adapter === 'telegram' ? 'Telegram receiver' : 'Discord receiver')}</InputLabel>\r\n                <Select\r\n                    disabled={!this.state.instance}\r\n                    variant=\"standard\"\r\n                    value={this.state.target || '_'}\r\n                    renderValue={() => this.getText(itemTarget?.label, itemTarget?.label !== 'none')}\r\n                    onChange={e => this.setState({ target: e.target.value === '_' ? '' : e.target.value }, () =>\r\n                        this.onChange(this.props.schema.adapter === 'telegram' ? 'telegramUser' : 'discordTarget', this.state.target))}\r\n                >\r\n                    {this.state.targets.map((it, i) => <MenuItem key={i} value={it.value}>\r\n                        {this.getText(it.label, it?.label !== 'none')}\r\n                    </MenuItem>)}\r\n                </Select>\r\n                {this.props.schema.help ? <FormHelperText>{this.renderHelp(this.props.schema.help, this.props.schema.helpLink, this.props.schema.noTranslation)}</FormHelperText> : null}\r\n            </FormControl> : this.props.schema.adapter === 'telegram' || this.props.schema.adapter === 'discord' ? <TextField\r\n                style={{ width: 'calc(50% - 5px)' }}\r\n                variant=\"standard\"\r\n                disabled={!this.state.instance}\r\n                label={I18n.t(this.props.schema.adapter === 'telegram' ? 'Telegram receiver' : 'Discord receiver')}\r\n                value={this.state.target}\r\n                onChange={e => this.setState({ target: e.target.value }, () =>\r\n                    this.onChange(this.props.schema.adapter === 'telegram' ? 'telegramUser' : 'discordTarget', this.state.target))}\r\n            /> : null}\r\n        </div>;\r\n    }\r\n}\r\n\r\nInstance.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    themeName: PropTypes.string,\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    data: PropTypes.object.isRequired,\r\n    attr: PropTypes.string,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n};\r\n\r\nexport default Instance;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Button, TextField } from '@mui/material';\r\nimport { CloudUpload } from '@mui/icons-material';\r\n\r\nimport { ConfigGeneric, i18n as I18n } from '@iobroker/adapter-react-v5';\r\n\r\nclass Onedrive extends ConfigGeneric {\r\n    renderItem() {\r\n        return <div style={{ width: '100%', margin: '0 0 1rem 0' }}>\r\n            <div style={{ width: '100%', margin: '0 0 1rem 0' }}>\r\n                <span\r\n                    hidden={this.state.onedriveUrl}\r\n                >\r\n                    <span style={{ marginRight: 4 }}>{`${I18n.t('OneDrive refresh token:')}`}</span>\r\n                    {I18n.t(\r\n                        this.state.onedriveState === 'Present' || this.props.data.onedriveAccessJson ?\r\n                            'Present' :\r\n                            'Not present',\r\n                    )}\r\n                </span>\r\n            </div>\r\n            <Button\r\n                disabled={this.state.onedriveUrl || !this.props.alive || this.state.running}\r\n                endIcon={<CloudUpload />}\r\n                variant=\"contained\"\r\n                onClick={() => this.setState({ running: true }, async () => {\r\n                    const result = await this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`, 'authOnedrive', null);\r\n                    this.setState({ onedriveUrl: result.url, running: false });\r\n                })}\r\n            >\r\n                {I18n.t(\r\n                    this.props.data.onedriveAccessJson ?\r\n                        'Renew OneDrive Access' :\r\n                        'Get OneDrive Access',\r\n                )}\r\n            </Button>\r\n            {this.state.onedriveUrl ? <>\r\n                <div style={{ width: '100%', margin: '1rem 0 1rem 0' }}>\r\n                    <span style={{ marginRight: 4 }}>{`${I18n.t('Authorize this app by visiting this url:')}`}</span>\r\n                    <br />\r\n                    <a\r\n                        target=\"_blank\"\r\n                        href={this.state.onedriveUrl}\r\n                        rel=\"noreferrer\"\r\n                    >\r\n                        {this.state.onedriveUrl}\r\n                    </a>\r\n                </div>\r\n                <TextField\r\n                    label={I18n.t('Enter the code from that page here')}\r\n                    variant=\"standard\"\r\n                    onChange={e => this.setState({ code: e.target.value })}\r\n                    fullWidth\r\n                />\r\n                <Button\r\n                    style={{ margin: '1rem 0 1rem 0' }}\r\n                    disabled={!this.state.onedriveUrl || !this.props.alive || this.state.running}\r\n                    endIcon={<CloudUpload />}\r\n                    variant=\"contained\"\r\n                    onClick={() => this.setState({ running: true }, async () => {\r\n                        const result = await this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`, 'authOnedrive', { code: this.state.code });\r\n                        this.props.onChange({ ...this.props.data, onedriveAccessJson: result.json });\r\n                        this.setState({ onedriveState: result.done ? 'Present' : 'Not present', running: false, onedriveUrl: null });\r\n                    })}\r\n                >\r\n                    {I18n.t('Submit')}\r\n                </Button>\r\n            </> : null}\r\n        </div>;\r\n    }\r\n}\r\n\r\nOnedrive.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    themeName: PropTypes.string,\r\n    style: PropTypes.object,\r\n    className: PropTypes.string,\r\n    data: PropTypes.object.isRequired,\r\n    attr: PropTypes.string,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n};\r\n\r\nexport default Onedrive;\r\n","import { useEffect, useState } from 'react';\r\nimport { saveAs } from 'file-saver';\r\nimport {\r\n    Accordion, AccordionDetails, AccordionSummary, Dialog,\r\n    DialogContent, DialogTitle, Fab, Table,\r\n    TableCell, TableRow, Tooltip,\r\n    DialogActions, Button, LinearProgress, TableBody,\r\n} from '@mui/material';\r\nimport {\r\n    Close,\r\n    Download,\r\n    History,\r\n    ExpandMore,\r\n    Save,\r\n} from '@mui/icons-material';\r\n\r\nimport {\r\n    FaDropbox,\r\n    FaNetworkWired,\r\n    FaGoogleDrive,\r\n} from 'react-icons/fa';\r\nimport {\r\n    DiOnedrive,\r\n    DiRedis,\r\n    DiMysql,\r\n    DiPostgresql,\r\n    DiSqllite,\r\n} from 'react-icons/di';\r\nimport {\r\n    SiNodered,\r\n    SiEsphome,\r\n    SiZigbee,\r\n    SiGrafana,\r\n    SiInfluxdb,\r\n    SiNextcloud,\r\n} from 'react-icons/si';\r\nimport { I18n } from '@iobroker/adapter-react-v5';\r\n\r\nimport CCU from '../assets/ccu.png';\r\nimport ioBrokerIcon from '../assets/iobroker.png';\r\nimport historyIcon from '../assets/history.png';\r\nimport zigbee2mqttIcon from '../assets/zigbee2mqtt.png';\r\nimport javascriptIcon from '../assets/javascript.png';\r\nimport jarvisIcon from '../assets/jarvis.png';\r\nimport yahkaIcon from '../assets/yahka.png';\r\n\r\nfunction parseSize(bytes) {\r\n    if (bytes > 1024 * 1024 * 512) {\r\n        return `${Math.round((bytes / (1024 * 1024 * 1024)) * 10) / 10}${I18n.t('GiB')}`;\r\n    } if (bytes > 1024 * 1024) {\r\n        return `${Math.round((bytes / (1024 * 1024)) * 10) / 10}${I18n.t('MiB')}`;\r\n    } if (bytes > 1024) {\r\n        return `${Math.round((bytes / (1024)) * 10) / 10}${I18n.t('KiB')}`;\r\n    }\r\n    return `${bytes} ${I18n.t('bytes')}`;\r\n}\r\nfunction parseName(name) {\r\n    const parts = name.split('_');\r\n    if (parseInt(parts[0], 10).toString() !== parts[0]) {\r\n        parts.shift();\r\n    }\r\n    return new Date(\r\n        parts[0],\r\n        parseInt(parts[1], 10) - 1,\r\n        parseInt(parts[2].split('-')[0], 10),\r\n        parseInt(parts[2].split('-')[1], 10),\r\n        parseInt(parts[3], 10),\r\n    ).toLocaleString().replace(/:00$/, '');\r\n}\r\n\r\nconst ICONS = {\r\n    local: Save,\r\n    cifs: FaDropbox,\r\n    dropbox: FaDropbox,\r\n    ftp: FaNetworkWired,\r\n    googledrive: FaGoogleDrive,\r\n    onedrive: DiOnedrive,\r\n    webdav: SiNextcloud,\r\n    iobroker: ioBrokerIcon,\r\n    historyDB: historyIcon,\r\n    ccu: CCU,\r\n    javascripts: javascriptIcon,\r\n    nodered: SiNodered,\r\n    influxDB: SiInfluxdb,\r\n    zigbee: SiZigbee,\r\n    zigbee2mqtt: zigbee2mqttIcon,\r\n    grafana: SiGrafana,\r\n    esphome: SiEsphome,\r\n    jarvis: jarvisIcon,\r\n    redis: DiRedis,\r\n    mysql: DiMysql,\r\n    sqlite: DiSqllite,\r\n    pgsql: DiPostgresql,\r\n    yahka: yahkaIcon,\r\n};\r\n\r\nfunction getIcon(type) {\r\n    if (!ICONS[type]) {\r\n        return null;\r\n    }\r\n    if (typeof ICONS[type] === 'object' || typeof ICONS[type] === 'function') {\r\n        const OwnIcon = ICONS[type];\r\n        return <OwnIcon style={{ width: 24, height: 24, marginRight: 8 }} />;\r\n    }\r\n    return <img src={ICONS[type]} style={{ width: 24, height: 24, marginRight: 8 }} alt={type} />;\r\n}\r\n\r\nconst GetBackups = props => {\r\n    const [backups, setBackups] = useState(null);\r\n    const [expanded, setExpanded] = useState([]);\r\n\r\n    useEffect(() => {\r\n        let _expanded = window.localStorage.getItem('BackupExpanded');\r\n        try {\r\n            _expanded = JSON.parse(_expanded);\r\n        } catch {\r\n            _expanded = [];\r\n        }\r\n        setExpanded(_expanded || []);\r\n        setBackups(null);\r\n        props.socket.sendTo(`${props.adapterName}.${props.instance}`, 'list', props.backupSource)\r\n            .then(result => {\r\n                Object.keys(result.data)\r\n                    .forEach(location =>\r\n                        Object.keys(result.data[location])\r\n                            .forEach(object =>\r\n                                result.data[location][object].sort((a, b) => (a.name.replace(/^iobroker_/, '') > b.name.replace(/^iobroker_/, '') ? -1 : 1))));\r\n\r\n                setBackups(result);\r\n            });\r\n    }, []);\r\n\r\n    return <Dialog\r\n        open={!0}\r\n        onClose={props.onClose}\r\n        fullWidth\r\n        maxWidth=\"lg\"\r\n    >\r\n        <DialogTitle>{I18n.t('Backup history')}</DialogTitle>\r\n        <DialogContent>\r\n            {backups ? Object.keys(backups.data).map(location =>\r\n                <Accordion\r\n                    key={location}\r\n                    expanded={expanded.includes(location)}\r\n                    onChange={() => {\r\n                        const _expanded = [...expanded];\r\n                        const pos = _expanded.indexOf(location);\r\n                        if (pos === -1) {\r\n                            _expanded.push(location);\r\n                            _expanded.sort();\r\n                        } else {\r\n                            _expanded.splice(pos, 1);\r\n                        }\r\n                        window.localStorage.setItem('BackupExpanded', JSON.stringify(_expanded));\r\n                        setExpanded(_expanded);\r\n                    }}\r\n                    style={{\r\n                        backgroundColor: props.themeType ? 'rgba(10, 10, 10, 0.05)' : 'rgba(250, 250, 250, 0.05)',\r\n                    }}\r\n                >\r\n                    <AccordionSummary expandIcon={<ExpandMore />}>\r\n                        {getIcon(location)}\r\n                        <span style={{ fontWeight: 'bold', fontSize: 16 }}>{I18n.t(location).toUpperCase()}</span>\r\n                    </AccordionSummary>\r\n                    <AccordionDetails>\r\n                        {Object.keys(backups.data[location]).map(object =>\r\n                            <Accordion\r\n                                key={object}\r\n                                expanded={expanded.includes(object)}\r\n                                onChange={() => {\r\n                                    const _expanded = [...expanded];\r\n                                    const pos = _expanded.indexOf(object);\r\n                                    if (pos === -1) {\r\n                                        _expanded.push(object);\r\n                                        _expanded.sort();\r\n                                    } else {\r\n                                        _expanded.splice(pos, 1);\r\n                                    }\r\n                                    window.localStorage.setItem('BackupExpanded', JSON.stringify(_expanded));\r\n                                    setExpanded(_expanded);\r\n                                }}\r\n                            >\r\n                                <AccordionSummary expandIcon={<ExpandMore />}>\r\n                                    {getIcon(object.split('.').shift())}\r\n                                    <span style={{ fontWeight: 'bold', fontSize: 14 }}>{I18n.t(object).toUpperCase()}</span>\r\n                                </AccordionSummary>\r\n                                <AccordionDetails>\r\n                                    <Table size=\"small\">\r\n                                        <TableBody>\r\n                                            {backups.data[location][object].map((backup, index) => <TableRow key={index}>\r\n                                                <TableCell style={{ width: 200, whiteSpace: 'nowrap', paddingRight: 0 }}>\r\n                                                    {I18n.t('Backup time')}\r\n                                                    :\r\n                                                    <span style={{ marginLeft: 8 }}>{parseName(backup.name)}</span>\r\n                                                </TableCell>\r\n                                                <TableCell style={{ width: 'calc(100% - 320px)', whiteSpace: 'nowrap', paddingleft: 0 }}>\r\n                                                    <span style={{ marginRight: 8 }}>|</span>\r\n                                                    {I18n.t('File size')}\r\n                                                    :\r\n                                                    <span style={{ marginLeft: 8 }}>{parseSize(backup.size)}</span>\r\n                                                </TableCell>\r\n                                                <TableCell style={{ width: 88 }}>\r\n                                                    <div style={{ display: 'flex', gap: 8 }}>\r\n                                                        {props.allowDownload ? <Tooltip title={I18n.t('Download Backup File')}>\r\n                                                            <Fab\r\n                                                                size=\"small\"\r\n                                                                onClick={async () => {\r\n                                                                    const data = await props.socket.sendTo(\r\n                                                                        `${props.adapterName}.${props.instance}`,\r\n                                                                        'getFile',\r\n                                                                        { type: location, fileName: backup.path, protocol: window.location.protocol },\r\n                                                                    );\r\n                                                                    const url = `${window.location.protocol}//${window.location.hostname}:${data.listenPort}/${data.fileName ? data.fileName : backup.path.split(/[\\\\/]/).pop()}`;\r\n                                                                    saveAs(url);\r\n                                                                }}\r\n                                                            >\r\n                                                                <Download />\r\n                                                            </Fab>\r\n                                                        </Tooltip> : null}\r\n                                                        <Tooltip title={I18n.t('Restore Backup File')}>\r\n                                                            <Fab size=\"small\" onClick={() => props.onRestore(location, object, backup.path)}>\r\n                                                                <History />\r\n                                                            </Fab>\r\n                                                        </Tooltip>\r\n                                                    </div>\r\n                                                </TableCell>\r\n                                            </TableRow>)}\r\n                                        </TableBody>\r\n                                    </Table>\r\n                                </AccordionDetails>\r\n                            </Accordion>)}\r\n                    </AccordionDetails>\r\n                </Accordion>) : <LinearProgress />}\r\n        </DialogContent>\r\n        <DialogActions>\r\n            <Button\r\n                onClick={props.onClose}\r\n                startIcon={<Close />}\r\n                variant=\"contained\"\r\n                color=\"grey\"\r\n            >\r\n                {I18n.t('Close')}\r\n            </Button>\r\n        </DialogActions>\r\n    </Dialog>;\r\n};\r\n\r\nexport default GetBackups;\r\n","import React, { Component } from 'react';\r\nimport {\r\n    FormControl, InputLabel, MenuItem, Select,\r\n} from '@mui/material';\r\n\r\nimport { I18n } from '@iobroker/adapter-react-v5';\r\n\r\nexport default class SourceSelector extends Component {\r\n    render() {\r\n        const options = [\r\n            { label: 'Local', value: 'local' },\r\n            { name: 'cifsEnabled', label: `NAS${this.props.data?.connectType ? ` (${this.props.data.connectType})` : ''}`, value: 'cifs' },\r\n            { name: 'ftpEnabled', label: 'FTP', value: 'ftp' },\r\n            { name: 'dropboxEnabled', label: 'Dropbox', value: 'dropbox' },\r\n            { name: 'onedriveEnabled', label: 'OneDrive', value: 'onedrive' },\r\n            { name: 'googledriveEnabled', label: 'Google Drive', value: 'googledrive' },\r\n            { name: 'webdavEnabled', label: 'WebDAV', value: 'webdav' },\r\n        ];\r\n\r\n        return <FormControl\r\n            classes={this.props.className}\r\n            fullWidth\r\n            variant=\"standard\"\r\n            style={{\r\n                height: 32,\r\n                // maxWidth: 250,\r\n                ...(this.props.style || {}),\r\n            }}\r\n        >\r\n            <InputLabel>{I18n.t('Source type')}</InputLabel>\r\n            <Select\r\n                variant=\"standard\"\r\n                value={this.props.value || 'local'}\r\n                onChange={e => this.props.onChange(e.target.value)}\r\n            >\r\n                {options.map(option =>\r\n                    (!option.name || !this.props.data || this.props.data[option.name] ? <MenuItem key={option.value} value={option.value}>\r\n                        {I18n.t(option.label)}\r\n                    </MenuItem> : null))}\r\n            </Select>\r\n        </FormControl>;\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@mui/styles';\r\n\r\nimport { I18n, Message } from '@iobroker/adapter-react-v5';\r\nimport {\r\n    Button, Checkbox, Dialog, DialogActions, DialogContent,\r\n    DialogTitle, FormControlLabel, LinearProgress,\r\n} from '@mui/material';\r\nimport {Close} from \"@mui/icons-material\";\r\n\r\nconst styles = {\r\n    paper: {\r\n        height: 'calc(100% - 64px)',\r\n    },\r\n    fullHeight: {\r\n        height: '100%',\r\n        '& .MuiInputBase-root': {\r\n            height: '100%',\r\n        },\r\n    },\r\n    textTime: {\r\n        display: 'inline-block',\r\n        width: 95,\r\n    },\r\n    textLevel: {\r\n        display: 'inline-block',\r\n        width: 50,\r\n    },\r\n    'textLevel-ERROR': {\r\n        color: 'red',\r\n    },\r\n    'textLevel-WARN': {\r\n        color: 'orange',\r\n    },\r\n    textSource: {\r\n        display: 'inline-block',\r\n        width: 100,\r\n        textAlign: 'left',\r\n    },\r\n    text: {\r\n        display: 'inline-block',\r\n    },\r\n    textLine: {\r\n        whiteSpace: 'nowrap',\r\n    },\r\n};\r\n\r\nclass Restore extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const WITH_DOWNLOAD = [\r\n            'dropbox',\r\n            'onedrive',\r\n            'googledrive',\r\n            'ftp',\r\n            'webdav',\r\n        ];\r\n        const NO_RESTART = [\r\n            'grafana',\r\n            'jarvis',\r\n            'javascripts',\r\n            'mysql',\r\n            'sqlite',\r\n            'influxDB',\r\n            'pgsql',\r\n            'zigbee',\r\n            'esphome',\r\n            'zigbee2mqtt',\r\n            'nodered',\r\n            'yahka',\r\n            'historyDB',\r\n        ];\r\n        let downloadPanel = false;\r\n        let isStopped = false;\r\n        const messages = [];\r\n        if (!NO_RESTART.find(text => this.props.fileName.includes(text))) {\r\n            isStopped = true;\r\n\r\n            if (WITH_DOWNLOAD.includes(this.props.location)) {\r\n                messages[0] = { text: I18n.t('Confirm with \"Restore\" and the download begins. Please wait until the download is finished!'), number: true };\r\n                messages[1] = { text: I18n.t('After download ioBroker will be restarted during restore.'), number: true };\r\n                downloadPanel = true;\r\n            } else {\r\n                messages[0] = { text: I18n.t('ioBroker will be restarted during restore.'), number: false };\r\n            }\r\n\r\n            messages.push({ text: I18n.t('After confirmation, a new tab opens with the Restore Log.'), number: false });\r\n            messages.push({ text: I18n.t('If the tab does not open, please deactivate your popup blocker.'), number: false });\r\n        } else if (downloadPanel) {\r\n            messages[0] = { text: I18n.t('Confirm with \"Restore\" and the download begins. Please wait until the download is finished!'), number: true };\r\n            messages[1] = { text: I18n.t('After the download, the restore begins without restarting ioBroker.'), number: true };\r\n        } else {\r\n            messages[0] = { text: I18n.t('ioBroker will not be restarted for this restore type.'), number: false };\r\n            messages[1] = { text: I18n.t('Confirm with \"Restore\".'), number: false };\r\n        }\r\n\r\n        this.state = {\r\n            done: false,\r\n            executing: false,\r\n            executionLog: [],\r\n            closeOnReady: false,\r\n            isStopped,\r\n            downloadPanel,\r\n            messages,\r\n            showRestoreDialog: false,\r\n            restoreDone: false,\r\n        };\r\n        this.lastExecutionLine = '';\r\n        this.textRef = React.createRef();\r\n    }\r\n\r\n    static getTime() {\r\n        const date = new Date();\r\n        return `${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}:${date.getSeconds().toString().padStart(2, '0')}.${date.getMilliseconds().toString().padStart(3, '0')}`;\r\n    }\r\n\r\n    onOutput = (id, state)  => {\r\n        if (state && state.val && state.val !== this.lastExecutionLine) {\r\n            this.lastExecutionLine = state.val;\r\n            const executionLog = [...this.state.executionLog];\r\n            const lines = (state.val || '').toString().replace(/\\n$/, '').split('\\n');\r\n            const now = Restore.getTime();\r\n            lines.forEach(line => {\r\n                line = line.trim();\r\n                if (!line) {\r\n                    // return;\r\n                }\r\n                const parts = line.match(/^\\[(\\w+)] \\[(\\w+)] - (.*)/);\r\n                if (parts) {\r\n                    executionLog.push({\r\n                        level: parts[1],\r\n                        source: parts[2],\r\n                        ts: now,\r\n                        text: parts[3],\r\n                    });\r\n                } else {\r\n                    executionLog.push({ text: line });\r\n                }\r\n            });\r\n\r\n            // scroll down\r\n            if (this.textRef.current && this.textRef.current.scrollTop + this.textRef.current.clientHeight >= this.textRef.current.scrollHeight) {\r\n                setTimeout(() => this.textRef.current.scrollTop = this.textRef.current.scrollHeight, 100);\r\n            }\r\n\r\n            this.setState({ executionLog });\r\n\r\n            if (state.val.startsWith('[EXIT]')) {\r\n                this.setState({ executing: false });\r\n                const code = state.val.match(/^\\[EXIT] ([-\\d]+)/);\r\n                if (this.state.closeOnReady && (!code || code[1] === '0')) {\r\n                    this.closeTimeout = this.closeTimeout || setTimeout(() => {\r\n                        this.closeTimeout = null;\r\n                        this.props.onClose();\r\n                    }, 1500);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    async componentDidMount() {\r\n        await this.props.socket.subscribeState(`${this.props.adapterName}.${this.props.instance}.output.line`, this.onOutput);\r\n        window.addEventListener('message', this.onMessage, false);\r\n    }\r\n\r\n    onMessage = (event) => {\r\n        if (event.data === 'restore-finished') {\r\n            this.setState({ done: true });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.socket.unsubscribeState(`${this.props.adapterName}.${this.props.instance}.output.line`, this.onOutput);\r\n        this.closeTimeout && clearTimeout(this.closeTimeout);\r\n        this.closeTimeout = null;\r\n        window.removeEventListener('message', this.onMessage, false);\r\n    }\r\n\r\n    renderLine(line, i) {\r\n        return <div key={i} className={this.props.classes.textLine}>\r\n            <div className={this.props.classes.textTime}>{line.ts}</div>\r\n            <div className={`${this.props.classes.textLevel} ${line.level ? (this.props.classes[`textLevel-${line.level}`] || '') : ''}`}>{line.level}</div>\r\n            <div className={this.props.classes.textSource}>{line.source}</div>\r\n            <div className={this.props.classes.text}>{line.text}</div>\r\n        </div>;\r\n    }\r\n\r\n    renderRestoreDialog() {\r\n        if (!this.state.showRestoreDialog) {\r\n            return null;\r\n        }\r\n        return <Dialog\r\n            open={!0}\r\n            onClose={() => { this.state.restoreDone && this.setState({ showRestoreDialog: false }); }}\r\n            maxWidth=\"lg\"\r\n            fullWidth\r\n            classes={{ paper: this.props.classes.paper }}\r\n        >\r\n            <DialogContent>\r\n                <iframe src={this.state.showRestoreDialog} style={{ width: '100%', height: '100%' }}/>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button\r\n                    disabled={this.state.restoreDone}\r\n                    variant=\"contained\"\r\n                    onClick={() => this.setState({ showRestoreDialog: false })}\r\n                    startIcon={<Close />}\r\n                    color=\"primary\"\r\n                >\r\n                    {I18n.t('Close')}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    }\r\n\r\n    doRestore() {\r\n        this.setState({\r\n            executing: true,\r\n            done: false,\r\n        }, async () => {\r\n            try {\r\n                const result = await this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`, 'restore', {\r\n                    type: this.props.location,\r\n                    fileName: this.props.fileName,\r\n                    currentTheme: this.props.themeType === 'dark' ? 'react-dark' : 'none',\r\n                    currentProtocol: window.location.protocol,\r\n                    stopIOB: this.state.isStopped,\r\n                });\r\n                if (!result || result.error) {\r\n                    this.setState({ error: JSON.stringify(result.error), executing: false });\r\n                } else if (this.state.isStopped) {\r\n                    const showRestoreDialog = `${window.location.protocol}//${window.location.hostname}:8091/backitup-restore.html`;\r\n                    setTimeout(() => this.setState({ showRestoreDialog, restoreDone: false }), this.props.restoreIfWait || 5000);\r\n                } else {\r\n                    this.setState({ done: true, executing: false });\r\n                }\r\n            } catch (error) {\r\n                this.setState({ error: error.toString(), executing: false });\r\n            }\r\n        });\r\n    }\r\n\r\n    renderError() {\r\n        if (!this.state.error) {\r\n            return null;\r\n        }\r\n        return <Message\r\n            text={this.state.error}\r\n            title={I18n.t('Error')}\r\n            onClose={() => this.setState({ error: '' })}\r\n        />;\r\n    }\r\n\r\n    render() {\r\n        return <Dialog\r\n            open={!0}\r\n            onClose={() => !this.state.executing && this.props.onClose()}\r\n            maxWidth=\"lg\"\r\n            fullWidth\r\n            classes={{ paper: this.props.classes.paper }}\r\n        >\r\n            <DialogTitle>\r\n                {I18n.t('BackItUp restore execution:')}\r\n            </DialogTitle>\r\n            <DialogContent style={{ position: 'relative' }}>\r\n                {this.state.executing ?\r\n                    <LinearProgress\r\n                        style={{\r\n                            position: 'absolute',\r\n                            top: 0,\r\n                            left: 24,\r\n                            width: 'calc(100% - 64px)',\r\n                        }}\r\n                    /> : <div style={{ height: 4, width: 'calc(100% - 64px)' }} />}\r\n                {this.state.executing || this.state.done ? <div\r\n                    style={{\r\n                        height: 'calc(100% - 16px - 4px)',\r\n                        width: 'calc(100% - 16px)',\r\n                        fontSize: 12,\r\n                        fontFamily: 'monospace',\r\n                        marginTop: 4,\r\n                        padding: 8,\r\n                        border: '1px solid grey',\r\n                        borderRadius: 5,\r\n                        overflow: 'auto',\r\n                        backgroundColor: this.props.themeType === 'dark' ? '#111' : '#EEE',\r\n                        boxSizing: 'border-box',\r\n                    }}\r\n                    ref={this.textRef}\r\n                >\r\n                    {this.state.executionLog.map((line, i) => this.renderLine(line, i))}\r\n                </div> : null}\r\n                {!this.state.executing && !this.state.done ? <div>\r\n                    <ul>\r\n                        {this.state.messages.map((message, i) => <li key={i}>\r\n                            {message.number ? `${i + 1}. ` : null}\r\n                            <span style={{ fontSize: 'medium' }}>{message.text}</span>\r\n                        </li>)}\r\n                    </ul>\r\n                </div> : null}\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <FormControlLabel\r\n                    control={<Checkbox\r\n                        disabled={this.state.done}\r\n                        checked={this.state.closeOnReady}\r\n                        onChange={e => this.setState({ closeOnReady: e.target.checked })}\r\n                    />}\r\n                    label={I18n.t('Close on ready')}\r\n                />\r\n                <Button\r\n                    variant=\"contained\"\r\n                    disabled={this.state.executing || this.state.done}\r\n                    onClick={() => this.setState({\r\n                        executionLog: [{\r\n                            ts: Restore.getTime(),\r\n                            level: 'INFO',\r\n                            text: 'starting Restore...',\r\n                            source: 'gui',\r\n                        }],\r\n                    }, () => this.doRestore())}\r\n                    color=\"primary\"\r\n                >\r\n                    {I18n.t('Restore')}\r\n                </Button>\r\n                <Button\r\n                    color=\"grey\"\r\n                    variant=\"contained\"\r\n                    disabled={this.state.executing}\r\n                    onClick={() => this.props.onClose()}\r\n                >\r\n                    {this.state.done ? I18n.t('Close') : I18n.t('Cancel')}\r\n                </Button>\r\n            </DialogActions>\r\n            {this.renderError()}\r\n            {this.renderRestoreDialog()}\r\n        </Dialog>;\r\n    }\r\n}\r\n\r\nRestore.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    adapterName: PropTypes.string.isRequired,\r\n    instance: PropTypes.number.isRequired,\r\n    fileName: PropTypes.string.isRequired,\r\n    location: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Restore);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@mui/styles';\r\n\r\nimport { Button, Checkbox, FormControlLabel } from '@mui/material';\r\nimport { Search } from '@mui/icons-material';\r\n\r\nimport { ConfigGeneric, I18n } from '@iobroker/adapter-react-v5';\r\n\r\nimport GetBackups from './Components/GetBackups';\r\nimport SourceSelector from './Components/SourceSelector';\r\nimport Restore from './Components/Restore';\r\n\r\nconst styles = {\r\n    paper: {\r\n        height: 'calc(100% - 64px)',\r\n    },\r\n    fullHeight: {\r\n        height: '100%',\r\n        '& .MuiInputBase-root': {\r\n            height: '100%',\r\n        },\r\n    },\r\n    textLevel: {\r\n        display: 'inline-block',\r\n        width: 40,\r\n    },\r\n    'textLevel-ERROR': {\r\n        color: 'red',\r\n    },\r\n    'textLevel-WARN': {\r\n        color: 'orange',\r\n    },\r\n    textSource: {\r\n        display: 'inline-block',\r\n        width: 70,\r\n        marginRight: 8,\r\n        textAlign: 'right',\r\n    },\r\n    text: {\r\n        display: 'inline-block',\r\n    },\r\n};\r\n\r\nclass RestoreBackup extends ConfigGeneric {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ...this.state,\r\n            backupSource: window.localStorage.getItem('BackItUp.backupSource') || 'local',\r\n            showGetBackups: false,\r\n            showRestore: null,\r\n            restoreIfWait: 5000,\r\n        };\r\n    }\r\n\r\n    renderItem() {\r\n        return <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr 1fr', gap: 12 }}>\r\n            <SourceSelector\r\n                value={this.state.backupSource}\r\n                data={this.props.data}\r\n                onChange={backupSource => {\r\n                    window.localStorage.setItem('BackItUp.backupSource', backupSource);\r\n                    this.setState({ backupSource });\r\n                }}\r\n            />\r\n            <Button\r\n                style={{ marginTop: 16 }}\r\n                onClick={() => this.setState({ showGetBackups: true })}\r\n                disabled={!this.props.alive}\r\n                variant=\"contained\"\r\n                color=\"grey\"\r\n                endIcon={<Search />}\r\n            >\r\n                {I18n.t('Get list')}\r\n            </Button>\r\n            <FormControlLabel\r\n                control={<Checkbox\r\n                    value={this.props.data.startAllRestore}\r\n                    onChange={e =>\r\n                        this.props.onChange({ ...this.props.data, startAllRestore: e.target.checked })}\r\n                />}\r\n                label={I18n.t('Start all adapter after restore')}\r\n            />\r\n            {this.state.showGetBackups ? <GetBackups\r\n                onClose={() => this.setState({ showGetBackups: false })}\r\n                onRestore={(location, object, fileName) => this.setState({ showRestore: { location, object, fileName }, showGetBackups: false })}\r\n                socket={this.props.socket}\r\n                themeType={this.props.themeType}\r\n                adapterName={this.props.adapterName}\r\n                instance={this.props.instance}\r\n                backupSource={this.state.backupSource}\r\n                allowDownload={this.props.schema.allowDownload}\r\n            /> : null}\r\n            {this.state.showRestore ? <Restore\r\n                alive={this.props.alive}\r\n                location={this.state.showRestore.location}\r\n                fileName={this.state.showRestore.fileName}\r\n                onClose={() => this.setState({ showRestore: null })}\r\n                socket={this.props.socket}\r\n                themeType={this.props.themeType}\r\n                adapterName={this.props.adapterName}\r\n                instance={this.props.instance}\r\n                restoreIfWait={this.state.restoreIfWait}\r\n            /> : null}\r\n        </div>;\r\n    }\r\n}\r\n\r\nRestoreBackup.propTypes = {\r\n    socket: PropTypes.object.isRequired,\r\n    themeType: PropTypes.string,\r\n    style: PropTypes.object,\r\n    schema: PropTypes.object,\r\n    onError: PropTypes.func,\r\n};\r\n\r\nexport default withStyles(styles)(RestoreBackup);\r\n"],"names":["AdapterExist","e","err","lines","line","styles","BackupNow","props","id","state","executionLog","now","parts","code","date","i","BaseField","type","data","name","ignoreHosts","backItUpHost","ignore","adapterName","SHOW_MESSAGE_FOR","res","found","title","text","level","result","changed","common","native","port","sqlitePath","storeDir","historyPath","message","CheckConfigInvisible","DetectConfig","Dropbox","GoogleDrive","Instance","instance","target","instances","item","useUserName","obj","userListStr","targets","userList","alive","targetList","itemInstance","it","itemTarget","Onedrive","parseSize","bytes","parseName","ICONS","getIcon","OwnIcon","backups","setBackups","expanded","setExpanded","_expanded","location","object","a","b","pos","backup","index","url","SourceSelector","options","option","Restore","event","WITH_DOWNLOAD","NO_RESTART","downloadPanel","isStopped","messages","showRestoreDialog","error","RestoreBackup","backupSource","fileName"],"sourceRoot":""}