"use strict";var B=Object.defineProperty,q=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var F=Math.pow,A=(x,k,y)=>k in x?B(x,k,{enumerable:!0,configurable:!0,writable:!0,value:y}):x[k]=y,M=(x,k)=>{for(var y in k||(k={}))U.call(k,y)&&A(x,y,k[y]);if(I)for(var y of I(k))j.call(k,y)&&A(x,y,k[y]);return x},L=(x,k)=>q(x,W(k));var $=(x,k,y)=>new Promise((T,b)=>{var O=v=>{try{p(y.next(v))}catch(_){b(_)}},w=v=>{try{p(y.throw(v))}catch(_){b(_)}},p=v=>v.done?T(v.value):Promise.resolve(v.value).then(O,w);p((y=y.apply(x,k)).next())});(self.webpackChunkiobroker_admin_component_backitup=self.webpackChunkiobroker_admin_component_backitup||[]).push([["vendors-node_modules_iobroker_adapter-react-v5_Components_Loader_js-node_modules_iobroker_ada-6c96ca"],{62023:(x,k)=>{Object.defineProperty(k,"__esModule",{value:!0});function y(){const p=document.getSelection();if(!(p!=null&&p.rangeCount))return()=>{};let v=document.activeElement;const _=[];for(let S=0;S<p.rangeCount;S++)_.push(p.getRangeAt(S));switch(v==null?void 0:v.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":v.blur();break;default:v=null;break}return p.removeAllRanges(),()=>{p.type==="Caret"&&p.removeAllRanges(),p.rangeCount||_.forEach(S=>p.addRange(S)),v&&v.focus()}}const T={"text/plain":"Text","text/html":"Url",default:"Text"},b="Copy to clipboard: #{key}, Enter";function O(p){const v=`${/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl"}+C`;return p.replace(/#{\s*key\s*}/g,v)}function w(p,v){let _,S,g,d,C=!1;v=v||{};const e=v.debug||!1;try{if(_=y(),S=document.createRange(),g=document.getSelection(),d=document.createElement("span"),d.textContent=p,d.ariaHidden="true",d.style.all="unset",d.style.position="fixed",d.style.top="0px",d.style.clip="rect(0, 0, 0, 0)",d.style.whiteSpace="pre",d.style.webkitUserSelect="text",d.style.MozUserSelect="text",d.style.msUserSelect="text",d.style.userSelect="text",d.addEventListener("copy",a=>{var o,n,l,t;if(a.stopPropagation(),v!=null&&v.format)if(a.preventDefault(),typeof a.clipboardData=="undefined"){e&&console.warn("unable to use e.clipboardData"),e&&console.warn("trying IE specific stuff"),(o=window.clipboardData)===null||o===void 0||o.clearData();const s=T[v.format]||T.default;(n=window.clipboardData)===null||n===void 0||n.setData(s,p)}else(l=a.clipboardData)===null||l===void 0||l.clearData(),(t=a.clipboardData)===null||t===void 0||t.setData(v.format,p)}),document.body.appendChild(d),S.selectNodeContents(d),g==null||g.addRange(S),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");C=!0}catch(i){e&&console.error("unable to copy using execCommand: ",i),e&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(v.format||"text",p),C=!0}catch(a){e&&console.error("unable to copy using clipboardData: ",a),e&&console.error("falling back to prompt");const o=O("message"in v?v.message||"":b);window.prompt(o,p)}}finally{g&&(S&&typeof g.removeRange=="function"?g.removeRange(S):g.removeAllRanges()),d&&document.body.removeChild(d),_&&_()}return C}k.default=w},59434:function(x,k,y){var T=this&&this.__createBinding||(Object.create?function(_,S,g,d){d===void 0&&(d=g);var C=Object.getOwnPropertyDescriptor(S,g);(!C||("get"in C?!S.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return S[g]}}),Object.defineProperty(_,d,C)}:function(_,S,g,d){d===void 0&&(d=g),_[d]=S[g]}),b=this&&this.__setModuleDefault||(Object.create?function(_,S){Object.defineProperty(_,"default",{enumerable:!0,value:S})}:function(_,S){_.default=S}),O=this&&this.__importStar||function(_){if(_&&_.__esModule)return _;var S={};if(_!=null)for(var g in _)g!=="default"&&Object.prototype.hasOwnProperty.call(_,g)&&T(S,_,g);return b(S,_),S};Object.defineProperty(k,"__esModule",{value:!0});const w=O(y(28437)),p=`
/**
 * Copyright 2018-2024 Denis Haev (bluefox) <dogafox@gmail.com>
 *
 * MIT License
 *
 **/

.logo-background-light, .logo-background-colored {
    background: white;
}
.logo-background-dark, .logo-background-blue {
    background: black;
}
.logo-div {
    position: absolute;
    top: 50%;
    left: 50%;
    -ms-transform: translateX(-50%) translateY(-50%);
    -webkit-transform: translate(-50%,-50%);
    transform: translate(-50%,-50%);
    overflow: hidden;
    border-radius: 50%;
    z-index: 2;
}
.logo-border {
    /*border-color: #164477;*/
    border-top-color: #3399CC;
    border-left-color: #164477;
    border-bottom-color: #164477;
    border-right-color: #164477;
    border-radius: 50%;
    border-style: solid;
    box-sizing: border-box;
    width: 100%;
    height: 100%;
    position: absolute;
}
.logo-top {
    position: absolute;
    width: 4.5%;
    height: 16%;
    top: 0;
    z-index: 2;
}
.logo-i {
    position: absolute;
    width: 14.5%;
    height: 60%;
    top: 20%;
    left: 42%;
    background: #3399CC;
}
.logo-i-top {
    position: absolute;
    width: 14.5%;
    height: 4%;
    left: 42%;
    background: #3399CC;
    border-radius: 100%;
}
.logo-back {
    width: 100%;
    height: 100%;
    z-index: 0;
    overflow: hidden;
}
@keyframes logo-grow {
    0% {
        width: 230px;
        height: 230px;
        transform: translate(-50%,-50%) scale(1);
        opacity: 1
    }
    99% {
        width: 230px;
        height: 230px;
        transform: translate(-50%,-50%) scale(10);
        opacity: 0;
    }
    100% {
        width: 0;
        height: 0;
        opacity: 0;
    }
}
@keyframes logo-spin { 100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); } }
@keyframes logo-color-inside-light {
    0% {
        background: #FEFEFE;
    }
    100% {
        background: #3399CC;
    }
}
@keyframes logo-color-inside-dark {
    0% {
        background: #030303;
    }
    100% {
        background: #3399CC;
    }
}
@keyframes logo-color-inside-colored {
    0% {
        background: #FEFEFE;
    }
    100% {
        background: #3399CC;
    }
}
@keyframes logo-color-inside-blue {
    0% {
        background: #030303;
    }
    100% {
        background: #3399CC;
    }
}

@keyframes logo-color-outside-light {
    0% {
        border-color: #FEFEFE;
    }
    100% {
        border-top-color: #3399CC;
        border-left-color: #164477;
        border-bottom-color: #164477;
        border-right-color: #164477;
    }
}
@keyframes logo-color-outside-dark  {
    0% {
        border-color: #040404;
    }
    100% {
        border-top-color: #3399CC;
        border-left-color: #164477;
        border-bottom-color: #164477;
        border-right-color: #164477;
    }
}
@keyframes logo-color-outside-colored {
    0% {
        border-color: #FEFEFE;
    }
    100% {
        border-top-color: #3399CC;
        border-left-color: #164477;
        border-bottom-color: #164477;
        border-right-color: #164477;
    }
}
@keyframes logo-color-outside-blue  {
    0% {
        border-color: #040404;
    }
    100% {
        border-top-color: #3399CC;
        border-left-color: #164477;
        border-bottom-color: #164477;
        border-right-color: #164477;
    }
}

.logo-animate-wait {
    animation: logo-color-outside 1.5s, logo-spin 1.5s linear infinite;
}

.logo-animate-grow-light {
    background: #DDD;
}
.logo-animate-grow-dark {
    background: #1d1d1d;
}
.logo-animate-grow-colored {
    background: #DDD;
}
.logo-animate-grow-blue {
    background: #1d1d1d;
}

.logo-animate-grow {
    display: inline-block;
    text-align: center;
    z-index: 1;
    top: 50%;
    left: 50%;
    -ms-transform: translateX(-50%) translateY(-50%);
    -webkit-transform: translate(-50%,-50%);
    transform: translate(-50%,-50%);
    width: 245px;
    height: 245px;
    border-radius: 50%;
    position: absolute;
    animation: logo-grow 1s 1 ease forwards;
}

.logo-animate-color-inside-light {
    animation: logo-color-inside-light 2.5s;
}
.logo-animate-color-inside-dark {
    animation: logo-color-inside-dark 2.5s;
}
.logo-animate-color-inside-colored {
    animation: logo-color-inside-colored 2.5s;
}
.logo-animate-color-inside-blue {
    animation: logo-color-inside-blue 2.5s;
}

.logo-animate-color-outside-light {
    animation: logo-color-outside-light 1.5s;
}
.logo-animate-color-outside-dark {
    animation: logo-color-outside-dark 1.5s;
}
.logo-animate-color-outside-colored {
    animation: logo-color-outside-colored 1.5s;
}
.logo-animate-color-outside-blue {
    animation: logo-color-outside-blue 1.5s;
}
`;function v(_){(0,w.useEffect)(()=>{if(!window.document.getElementById("loader-iobroker-component")){const d=window.document.createElement("style");d.setAttribute("id","loader-iobroker-component"),d.innerHTML=p,window.document.head.appendChild(d)}},[]);const S=_.size||234,g=_.themeName||_.theme||_.themeType||"light";return w.default.createElement("div",{className:`logo-back logo-background-${g}`,style:{backgroundImage:_.backgroundImage&&_.backgroundImage!=="@@loginBackgroundImage@@"?_.backgroundImage:window.loadingBackgroundImage&&window.loadingBackgroundImage!=="@@loginBackgroundImage@@"?`url(${window.loadingBackgroundImage})`:void 0,backgroundColor:_.backgroundColor&&_.backgroundColor!=="@@loginBackgroundColor@@"?_.backgroundColor:window.loadingBackgroundColor&&window.loadingBackgroundColor!=="@@loginBackgroundColor@@"?window.loadingBackgroundColor:void 0,backgroundSize:"cover"}},window.loadingHideLogo==="true"?null:w.default.createElement(w.default.Fragment,null,w.default.createElement("div",{className:"logo-div",style:{width:S,height:S}},w.default.createElement("div",{className:`logo-top logo-background-${g}`,style:{left:"37%"}}),w.default.createElement("div",{className:`logo-top logo-background-${g}`,style:{left:"57%"}}),w.default.createElement("div",{className:`logo-border logo-background-${g} logo-animate-wait`,style:{borderWidth:S*.132}}),w.default.createElement("div",{className:`logo-i logo-animate-color-inside-${g}`}),w.default.createElement("div",{className:`logo-i-top logo-animate-color-inside-${g}`,style:{top:"18%"}}),w.default.createElement("div",{className:`logo-i-top logo-animate-color-inside-${g}`,style:{bottom:"18%"}})),w.default.createElement("div",{className:`logo-animate-grow logo-animate-grow-${g}`,style:{width:S+11,height:S+11}})))}k.default=v},67220:function(x,k,y){var T=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(k,"__esModule",{value:!0});const b=T(y(28437));class O extends b.default.Component{constructor(p){super(p),this.onHashChangedBound=this.onHashChanged.bind(this)}componentDidMount(){window.addEventListener("hashchange",this.onHashChangedBound)}componentWillUnmount(){window.removeEventListener("hashchange",this.onHashChangedBound)}onHashChanged(){}static getLocation(){let p=window.location.hash;p=p.replace(/^#/,"");const v=p.split("/").map(_=>{try{return _?decodeURIComponent(_):""}catch(S){return console.error(`Router: Cannot decode ${_}`),_||""}});return{tab:v[0]||"",dialog:v[1]||"",id:v[2]||"",arg:v[3]||""}}static doNavigate(p,v,_,S){let g="";const d=O.getLocation();S!==void 0&&!_&&(_=d.id),_&&!v&&(v=d.dialog),(v&&!p||p===null)&&(p=d.tab),p&&(g=`#${p}`,v&&(g+=`/${v}`,_&&(g+=`/${_}`,S!==void 0&&(g+=`/${S}`)))),window.location.hash!==g&&(window.location.hash=g)}}k.default=O},80317:function(x,k,y){var T=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(k,"__esModule",{value:!0});const b=T(y(28437)),O=y(70143),w=y(67085),p=y(21839),v=T(y(42854)),_=()=>({buttonIcon:{marginRight:8}});class S extends b.default.Component{constructor(C){super(C);const e=C.newReact===void 0?!0:C.newReact;try{this.isIFrame=!e&&window.self!==window.top}catch(i){this.isIFrame=!e}}render(){const C=this.props.noTextOnButtons,e={borderRadius:this.props.theme.saveToolbar.button.borderRadius||3,height:this.props.theme.saveToolbar.button.height||32},i={bottom:this.isIFrame?38:0,left:this.props.paddingLeft||0,right:0,position:"absolute",background:this.props.theme.saveToolbar.background};return this.props.dense&&(i.minHeight=48),this.props.error&&(e.border="1px solid red"),b.default.createElement(w.Toolbar,{style:i},b.default.createElement(w.Fab,{variant:"extended","aria-label":"Save",disabled:!this.props.changed||this.props.error,onClick:()=>this.props.onSave(!1),style:e},b.default.createElement(p.Save,{className:C?"":this.props.classes.buttonIcon}),!C&&v.default.t("ra_Save")),b.default.createElement(w.Fab,{variant:"extended","aria-label":"Save and close",disabled:!this.props.changed||this.props.error,onClick:()=>this.props.onSave(!0),style:Object.assign(Object.assign({},e),{marginLeft:10})},b.default.createElement(p.Save,{className:C?"":this.props.classes.buttonIcon}),C?"+":v.default.t("ra_Save and close"),C&&b.default.createElement(p.Close,null)),b.default.createElement("div",{style:{flexGrow:1}}),b.default.createElement(w.Fab,{variant:"extended","aria-label":"Close",onClick:()=>this.props.onClose(),style:e},b.default.createElement(p.Close,{className:C?"":this.props.classes.buttonIcon}),!C&&v.default.t("ra_Close")))}}const g=(0,O.withStyles)(_)(S);k.default=g},96808:function(x,k,y){var T=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(k,"__esModule",{value:!0});const b=T(y(28437)),O=T(y(62023)),w=T(y(42854)),p="material",v=["Su","Mo","Tu","We","Th","Fr","Sa"],_=["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],S={0:"0x00 - good",1:"0x01 - general problem",2:"0x02 - no connection problem",16:"0x10 - substitute value from controller",32:"0x20 - substitute initial value",64:"0x40 - substitute value from device or instance",128:"0x80 - substitute value from sensor",17:"0x11 - general problem by instance",65:"0x41 - general problem by device",129:"0x81 - general problem by sensor",18:"0x12 - instance not connected",66:"0x42 - device not connected",130:"0x82 - sensor not connected",68:"0x44 - device reports error",132:"0x84 - sensor reports error"},g={JVBERi0:"pdf",R0lGODdh:"gif",R0lGODlh:"gif",iVBORw0KGgo:"png","/9j/":"jpg",PHN2Zw:"svg",Qk1:"bmp",AAABAA:"ico"};class d{static CapitalWords(e){return(e||"").split(/[\s_]/).filter(i=>i).map(i=>i?i[0].toUpperCase()+i.substring(1).toLowerCase():"").join(" ")}static formatSeconds(e){const i=Math.floor(e/86400);e%=3600*24;const a=Math.floor(e/3600);e%=3600;const o=Math.floor(e/60);e%=60,e=Math.floor(e);let n="";return i&&(n+=`${i} ${w.default.t("ra_daysShortText")} `),n+=`${a<10?`0${a}`:a}:${o<10?`0${o}`:o}:${e<10?`0${e}`:e}`,n}static getObjectName(e,i,a,o,n){const l=e[i];let t;const s=n?"desc":"name";if(typeof a=="string"&&!o&&(o={language:a},a=null),o=o||{},o.language||(o.language=e["system.config"]&&e["system.config"].common&&e["system.config"].common.language||window.sysLang||"en"),a!=null&&a.name)t=a.name,typeof t=="object"&&(t=o.language&&t[o.language]||t.en);else if(l&&l.common&&l.common[s])t=l.common[s],s!=="desc"&&!t&&l.common.desc&&(t=l.common.desc),typeof t=="object"&&(t=o.language&&t[o.language]||t.en||t.de||t.ru||""),t=(t||"").toString().replace(/[_.]/g," "),t===t.toUpperCase()&&(t=t[0]+t.substring(1).toLowerCase());else{const r=i.lastIndexOf(".");t=i.substring(r+1).replace(/[_.]/g," "),t=d.CapitalWords(t)}return t.trim()}static getObjectNameFromObj(e,i,a,o,n){const l=e;let t=e&&e._id||"";const s=o?"desc":"name";if(typeof i=="string"&&!a&&(a={language:i},i=null),a=a||{},i!=null&&i.name){const r=i.name;r&&typeof r=="object"?t=a.language&&r[a.language]||r.en:t=r}else if(l!=null&&l.common&&l.common[s]){let r=l.common[s];s!=="desc"&&!r&&l.common.desc&&(r=l.common.desc),typeof r=="object"?t=a.language&&r[a.language]||r.en:t=r,t=(t||"").toString().replace(/[_.]/g," "),t===t.toUpperCase()&&(t=t[0]+t.substring(1).toLowerCase())}return n?t:t.trim()}static getSettingsOrder(e,i,a){let o;e&&Object.prototype.hasOwnProperty.call(e,"common")?o=e.common:o=e;let n;if(o!=null&&o.custom){n=o.custom[p];const l=a.user||"admin";if(n&&n[l]){if(i){if(n[l].subOrder&&n[l].subOrder[i])return JSON.parse(JSON.stringify(n[l].subOrder[i]))}else if(n[l].order)return JSON.parse(JSON.stringify(n[l].order))}}return null}static getSettingsCustomURLs(e,i,a){let o;e&&Object.prototype.hasOwnProperty.call(e,"common")?o=e.common:o=e;let n;if(o!=null&&o.custom){n=o.custom[p];const l=a.user||"admin";if(n&&n[l]){if(i){if(n[l].subURLs&&n[l].subURLs[i])return JSON.parse(JSON.stringify(n[l].subURLs[i]))}else if(n[l].URLs)return JSON.parse(JSON.stringify(n[l].URLs))}}return null}static reorder(e,i,a){const o=Array.from(e),[n]=o.splice(i,1);return o.splice(a,0,n),o}static getSettings(e,i,a){let o;const n=(e==null?void 0:e._id)||(i==null?void 0:i.id);let l;if(e&&Object.prototype.hasOwnProperty.call(e,"common")?l=e.common:l=e,l!=null&&l.custom?(o=l.custom,o=o[p]&&o[p][i.user||"admin"]?JSON.parse(JSON.stringify(o[p][i.user||"admin"])):{enabled:!0}):o={enabled:a===void 0?!0:a,useCustom:!1},Object.prototype.hasOwnProperty.call(o,"enabled")||(o.enabled=a===void 0?!0:a),i&&(!o.name&&i.name&&(o.name=i.name),!o.icon&&i.icon&&(o.icon=i.icon),!o.color&&i.color&&(o.color=i.color)),l&&(o.color=o.color||l.color,o.icon=o.icon||l.icon,o.name=o.name||l.name),typeof o.name=="object"&&(o.name=i.language&&o.name[i.language]||o.name.en,o.name=(o.name||"").toString().replace(/_/g," "),o.name===o.name.toUpperCase()&&(o.name=o.name[0]+o.name.substring(1).toLowerCase())),!o.name&&n){const t=n.lastIndexOf(".");o.name=n.substring(t+1).replace(/[_.]/g," "),o.name=(o.name||"").toString().replace(/_/g," "),o.name=d.CapitalWords(o.name)}return o}static setSettings(e,i,a){if(e){e.common=e.common||{},e.common.custom=e.common.custom||{},e.common.custom[p]=e.common.custom[p]||{},e.common.custom[p][a.user||"admin"]=i;const o=e.common.custom[p][a.user||"admin"];return o.useCommon&&(o.color!==void 0&&(e.common.color=o.color,delete o.color),o.icon!==void 0&&(e.common.icon=o.icon,delete o.icon),o.name!==void 0&&(typeof e.common.name!="object"&&a.language?e.common.name={[a.language]:o.name}:typeof e.common.name=="object"&&a.language&&(e.common.name[a.language]=o.name),delete o.name)),!0}return!1}static getIcon(e,i){return e&&e.icon?e.icon.length<=2?b.default.createElement("span",{style:i||{}},e.icon):e.icon.startsWith("data:image")?b.default.createElement("img",{alt:e.name,src:e.icon,style:i||{}}):b.default.createElement("img",{alt:e.name,src:(e.prefix||"")+e.icon,style:i}):null}static getObjectIcon(e,i){if(typeof e=="object"&&(i=e,e=i==null?void 0:i._id),i&&i.common&&i.common.icon){let a=i.common.icon;if(typeof a=="string"&&a.length<=2||a.startsWith("data:image"))return a;const o=e.split(".");return o[0]==="system"?a=`adapter/${o[2]}${a.startsWith("/")?"":"/"}${a}`:a=`adapter/${o[0]}${a.startsWith("/")?"":"/"}${a}`,window.location.pathname.match(/adapter\/[^/]+\/[^/]+\.html/)?a=`../../${a}`:window.location.pathname.match(/material\/[.\d]+/)?a=`../../${a}`:window.location.pathname.match(/material\//)&&(a=`../${a}`),a}return null}static splitCamelCase(e){return e?d.CapitalWords(e):""}static isUseBright(e,i){if(!e)return i===void 0?!0:i;e=e.toString(),e.startsWith("#")&&(e=e.slice(1));let a,o,n;const l=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);if(l&&l.length===4)a=parseInt(l[1],10),o=parseInt(l[2],10),n=parseInt(l[3],10);else{if(e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),e.length===8)e=e.substring(0,6);else if(e.length!==6)return!1;a=parseInt(e.slice(0,2),16),o=parseInt(e.slice(2,4),16),n=parseInt(e.slice(4,6),16)}return a*.299+o*.587+n*.114<=186}static getTimeString(e){if(e=parseFloat(e.toString()),Number.isNaN(e))return"--:--";const i=Math.floor(e/3600),a=Math.floor(e%3600/60),o=e%60;return i?`${i}:${a<10?`0${a}`:a}:${o<10?`0${o}`:o}`:`${a<10?`0${a}`:a}:${o<10?`0${o}`:o}`}static getWindDirection(e){return e>=0&&e<11.25?"N":e>=11.25&&e<33.75?"NNE":e>=33.75&&e<56.25?"NE":e>=56.25&&e<78.75?"ENE":e>=78.75&&e<101.25?"E":e>=101.25&&e<123.75?"ESE":e>=123.75&&e<146.25?"SE":e>=146.25&&e<168.75?"SSE":e>=168.75&&e<191.25?"S":e>=191.25&&e<213.75?"SSW":e>=213.75&&e<236.25?"SW":e>=236.25&&e<258.75?"WSW":e>=258.75&&e<281.25?"W":e>=281.25&&e<303.75?"WNW":e>=303.75&&e<326.25?"NW":e>=326.25&&e<348.75?"NNW":"N"}static padding(e){return typeof e=="string"?e.length<2?`0${e}`:e:e<10?`0${e}`:e.toString()}static setDataFormat(e){e&&(d.dateFormat=e.toUpperCase().split(/[.-/]/),d.dateFormat.splice(d.dateFormat.indexOf("YYYY"),1))}static date2string(e){if(typeof e=="string"){if(e=e.trim(),!e)return"";if(e.match(/^[\w\s]+$/))return e;const a=e.match(/(\d{1,4})[-./](\d{1,2})[-./](\d{1,4})/);if(a){const o=[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)],n=o.find(l=>l>31);if(n!==void 0){o.splice(o.indexOf(n),1);const l=o.find(t=>t>12);l?(o.splice(o.indexOf(l),1),e=new Date(n,o[0]-1,l)):d.dateFormat[0][0]==="M"&&d.dateFormat[1][0]==="D"?(e=new Date(n,o[0]-1,o[1]),Math.abs(e.getTime()-Date.now())>36e5*24*10&&(e=new Date(n,o[1]-1,o[0]))):d.dateFormat[0][0]==="D"&&d.dateFormat[1][0]==="M"?(e=new Date(n,o[1]-1,o[0]),Math.abs(e.getTime()-Date.now())>36e5*24*10&&(e=new Date(n,o[0]-1,o[1]))):e=new Date(e)}else e=new Date(e)}else e=new Date(e)}else e=new Date(e);let i=w.default.t(`ra_dow_${v[e.getDay()]}`).replace("ra_dow_","");return i+=`. ${e.getDate()} ${w.default.t(`ra_month_${_[e.getMonth()]}`).replace("ra_month_","")}`,i}static renderTextWithA(e){let i=e.match(/<a [^<]+<\/a>|<br\s?\/?>|<b>[^<]+<\/b>|<i>[^<]+<\/i>/);if(i){const a=[];let o=1;do{const n=e.substring(0,i.index);if(e=e.substring((i.index||0)+i[0].length),n&&a.push(b.default.createElement("span",{key:`a${o++}`},n)),i[0].startsWith("<b>"))a.push(b.default.createElement("b",{key:`a${o++}`},i[0].substring(3,i[0].length-4)));else if(i[0].startsWith("<i>"))a.push(b.default.createElement("i",{key:`a${o++}`},i[0].substring(3,i[0].length-4)));else if(i[0].startsWith("<br"))a.push(b.default.createElement("br",{key:`a${o++}`}));else{const l=i[0].match(/href="([^"]+)"/)||i[0].match(/href='([^']+)'/),t=i[0].match(/target="([^"]+)"/)||i[0].match(/target='([^']+)'/),s=i[0].match(/rel="([^"]+)"/)||i[0].match(/rel='([^']+)'/),r=i[0].match(/>([^<]*)</);a.push(b.default.createElement("a",{key:`a${o++}`,href:l?l[1]:"",target:t?t[1]:"_blank",rel:s?s[1]:"",style:{color:"inherit"}},r?r[1]:""))}i=e?e.match(/<a [^<]+<\/a>|<br\s?\/?>|<b>[^<]+<\/b>|<i>[^<]+<\/i>/):null,i||e&&a.push(b.default.createElement("span",{key:`a${o++}`},e))}while(i);return a}return e}static getSmartName(e,i,a,o){var n,l;if(!i){if(!o)return!e.common||e&&!e.common?e.smartName:e.common.smartName;if(e&&!e.common)return e.smartName;const s=e;return!((n=s==null?void 0:s.common)===null||n===void 0)&&n.custom&&s.common.custom[a]?s.common.custom[a].smartName:void 0}if(!o)return e[i].common.smartName;const t=e[i];return!((l=t==null?void 0:t.common)===null||l===void 0)&&l.custom&&t.common.custom[a]&&t.common.custom[a].smartName||null}static getSmartNameFromObj(e,i,a){var o;return a?e&&!e.common?e.smartName:!((o=e==null?void 0:e.common)===null||o===void 0)&&o.custom&&e.common.custom[i]?e.common.custom[i].smartName:void 0:!e.common||e&&!e.common?e.smartName:e.common.smartName}static enableSmartName(e,i,a){a?(e.common.custom=e.common.custom||{},e.common.custom[i]=e.common.custom[i]||{},e.common.custom[i].smartName={}):e.common.smartName={}}static removeSmartName(e,i,a){a?e.common&&e.common.custom&&e.common.custom[i]&&(e.common.custom[i]=null):e.common.smartName=null}static updateSmartName(e,i,a,o,n,l){const t=w.default.getLanguage();if(typeof e.common.smartName=="string"){const s=e.common.smartName;e.common.smartName={},e.common.smartName[t]=s}if(e.native&&e.native.byON){delete e.native.byON;let s=e.common.smartName;s?typeof s!="object"&&(s={en:s},s[t]=s.en):s={},e.common.smartName=s}if(o!==void 0&&(l?(e.common.custom=e.common.custom||{},e.common.custom[n]=e.common.custom[n]||{},e.common.custom[n].smartName=e.common.custom[n].smartName||{},o?e.common.custom[n].smartName.smartType=o:delete e.common.custom[n].smartName.smartType):(e.common.smartName=e.common.smartName||{},o?e.common.smartName.smartType=o:delete e.common.smartName.smartType)),a!==void 0&&(l?(e.common.custom=e.common.custom||{},e.common.custom[n]=e.common.custom[n]||{},e.common.custom[n].smartName=e.common.custom[n].smartName||{},e.common.custom[n].smartName.byON=a):(e.common.smartName=e.common.smartName||{},e.common.smartName.byON=a)),i!==void 0){let s;if(l?(e.common.custom=e.common.custom||{},e.common.custom[n]=e.common.custom[n]||{},e.common.custom[n].smartName=e.common.custom[n].smartName||{},s=e.common.custom[n].smartName):(e.common.smartName=e.common.smartName||{},s=e.common.smartName),s[t]=i,s&&(!s[t]||s[t]===e.common.name&&(!e.common.role||e.common.role.includes("button")))){delete s[t];let r=!0;for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){r=!1;break}r&&(l&&e.common.custom&&e.common.custom[n]?e.common.custom[n].smartName.byON===void 0?delete e.common.custom[n]:(delete e.common.custom[n].en,delete e.common.custom[n].de,delete e.common.custom[n].ru,delete e.common.custom[n].nl,delete e.common.custom[n].pl,delete e.common.custom[n].it,delete e.common.custom[n].fr,delete e.common.custom[n].pt,delete e.common.custom[n].es,delete e.common.custom[n].uk,delete e.common.custom[n]["zh-cn"]):e.common.smartName&&e.common.smartName.byON!==void 0?(delete e.common.smartName.en,delete e.common.smartName.de,delete e.common.smartName.ru,delete e.common.smartName.nl,delete e.common.smartName.pl,delete e.common.smartName.it,delete e.common.smartName.fr,delete e.common.smartName.pt,delete e.common.smartName.es,delete e.common.smartName.uk,delete e.common.smartName["zh-cn"]):e.common.smartName=null)}}}static disableSmartName(e,i,a){a?(e.common.custom=e.common.custom||{},e.common.custom[i]=e.common.custom[i]||{},e.common.custom[i].smartName=!1):e.common.smartName=!1}static copyToClipboard(e,i){return i&&(i.stopPropagation(),i.preventDefault()),(0,O.default)(e)}static getFileExtension(e){const i=(e||"").lastIndexOf(".");return i!==-1?e.substring(i+1).toLowerCase():null}static formatBytes(e){if(Math.abs(e)<1024)return`${e} B`;const i=["KB","MB","GB"];let a=-1;do e/=1024,++a;while(Math.abs(e)>=1024&&a<i.length-1);return`${e.toFixed(1)} ${i[a]}`}static getInvertedColor(e,i,a){if(!e)return;const o=d.invertColor(e,!0);if(o==="#FFFFFF"&&(i==="dark"||a&&i==="light"))return"#DDD";if(o==="#000000"&&(i==="light"||a&&i==="dark"))return"#222"}static invertColor(e,i){if(e==null||e===""||typeof e!="string")return"";if(e.startsWith("rgba")){const c=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/);c&&(e=parseInt(c[1],10).toString(16).padStart(2,"0")+parseInt(c[2],10).toString(16).padStart(2,"0")+parseInt(c[2],10).toString(16).padStart(2,"0"))}else if(e.startsWith("rgb")){const c=e.match(/rgb?\((\d+),\s*(\d+),\s*(\d+)\)/);c&&(e=parseInt(c[1],10).toString(16).padStart(2,"0")+parseInt(c[2],10).toString(16).padStart(2,"0")+parseInt(c[2],10).toString(16).padStart(2,"0"))}else e.startsWith("#")&&(e=e.slice(1));e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let a=null;if(e.length===8)a=e.substring(6,8),e=e.substring(0,6);else if(e.length!==6)return console.warn(`Cannot invert color: ${e}`),e;const o=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),l=parseInt(e.slice(4,6),16);if(i)return o*.299+n*.587+l*.114>186?`#000000${a||""}`:`#FFFFFF${a||""}`;const t=(255-o).toString(16),s=(255-n).toString(16),r=(255-l).toString(16);return`#${t.padStart(2,"0")}${s.padStart(2,"0")}${r.padStart(2,"0")}${a||""}`}static color2rgb(e){if(e==null||e===""||typeof e!="string")return"";if(e.startsWith("rgba")){const i=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/);i&&(e=parseInt(i[1],10).toString(16).padStart(2,"0")+parseInt(i[2],10).toString(16).padStart(2,"0")+parseInt(i[2],10).toString(16).padStart(2,"0"))}else if(e.startsWith("rgb")){const i=e.match(/rgb?\((\d+),\s*(\d+),\s*(\d+)\)/);i&&(e=parseInt(i[1],10).toString(16).padStart(2,"0")+parseInt(i[2],10).toString(16).padStart(2,"0")+parseInt(i[2],10).toString(16).padStart(2,"0"))}else e.startsWith("#")&&(e=e.slice(1));return e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),e.length!==6&&e.length!==8?(console.warn(`Cannot invert color: ${e}`),!1):[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}static rgb2lab(e){let i=e[0]/255,a=e[1]/255,o=e[2]/255;i=i>.04045?F((i+.055)/1.055,2.4):i/12.92,a=a>.04045?F((a+.055)/1.055,2.4):a/12.92,o=o>.04045?F((o+.055)/1.055,2.4):o/12.92;let n=(i*.4124+a*.3576+o*.1805)/.95047,l=i*.2126+a*.7152+o*.0722,t=(i*.0193+a*.1192+o*.9505)/1.08883;return n=n>.008856?F(n,.33333333):7.787*n+.137931,l=l>.008856?F(l,.33333333):7.787*l+.137931,t=t>.008856?F(t,.33333333):7.787*t+.137931,[116*l-16,500*(n-l),200*(l-t)]}static colorDistance(e,i){const a=d.color2rgb(e),o=d.color2rgb(i);if(!a||!o)return 0;const n=d.rgb2lab(a),l=d.rgb2lab(o),t=n[0]-l[0],s=n[1]-l[1],r=n[2]-l[2],c=Math.sqrt(n[1]*n[1]+n[2]*n[2]),u=Math.sqrt(l[1]*l[1]+l[2]*l[2]),m=c-u;let f=s*s+r*r-m*m;f=f<0?0:Math.sqrt(f);const h=1+.045*c,E=1+.015*c,N=t,P=m/h,D=f/E,R=N*N+P*P+D*D;return R<0?0:R}static _toVal(e){let i,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e))for(let o=0;o<e.length;o++)e[o]&&(i=d._toVal(e[o]),i&&(a&&(a+=" "),a+=i));else for(const o in e)e[o]&&(a&&(a+=" "),a+=o);return a}static clsx(...e){let i=0,a,o,n="";for(;i<e.length;)a=e[i++],a&&(o=d._toVal(a),o&&(n&&(n+=" "),n+=o));return n}static getThemeName(e){return window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"&&window.vendorPrefix!=="MV"?window.vendorPrefix:e||((window._localStorage||window.localStorage).getItem("App.themeName")?(window._localStorage||window.localStorage).getItem("App.themeName"):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"colored")}static getThemeType(e){return window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"?"light":(e=e||(window._localStorage||window.localStorage).getItem("App.themeName"),e==="dark"||e==="blue"?"dark":"light")}static setThemeName(e){window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"&&window.vendorPrefix!=="MV"||((window._localStorage||window.localStorage).setItem("App.themeName",e),(window._localStorage||window.localStorage).setItem("App.theme",e==="dark"||e==="blue"?"dark":"light"))}static toggleTheme(e){if(window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"&&window.vendorPrefix!=="MV")return window.vendorPrefix;e=e||(window._localStorage||window.localStorage).getItem("App.themeName")||"light";const i=d.getThemeNames(),a=e?i.indexOf(e):-1;let o;return a!==-1?o=i[(a+1)%i.length]:o=i[0],d.setThemeName(o),o}static getThemeNames(){return window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"&&window.vendorPrefix!=="MV"?[window.vendorPrefix]:["light","dark","blue","colored"]}static parseQuery(e){e=(e||"").toString().replace(/^\?/,"");const i={};return e.split("&").forEach(a=>{if(a=a.trim(),a){const o=a.split("="),n=decodeURIComponent(o[0]).trim();if(o.length>1){if(i[n]=decodeURIComponent(o[1]),i[n]==="true")i[n]=!0;else if(i[n]==="false")i[n]=!1;else if(i[n]){const l=parseFloat(i[n].toString());l.toString()===i[n]&&(i[n]=l)}}else i[n]=!0}}),i}static getParentId(e){const i=(e||"").toString().split(".");return i.length>1?(i.pop(),i.join(".")):null}static formatDate(e,i){if(!e)return"";let a;const o=e.getMonth()+1,n=e.getDate();i==="MM/DD/YYYY"?a=`${o<10?`0${o}`:o}/${n<10?`0${n}`:n}/${e.getFullYear()}`:a=`${e.getFullYear()}-${o}-${n}`;let l=e.getHours();return l<10?a+=` 0${l}`:a+=` ${l}`,l=e.getMinutes(),l<10?a+=`:0${l}`:a+=`:${l}`,l=e.getSeconds(),l<10?a+=`:0${l}`:a+=`:${l}`,l=e.getMilliseconds(),l<10?a+=`.00${l}`:l<100?a+=`.0${l}`:a+=`.${l}`,a}static formatTime(e){if(e){e=Math.round(e);const i=Math.floor(e/(3600*24)),a=Math.floor(e%(3600*24)/3600),o=Math.floor(e%3600/60),n=e%60;return i?`${i}.${a.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`:a?`${a}:${o.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`:`0:${o.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`}return"0:00:00"}static MDtext2link(e){const i=e.match(/\d+\.\)\s/);return i&&(e=e.replace(i[0],i[0].replace(/\s/,"&nbsp;"))),e.replace(/[^a-zA-Zа-яА-Я0-9]/g,"").trim().replace(/\s/g,"").toLowerCase()}static openLink(e,i){e=e.replace(/\/\/([0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*)(:\d+)?\//i,"//[$1]$2/"),i==="this"?window.location.href=e:window.open(e,i||"_blank")}static MDgetTitle(e){const i=d.MDextractHeader(e),a=i.header;let o=i.body;if(!a.title){o=o.replace(/{[^}]*}/g,""),o=o.trim();const n=o.replace(/\r/g,"").split(`
`);for(let l=0;l<n.length;l++)if(n[l].startsWith("# "))return n[l].substring(2).trim();return""}return a.title?a.title.toString():""}static MDextractHeader(e){const i={};if(e.substring(0,3)==="---"){const a=e.substring(3).indexOf(`
---`);a!==-1&&(e.substring(3,a+3).replace(/\r/g,"").split(`
`).forEach(l=>{if(!l.trim())return;const t=l.indexOf(":");if(t!==-1){const s=l.substring(0,t).trim();let r=l.substring(t+1).trim();r=r.replace(/^['"]|['"]$/g,""),r==="true"?i[s]=!0:r==="false"?i[s]=!1:parseFloat(r).toString()===r?i[s]=parseFloat(r):i[s]=r}else i[l.trim()]=!0}),e=e.substring(a+7))}return{header:i,body:e}}static MDremoveDocsify(e){const i=e.match(/{docsify-[^}]*}/g);return i&&i.forEach(a=>e=e.replace(a,"")),e}static generateFile(e,i){const a=document.createElement("a");a.setAttribute("href",`data:application/json;charset=utf-8,${encodeURIComponent(JSON.stringify(i,null,2))}`),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}static quality2text(e){const i=e&4294901760,a=S[e];let o;return a?o=[a]:e&1?o=[S[1],`0x${(e&65534).toString(16)}`]:e&2?o=[S[2],`0x${(e&65533).toString(16)}`]:o=[`0x${e.toString(16)}`],i&&o.push(`0x${(i>>16).toString(16).toUpperCase()}`),o}static clone(e){return JSON.parse(JSON.stringify(e))}static getStates(e){var i;let a=(i=e==null?void 0:e.common)===null||i===void 0?void 0:i.states;if(a){if(typeof a=="string"&&a[0]==="{")try{a=JSON.parse(a)}catch(o){console.error(`Cannot parse states: ${a}`),a=null}else if(typeof a=="string"){const o=a.split(";");a={};for(let n=0;n<o.length;n++){const l=o[n].split(":");a[l[0]]=l[1]}}else if(Array.isArray(a)){const o={};return(e==null?void 0:e.common.type)==="number"?a.forEach((n,l)=>o[l]=n):(e==null?void 0:e.common.type)==="string"?a.forEach(n=>o[n]=n):(e==null?void 0:e.common.type)==="boolean"&&(o.false=a[0],o.true=a[1]),o}}return a||null}static getSvg(e){return $(this,null,function*(){const a=yield(yield fetch(e)).blob();return yield new Promise(o=>{const n=new FileReader;n.onload=function(){var l;o(((l=this.result)===null||l===void 0?void 0:l.toString())||"")},n.readAsDataURL(a)})})}static detectMimeType(e){const i=Object.keys(g).find(a=>e.startsWith(a));return i?g[i]:null}static isStableRepository(e){return!!(typeof e=="string"&&e.toLowerCase().startsWith("stable")||e&&typeof e!="string"&&e.find(i=>i.toLowerCase().startsWith("stable")))}static isStringInteger(e){return parseInt(e).toString()===e}static isValidDate(e){return e instanceof Date&&!isNaN(e.getTime())}}d.namespace=p,d.INSTANCES="instances",d.dateFormat=["DD","MM"],d.FORBIDDEN_CHARS=/[^._\-/ :!#$%&()+=@^{}|~\p{Ll}\p{Lu}\p{Nd}]+/gu,k.default=d},15090:function(x,k,y){var T=this&&this.__createBinding||(Object.create?function(i,a,o,n){n===void 0&&(n=o);var l=Object.getOwnPropertyDescriptor(a,o);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,n,l)}:function(i,a,o,n){n===void 0&&(n=o),i[n]=a[o]}),b=this&&this.__setModuleDefault||(Object.create?function(i,a){Object.defineProperty(i,"default",{enumerable:!0,value:a})}:function(i,a){i.default=a}),O=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var a={};if(i!=null)for(var o in i)o!=="default"&&Object.prototype.hasOwnProperty.call(i,o)&&T(a,i,o);return b(a,i),a},w=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(k,"__esModule",{value:!0});const p=O(y(28437)),v=y(70143),_=y(67085),S=y(21839),g=w(y(42854)),d={suppress:{fontSize:12},suppressRoot:{marginTop:16}};class C extends p.Component{constructor(a){if(super(a),!this.props.dialogName&&this.props.suppressQuestionMinutes)throw new Error("dialogName required if suppressQuestionMinutes used");let o=!1;this.props.suppressQuestionMinutes&&(o=parseInt((window._localStorage||window.localStorage).getItem(this.props.dialogName),10)||0,o?Date.now()>o&&((window._localStorage||window.localStorage).removeItem(this.props.dialogName),o=!1):o=!1),this.state={suppress:o}}handleOk(){this.state.suppress&&(window._localStorage||window.localStorage).setItem(this.props.dialogName,Date.now()+(this.props.suppressQuestionMinutes||2)*6e4),this.props.onClose&&this.props.onClose(!0)}handleCancel(){this.props.onClose&&this.props.onClose(!1)}render(){return typeof this.state.suppress=="number"?(setTimeout(()=>this.props.onClose&&this.props.onClose(!0),100),null):p.default.createElement(_.Dialog,{open:!0,maxWidth:"md",fullWidth:this.props.fullWidth!==void 0?this.props.fullWidth:!0,onClose:(a,o)=>{o!=="backdropClick"&&o!=="escapeKeyDown"&&this.handleCancel()},"aria-labelledby":"ar_confirmation_dialog_title","aria-describedby":"ar_confirmation_dialog_description"},p.default.createElement(_.DialogTitle,{id:"ar_confirmation_dialog_title"},this.props.title||g.default.t("ra_Are you sure?")),p.default.createElement(_.DialogContent,null,p.default.createElement(_.DialogContentText,{id:"ar_confirmation_dialog_description"},this.props.icon||null,this.props.text,this.props.suppressQuestionMinutes?p.default.createElement("br",null):null,this.props.suppressQuestionMinutes?p.default.createElement(_.FormControlLabel,{classes:{label:this.props.classes.suppress,root:this.props.classes.suppressRoot},control:p.default.createElement(_.Checkbox,{id:`ar_dialog_confirm_suppress_${this.props.dialogName||""}`,checked:!!this.state.suppress,onChange:()=>this.setState({suppress:!this.state.suppress})}),label:this.props.suppressText||g.default.t("ra_Suppress question for next %s minutes",(this.props.suppressQuestionMinutes||2).toString())}):null)),p.default.createElement(_.DialogActions,null,p.default.createElement(_.Button,{id:`ar_dialog_confirm_ok_${this.props.dialogName||""}`,variant:"contained",onClick:()=>this.handleOk(),color:"primary",autoFocus:!0,startIcon:p.default.createElement(S.Check,null)},this.props.ok||g.default.t("ra_Ok")),p.default.createElement(_.Button,{id:`ar_dialog_confirm_cancel_${this.props.dialogName||""}`,variant:"contained",onClick:()=>this.handleCancel(),color:"grey",startIcon:p.default.createElement(S.Close,null)},this.props.cancel||g.default.t("ra_Cancel"))))}}const e=(0,v.withStyles)(d)(C);k.default=e},74732:function(x,k,y){var T=this&&this.__createBinding||(Object.create?function(d,C,e,i){i===void 0&&(i=e);var a=Object.getOwnPropertyDescriptor(C,e);(!a||("get"in a?!C.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return C[e]}}),Object.defineProperty(d,i,a)}:function(d,C,e,i){i===void 0&&(i=e),d[i]=C[e]}),b=this&&this.__setModuleDefault||(Object.create?function(d,C){Object.defineProperty(d,"default",{enumerable:!0,value:C})}:function(d,C){d.default=C}),O=this&&this.__importStar||function(d){if(d&&d.__esModule)return d;var C={};if(d!=null)for(var e in d)e!=="default"&&Object.prototype.hasOwnProperty.call(d,e)&&T(C,d,e);return b(C,d),C},w=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(k,"__esModule",{value:!0});const p=O(y(28437)),v=y(67085),_=y(21839),S=w(y(42854));class g extends p.Component{handleOk(){this.props.onClose&&this.props.onClose()}render(){return p.default.createElement(v.Dialog,{open:!0,maxWidth:"sm",fullWidth:this.props.fullWidth!==void 0?this.props.fullWidth:!0,onClose:()=>this.handleOk(),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},p.default.createElement(v.DialogTitle,{id:"ar_alert_dialog_title"},this.props.title||S.default.t("ra_Error")),p.default.createElement(v.DialogContent,null,p.default.createElement(v.DialogContentText,{id:"ar_alert_dialog_description"},this.props.text||S.default.t("ra_Unknown error!"))),p.default.createElement(v.DialogActions,null,p.default.createElement(v.Button,{id:"ar_dialog_error_ok",variant:"contained",onClick:()=>this.handleOk(),color:"primary",autoFocus:!0,startIcon:p.default.createElement(_.Check,null)},S.default.t("ra_Ok"))))}}k.default=g},84380:(x,k)=>{Object.defineProperty(k,"__esModule",{value:!0});function y(){console.log(`
\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2588\u2588\u2588\u2588\u2557 \u2588\u2588\u2557  \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2557 
\u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551 \u2588\u2588\u2554\u255D\u2588\u2588\u2554\u2550\u2550\u2550\u2550\u255D\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557
\u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255D\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255D\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2588\u2588\u2588\u2554\u255D \u2588\u2588\u2588\u2588\u2588\u2557  \u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255D
\u2588\u2588\u2551\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557\u2588\u2588\u2551   \u2588\u2588\u2551\u2588\u2588\u2554\u2550\u2588\u2588\u2557 \u2588\u2588\u2554\u2550\u2550\u255D  \u2588\u2588\u2554\u2550\u2550\u2588\u2588\u2557
\u2588\u2588\u2551\u255A\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255D\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255D\u2588\u2588\u2551  \u2588\u2588\u2551\u255A\u2588\u2588\u2588\u2588\u2588\u2588\u2554\u255D\u2588\u2588\u2551  \u2588\u2588\u2557\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2557\u2588\u2588\u2551  \u2588\u2588\u2551
\u255A\u2550\u255D \u255A\u2550\u2550\u2550\u2550\u2550\u255D \u255A\u2550\u2550\u2550\u2550\u2550\u255D \u255A\u2550\u255D  \u255A\u2550\u255D \u255A\u2550\u2550\u2550\u2550\u2550\u255D \u255A\u2550\u255D  \u255A\u2550\u255D\u255A\u2550\u2550\u2550\u2550\u2550\u2550\u255D\u255A\u2550\u255D  \u255A\u2550\u255D
`),console.log("Nice to see you here! :) Join our dev community here https://github.com/ioBroker/ioBroker or here https://github.com/iobroker-community-adapters"),console.log("Help us to create open source project with reactJS!"),console.log("See you :)")}k.default=y},86465:(x,k,y)=>{Object.defineProperty(k,"__esModule",{value:!0});const T=y(89114),b=y(99761),O=11/23/100;function w(g){const d={r:0,g:0,b:0};if(g.length===7)d.r=parseInt(g.substr(1,2),16),d.g=parseInt(g.substr(3,2),16),d.b=parseInt(g.substr(5,2),16);else if(g.length===4){const C=g.substr(1,1),e=g.substr(2,1),i=g.substr(3,1);d.r=parseInt(C+C,16),d.g=parseInt(e+e,16),d.b=parseInt(i+i,16)}return d}function p(g){return`#${Math.round(g.r).toString(16)}${Math.round(g.g).toString(16)}${Math.round(g.b).toString(16)}`}function v(g,d,C){const e=w(g),i=w(d);return e.r+=i.r*(.05+O*(C-1)),e.g+=i.g*(.05+O*(C-1)),e.b+=i.b*(.05+O*(C-1)),p(e)}function _(g,d){const C={};for(let e=1;e<=24;e++)C[`elevation${e}`]={backgroundColor:v(g,d,e)};return C}const S=g=>{var d,C,e,i,a,o,n,l,t;let s;g==="dark"?s={name:g,palette:{mode:"dark",background:{paper:"#121212",default:"#121212"},primary:{main:"#4dabf5"},secondary:{main:"#436a93"},expert:"#14bb00",text:{primary:"#ffffff",secondary:"#ffffff"}},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#272727"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:b.orange[200],"&:hover":{color:b.orange[100]}}},MuiPaper:_("#121212","#fff")}}:g==="blue"?s={name:g,palette:{mode:"dark",background:{paper:"#151d21",default:"#151d21"},primary:{main:"#4dabf5"},secondary:{main:"#436a93"},expert:"#14bb00",text:{primary:"#ffffff",secondary:"#ffffff"}},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#2a3135"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:b.orange[200],"&:hover":{color:b.orange[100]}}},MuiPaper:_("#151d21","#fff")}}:g==="colored"?s={name:g,palette:{mode:"light",primary:{main:"#3399CC"},secondary:{main:"#164477"},expert:"#96fc96"},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#3399CC"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:b.orange[400],"&:hover":{color:b.orange[300]}}}}}:g==="PT"?s={name:g,palette:{mode:"light",primary:{main:"#0F99DE"},secondary:{main:"#88A536"},expert:"#BD1B24"},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#0F99DE"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:b.orange[400],"&:hover":{color:b.orange[300]}}}}}:g==="DX"?s={name:g,palette:{mode:"light",primary:{main:"#F5F5F7"},secondary:{main:"#a9a9a9"},expert:"#BD1B24",text:{primary:"#007AFE",secondary:"#007AFE",disabled:"#007AFEAA"}},overrides:{MuiAppBar:{colorDefault:{backgroundColor:"#a9a9a9"}},MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:b.orange[400],"&:hover":{color:b.orange[300]}}}}}:s={name:g,palette:{mode:"light",primary:{main:"#3399CC",light:void 0,dark:void 0,contrastText:void 0},secondary:{main:"#164477"},expert:"#14bb00"},overrides:{MuiLink:{root:{textTransform:"uppercase",transition:"color .3s ease",color:b.orange[400],"&:hover":{color:b.orange[300]}}}}},s.toolbar={height:48},s.saveToolbar={background:(C=(d=s.palette)===null||d===void 0?void 0:d.primary)===null||C===void 0?void 0:C.main,button:{borderRadius:3,height:32}},s.palette&&(s.palette.grey={main:b.grey[300],dark:b.grey[400]});const r=(0,T.createTheme)(s),c=r.palette;return(0,T.createTheme)(r,{components:{MuiButton:{variants:[{props:{variant:"contained",color:"grey"},style:{color:c.getContrastText&&c.grey&&c.grey[300]?c.getContrastText(c.grey[300]):void 0}},{props:{variant:"outlined",color:"grey"},style:{color:(e=c.text)===null||e===void 0?void 0:e.primary,borderColor:c.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)","&.Mui-disabled":{border:`1px solid ${(i=c.action)===null||i===void 0?void 0:i.disabledBackground}`},"&:hover":{borderColor:c.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)",backgroundColor:(0,T.alpha)(((a=c.text)===null||a===void 0?void 0:a.primary)||"",((o=c.action)===null||o===void 0?void 0:o.hoverOpacity)||.04)}}},{props:{variant:"text",color:"grey"},style:{color:(n=c.text)===null||n===void 0?void 0:n.primary,"&:hover":{backgroundColor:(0,T.alpha)(((l=c.text)===null||l===void 0?void 0:l.primary)||"",((t=c.action)===null||t===void 0?void 0:t.hoverOpacity)||.04)}}}]}}})};k.default=S},42854:(x,k)=>{Object.defineProperty(k,"__esModule",{value:!0});class y{static setLanguage(b){b&&(y.lang=b)}static extendTranslations(b,O){if(b.prefix){const w=b;if(typeof w.prefix=="string"){const p=w.prefix;delete w.prefix,Object.keys(w).forEach(v=>{const _=v,S={},g=w[_];Object.keys(g).forEach(d=>{d&&g&&(d.startsWith(p)?S[d]=g[d]:S[`${p}${d}`]=g[d])}),b[_]=S})}else console.warn("Found prefix in translations, but it is not a string")}try{if(!O)b.en&&b.de&&b.ru?Object.keys(b).forEach(w=>{const p=w;y.translations[p]=y.translations[p]||{};const v=y.translations[p];Object.assign(v,b[p])}):Object.keys(b).forEach(w=>{const p=b[w];Object.keys(p).forEach(v=>{const _=v,S=y.translations[_];S?S[w]?S[w]!==p[_]&&console.warn(`Translation for word "${w}" in "${_}" was ignored: existing = "${S[w]}", new = ${p[_]}`):S[w]=p[_]:console.warn(`Used unknown language: ${_}`)})});else{y.translations[O]||console.warn(`Used unknown language: ${O}`),y.translations[O]=y.translations[O]||{};const w=y.translations[O];w&&Object.keys(b).forEach(p=>{w[p]?w[p]!==b[p]&&console.warn(`Translation for word "${p}" in "${O}" was ignored: existing = "${w[p]}", new = ${b[p]}`):w[p]=b[p]})}}catch(w){console.error(`Cannot apply translations: ${w}`)}}static setTranslations(b){b&&(y.translations=b)}static getLanguage(){return y.lang}static t(b,...O){const w=y.translations[y.lang];if(w){const p=w[b];if(p)b=p;else if(y.unknownTranslations.includes(b)||(y.unknownTranslations.push(b),!y._disableWarning&&console.log(`Translate: ${b}`)),y.lang!=="en"&&y.translations.en){const v=y.translations.en[b];v&&(b=v)}}for(const p of O)b=b.replace("%s",p);return b}static i18nShow(b){const O={};b?typeof b=="string"?(y.unknownTranslations.forEach(w=>{w.startsWith(b)&&(O[w]=w.replace(b,""))}),console.log(JSON.stringify(O,null,2))):typeof b=="object"&&(y.unknownTranslations.forEach(w=>{b.test(w)&&(O[w]=w)}),console.log(JSON.stringify(O,null,2))):(y.unknownTranslations.forEach(w=>O[w]=w),console.log(JSON.stringify(O,null,2)))}static disableWarning(b){y._disableWarning=!!b}}y.translations={},y.unknownTranslations=[],y.lang=window.sysLang||"en",y._disableWarning=!1,window.i18nShow=y.i18nShow,window.i18nDisableWarning=y.disableWarning,k.default=y},34998:(x,k,y)=>{var T=Object.defineProperty,b=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,w=Object.prototype.hasOwnProperty,p=(a,o)=>{for(var n in o)T(a,n,{get:o[n],enumerable:!0})},v=(a,o,n,l)=>{if(o&&typeof o=="object"||typeof o=="function")for(let t of O(o))!w.call(a,t)&&t!==n&&T(a,t,{get:()=>o[t],enumerable:!(l=b(o,t))||l.enumerable});return a},_=a=>v(T({},"__esModule",{value:!0}),a),S={};p(S,{AdminConnection:()=>i}),x.exports=_(S);var g=y(46089),d=y(52342);function C(a,o){if(!o)return;let n;if(o.length<700&&(o.indexOf("/")!==-1||o.indexOf("\\")!==-1))if(a.toLowerCase().includes("private"))n="private";else if(o.toLowerCase().includes("private"))n="private";else if(a.toLowerCase().includes("public"))n="public";else if(o.toLowerCase().includes("public"))n="public";else if(a.toLowerCase().includes("chain"))n="chained";else if(o.toLowerCase().includes("chain"))n="chained";else return;else n=o.substring(0,26)==="-----BEGIN RSA PRIVATE KEY"||o.substring(0,22)==="-----BEGIN PRIVATE KEY"?"private":"public",n==="public"&&o.split("-----END CERTIFICATE-----").filter(t=>t.replace(/\r\n|\r|\n/,"").trim()).length>1&&(n="chained");return{name:a,type:n}}function e(a){var o,n;const l=[{name:"[IPv4] 0.0.0.0 - Listen on all IPs",address:"0.0.0.0",family:"ipv4"}],t=[{name:"[IPv6] :: - Listen on all IPs",address:"::",family:"ipv6"}];if(!((n=(o=a.native)===null||o===void 0?void 0:o.hardware)===null||n===void 0)&&n.networkInterfaces){for(const[s,r]of Object.entries(a.native.hardware.networkInterfaces))if(r)for(const c of r)c.family!=="IPv6"?l.push({name:`[${c.family}] ${c.address} - ${s}`,address:c.address,family:"ipv4"}):t.push({name:`[${c.family}] ${c.address} - ${s}`,address:c.address,family:"ipv6"})}return{IPs4:l,IPs6:t}}class i extends g.Connection{constructor(o){super(o)}request(o){return super.request(M({requireAdmin:!0},o))}getCertificates(o){return this.request({cacheKey:"cert",forceUpdate:o,commandTimeout:!1,executor:n=>$(this,null,function*(){var l;const t=yield this.getObject("system.certificates");!((l=t==null?void 0:t.native)===null||l===void 0)&&l.certificates?n(Object.entries(t.native.certificates).map(([s,r])=>C(s,r)).filter(s=>!!s)):n([])})})}getLogs(o,n=200){return this.request({commandTimeout:!1,executor:l=>{this._socket.emit("sendToHost",o,"getLogs",n||200,t=>{l(t)})}})}getLogsFiles(o){return this.request({commandTimeout:!1,executor:(n,l)=>{this._socket.emit("readLogs",o,(t,s)=>{t&&l(t),n(s)})}})}delLogs(o){return this.request({commandTimeout:!1,executor:(n,l)=>{this._socket.emit("sendToHost",o,"delLogs",null,t=>{t&&l(t),n()})}})}deleteFile(o,n){return this.request({commandTimeout:!1,executor:(l,t)=>{this._socket.emit("deleteFile",o,n,s=>{s&&t(s),l()})}})}deleteFolder(o,n){return this.request({commandTimeout:!1,executor:(l,t)=>{this._socket.emit("deleteFolder",o,n,s=>{s&&t(s),l()})}})}rename(o,n,l){return this.request({commandTimeout:!1,executor:(t,s)=>{this._socket.emit("rename",o,n,l,r=>{r&&s(r),t()})}})}renameFile(o,n,l){return this.request({commandTimeout:!1,executor:(t,s)=>{this._socket.emit("renameFile",o,n,l,r=>{r&&s(r),t()})}})}getHosts(o){return this.request({cacheKey:"hosts",forceUpdate:o,commandTimeout:!1,executor:(n,l)=>{this._socket.emit("getObjectView","system","host",{startkey:"system.host.",endkey:"system.host.\u9999"},(t,s)=>{t?l(t):n((0,d.getObjectViewResultToArray)(s))})}})}getUsers(o){return this.request({cacheKey:"users",forceUpdate:o,commandTimeout:!1,executor:(n,l)=>{this._socket.emit("getObjectView","system","user",{startkey:"system.user.",endkey:"system.user.\u9999"},(t,s)=>{t?l(t):n((0,d.getObjectViewResultToArray)(s))})}})}renameGroup(o,n,l){return this.request({commandTimeout:!1,executor:t=>$(this,null,function*(){var s;const r=yield this.getGroups(!0),c=r.filter(m=>m._id.startsWith(`${o}.`));for(const m of c){const f=m._id,h=n+m._id.substring(o.length);m._id=h,yield this.setObject(h,m),yield this.delObject(f)}const u=r.find(m=>m._id===o);if(u){const m=u._id;u._id=n,l!==void 0&&((s=u.common)!==null&&s!==void 0||(u.common={}),u.common.name=l),yield this.setObject(n,u),yield this.delObject(m)}t()})})}getHostInfo(o,n,l){return o=(0,d.normalizeHostId)(o),this.request({cacheKey:`hostInfo_${o}`,forceUpdate:n,commandTimeout:l,executor:(t,s,r)=>{this._socket.emit("sendToHost",o,"getHostInfo",null,c=>{r.elapsed||(r.clearTimeout(),c===g.ERRORS.PERMISSION_ERROR?s('May not read "getHostInfo"'):c?t(c):s('Cannot read "getHostInfo"'))})}})}getHostInfoShort(o,n,l){return o=(0,d.normalizeHostId)(o),this.request({cacheKey:`hostInfoShort_${o}`,forceUpdate:n,commandTimeout:l,executor:(t,s,r)=>{this._socket.emit("sendToHost",o,"getHostInfoShort",null,c=>{r.elapsed||(r.clearTimeout(),c===g.ERRORS.PERMISSION_ERROR?s('May not read "getHostInfoShort"'):c?t(c):s('Cannot read "getHostInfoShort"'))})}})}getRepository(o,n,l,t){return this.request({cacheKey:`repository_${o}`,forceUpdate:l,commandTimeout:t,executor:(s,r,c)=>{this._socket.emit("sendToHost",o,"getRepository",n,u=>{c.elapsed||(c.clearTimeout(),u===g.ERRORS.PERMISSION_ERROR?r('May not read "getRepository"'):u?s(u):r('Cannot read "getRepository"'))})}})}getInstalled(o,n,l){return o=(0,d.normalizeHostId)(o),this.request({cacheKey:`installed_${o}`,forceUpdate:n,commandTimeout:l,executor:(t,s,r)=>{this._socket.emit("sendToHost",o,"getInstalled",null,c=>{r.elapsed||(r.clearTimeout(),c===g.ERRORS.PERMISSION_ERROR?s('May not read "getInstalled"'):c?t(c):s('Cannot read "getInstalled"'))})}})}cmdExec(o,n,l,t){return this.request({commandTimeout:t,executor:(s,r,c)=>{o=(0,d.normalizeHostId)(o),this._socket.emit("cmdExec",o,l,n,u=>{c.elapsed||(c.clearTimeout(),u&&r(u),s())})}})}readBaseSettings(o){return o=(0,d.objectIdToHostname)(o),this.request({requireFeatures:["CONTROLLER_READWRITE_BASE_SETTINGS"],executor:(n,l,t)=>{this._socket.emit("sendToHost",o,"readBaseSettings",null,s=>{t.elapsed||(t.clearTimeout(),s===g.ERRORS.PERMISSION_ERROR?l('May not read "BaseSettings"'):s?n(s):l('Cannot read "BaseSettings"'))})}})}writeBaseSettings(o,n){return o=(0,d.objectIdToHostname)(o),this.request({requireFeatures:["CONTROLLER_READWRITE_BASE_SETTINGS"],executor:(l,t,s)=>{this._socket.emit("sendToHost",o,"writeBaseSettings",n,r=>{s.elapsed||(s.clearTimeout(),r===g.ERRORS.PERMISSION_ERROR?t('May not write "BaseSettings"'):r?l(r):t('Cannot write "BaseSettings"'))})}})}restartController(o){return o=(0,d.objectIdToHostname)(o),this.request({executor:(n,l,t)=>{this._socket.emit("sendToHost",o,"restartController",null,s=>{t.elapsed||(t.clearTimeout(),s&&l(s),n(!0))})}})}getDiagData(o,n){return o=(0,d.objectIdToHostname)(o),this.request({executor:(l,t,s)=>{this._socket.emit("sendToHost",o,"getDiagData",n,r=>{s.elapsed||(s.clearTimeout(),l(r))})}})}changePassword(o,n){return this.request({executor:(l,t,s)=>{this._socket.emit("changePassword",o,n,r=>{s.elapsed||(s.clearTimeout(),r&&t(r),l())})}})}getIpAddresses(o,n){return o=(0,d.normalizeHostId)(o),this.request({cacheKey:`IPs_${o}`,forceUpdate:n,commandTimeout:!1,executor:l=>$(this,null,function*(){var t;const s=yield this.getObject(o);l((t=s==null?void 0:s.common.address)!==null&&t!==void 0?t:[])})})}getHostByIp(o,n){return o=(0,d.objectIdToHostname)(o),this.request({cacheKey:`rIPs_${o}`,forceUpdate:n,executor:(l,t,s)=>{this._socket.emit("getHostByIp",o,(r,c)=>{if(s.elapsed)return;s.clearTimeout();const{IPs4:u,IPs6:m}=e(c);l([...u,...m])})}})}encrypt(o){return this.request({executor:(n,l,t)=>{this._socket.emit("encrypt",o,(s,r)=>{t.elapsed||(t.clearTimeout(),s&&l(s),n(r))})}})}decrypt(o){return this.request({executor:(n,l,t)=>{this._socket.emit("decrypt",o,(s,r)=>{t.elapsed||(t.clearTimeout(),s&&l(s),n(r))})}})}chmodFile(o,n,l){return this.request({executor:(t,s,r)=>{this._socket.emit("chmodFile",o,n,l,(c,u)=>{r.elapsed||(r.clearTimeout(),c&&s(c),t(u))})}})}chownFile(o,n,l){return this.request({executor:(t,s,r)=>{this._socket.emit("chownFile",o,n,l,(c,u)=>{r.elapsed||(r.clearTimeout(),c&&s(c),t(u))})}})}getNotifications(o,n){return this.request({executor:(l,t,s)=>{this._socket.emit("sendToHost",o,"getNotifications",{category:n},r=>{s.elapsed||(s.clearTimeout(),l(r))})}})}clearNotifications(o,n){return this.request({executor:(l,t,s)=>{this._socket.emit("sendToHost",o,"clearNotifications",{category:n},r=>{s.elapsed||(s.clearTimeout(),l(r))})}})}getIsEasyModeStrict(){return this.request({executor:(o,n,l)=>{this._socket.emit("getIsEasyModeStrict",(t,s)=>{l.elapsed||(l.clearTimeout(),t&&n(t),o(!!s))})}})}getEasyMode(){return this.request({executor:(o,n,l)=>{this._socket.emit("getEasyMode",(t,s)=>{l.elapsed||(l.clearTimeout(),t&&n(t),o(s))})}})}getRatings(o){return this.request({executor:(n,l,t)=>{this._socket.emit("getRatings",!!o,(s,r)=>{t.elapsed||(t.clearTimeout(),s&&l(s),n(r))})}})}getCurrentSession(o){const n=new AbortController;return this.request({commandTimeout:o||5e3,onTimeout:()=>{n.abort()},executor:(l,t,s)=>$(this,null,function*(){try{const r=yield fetch("./session",{signal:n.signal});if(s.elapsed)return;s.clearTimeout(),l(r.json())}catch(r){t(`getCurrentSession: ${r}`)}})})}getCurrentInstance(){return this.request({cacheKey:"currentInstance",executor:(o,n,l)=>{this._socket.emit("getCurrentInstance",(t,s)=>{l.elapsed||(l.clearTimeout(),t&&n(t),o(s))})}})}getAdapterInstances(o,n){let l;return typeof o=="boolean"?(n=o,l=""):l=o||"",this.request({cacheKey:`instances_${l}`,forceUpdate:n,executor:(t,s,r)=>{this._socket.emit("getAdapterInstances",l,(c,u)=>{r.elapsed||(r.clearTimeout(),c&&s(c),t(u))})}})}getAdapters(o,n){let l;return typeof o=="boolean"?(n=o,l=""):l=o||"",this.request({cacheKey:`adapter_${l}`,forceUpdate:n,executor:(t,s,r)=>{this._socket.emit("getAdapters",l,(c,u)=>{r.elapsed||(r.clearTimeout(),c&&s(c),t(u))})}})}getCompactAdapters(o){return this.request({cacheKey:"compactAdapters",forceUpdate:o,executor:(n,l,t)=>{this._socket.emit("getCompactAdapters",(s,r)=>{t.elapsed||(t.clearTimeout(),s&&l(s),n(r))})}})}getAdaptersResetCache(o){o=o!=null?o:"",this.resetCache(`adapter_${o}`),this.resetCache("compactAdapters")}getCompactInstances(o){return this.request({cacheKey:"compactInstances",forceUpdate:o,executor:(n,l,t)=>{this._socket.emit("getCompactInstances",(s,r)=>{t.elapsed||(t.clearTimeout(),s&&l(s),n(r))})}})}getAdapterInstancesResetCache(o){o=o!=null?o:"",this.resetCache(`instances_${o}`),this.resetCache("compactInstances")}getCompactInstalled(o,n,l){return o=(0,d.normalizeHostId)(o),this.request({cacheKey:`installedCompact_${o}`,forceUpdate:n,commandTimeout:l,executor:(t,s,r)=>{this._socket.emit("getCompactInstalled",o,c=>{r.elapsed||(r.clearTimeout(),c===g.ERRORS.PERMISSION_ERROR?s('May not read "getCompactInstalled"'):c?t(c):s('Cannot read "getCompactInstalled"'))})}})}getInstalledResetCache(o){o?(this.resetCache(`installedCompact_${o}`),this.resetCache(`installed_${o}`)):(this.resetCache("installedCompact_",!0),this.resetCache("installed_",!0))}getCompactRepository(o,n,l){return o=(0,d.normalizeHostId)(o),this.request({cacheKey:`repositoryCompact_${o}`,forceUpdate:n,commandTimeout:l,executor:(t,s,r)=>{this._socket.emit("getCompactRepository",o,c=>{r.elapsed||(r.clearTimeout(),c===g.ERRORS.PERMISSION_ERROR?s('May not read "getCompactRepository"'):c?t(c):s('Cannot read "getCompactRepository"'))})}})}getRepositoryResetCache(o){o?(this.resetCache(`repositoryCompact_${o}`),this.resetCache(`repository_${o}`)):(this.resetCache("repositoryCompact_",!0),this.resetCache("repository_",!0))}getCompactHosts(o){return this.request({cacheKey:"hostsCompact",forceUpdate:o,executor:(n,l,t)=>{this._socket.emit("getCompactHosts",(s,r)=>{t.elapsed||(t.clearTimeout(),s&&l(s),n(r))})}})}getCompactSystemRepositories(o){return this.request({cacheKey:"repositoriesCompact",forceUpdate:o,executor:(n,l,t)=>{this._socket.emit("getCompactSystemRepositories",(s,r)=>{t.elapsed||(t.clearTimeout(),s&&l(s),n(r))})}})}}},46089:(x,k,y)=>{var T=Object.defineProperty,b=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,w=Object.prototype.hasOwnProperty,p=(l,t)=>{for(var s in t)T(l,s,{get:t[s],enumerable:!0})},v=(l,t,s,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let c of O(t))!w.call(l,c)&&c!==s&&T(l,c,{get:()=>t[c],enumerable:!(r=b(t,c))||r.enumerable});return l},_=l=>v(T({},"__esModule",{value:!0}),l),S={};p(S,{Connection:()=>n,ERRORS:()=>e,NOT_CONNECTED:()=>a,PERMISSION_ERROR:()=>i,PROGRESS:()=>C}),x.exports=_(S);var g=y(40057),d=y(52342),C;(function(l){l[l.CONNECTING=0]="CONNECTING",l[l.CONNECTED=1]="CONNECTED",l[l.OBJECTS_LOADED=2]="OBJECTS_LOADED",l[l.READY=3]="READY"})(C||(C={}));var e;(function(l){l.PERMISSION_ERROR="permissionError",l.NOT_CONNECTED="notConnectedError",l.TIMEOUT="timeout",l.NOT_ADMIN="Allowed only in admin",l.NOT_SUPPORTED="Not supported"})(e||(e={}));const i=e.PERMISSION_ERROR,a=e.NOT_CONNECTED,o=["material","echarts","vis"];class n{constructor(t){this.ignoreState="",this.connected=!1,this.subscribed=!1,this.firstConnect=!0,this.waitForRestart=!1,this.loaded=!1,this.simStates={},this.statesSubscribes={},this.filesSubscribes={},this.objectsSubscribes={},this.objects={},this.states={},this.acl=null,this.isSecure=!1,this.onReadyDone=!1,this.onConnectionHandlers=[],this.onLogHandlers=[],this._waitForFirstConnectionPromise=(0,g.createDeferredPromise)(),this._instanceSubscriptions={},this._promises={},this.systemLang="en",this.props=this.applyDefaultProps(t),this.waitForSocketLib().then(()=>this.startSocket()).catch(s=>{alert(`Socket connection could not be initialized: ${s}`)})}applyDefaultProps(t){var s,r,c,u;return L(M({},t),{protocol:t.protocol||window.location.protocol,host:t.host||window.location.hostname,port:t.port||(window.location.port==="3000"?8081:window.location.port),ioTimeout:Math.max(t.ioTimeout||2e4,2e4),cmdTimeout:Math.max(t.cmdTimeout||5e3,5e3),admin5only:t.admin5only||!1,autoSubscribes:(s=t.autoSubscribes)!==null&&s!==void 0?s:[],autoSubscribeLog:(r=t.autoSubscribeLog)!==null&&r!==void 0?r:!1,doNotLoadACL:(c=t.doNotLoadACL)!==null&&c!==void 0?c:!0,doNotLoadAllObjects:(u=t.doNotLoadAllObjects)!==null&&u!==void 0?u:!0})}onError(t){var s;((s=this.props.onError)!==null&&s!==void 0?s:console.error)(t)}get systemConfig(){return this._systemConfig}static isWeb(){return window.socketUrl!==void 0}waitForSocketLib(){return this._waitForSocketPromise?this._waitForSocketPromise:(this._waitForSocketPromise=new Promise((t,s)=>$(this,null,function*(){if(typeof window.io=="undefined")if(typeof window.registerSocketOnLoad=="function")window.registerSocketOnLoad(()=>t());else{for(let r=1;r<=30;r++){if(window.io)return t();yield(0,d.wait)(100)}s(new Error("Socket library could not be loaded!"))}else t()})),this._waitForSocketPromise)}startSocket(){return $(this,null,function*(){if(this._socket)return;let t=this.props.host,s=this.props.port,r=this.props.protocol.replace(":",""),c=window.location.pathname;if(window.location.hostname==="iobroker.net"||window.location.hostname==="iobroker.pro")c="";else{if(window.socketUrl){const f=new URL(window.socketUrl);t=f.hostname,s=f.port,r=f.protocol.replace(":","")}const m=c.lastIndexOf("/");if(m!==-1&&(c=c.substring(0,m+1)),n.isWeb()){const f=c.split("/");f.length>2&&(f.pop(),f.pop(),o.includes(f[f.length-1])&&f.pop(),c=f.join("/"),c.endsWith("/")||(c+="/"))}}const u=s?`${r}://${t}:${s}`:`${r}://${t}`;this._socket=window.io.connect(u,{path:c.endsWith("/")?`${c}socket.io`:`${c}/socket.io`,query:"ws=true",name:this.props.name,timeout:this.props.ioTimeout,uuid:this.props.uuid,token:this.props.token}),this._socket.on("connect",m=>{this.onReadyDone=!1,m!==!0?(this.connected=!0,setTimeout(()=>this.getVersion().then(f=>{const[h,E,N]=f.version.split(".");parseInt(h,10)*1e4+parseInt(E,10)*100+parseInt(N,10)<40102?(this._authTimer=null,this.onPreConnect(!1,!1)):this._socket.emit("authenticate",(D,R)=>this.onPreConnect(D,R))}).catch(f=>this.onError({message:f.toString(),operation:"getVersion"})),500)):this._socket.emit("authenticate",(f,h)=>{this.onPreConnect(f,h)})}),this._socket.on("reconnect",()=>{var m,f;this.onReadyDone=!1,(f=(m=this.props).onProgress)===null||f===void 0||f.call(m,C.READY),this.connected=!0,this.waitForRestart?window.location.reload():(this._subscribe(!0),this.onConnectionHandlers.forEach(h=>h(!0)))}),this._socket.on("disconnect",()=>{var m,f;this.onReadyDone=!1,this.connected=!1,this.subscribed=!1,(f=(m=this.props).onProgress)===null||f===void 0||f.call(m,C.CONNECTING),this.onConnectionHandlers.forEach(h=>h(!1))}),this._socket.on("reauthenticate",()=>this.authenticate()),this._socket.on("log",m=>{var f,h;(h=(f=this.props).onLog)===null||h===void 0||h.call(f,m),this.onLogHandlers.forEach(E=>E(m))}),this._socket.on("error",m=>{let f;m==null?f="":typeof m.toString=="function"?f=m.toString():(f=JSON.stringify(m),console.error(`Received strange error: ${f}`)),f.includes("User not authorized")?this.authenticate():f.includes("websocket error")?(console.error(`Socket Error => reload: ${m}`),window.location.reload()):console.error(`Socket Error: ${m}`)}),this._socket.on("connect_error",m=>console.error(`Connect error: ${m}`)),this._socket.on("permissionError",m=>this.onError({message:"no permission",operation:m.operation,type:m.type,id:m.id||""})),this._socket.on("objectChange",(m,f)=>{setTimeout(()=>this.objectChange(m,f),0)}),this._socket.on("stateChange",(m,f)=>{setTimeout(()=>this.stateChange(m,f),0)}),this._socket.on("im",(m,f,h)=>{setTimeout(()=>this.instanceMessage(m,f,h),0)}),this._socket.on("fileChange",(m,f,h)=>{setTimeout(()=>this.fileChange(m,f,h),0)}),this._socket.on("cmdStdout",(m,f)=>{var h;(h=this.onCmdStdoutHandler)===null||h===void 0||h.call(this,m,f)}),this._socket.on("cmdStderr",(m,f)=>{var h;(h=this.onCmdStderrHandler)===null||h===void 0||h.call(this,m,f)}),this._socket.on("cmdExit",(m,f)=>{var h;(h=this.onCmdExitHandler)===null||h===void 0||h.call(this,m,f)})})}onPreConnect(t,s){var r,c;this._authTimer&&(clearTimeout(this._authTimer),this._authTimer=null),this.connected=!0,this.isSecure=s,this.waitForRestart?window.location.reload():(this.firstConnect?this.loadData():(c=(r=this.props).onProgress)===null||c===void 0||c.call(r,C.READY),this._subscribe(!0),this.onConnectionHandlers.forEach(u=>u(!0))),this._waitForFirstConnectionPromise.resolve()}static isCloud(){return window.location.hostname.includes("amazonaws.com")||window.location.hostname.includes("iobroker.in")?!0:typeof window.socketUrl=="undefined"?!1:window.socketUrl.includes("iobroker.in")||window.socketUrl.includes("amazonaws")}isConnected(){return this.connected}waitForFirstConnection(){return this._waitForFirstConnectionPromise}getUserPermissions(){return $(this,null,function*(){return this.request({commandTimeout:!1,executor:(t,s)=>{this._socket.emit("getUserPermissions",(r,c)=>{r?s(r):t(c)})}})})}loadData(){return $(this,null,function*(){if(this.loaded)return;const t=10;for(let s=1;s<=t;s++){if(this.doLoadData(),this.loaded)return;yield(0,d.wait)(n.isCloud()?5e3:1e3)}})}doLoadData(){return $(this,null,function*(){var t,s,r,c,u,m,f,h,E;if(!this.loaded){if(!this.props.doNotLoadACL)try{this.acl=yield this.getUserPermissions()}catch(N){this.onError(`Cannot read user permissions: ${N}`);return}try{this.props.admin5only&&!n.isWeb()&&(!window.vendorPrefix||window.vendorPrefix==="@@vendorPrefix@@")?this._systemConfig=yield this.getCompactSystemConfig():this._systemConfig=yield this.getSystemConfig()}catch(N){this.onError(`Cannot read system config: ${N}`);return}this.systemLang=(t=this._systemConfig.common)===null||t===void 0?void 0:t.language,this.systemLang||(this.systemLang=window.navigator.userLanguage||window.navigator.language,/^(en|de|ru|pt|nl|fr|it|es|pl|uk)-?/.test(this.systemLang)?this.systemLang=this.systemLang.substr(0,2):/^(en|de|ru|pt|nl|fr|it|es|pl|uk|zh-cn)$/.test(this.systemLang)||(this.systemLang="en"),this._systemConfig.common.language=this.systemLang),(r=(s=this.props).onLanguage)===null||r===void 0||r.call(s,this.systemLang),this.loaded=!0,(u=(c=this.props).onProgress)===null||u===void 0||u.call(c,C.CONNECTED),this.firstConnect=!1,this.props.doNotLoadAllObjects?this.props.admin5only?this.objects={}:this.objects={"system.config":this._systemConfig}:this.objects=yield this.getObjects(),(f=(m=this.props).onProgress)===null||f===void 0||f.call(m,C.READY),this.onReadyDone||(this.onReadyDone=!0,(E=(h=this.props).onReady)===null||E===void 0||E.call(h,this.objects))}})}authenticate(){window.location.search.includes("&href=")?window.location.href=`${window.location.protocol}//${window.location.host}${window.location.pathname}${window.location.search}${window.location.hash}`:window.location.href=`${window.location.protocol}//${window.location.host}${window.location.pathname}?login&href=${window.location.search}${window.location.hash}`}subscribeState(...t){return $(this,null,function*(){let s,r,c;t.length===3?[s,r,c]=t:([s,c]=t,r=!1);let u;if(Array.isArray(s)?u=s:u=[s],typeof c!="function")throw new Error("The state change handler must be a function!");const m=[];for(let f=0;f<u.length;f++){const h=u[f];this.statesSubscribes[h]?!this.statesSubscribes[h].cbs.includes(c)&&this.statesSubscribes[h].cbs.push(c):(this.statesSubscribes[h]={reg:new RegExp((0,d.pattern2RegEx)(h)),cbs:[c]},s!==this.ignoreState&&m.push(h))}if(this.connected)if(m.length&&this._socket.emit("subscribe",m),r){let f;for(let h=0;h<u.length;h++){try{f=yield this.getBinaryState(u[h])}catch(E){console.error(`Cannot getBinaryState "${u[h]}": ${JSON.stringify(E)}`)}f!=null&&c(u[h],f)}}else if(u.find(f=>f.includes("*"))){let f;for(let h=0;h<u.length;h++){try{f=yield this.getForeignStates(u[h])}catch(E){console.error(`Cannot getForeignStates "${u[h]}": ${JSON.stringify(E)}`);return}if(f)for(const[E,N]of Object.entries(f))c(E,N)}}else try{const f=yield n.isWeb()?this.getStates(u):this.getForeignStates(u);if(f)for(const[h,E]of Object.entries(f))c(h,E)}catch(f){console.error(`Cannot getState "${u.join(", ")}": ${f.message}`);return}})}subscribeStateAsync(t,s){return $(this,null,function*(){return this.subscribeState(t,s)})}unsubscribeState(t,s){var r;let c;Array.isArray(t)?c=t:c=[t];const u=[];for(let m=0;m<c.length;m++){const f=c[m];if(this.statesSubscribes[f]){const h=this.statesSubscribes[f];if(s){const E=h.cbs.indexOf(s);E!==-1&&h.cbs.splice(E,1)}else h.cbs=[];!((r=h.cbs)===null||r===void 0)&&r.length||(delete this.statesSubscribes[f],f!==this.ignoreState&&u.push(f))}}this.connected&&u.length&&this._socket.emit("unsubscribe",c)}subscribeObject(t,s){let r;if(Array.isArray(t)?r=t:r=[t],typeof s!="function")throw new Error("The object change handler must be a function!");const c=[];for(let u=0;u<r.length;u++){const m=r[u];this.objectsSubscribes[m]?!this.objectsSubscribes[m].cbs.includes(s)&&this.objectsSubscribes[m].cbs.push(s):(this.objectsSubscribes[m]={reg:new RegExp((0,d.pattern2RegEx)(m)),cbs:[s]},c.push(m))}return this.connected&&c.length&&this._socket.emit("subscribeObjects",c),Promise.resolve()}unsubscribeObject(t,s){var r;let c;Array.isArray(t)?c=t:c=[t];const u=[];for(let m=0;m<c.length;m++){const f=c[m];if(this.objectsSubscribes[f]){const h=this.objectsSubscribes[f];if(s){const E=h.cbs.indexOf(s);E!==-1&&h.cbs.splice(E,1)}else h.cbs=[];!((r=h.cbs)===null||r===void 0)&&r.length||(delete this.objectsSubscribes[f],u.push(f))}}return this.connected&&u.length&&this._socket.emit("unsubscribeObjects",u),Promise.resolve()}objectChange(t,s){var r,c;let u;this.objects[t]&&(u={_id:t,type:this.objects[t].type});let m=!1;s?(s._rev&&this.objects[t]&&(this.objects[t]._rev=s._rev),(!this.objects[t]||JSON.stringify(this.objects[t])!==JSON.stringify(s))&&(this.objects[t]=s,m=!0)):this.objects[t]&&(delete this.objects[t],m=!0);for(const[f,h]of Object.entries(this.objectsSubscribes))(f===t||h.reg.test(t))&&h.cbs.forEach(E=>{try{E(t,s,u)}catch(N){console.error(`Error by callback of objectChange: ${N}`)}});m&&((c=(r=this.props).onObjectChange)===null||c===void 0||c.call(r,t,s))}stateChange(t,s){for(const r of Object.values(this.statesSubscribes))if(r.reg.test(t))for(const c of r.cbs)try{c(t,s!=null?s:null)}catch(u){console.error(`Error by callback of stateChanged: ${u}`)}}instanceMessage(t,s,r){var c;(c=this._instanceSubscriptions[s])===null||c===void 0||c.forEach(u=>{u.messageType===t&&u.callback(r,s,t)})}fileChange(t,s,r){for(const c of Object.values(this.filesSubscribes))if(c.regId.test(t)&&c.regFilePattern.test(s))for(const u of c.cbs)try{u(t,s,r)}catch(m){console.error(`Error by callback of fileChange: ${m}`)}}subscribeFiles(t,s,r){return $(this,null,function*(){if(typeof r!="function")throw new Error("The state change handler must be a function!");let c;Array.isArray(s)?c=s:c=[s];const u=[];for(let m=0;m<c.length;m++){const f=c[m],h=`${t}$%$${f}`;this.filesSubscribes[h]?!this.filesSubscribes[h].cbs.includes(r)&&this.filesSubscribes[h].cbs.push(r):(this.filesSubscribes[h]={regId:new RegExp((0,d.pattern2RegEx)(t)),regFilePattern:new RegExp((0,d.pattern2RegEx)(f)),cbs:[r]},u.push(f))}this.connected&&u.length&&this._socket.emit("subscribeFiles",t,u)})}unsubscribeFiles(t,s,r){var c;let u;Array.isArray(s)?u=s:u=[s];const m=[];for(let f=0;f<u.length;f++){const h=u[f],E=`${t}$%$${h}`;if(this.filesSubscribes[E]){const N=this.filesSubscribes[E];if(r){const P=N.cbs.indexOf(r);P!==-1&&N.cbs.splice(P,1)}else N.cbs=[];!((c=N.cbs)===null||c===void 0)&&c.length||(delete this.filesSubscribes[E],m.push(h))}}this.connected&&m.length&&this._socket.emit("unsubscribeFiles",t,m)}request(h){return $(this,arguments,function*({cacheKey:t,forceUpdate:s,commandTimeout:r,onTimeout:c,requireAdmin:u,requireFeatures:m,executor:f}){if(u&&n.isWeb())return Promise.reject(e.NOT_ADMIN);if(t&&!s&&t in this._promises)return this._promises[t];if(!this.connected)return Promise.reject(e.NOT_CONNECTED);if(m!=null&&m.length){for(const N of m)if(!(yield this.checkFeatureSupported(N)))throw e.NOT_SUPPORTED}const E=new Promise((N,P)=>$(this,null,function*(){const D={elapsed:!1,clearTimeout:()=>{}};let R;r!==!1&&(R=setTimeout(()=>{D.elapsed=!0,c==null||c(),P(e.TIMEOUT)},r!=null?r:this.props.cmdTimeout),D.clearTimeout=()=>{clearTimeout(R)});try{yield f(N,P,D)}catch(H){P(H)}}));return t&&(this._promises[t]=E),E})}resetCache(t,s){s?Object.keys(this._promises).filter(r=>r.startsWith(t)).forEach(r=>{delete this._promises[r]}):delete this._promises[t]}getStates(t){return this.request({commandTimeout:!1,executor:(s,r)=>{this._socket.emit("getStates",t,(c,u)=>{this.states=u!=null?u:{},c?r(c):s(this.states)})}})}getState(t){return this.request({commandTimeout:!1,executor:(s,r)=>{if(t&&t===this.ignoreState){s(this.simStates[t]||{val:null,ack:!0});return}this._socket.emit("getState",t,(c,u)=>{c?r(c):s(u)})}})}getBinaryState(t){return this.request({commandTimeout:!1,executor:(s,r)=>{this._socket.emit("getBinaryState",t,(c,u)=>{c?r(c):s(u)})}})}setBinaryState(t,s){return this.request({commandTimeout:!1,executor:(r,c)=>{this._socket.emit("setBinaryState",t,s,u=>{u?c(u):r()})}})}setState(t,s,r){return typeof r=="boolean"&&(s={val:s,ack:r}),this.request({commandTimeout:!1,executor:(c,u)=>{if(t&&t===this.ignoreState){let m;if(typeof r=="boolean"||typeof s=="object"&&s.val!==void 0?m=s:m={val:s,ack:!1,ts:Date.now(),lc:Date.now(),from:"system.adapter.vis.0"},this.simStates[t]=m,this.statesSubscribes[t])for(const f of this.statesSubscribes[t].cbs)try{f(t,m)}catch(h){console.error(`Error by callback of stateChanged: ${h}`)}c();return}this._socket.emit("setState",t,s,m=>{m?u(m):c()})}})}getObjects(t,s){return this.request({commandTimeout:!1,executor:(r,c)=>{if(!t&&this.objects){r(this.objects);return}this._socket.emit(n.isWeb()?"getObjects":"getAllObjects",(u,m)=>{var f,h;s||(h=(f=this.props).onProgress)===null||h===void 0||h.call(f,C.OBJECTS_LOADED),u?c(u):(this.objects=m!=null?m:{},r(this.objects))})}})}getObjectsById(t){return this.request({commandTimeout:!1,executor:(s,r)=>{this._socket.emit("getObjects",t,(c,u)=>{c?r(c):s(u)})}})}_subscribe(t){var s,r;if(t&&!this.subscribed){this.subscribed=!0,!((s=this.props.autoSubscribes)===null||s===void 0)&&s.length&&this._socket.emit("subscribeObjects",this.props.autoSubscribes);const c=Object.keys(this.objectsSubscribes);c.length&&this._socket.emit("subscribeObjects",c),Object.keys(this.objectsSubscribes).forEach(u=>this._socket.emit("subscribeObjects",u)),this.props.autoSubscribeLog&&this._socket.emit("requireLog",!0),Object.keys(this.statesSubscribes).forEach(u=>this._socket.emit("subscribe",u)),Object.keys(this.filesSubscribes).forEach(u=>{const[m,f]=u.split("$%$");this._socket.emit("subscribeFiles",m,f)})}else if(!t&&this.subscribed){this.subscribed=!1,!((r=this.props.autoSubscribes)===null||r===void 0)&&r.length&&this._socket.emit("unsubscribeObjects",this.props.autoSubscribes);const c=Object.keys(this.objectsSubscribes);c.length&&this._socket.emit("unsubscribeObjects",c),this.props.autoSubscribeLog&&this._socket.emit("requireLog",!1),Object.keys(this.statesSubscribes).forEach(u=>this._socket.emit("unsubscribe",u)),Object.keys(this.filesSubscribes).forEach(u=>{const[m,f]=u.split("$%$");this._socket.emit("unsubscribeFiles",m,f)})}}requireLog(t){return this.request({commandTimeout:!1,executor:(s,r)=>{this._socket.emit("requireLog",t,c=>{c?r(c):s()})}})}delObject(t,s=!1){return this.request({commandTimeout:!1,executor:(r,c)=>{this._socket.emit("delObject",t,{maintenance:s},u=>{u?c(u):r()})}})}delObjects(t,s){return this.request({commandTimeout:!1,executor:(r,c)=>{this._socket.emit("delObjects",t,{maintenance:s},u=>{u?c(u):r()})}})}setObject(t,s){return s?(s=JSON.parse(JSON.stringify(s)),delete s.from,delete s.user,delete s.ts,this.request({commandTimeout:!1,executor:(r,c)=>{this._socket.emit("setObject",t,s,u=>{u?c(u):r()})}})):Promise.reject("Null object is not allowed")}getObject(t){return this.request({commandTimeout:!1,executor:(s,r)=>{if(t&&t===this.ignoreState){s({_id:this.ignoreState,type:"state",common:{name:"ignored state",type:"mixed"}});return}this._socket.emit("getObject",t,(c,u)=>{c?r(c):s(u)})}})}sendTo(t,s,r){return this.request({commandTimeout:!1,executor:c=>{this._socket.emit("sendTo",t,s,r,u=>{c(u)})}})}extendObject(t,s){return s?(s=JSON.parse(JSON.stringify(s)),delete s.from,delete s.user,delete s.ts,this.request({commandTimeout:!1,executor:(r,c)=>{this._socket.emit("extendObject",t,s,u=>{u?c(u):r()})}})):Promise.reject("Null object is not allowed")}registerLogHandler(t){this.onLogHandlers.includes(t)||this.onLogHandlers.push(t)}unregisterLogHandler(t){const s=this.onLogHandlers.indexOf(t);s!==-1&&this.onLogHandlers.splice(s,1)}registerConnectionHandler(t){this.onConnectionHandlers.includes(t)||this.onConnectionHandlers.push(t)}unregisterConnectionHandler(t){const s=this.onConnectionHandlers.indexOf(t);s!==-1&&this.onConnectionHandlers.splice(s,1)}registerCmdStdoutHandler(t){this.onCmdStdoutHandler=t}unregisterCmdStdoutHandler(){this.onCmdStdoutHandler=void 0}registerCmdStderrHandler(t){this.onCmdStderrHandler=t}unregisterCmdStderrHandler(){this.onCmdStderrHandler=void 0}registerCmdExitHandler(t){this.onCmdExitHandler=t}unregisterCmdExitHandler(){this.onCmdExitHandler=void 0}getEnums(t,s){return this.request({cacheKey:`enums_${t||"all"}`,forceUpdate:s,commandTimeout:!1,executor:(r,c)=>{this._socket.emit("getObjectView","system","enum",{startkey:`enum.${t||""}`,endkey:t?`enum.${t}.\u9999`:"enum.\u9999"},(u,m)=>{if(u)c(u);else{const f={};if(m)for(let h=0;h<m.rows.length;h++)t&&m.rows[h].id===`enum.${t}`||(f[m.rows[h].id]=m.rows[h].value);r(f)}})}})}getObjectView(t,s,r){return this.getObjectViewCustom("system",r,t,s)}getObjectViewSystem(t,s,r){return this.getObjectViewCustom("system",t,s,r)}getObjectViewCustom(t,s,r,c){return this.request({commandTimeout:!1,executor:(u,m)=>{r=r||"",c=c||"\u9999",this._socket.emit("getObjectView",t,s,{startkey:r,endkey:c},(f,h)=>{if(f)m(f);else{const E={};if(h&&h.rows)for(let N=0;N<h.rows.length;N++)E[h.rows[N].id]=h.rows[N].value;u(E)}})}})}readMetaItems(){return this.request({commandTimeout:!1,executor:(t,s)=>{this._socket.emit("getObjectView","system","meta",{startkey:"",endkey:"\u9999"},(r,c)=>{var u;r?s(r):t((u=c.rows)===null||u===void 0?void 0:u.map(m=>m.value).filter(m=>!!m))})}})}readDir(t,s){return this.request({commandTimeout:!1,executor:(r,c)=>{this._socket.emit("readDir",t,s,(u,m)=>{u?c(u):r(m)})}})}readFile(t,s,r){return this.request({commandTimeout:!1,executor:(c,u)=>{this._socket.emit(r?"readFile64":"readFile",t,s,(m,f,h)=>{m?u(m):c({file:f,mimeType:h})})}})}writeFile64(t,s,r){return this.request({commandTimeout:!1,executor:(c,u)=>{if(typeof r=="string")this._socket.emit("writeFile",t,s,r,m=>{m?u(m):c()});else{const m=btoa(new Uint8Array(r).reduce((f,h)=>f+String.fromCharCode(h),""));this._socket.emit("writeFile64",t,s,m,f=>{f?u(f):c()})}}})}deleteFile(t,s){return this.request({commandTimeout:!1,executor:(r,c)=>{this._socket.emit("deleteFile",t,s,u=>{u?c(u):r()})}})}deleteFolder(t,s){return this.request({commandTimeout:!1,executor:(r,c)=>{this._socket.emit("deleteFolder",t,s,u=>{u?c(u):r()})}})}rename(t,s,r){return this.request({commandTimeout:!1,executor:(c,u)=>{this._socket.emit("rename",t,s,r,m=>{m?u(m):c()})}})}renameFile(t,s,r){return this.request({commandTimeout:!1,executor:(c,u)=>{this._socket.emit("renameFile",t,s,r,m=>{m?u(m):c()})}})}cmdExec(t,s,r,c){return this.request({commandTimeout:c,executor:(u,m,f)=>{t=(0,d.normalizeHostId)(t),this._socket.emit("cmdExec",t,r,s,h=>{f.elapsed||(f.clearTimeout(),h?m(h):u())})}})}getSystemConfig(t){return this.request({cacheKey:"systemConfig",forceUpdate:t,commandTimeout:!1,executor:s=>$(this,null,function*(){var r,c,u,m,f;let h=yield this.getObject("system.config");(r=h)!==null&&r!==void 0||(h={}),(c=(m=h).common)!==null&&c!==void 0||(m.common={}),(u=(f=h).native)!==null&&u!==void 0||(f.native={}),s(h)})})}getCompactSystemConfig(t){return this.request({cacheKey:"systemConfigCommon",forceUpdate:t,commandTimeout:!1,requireAdmin:!0,executor:(s,r)=>{this._socket.emit("getCompactSystemConfig",(c,u)=>{var m,f,h,E,N;c?r(c):((m=u)!==null&&m!==void 0||(u={}),(f=(E=u).common)!==null&&f!==void 0||(E.common={}),(h=(N=u).native)!==null&&h!==void 0||(N.native={}),s(u))})}})}getForeignStates(t){return this.request({commandTimeout:!1,executor:(s,r)=>{this._socket.emit("getForeignStates",t||"*",(c,u)=>{c?r(c):s(u!=null?u:{})})}})}getForeignObjects(t,s){return this.request({commandTimeout:!1,executor:(r,c)=>{this._socket.emit("getForeignObjects",t||"*",s,(u,m)=>{u?c(u):r(m)})}})}setSystemConfig(t){return this.setObject("system.config",t)}getRawSocket(){return this._socket}getHistory(t,s){return this.request({commandTimeout:!1,executor:(r,c)=>{this._socket.emit("getHistory",t,s,(u,m)=>{u?c(u):r(m)})}})}getHistoryEx(t,s){return this.request({commandTimeout:!1,executor:(r,c)=>{this._socket.emit("getHistory",t,s,(u,m,f,h)=>{u?c(u):r({values:m,sessionId:h,stepIgnore:f})})}})}getIpAddresses(t,s){return t=(0,d.normalizeHostId)(t),this.request({cacheKey:`IPs_${t}`,forceUpdate:s,commandTimeout:!1,executor:r=>$(this,null,function*(){var c;const u=yield this.getObject(t);r((c=u==null?void 0:u.common.address)!==null&&c!==void 0?c:[])})})}getVersion(t){return this.request({cacheKey:"version",forceUpdate:t,commandTimeout:!1,executor:(s,r)=>{this._socket.emit("getVersion",(c,u,m)=>{c&&!u&&typeof c=="string"&&c.match(/\d+\.\d+\.\d+/)?s({version:c,serverName:"socketio"}):c?r(c):s({version:u,serverName:m})})}})}getWebServerName(){return this.request({cacheKey:"webName",commandTimeout:!1,executor:(t,s)=>{this._socket.emit("getAdapterName",(r,c)=>{r?s(r):t(c)})}})}fileExists(t,s){return this.request({commandTimeout:!1,executor:(r,c)=>{this._socket.emit("fileExists",t,s,(u,m)=>{u?c(u):r(!!m)})}})}getCurrentUser(){return this.request({commandTimeout:!1,executor:t=>{this._socket.emit("authEnabled",(s,r)=>{t(r)})}})}getUuid(){return this.request({cacheKey:"uuid",commandTimeout:!1,executor:t=>$(this,null,function*(){var s;const r=yield this.getObject("system.meta.uuid");t((s=r==null?void 0:r.native)===null||s===void 0?void 0:s.uuid)})})}checkFeatureSupported(t,s){return this.request({cacheKey:`supportedFeatures_${t}`,forceUpdate:s,commandTimeout:!1,executor:(r,c)=>{this._socket.emit("checkFeatureSupported",t,(u,m)=>{u?c(u):r(m)})}})}getAdapterInstances(t,s){return typeof t=="boolean"&&(s=t,t=""),t=t||"",this.request({cacheKey:`instances_${t}`,forceUpdate:s,commandTimeout:!1,executor:r=>$(this,null,function*(){const c=t?`system.adapter.${t}.`:"system.adapter.",u=`${c}\u9999`,m=yield this.getObjectViewSystem("instance",c,u),f=Object.values(m);r(t?f.filter(h=>h.common.name===t):f)})})}getAdapters(t,s){return typeof t=="boolean"&&(s=t,t=""),t=t||"",this.request({cacheKey:`adapter_${t}`,forceUpdate:s,commandTimeout:!1,executor:r=>$(this,null,function*(){const c=yield this.getObjectViewSystem("adapter",`system.adapter.${t||""}`,`system.adapter.${t||"\u9999"}`),u=Object.values(c);r(t?u.filter(m=>m.common.name===t):u)})})}getGroups(t){return this.request({cacheKey:"groups",forceUpdate:t,commandTimeout:!1,executor:(s,r)=>{this._socket.emit("getObjectView","system","group",{startkey:"system.group.",endkey:"system.group.\u9999"},(c,u)=>{c?r(c):s((0,d.getObjectViewResultToArray)(u))})}})}logout(){return this.request({commandTimeout:!1,executor:(t,s)=>{this._socket.emit("logout",r=>{r?s(r):t(null)})}})}subscribeOnInstance(t,s,r,c){return this.request({commandTimeout:!1,executor:(u,m)=>{this._socket.emit("clientSubscribe",t,s,r,(f,h)=>{f?m(f):h&&(h.error?m(h.error):(t.startsWith("system.adapter.")||(t=`system.adapter.${t}`),this._instanceSubscriptions[t]=this._instanceSubscriptions[t]||[],this._instanceSubscriptions[t].find(E=>E.messageType===s&&E.callback===c)||this._instanceSubscriptions[t].push({messageType:s,callback:c}),u(h)))})}})}unsubscribeFromInstance(t,s,r){var c;t.startsWith("system.adapter.")||(t=`system.adapter.${t}`);let u;const m=[];do{u=!1;const f=(c=this._instanceSubscriptions[t])===null||c===void 0?void 0:c.findIndex(h=>(!s||h.messageType===s)&&(!r||h.callback===r));if(f!=null&&f!==-1){u=!0;const h=this._instanceSubscriptions[t][f].messageType;this._instanceSubscriptions[t].splice(f,1),this._instanceSubscriptions[t].length||delete this._instanceSubscriptions[t],this._instanceSubscriptions[t]&&this._instanceSubscriptions[t].find(N=>N.messageType===h)||m.push(this.request({commandTimeout:!1,executor:(N,P)=>{this._socket.emit("clientUnsubscribe",t,s,(D,R)=>D?P(D):N(R))}}))}}while(u&&(!r||!s));return m.length?Promise.all(m).then(f=>!!f.find(h=>h)):Promise.resolve(!1)}log(t,s){return t?this.request({commandTimeout:!1,executor:r=>(this._socket.emit("log",t,s),r(null))}):Promise.resolve(null)}setStateToIgnore(t){this.ignoreState=t}}},26235:x=>{var k=Object.defineProperty,y=Object.getOwnPropertyDescriptor,T=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,O=(v,_,S,g)=>{if(_&&typeof _=="object"||typeof _=="function")for(let d of T(_))!b.call(v,d)&&d!==S&&k(v,d,{get:()=>_[d],enumerable:!(g=y(_,d))||g.enumerable});return v},w=v=>O(k({},"__esModule",{value:!0}),v),p={};x.exports=w(p)},40057:x=>{var k=Object.defineProperty,y=Object.getOwnPropertyDescriptor,T=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,O=(S,g)=>{for(var d in g)k(S,d,{get:g[d],enumerable:!0})},w=(S,g,d,C)=>{if(g&&typeof g=="object"||typeof g=="function")for(let e of T(g))!b.call(S,e)&&e!==d&&k(S,e,{get:()=>g[e],enumerable:!(C=y(g,e))||C.enumerable});return S},p=S=>w(k({},"__esModule",{value:!0}),S),v={};O(v,{createDeferredPromise:()=>_}),x.exports=p(v);function _(){let S,g;const d=new Promise((C,e)=>{S=C,g=e});return d.resolve=S,d.reject=g,d}},4817:(x,k,y)=>{var T=Object.defineProperty,b=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,w=Object.prototype.hasOwnProperty,p=(i,a)=>{for(var o in a)T(i,o,{get:a[o],enumerable:!0})},v=(i,a,o,n)=>{if(a&&typeof a=="object"||typeof a=="function")for(let l of O(a))!w.call(i,l)&&l!==o&&T(i,l,{get:()=>a[l],enumerable:!(n=b(a,l))||n.enumerable});return i},_=(i,a,o)=>(v(i,a,"default"),o&&v(o,a,"default")),S=i=>v(T({},"__esModule",{value:!0}),i),g={};p(g,{AdminConnection:()=>d.AdminConnection,Connection:()=>C.Connection,ERRORS:()=>C.ERRORS,PROGRESS:()=>C.PROGRESS}),x.exports=S(g),_(g,y(34998),x.exports);var d=y(34998);_(g,y(46089),x.exports);var C=y(46089);_(g,y(26235),x.exports);var e=y(26235)},52342:x=>{var k=Object.defineProperty,y=Object.getOwnPropertyDescriptor,T=Object.getOwnPropertyNames,b=Object.prototype.hasOwnProperty,O=(e,i)=>{for(var a in i)k(e,a,{get:i[a],enumerable:!0})},w=(e,i,a,o)=>{if(i&&typeof i=="object"||typeof i=="function")for(let n of T(i))!b.call(e,n)&&n!==a&&k(e,n,{get:()=>i[n],enumerable:!(o=y(i,n))||o.enumerable});return e},p=e=>w(k({},"__esModule",{value:!0}),e),v={};O(v,{getObjectViewResultToArray:()=>_,normalizeHostId:()=>S,objectIdToHostname:()=>g,pattern2RegEx:()=>C,wait:()=>d}),x.exports=p(v);function _(e){var i;return(i=e==null?void 0:e.rows.map(a=>a.value).filter(a=>!!a))!==null&&i!==void 0?i:[]}function S(e){return e!=null&&e.startsWith("system.host.")||(e=`system.host.${e}`),e}function g(e){return e!=null&&e.startsWith("system.host.")&&(e=e.substr(12)),e}function d(e){return new Promise(i=>{setTimeout(i,e)})}function C(e){e=(e||"").toString();const i=e[0]==="*",a=e[e.length-1]==="*";return e=e.replace(/[-/\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*"),(i?"":"^")+e+(a?"":"$")}}}]);

//# sourceMappingURL=vendors-node_modules_iobroker_adapter-react-v5_Components_Loader_js-node_modules_iobroker_ada-6c96ca.c5d88970.chunk.js.map