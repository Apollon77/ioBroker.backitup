var Li=Object.defineProperty,Ui=Object.defineProperties;var Bi=Object.getOwnPropertyDescriptors;var Br=Object.getOwnPropertySymbols;var Ws=Object.prototype.hasOwnProperty,xs=Object.prototype.propertyIsEnumerable;var js=(j,e,o)=>e in j?Li(j,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):j[e]=o,H=(j,e)=>{for(var o in e||(e={}))Ws.call(e,o)&&js(j,o,e[o]);if(Br)for(var o of Br(e))xs.call(e,o)&&js(j,o,e[o]);return j},Ie=(j,e)=>Ui(j,Bi(e));var ir=(j,e)=>{var o={};for(var i in j)Ws.call(j,i)&&e.indexOf(i)<0&&(o[i]=j[i]);if(j!=null&&Br)for(var i of Br(j))e.indexOf(i)<0&&xs.call(j,i)&&(o[i]=j[i]);return o};var Oe=(j,e,o)=>new Promise((i,l)=>{var g=E=>{try{T(o.next(E))}catch(_){l(_)}},v=E=>{try{T(o.throw(E))}catch(_){l(_)}},T=E=>E.done?i(E.value):Promise.resolve(E.value).then(g,v);T((o=o.apply(j,e)).next())});(self.webpackChunkiobroker_admin_component_backitup=self.webpackChunkiobroker_admin_component_backitup||[]).push([["vendors-node_modules_sentry_browser_cjs_index_js-node_modules_iobroker_socket-client_dist_cjs-6a932d"],{7944:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;e.DEBUG_BUILD=o},60927:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(7944),g=o(21143),v={};function T(f){const I=v[f];if(I)return I;let b=g.WINDOW[f];if(i.isNativeFunction(b))return v[f]=b.bind(g.WINDOW);const S=g.WINDOW.document;if(S&&typeof S.createElement=="function")try{const d=S.createElement("iframe");d.hidden=!0,S.head.appendChild(d);const p=d.contentWindow;p&&p[f]&&(b=p[f]),S.head.removeChild(d)}catch(d){l.DEBUG_BUILD&&i.logger.warn(`Could not create sandbox iframe for ${f} check, bailing to window.${f}: `,d)}return b&&(v[f]=b.bind(g.WINDOW))}function E(f){v[f]=void 0}function _(...f){return T("fetch")(...f)}function h(...f){return T("setTimeout")(...f)}e.clearCachedImplementation=E,e.fetch=_,e.getNativeImplementation=T,e.setTimeout=h},82138:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(9515),l=o(57627),g=o(22610),v=o(67686),T=o(60927),E=o(104),_=o(23609);e.addClsInstrumentationHandler=i.addClsInstrumentationHandler,e.addFidInstrumentationHandler=i.addFidInstrumentationHandler,e.addLcpInstrumentationHandler=i.addLcpInstrumentationHandler,e.addPerformanceInstrumentationHandler=i.addPerformanceInstrumentationHandler,e.addTtfbInstrumentationHandler=i.addTtfbInstrumentationHandler,e.addPerformanceEntries=l.addPerformanceEntries,e.startTrackingInteractions=l.startTrackingInteractions,e.startTrackingLongTasks=l.startTrackingLongTasks,e.startTrackingWebVitals=l.startTrackingWebVitals,e.addClickKeypressInstrumentationHandler=g.addClickKeypressInstrumentationHandler,e.addHistoryInstrumentationHandler=v.addHistoryInstrumentationHandler,e.clearCachedImplementation=T.clearCachedImplementation,e.fetch=T.fetch,e.getNativeImplementation=T.getNativeImplementation,e.setTimeout=T.setTimeout,e.SENTRY_XHR_DATA_KEY=E.SENTRY_XHR_DATA_KEY,e.addXhrInstrumentationHandler=E.addXhrInstrumentationHandler,e.startTrackingINP=_.startTrackingINP},22610:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(21143),g=1e3;let v,T,E;function _(d){const p="dom";i.addHandler(p,d),i.maybeInstrument(p,h)}function h(){if(!l.WINDOW.document)return;const d=i.triggerHandlers.bind(null,"dom"),p=b(d,!0);l.WINDOW.document.addEventListener("click",p,!1),l.WINDOW.document.addEventListener("keypress",p,!1),["EventTarget","Node"].forEach(u=>{const C=l.WINDOW[u]&&l.WINDOW[u].prototype;!C||!C.hasOwnProperty||!C.hasOwnProperty("addEventListener")||(i.fill(C,"addEventListener",function(m){return function(n,r,a){if(n==="click"||n=="keypress")try{const y=this,R=y.__sentry_instrumentation_handlers__=y.__sentry_instrumentation_handlers__||{},A=R[n]=R[n]||{refCount:0};if(!A.handler){const w=b(d);A.handler=w,m.call(this,n,w,a)}A.refCount++}catch(y){}return m.call(this,n,r,a)}}),i.fill(C,"removeEventListener",function(m){return function(n,r,a){if(n==="click"||n=="keypress")try{const y=this,R=y.__sentry_instrumentation_handlers__||{},A=R[n];A&&(A.refCount--,A.refCount<=0&&(m.call(this,n,A.handler,a),A.handler=void 0,delete R[n]),Object.keys(R).length===0&&delete y.__sentry_instrumentation_handlers__)}catch(y){}return m.call(this,n,r,a)}}))})}function f(d){if(d.type!==T)return!1;try{if(!d.target||d.target._sentryId!==E)return!1}catch(p){}return!0}function I(d,p){return d!=="keypress"?!1:!p||!p.tagName?!0:!(p.tagName==="INPUT"||p.tagName==="TEXTAREA"||p.isContentEditable)}function b(d,p=!1){return u=>{if(!u||u._sentryCaptured)return;const C=S(u);if(I(u.type,C))return;i.addNonEnumerableProperty(u,"_sentryCaptured",!0),C&&!C._sentryId&&i.addNonEnumerableProperty(C,"_sentryId",i.uuid4());const m=u.type==="keypress"?"input":u.type;f(u)||(d({event:u,name:m,global:p}),T=u.type,E=C?C._sentryId:void 0),clearTimeout(v),v=l.WINDOW.setTimeout(()=>{E=void 0,T=void 0},g)}}function S(d){try{return d.target}catch(p){return null}}e.addClickKeypressInstrumentationHandler=_,e.instrumentDOM=h},67686:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(21143);let g;function v(E){const _="history";i.addHandler(_,E),i.maybeInstrument(_,T)}function T(){if(!i.supportsHistory())return;const E=l.WINDOW.onpopstate;l.WINDOW.onpopstate=function(...h){const f=l.WINDOW.location.href,I=g;g=f;const b={from:I,to:f};if(i.triggerHandlers("history",b),E)try{return E.apply(this,h)}catch(S){}};function _(h){return function(...f){const I=f.length>2?f[2]:void 0;if(I){const b=g,S=String(I);g=S;const d={from:b,to:S};i.triggerHandlers("history",d)}return h.apply(this,f)}}i.fill(l.WINDOW.history,"pushState",_),i.fill(l.WINDOW.history,"replaceState",_)}e.addHistoryInstrumentationHandler=v},104:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(21143),g="__sentry_xhr_v3__";function v(_){const h="xhr";i.addHandler(h,_),i.maybeInstrument(h,T)}function T(){if(!l.WINDOW.XMLHttpRequest)return;const _=XMLHttpRequest.prototype;i.fill(_,"open",function(h){return function(...f){const I=i.timestampInSeconds()*1e3,b=i.isString(f[0])?f[0].toUpperCase():void 0,S=E(f[1]);if(!b||!S)return h.apply(this,f);this[g]={method:b,url:S,request_headers:{}},b==="POST"&&S.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const d=()=>{const p=this[g];if(p&&this.readyState===4){try{p.status_code=this.status}catch(C){}const u={endTimestamp:i.timestampInSeconds()*1e3,startTimestamp:I,xhr:this};i.triggerHandlers("xhr",u)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?i.fill(this,"onreadystatechange",function(p){return function(...u){return d(),p.apply(this,u)}}):this.addEventListener("readystatechange",d),i.fill(this,"setRequestHeader",function(p){return function(...u){const[C,m]=u,n=this[g];return n&&i.isString(C)&&i.isString(m)&&(n.request_headers[C.toLowerCase()]=m),p.apply(this,u)}}),h.apply(this,f)}}),i.fill(_,"send",function(h){return function(...f){const I=this[g];if(!I)return h.apply(this,f);f[0]!==void 0&&(I.body=f[0]);const b={startTimestamp:i.timestampInSeconds()*1e3,xhr:this};return i.triggerHandlers("xhr",b),h.apply(this,f)}})}function E(_){if(i.isString(_))return _;try{return _.toString()}catch(h){}}e.SENTRY_XHR_DATA_KEY=g,e.addXhrInstrumentationHandler=v,e.instrumentXHR=T},57627:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(17077),g=o(7944),v=o(21143),T=o(9515),E=o(32357),_=o(58637),h=o(14147),f=2147483647;let I=0,b={},S,d;function p(){const Y=E.getBrowserPerformanceAPI();if(Y&&l.browserPerformanceTimeOrigin){Y.mark&&v.WINDOW.performance.mark("sentry-tracing-init");const B=r(),z=m(),te=n(),ue=a();return()=>{B(),z(),te(),ue()}}return()=>{}}function u(){T.addPerformanceInstrumentationHandler("longtask",({entries:Y})=>{for(const B of Y){if(!i.getActiveSpan())return;const z=E.msToSec(l.browserPerformanceTimeOrigin+B.startTime),te=E.msToSec(B.duration),ue=i.startInactiveSpan({name:"Main UI thread blocked",op:"ui.long-task",startTime:z,attributes:{[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}});ue&&ue.end(z+te)}})}function C(){T.addPerformanceInstrumentationHandler("event",({entries:Y})=>{for(const B of Y){if(!i.getActiveSpan())return;if(B.name==="click"){const z=E.msToSec(l.browserPerformanceTimeOrigin+B.startTime),te=E.msToSec(B.duration),ue={name:l.htmlTreeAsString(B.target),op:`ui.interaction.${B.name}`,startTime:z,attributes:{[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}},fe=l.getComponentName(B.target);fe&&(ue.attributes["ui.component_name"]=fe);const he=i.startInactiveSpan(ue);he&&he.end(z+te)}}})}function m(){return T.addClsInstrumentationHandler(({metric:Y})=>{const B=Y.entries[Y.entries.length-1];B&&(g.DEBUG_BUILD&&l.logger.log("[Measurements] Adding CLS"),b.cls={value:Y.value,unit:""},d=B)},!0)}function n(){return T.addLcpInstrumentationHandler(({metric:Y})=>{const B=Y.entries[Y.entries.length-1];B&&(g.DEBUG_BUILD&&l.logger.log("[Measurements] Adding LCP"),b.lcp={value:Y.value,unit:"millisecond"},S=B)},!0)}function r(){return T.addFidInstrumentationHandler(({metric:Y})=>{const B=Y.entries[Y.entries.length-1];if(!B)return;const z=E.msToSec(l.browserPerformanceTimeOrigin),te=E.msToSec(B.startTime);g.DEBUG_BUILD&&l.logger.log("[Measurements] Adding FID"),b.fid={value:Y.value,unit:"millisecond"},b["mark.fid"]={value:z+te,unit:"second"}})}function a(){return T.addTtfbInstrumentationHandler(({metric:Y})=>{Y.entries[Y.entries.length-1]&&(g.DEBUG_BUILD&&l.logger.log("[Measurements] Adding TTFB"),b.ttfb={value:Y.value,unit:"millisecond"})})}function y(Y){const B=E.getBrowserPerformanceAPI();if(!B||!v.WINDOW.performance.getEntries||!l.browserPerformanceTimeOrigin)return;g.DEBUG_BUILD&&l.logger.log("[Tracing] Adding & adjusting spans using Performance API");const z=E.msToSec(l.browserPerformanceTimeOrigin),te=B.getEntries(),{op:ue,start_timestamp:fe}=i.spanToJSON(Y);if(te.slice(I).forEach(he=>{const q=E.msToSec(he.startTime),le=E.msToSec(he.duration);if(!(ue==="navigation"&&fe&&z+q<fe))switch(he.entryType){case"navigation":{A(Y,he,z);break}case"mark":case"paint":case"measure":{R(Y,he,q,le,z);const pe=h.getVisibilityWatcher(),Se=he.startTime<pe.firstHiddenTime;he.name==="first-paint"&&Se&&(g.DEBUG_BUILD&&l.logger.log("[Measurements] Adding FP"),b.fp={value:he.startTime,unit:"millisecond"}),he.name==="first-contentful-paint"&&Se&&(g.DEBUG_BUILD&&l.logger.log("[Measurements] Adding FCP"),b.fcp={value:he.startTime,unit:"millisecond"});break}case"resource":{x(Y,he,he.name,q,le,z);break}}}),I=Math.max(te.length-1,0),$(Y),ue==="pageload"){ee(b),["fcp","fp","lcp"].forEach(q=>{if(!b[q]||!fe||z>=fe)return;const le=b[q].value,pe=z+E.msToSec(le),Se=Math.abs((pe-fe)*1e3),Ae=Se-le;g.DEBUG_BUILD&&l.logger.log(`[Measurements] Normalized ${q} from ${le} to ${Se} (${Ae})`),b[q].value=Se});const he=b["mark.fid"];he&&b.fid&&(E.startAndEndSpan(Y,he.value,he.value+E.msToSec(b.fid.value),{name:"first input delay",op:"ui.action",attributes:{[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}),delete b["mark.fid"]),"fcp"in b||delete b.cls,Object.keys(b).forEach(q=>{i.setMeasurement(q,b[q].value,b[q].unit)}),K(Y)}S=void 0,d=void 0,b={}}function R(Y,B,z,te,ue){const fe=ue+z,he=fe+te;return E.startAndEndSpan(Y,fe,he,{name:B.name,op:B.entryType,attributes:{[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.resource.browser.metrics"}}),fe}function A(Y,B,z){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(te=>{w(Y,B,te,z)}),w(Y,B,"secureConnection",z,"TLS/SSL","connectEnd"),w(Y,B,"fetch",z,"cache","domainLookupStart"),w(Y,B,"domainLookup",z,"DNS"),P(Y,B,z)}function w(Y,B,z,te,ue,fe){const he=fe?B[fe]:B[`${z}End`],q=B[`${z}Start`];!q||!he||E.startAndEndSpan(Y,te+E.msToSec(q),te+E.msToSec(he),{op:"browser",name:ue||z,attributes:{[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}})}function P(Y,B,z){B.responseEnd&&(E.startAndEndSpan(Y,z+E.msToSec(B.requestStart),z+E.msToSec(B.responseEnd),{op:"browser",name:"request",attributes:{[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}),E.startAndEndSpan(Y,z+E.msToSec(B.responseStart),z+E.msToSec(B.responseEnd),{op:"browser",name:"response",attributes:{[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}))}function x(Y,B,z,te,ue,fe){if(B.initiatorType==="xmlhttprequest"||B.initiatorType==="fetch")return;const he=l.parseUrl(z),q={[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.resource.browser.metrics"};U(q,B,"transferSize","http.response_transfer_size"),U(q,B,"encodedBodySize","http.response_content_length"),U(q,B,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in B&&(q["resource.render_blocking_status"]=B.renderBlockingStatus),he.protocol&&(q["url.scheme"]=he.protocol.split(":").pop()),he.host&&(q["server.address"]=he.host),q["url.same_origin"]=z.includes(v.WINDOW.location.origin);const le=fe+te,pe=le+ue;E.startAndEndSpan(Y,le,pe,{name:z.replace(v.WINDOW.location.origin,""),op:B.initiatorType?`resource.${B.initiatorType}`:"resource.other",attributes:q})}function $(Y){const B=v.WINDOW.navigator;if(!B)return;const z=B.connection;z&&(z.effectiveType&&Y.setAttribute("effectiveConnectionType",z.effectiveType),z.type&&Y.setAttribute("connectionType",z.type),E.isMeasurementValue(z.rtt)&&(b["connection.rtt"]={value:z.rtt,unit:"millisecond"})),E.isMeasurementValue(B.deviceMemory)&&Y.setAttribute("deviceMemory",`${B.deviceMemory} GB`),E.isMeasurementValue(B.hardwareConcurrency)&&Y.setAttribute("hardwareConcurrency",String(B.hardwareConcurrency))}function K(Y){S&&(g.DEBUG_BUILD&&l.logger.log("[Measurements] Adding LCP Data"),S.element&&Y.setAttribute("lcp.element",l.htmlTreeAsString(S.element)),S.id&&Y.setAttribute("lcp.id",S.id),S.url&&Y.setAttribute("lcp.url",S.url.trim().slice(0,200)),Y.setAttribute("lcp.size",S.size)),d&&d.sources&&(g.DEBUG_BUILD&&l.logger.log("[Measurements] Adding CLS Data"),d.sources.forEach((B,z)=>Y.setAttribute(`cls.source.${z+1}`,l.htmlTreeAsString(B.node))))}function U(Y,B,z,te){const ue=B[z];ue!=null&&ue<f&&(Y[te]=ue)}function ee(Y){const B=_.getNavigationEntry();if(!B)return;const{responseStart:z,requestStart:te}=B;te<=z&&(g.DEBUG_BUILD&&l.logger.log("[Measurements] Adding TTFB Request Time"),Y["ttfb.requestTime"]={value:z-te,unit:"millisecond"})}e._addMeasureSpans=R,e._addResourceSpans=x,e.addPerformanceEntries=y,e.startTrackingInteractions=C,e.startTrackingLongTasks=u,e.startTrackingWebVitals=p},23609:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(17077),g=o(9515),v=o(32357);function T(){if(v.getBrowserPerformanceAPI()&&l.browserPerformanceTimeOrigin){const f=_();return()=>{f()}}return()=>{}}const E={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function _(){return g.addInpInstrumentationHandler(({metric:h})=>{const f=i.getClient();if(!f||h.value==null)return;const I=h.entries.find($=>$.duration===h.value&&E[$.name]);if(!I)return;const b=E[I.name],S=f.getOptions(),d=v.msToSec(l.browserPerformanceTimeOrigin+I.startTime),p=v.msToSec(h.value),u=i.getCurrentScope(),C=i.getActiveSpan(),m=C?i.getRootSpan(C):void 0,n=m?i.spanToJSON(m).description:void 0,r=u.getUser(),a=f.getIntegrationByName("Replay"),y=a&&a.getReplayId(),R=r!==void 0?r.email||r.id||r.ip_address:void 0;let A;try{A=u.getScopeData().contexts.profile.profile_id}catch($){}const w=l.htmlTreeAsString(I.target),P=l.dropUndefinedKeys({release:S.release,environment:S.environment,transaction:n,[i.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:h.value,user:R||void 0,profile_id:A||void 0,replay_id:y||void 0}),x=i.startInactiveSpan({name:w,op:`ui.interaction.${b}`,attributes:P,startTime:d,experimental:{standalone:!0}});x.addEvent("inp",{[i.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:"millisecond",[i.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:h.value}),x.end(d+p)})}e.startTrackingINP=T},9515:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(7944),g=o(93163),v=o(62660),T=o(92110),E=o(79532),_=o(65967),h=o(39466),f={},I={};let b,S,d,p,u;function C(B,z=!1){return K("cls",B,A,b,z)}function m(B,z=!1){return K("lcp",B,P,d,z)}function n(B){return K("fid",B,w,S)}function r(B){return K("ttfb",B,x,p)}function a(B){return K("inp",B,$,u)}function y(B,z){return ee(B,z),I[B]||(U(B),I[B]=!0),Y(B,z)}function R(B,z){const te=f[B];if(!(!te||!te.length))for(const ue of te)try{ue(z)}catch(fe){l.DEBUG_BUILD&&i.logger.error(`Error while triggering instrumentation handler.
Type: ${B}
Name: ${i.getFunctionName(ue)}
Error:`,fe)}}function A(){return g.onCLS(B=>{R("cls",{metric:B}),b=B},{reportAllChanges:!0})}function w(){return v.onFID(B=>{R("fid",{metric:B}),S=B})}function P(){return E.onLCP(B=>{R("lcp",{metric:B}),d=B})}function x(){return h.onTTFB(B=>{R("ttfb",{metric:B}),p=B})}function $(){return T.onINP(B=>{R("inp",{metric:B}),u=B})}function K(B,z,te,ue,fe=!1){ee(B,z);let he;return I[B]||(he=te(),I[B]=!0),ue&&z({metric:ue}),Y(B,z,fe?he:void 0)}function U(B){const z={};B==="event"&&(z.durationThreshold=0),_.observe(B,te=>{R(B,{entries:te})},z)}function ee(B,z){f[B]=f[B]||[],f[B].push(z)}function Y(B,z,te){return()=>{te&&te();const ue=f[B];if(!ue)return;const fe=ue.indexOf(z);fe!==-1&&ue.splice(fe,1)}}e.addClsInstrumentationHandler=C,e.addFidInstrumentationHandler=n,e.addInpInstrumentationHandler=a,e.addLcpInstrumentationHandler=m,e.addPerformanceInstrumentationHandler=y,e.addTtfbInstrumentationHandler=r},32357:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(21143);function g(_){return typeof _=="number"&&isFinite(_)}function v(_,h,f,b){var I=ir(b,[]);const S=i.spanToJSON(_).start_timestamp;return S&&S>h&&typeof _.updateStartTime=="function"&&_.updateStartTime(h),i.withActiveSpan(_,()=>{const d=i.startInactiveSpan(H({startTime:h},I));return d&&d.end(f),d})}function T(){return l.WINDOW&&l.WINDOW.addEventListener&&l.WINDOW.performance}function E(_){return _/1e3}e.getBrowserPerformanceAPI=T,e.isMeasurementValue=g,e.msToSec=E,e.startAndEndSpan=v},93163:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(88833),l=o(69901),g=o(65967),v=o(93546),T=o(79447),E=o(2597),_=[.1,.25],h=(f,I={})=>{E.onFCP(T.runOnce(()=>{const b=l.initMetric("CLS",0);let S,d=0,p=[];const u=m=>{m.forEach(n=>{if(!n.hadRecentInput){const r=p[0],a=p[p.length-1];d&&n.startTime-a.startTime<1e3&&n.startTime-r.startTime<5e3?(d+=n.value,p.push(n)):(d=n.value,p=[n])}}),d>b.value&&(b.value=d,b.entries=p,S())},C=g.observe("layout-shift",u);C&&(S=i.bindReporter(f,b,_,I.reportAllChanges),v.onHidden(()=>{u(C.takeRecords()),S(!0)}),setTimeout(S,0))}))};e.CLSThresholds=_,e.onCLS=h},62660:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(88833),l=o(14147),g=o(69901),v=o(65967),T=o(93546),E=o(79447),_=o(8208),h=[100,300],f=(I,b={})=>{_.whenActivated(()=>{const S=l.getVisibilityWatcher(),d=g.initMetric("FID");let p;const u=n=>{n.startTime<S.firstHiddenTime&&(d.value=n.processingStart-n.startTime,d.entries.push(n),p(!0))},C=n=>{n.forEach(u)},m=v.observe("first-input",C);p=i.bindReporter(I,d,h,b.reportAllChanges),m&&T.onHidden(E.runOnce(()=>{C(m.takeRecords()),m.disconnect()}))})};e.FIDThresholds=h,e.onFID=f},92110:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(21143),l=o(88833),g=o(69901),v=o(65967),T=o(93546),E=o(20954),_=o(8208),h=[200,500],f=0,I=()=>E.getInteractionCount()-f,b=10,S=[],d={},p=m=>{const n=S[S.length-1],r=d[m.interactionId];if(r||S.length<b||m.duration>n.latency){if(r)r.entries.push(m),r.latency=Math.max(r.latency,m.duration);else{const a={id:m.interactionId,latency:m.duration,entries:[m]};d[a.id]=a,S.push(a)}S.sort((a,y)=>y.latency-a.latency),S.splice(b).forEach(a=>{delete d[a.id]})}},u=()=>{const m=Math.min(S.length-1,Math.floor(I()/50));return S[m]},C=(m,n={})=>{_.whenActivated(()=>{E.initInteractionCountPolyfill();const r=g.initMetric("INP");let a;const y=A=>{A.forEach(P=>{P.interactionId&&p(P),P.entryType==="first-input"&&!S.some($=>$.entries.some(K=>P.duration===K.duration&&P.startTime===K.startTime))&&p(P)});const w=u();w&&w.latency!==r.value&&(r.value=w.latency,r.entries=w.entries,a())},R=v.observe("event",y,{durationThreshold:n.durationThreshold!=null?n.durationThreshold:40});a=l.bindReporter(m,r,h,n.reportAllChanges),R&&("PerformanceEventTiming"in i.WINDOW&&"interactionId"in PerformanceEventTiming.prototype&&R.observe({type:"first-input",buffered:!0}),T.onHidden(()=>{y(R.takeRecords()),r.value<0&&I()>0&&(r.value=0,r.entries=[]),a(!0)}))})};e.INPThresholds=h,e.onINP=C},79532:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(21143),l=o(88833),g=o(403),v=o(14147),T=o(69901),E=o(65967),_=o(93546),h=o(79447),f=o(8208),I=[2500,4e3],b={},S=(d,p={})=>{f.whenActivated(()=>{const u=v.getVisibilityWatcher(),C=T.initMetric("LCP");let m;const n=a=>{const y=a[a.length-1];y&&y.startTime<u.firstHiddenTime&&(C.value=Math.max(y.startTime-g.getActivationStart(),0),C.entries=[y],m())},r=E.observe("largest-contentful-paint",n);if(r){m=l.bindReporter(d,C,I,p.reportAllChanges);const a=h.runOnce(()=>{b[C.id]||(n(r.takeRecords()),r.disconnect(),b[C.id]=!0,m(!0))});["keydown","click"].forEach(y=>{i.WINDOW.document&&addEventListener(y,()=>setTimeout(a,0),!0)}),_.onHidden(a)}})};e.LCPThresholds=I,e.onLCP=S},88833:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=(l,g)=>l>g[1]?"poor":l>g[0]?"needs-improvement":"good",i=(l,g,v,T)=>{let E,_;return h=>{g.value>=0&&(h||T)&&(_=g.value-(E||0),(_||E===void 0)&&(E=g.value,g.delta=_,g.rating=o(g.value,v),l(g)))}};e.bindReporter=i},5958:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`;e.generateUniqueID=o},403:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(58637),l=()=>{const g=i.getNavigationEntry();return g&&g.activationStart||0};e.getActivationStart=l},58637:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(21143),l=()=>i.WINDOW.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];e.getNavigationEntry=l},14147:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(21143);let l=-1;const g=()=>{l=i.WINDOW.document.visibilityState==="hidden"&&!i.WINDOW.document.prerendering?0:1/0},v=_=>{i.WINDOW.document.visibilityState==="hidden"&&l>-1&&(l=_.type==="visibilitychange"?_.timeStamp:0,removeEventListener("visibilitychange",v,!0),removeEventListener("prerenderingchange",v,!0))},T=()=>{addEventListener("visibilitychange",v,!0),addEventListener("prerenderingchange",v,!0)},E=()=>(i.WINDOW.document&&l<0&&(g(),T()),{get firstHiddenTime(){return l}});e.getVisibilityWatcher=E},69901:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(21143),l=o(5958),g=o(403),v=o(58637),T=(E,_)=>{const h=v.getNavigationEntry();let f="navigate";return h&&(i.WINDOW.document&&i.WINDOW.document.prerendering||g.getActivationStart()>0?f="prerender":i.WINDOW.document&&i.WINDOW.document.wasDiscarded?f="restore":h.type&&(f=h.type.replace(/_/g,"-"))),{name:E,value:typeof _=="undefined"?-1:_,rating:"good",delta:0,entries:[],id:l.generateUniqueID(),navigationType:f}};e.initMetric=T},65967:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=(i,l,g)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(i)){const v=new PerformanceObserver(T=>{Promise.resolve().then(()=>{l(T.getEntries())})});return v.observe(Object.assign({type:i,buffered:!0},g||{})),v}}catch(v){}};e.observe=o},93546:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(21143),l=g=>{const v=T=>{(T.type==="pagehide"||i.WINDOW.document&&i.WINDOW.document.visibilityState==="hidden")&&g(T)};i.WINDOW.document&&(addEventListener("visibilitychange",v,!0),addEventListener("pagehide",v,!0))};e.onHidden=l},20954:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(65967);let l=0,g=1/0,v=0;const T=f=>{f.forEach(I=>{I.interactionId&&(g=Math.min(g,I.interactionId),v=Math.max(v,I.interactionId),l=v?(v-g)/7+1:0)})};let E;const _=()=>E?l:performance.interactionCount||0,h=()=>{"interactionCount"in performance||E||(E=i.observe("event",T,{type:"event",buffered:!0,durationThreshold:0}))};e.getInteractionCount=_,e.initInteractionCountPolyfill=h},79447:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=i=>{let l=!1;return g=>{l||(i(g),l=!0)}};e.runOnce=o},8208:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(21143),l=g=>{i.WINDOW.document&&i.WINDOW.document.prerendering?addEventListener("prerenderingchange",()=>g(),!0):g()};e.whenActivated=l},2597:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(88833),l=o(403),g=o(14147),v=o(69901),T=o(65967),E=o(8208),_=[1800,3e3],h=(f,I={})=>{E.whenActivated(()=>{const b=g.getVisibilityWatcher(),S=v.initMetric("FCP");let d;const p=C=>{C.forEach(m=>{m.name==="first-contentful-paint"&&(u.disconnect(),m.startTime<b.firstHiddenTime&&(S.value=Math.max(m.startTime-l.getActivationStart(),0),S.entries.push(m),d(!0)))})},u=T.observe("paint",p);u&&(d=i.bindReporter(f,S,_,I.reportAllChanges))})};e.FCPThresholds=_,e.onFCP=h},39466:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(21143),l=o(88833),g=o(403),v=o(58637),T=o(69901),E=o(8208),_=[800,1800],h=I=>{i.WINDOW.document&&i.WINDOW.document.prerendering?E.whenActivated(()=>h(I)):i.WINDOW.document&&i.WINDOW.document.readyState!=="complete"?addEventListener("load",()=>h(I),!0):setTimeout(I,0)},f=(I,b={})=>{const S=T.initMetric("TTFB"),d=l.bindReporter(I,S,_,b.reportAllChanges);h(()=>{const p=v.getNavigationEntry();if(p){const u=p.responseStart;if(u<=0||u>performance.now())return;S.value=Math.max(u-g.getActivationStart(),0),S.entries=[p],d(!0)}})};e.TTFBThresholds=_,e.onTTFB=f},21143:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const l=o(17077).GLOBAL_OBJ;e.WINDOW=l},88723:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(17077),g=l.GLOBAL_OBJ,v=g.document,T=g.navigator,E="Report a Bug",_="Cancel",h="Send Bug Report",f="Confirm",I="Report a Bug",b="your.email@example.org",S="Email",d="What's the bug? What did you expect?",p="Description",u="Your Name",C="Name",m="Thank you for your report!",n="(required)",r="Add a screenshot",a="Remove screenshot",y="widget",R="api",A=5e3,w=(M,k={includeReplay:!0})=>{if(!M.message)throw new Error("Unable to submit feedback with empty message");const L=i.getClient();if(!L)throw new Error("No client setup, cannot send feedback.");const J=i.captureFeedback(H({source:R,url:l.getLocationHref()},M),k);return new Promise((X,Q)=>{const ye=setTimeout(()=>Q("Unable to determine if Feedback was correctly sent."),5e3);L.on("afterSendEvent",(be,Te)=>{if(be.event_id===J){if(clearTimeout(ye),Te&&typeof Te.statusCode=="number"&&(Te.statusCode<200||Te.statusCode>=300))return Te.statusCode===0?Q("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):Q("Unable to send Feedback. Invalid response from server.");X(J)}})})},P=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;function x(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(T.userAgent)||!isSecureContext)}function $(M,k){return Ie(H(H({},M),k),{onFormOpen:()=>{k.onFormOpen&&k.onFormOpen(),M.onFormOpen&&M.onFormOpen()},onFormClose:()=>{k.onFormClose&&k.onFormClose(),M.onFormClose&&M.onFormClose()},onSubmitSuccess:L=>{k.onSubmitSuccess&&k.onSubmitSuccess(L),M.onSubmitSuccess&&M.onSubmitSuccess(L)},onSubmitError:L=>{k.onSubmitError&&k.onSubmitError(L),M.onSubmitError&&M.onSubmitError(L)},onFormSubmitted:()=>{k.onFormSubmitted&&k.onFormSubmitted(),M.onFormSubmitted&&M.onFormSubmitted()},themeDark:H(H({},M.themeDark),k.themeDark),themeLight:H(H({},M.themeLight),k.themeLight)})}function K(){const M=v.createElement("style");return M.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,M}function U(M,k){return Object.entries(k).forEach(([L,J])=>{M.setAttributeNS(null,L,J)}),M}const ee=20,Y="http://www.w3.org/2000/svg";function B(){const M=be=>g.document.createElementNS(Y,be),k=U(M("svg"),{width:`${ee}`,height:`${ee}`,viewBox:`0 0 ${ee} ${ee}`,fill:"var(--foreground)"}),L=U(M("g"),{clipPath:"url(#clip0_57_80)"}),J=U(M("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});k.appendChild(L).appendChild(J);const X=M("defs"),Q=U(M("clipPath"),{id:"clip0_57_80"}),ye=U(M("rect"),{width:`${ee}`,height:`${ee}`,fill:"white"});return Q.appendChild(ye),X.appendChild(Q),k.appendChild(X).appendChild(Q).appendChild(ye),k}function z({triggerLabel:M,shadow:k}){const L=v.createElement("button");if(L.type="button",L.className="widget__actor",L.ariaHidden="false",L.ariaLabel=M,L.appendChild(B()),M){const X=v.createElement("span");X.appendChild(v.createTextNode(M)),L.appendChild(X)}const J=K();return{el:L,appendToDom(){k.appendChild(J),k.appendChild(L)},removeFromDom(){k.removeChild(L),k.removeChild(J)},show(){L.ariaHidden="false"},hide(){L.ariaHidden="true"}}}const te="rgba(88, 74, 192, 1)",ue={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:te,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},fe={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:te,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function he(M){return`
  --foreground: ${M.foreground};
  --background: ${M.background};
  --accent-foreground: ${M.accentForeground};
  --accent-background: ${M.accentBackground};
  --success-color: ${M.successColor};
  --error-color: ${M.errorColor};
  --border: ${M.border};
  --box-shadow: ${M.boxShadow};
  --outline: ${M.outline};
  --interactive-filter: ${M.interactiveFilter};
  `}function q({colorScheme:M,themeDark:k,themeLight:L}){const J=v.createElement("style");return J.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${M!=="system"?"color-scheme: only light;":""}

  ${he(M==="dark"?H(H({},fe),k):H(H({},ue),L))}
}

${M==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${he(H(H({},fe),k))}
  }
}`:""}
}
`,J}const le=({lazyLoadIntegration:M,getModalIntegration:k,getScreenshotIntegration:L})=>({id:X="sentry-feedback",showBranding:Q=!0,autoInject:ye=!0,showEmail:be=!0,showName:Te=!0,enableScreenshot:me=!0,useSentryUser:Pe={email:"email",name:"username"},isNameRequired:re=!1,isEmailRequired:je=!1,colorScheme:Ce="system",themeLight:Ze={},themeDark:mt={},addScreenshotButtonLabel:ct=r,cancelButtonLabel:Re=_,confirmButtonLabel:Me=f,emailLabel:We=S,emailPlaceholder:Je=b,formTitle:Tt=I,isRequiredLabel:Wt=n,messageLabel:Fe=p,messagePlaceholder:Kt=d,nameLabel:rt=C,namePlaceholder:Mt=u,removeScreenshotButtonLabel:Rn=a,submitButtonLabel:$n=h,successMessageText:Gn=m,triggerLabel:nr=E,onFormOpen:An,onFormClose:Nn,onSubmitSuccess:Dt,onSubmitError:en,onFormSubmitted:Mn}={})=>{const Pt={id:X,autoInject:ye,showBranding:Q,isEmailRequired:je,isNameRequired:re,showEmail:be,showName:Te,enableScreenshot:me,useSentryUser:Pe,colorScheme:Ce,themeDark:mt,themeLight:Ze,triggerLabel:nr,cancelButtonLabel:Re,submitButtonLabel:$n,confirmButtonLabel:Me,formTitle:Tt,emailLabel:We,emailPlaceholder:Je,messageLabel:Fe,messagePlaceholder:Kt,nameLabel:rt,namePlaceholder:Mt,successMessageText:Gn,isRequiredLabel:Wt,addScreenshotButtonLabel:ct,removeScreenshotButtonLabel:Rn,onFormClose:Nn,onFormOpen:An,onSubmitError:en,onSubmitSuccess:Dt,onFormSubmitted:Mn};let Jt=null,wn=[];const an=gt=>{if(!Jt){const Ct=v.createElement("div");Ct.id=String(gt.id),v.body.appendChild(Ct),Jt=Ct.attachShadow({mode:"open"}),Jt.appendChild(q(gt))}return Jt},Cr=(gt,Ct,Ot)=>Oe(this,null,function*(){const xt=i.getClient(),Ht=xt&&xt.getIntegrationByName(gt);if(Ht)return Ht;const Lt=(Ct&&Ct()||(yield M(Ot)))();return xt&&xt.addIntegration(Lt),Lt}),Or=gt=>Oe(this,null,function*(){const Ct=gt.enableScreenshot&&x(),[Ot,xt]=yield Promise.all([Cr("FeedbackModal",k,"feedbackModalIntegration"),Ct?Cr("FeedbackScreenshot",L,"feedbackScreenshotIntegration"):void 0]);if(!Ot)throw P&&l.logger.error("[Feedback] Missing feedback modal integration. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!");return Ct&&!xt&&P&&l.logger.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots."),Ot.createDialog({options:gt,screenshotIntegration:Ct?xt:void 0,sendFeedback:w,shadow:an(gt)})}),Rr=(gt,Ct={})=>{const Ot=$(Pt,Ct),xt=typeof gt=="string"?v.querySelector(gt):typeof gt.addEventListener=="function"?gt:null;if(!xt)throw P&&l.logger.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let Ht=null;const rr=()=>Oe(this,null,function*(){Ht||(Ht=yield Or(Ie(H({},Ot),{onFormClose:()=>{Ht&&Ht.close(),Ot.onFormClose&&Ot.onFormClose()},onFormSubmitted:()=>{Ht&&Ht.removeFromDom(),Ot.onFormSubmitted&&Ot.onFormSubmitted()}}))),Ht.appendToDom(),Ht.open()});xt.addEventListener("click",rr);const Lt=()=>{wn=wn.filter(zn=>zn!==Lt),Ht&&Ht.removeFromDom(),Ht=null,xt.removeEventListener("click",rr)};return wn.push(Lt),Lt},Ar=(gt={})=>{const Ct=an(Pt),Ot=z({triggerLabel:Pt.triggerLabel,shadow:Ct}),xt=$(Pt,Ie(H({},gt),{onFormOpen(){Ot.hide()},onFormClose(){Ot.show()},onFormSubmitted(){Ot.show()}}));return Rr(Ot.el,xt),Ot};return{name:"Feedback",setupOnce(){!l.isBrowser()||!Pt.autoInject||Ar().appendToDom()},attachTo:Rr,createWidget(gt={}){const Ct=Ar($(Pt,gt));return Ct.appendToDom(),Ct},createForm(){return Oe(this,arguments,function*(gt={}){return Or($(Pt,gt))})},remove(){Jt&&(Jt.parentElement&&Jt.parentElement.remove(),Jt=null),wn.forEach(gt=>gt()),wn=[]}}};function pe(){const M=i.getClient();return M&&M.getIntegrationByName("Feedback")}var Se,Ae,nt,V,se,ne,ie,de={},ve=[],Le=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ue=Array.isArray;function He(M,k){for(var L in k)M[L]=k[L];return M}function Ve(M){var k=M.parentNode;k&&k.removeChild(M)}function ge(M,k,L){var J,X,Q,ye={};for(Q in k)Q=="key"?J=k[Q]:Q=="ref"?X=k[Q]:ye[Q]=k[Q];if(arguments.length>2&&(ye.children=arguments.length>3?Se.call(arguments,2):L),typeof M=="function"&&M.defaultProps!=null)for(Q in M.defaultProps)ye[Q]===void 0&&(ye[Q]=M.defaultProps[Q]);return lt(M,ye,J,X,null)}function lt(M,k,L,J,X){var Q={type:M,props:k,key:L,ref:J,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:X==null?++nt:X,__i:-1,__u:0};return X==null&&Ae.vnode!=null&&Ae.vnode(Q),Q}function bt(M){return M.children}function vt(M,k){this.props=M,this.context=k}function Nt(M,k){if(k==null)return M.__?Nt(M.__,M.__i+1):null;for(var L;k<M.__k.length;k++)if((L=M.__k[k])!=null&&L.__e!=null)return L.__e;return typeof M.type=="function"?Nt(M):null}function ln(M,k,L){var J,X=M.__v,Q=X.__e,ye=M.__P;if(ye)return(J=He({},X)).__v=X.__v+1,Ae.vnode&&Ae.vnode(J),rn(ye,J,X,M.__n,ye.ownerSVGElement!==void 0,32&X.__u?[Q]:null,k,Q==null?Nt(X):Q,!!(32&X.__u),L),J.__.__k[J.__i]=J,J.__d=void 0,J.__e!=Q&&Ut(J),J}function Ut(M){var k,L;if((M=M.__)!=null&&M.__c!=null){for(M.__e=M.__c.base=null,k=0;k<M.__k.length;k++)if((L=M.__k[k])!=null&&L.__e!=null){M.__e=M.__c.base=L.__e;break}return Ut(M)}}function zt(M){(!M.__d&&(M.__d=!0)&&V.push(M)&&!ft.__r++||se!==Ae.debounceRendering)&&((se=Ae.debounceRendering)||ne)(ft)}function ft(){var M,k,L,J=[],X=[];for(V.sort(ie);M=V.shift();)M.__d&&(L=V.length,k=ln(M,J,X)||k,L===0||V.length>L?(un(J,k,X),X.length=J.length=0,k=void 0,V.sort(ie)):k&&Ae.__c&&Ae.__c(k,ve));k&&un(J,k,X),ft.__r=0}function wt(M,k,L,J,X,Q,ye,be,Te,me,Pe){var re,je,Ce,Ze,mt,ct=J&&J.__k||ve,Re=k.length;for(L.__d=Te,_t(L,k,ct),Te=L.__d,re=0;re<Re;re++)(Ce=L.__k[re])!=null&&typeof Ce!="boolean"&&typeof Ce!="function"&&(je=Ce.__i===-1?de:ct[Ce.__i]||de,Ce.__i=re,rn(M,Ce,je,X,Q,ye,be,Te,me,Pe),Ze=Ce.__e,Ce.ref&&je.ref!=Ce.ref&&(je.ref&&Kn(je.ref,null,Ce),Pe.push(Ce.ref,Ce.__c||Ze,Ce)),mt==null&&Ze!=null&&(mt=Ze),65536&Ce.__u||je.__k===Ce.__k?Te=Qt(Ce,Te,M):typeof Ce.type=="function"&&Ce.__d!==void 0?Te=Ce.__d:Ze&&(Te=Ze.nextSibling),Ce.__d=void 0,Ce.__u&=-196609);L.__d=Te,L.__e=mt}function _t(M,k,L){var J,X,Q,ye,be,Te=k.length,me=L.length,Pe=me,re=0;for(M.__k=[],J=0;J<Te;J++)(X=M.__k[J]=(X=k[J])==null||typeof X=="boolean"||typeof X=="function"?null:typeof X=="string"||typeof X=="number"||typeof X=="bigint"||X.constructor==String?lt(null,X,null,null,X):Ue(X)?lt(bt,{children:X},null,null,null):X.constructor===void 0&&X.__b>0?lt(X.type,X.props,X.key,X.ref?X.ref:null,X.__v):X)!=null?(X.__=M,X.__b=M.__b+1,be=hn(X,L,ye=J+re,Pe),X.__i=be,Q=null,be!==-1&&(Pe--,(Q=L[be])&&(Q.__u|=131072)),Q==null||Q.__v===null?(be==-1&&re--,typeof X.type!="function"&&(X.__u|=65536)):be!==ye&&(be===ye+1?re++:be>ye?Pe>Te-ye?re+=be-ye:re--:re=be<ye&&be==ye-1?be-ye:0,be!==J+re&&(X.__u|=65536))):(Q=L[J])&&Q.key==null&&Q.__e&&(Q.__e==M.__d&&(M.__d=Nt(Q)),Jn(Q,Q,!1),L[J]=null,Pe--);if(Pe)for(J=0;J<me;J++)(Q=L[J])!=null&&!(131072&Q.__u)&&(Q.__e==M.__d&&(M.__d=Nt(Q)),Jn(Q,Q))}function Qt(M,k,L){var J,X;if(typeof M.type=="function"){for(J=M.__k,X=0;J&&X<J.length;X++)J[X]&&(J[X].__=M,k=Qt(J[X],k,L));return k}M.__e!=k&&(L.insertBefore(M.__e,k||null),k=M.__e);do k=k&&k.nextSibling;while(k!=null&&k.nodeType===8);return k}function hn(M,k,L,J){var X=M.key,Q=M.type,ye=L-1,be=L+1,Te=k[L];if(Te===null||Te&&X==Te.key&&Q===Te.type)return L;if(J>(Te!=null&&!(131072&Te.__u)?1:0))for(;ye>=0||be<k.length;){if(ye>=0){if((Te=k[ye])&&!(131072&Te.__u)&&X==Te.key&&Q===Te.type)return ye;ye--}if(be<k.length){if((Te=k[be])&&!(131072&Te.__u)&&X==Te.key&&Q===Te.type)return be;be++}}return-1}function mn(M,k,L){k[0]==="-"?M.setProperty(k,L==null?"":L):M[k]=L==null?"":typeof L!="number"||Le.test(k)?L:L+"px"}function En(M,k,L,J,X){var Q;e:if(k==="style")if(typeof L=="string")M.style.cssText=L;else{if(typeof J=="string"&&(M.style.cssText=J=""),J)for(k in J)L&&k in L||mn(M.style,k,"");if(L)for(k in L)J&&L[k]===J[k]||mn(M.style,k,L[k])}else if(k[0]==="o"&&k[1]==="n")Q=k!==(k=k.replace(/(PointerCapture)$|Capture$/i,"$1")),k=k.toLowerCase()in M?k.toLowerCase().slice(2):k.slice(2),M.l||(M.l={}),M.l[k+Q]=L,L?J?L.u=J.u:(L.u=Date.now(),M.addEventListener(k,Q?cr:ar,Q)):M.removeEventListener(k,Q?cr:ar,Q);else{if(X)k=k.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(k!=="width"&&k!=="height"&&k!=="href"&&k!=="list"&&k!=="form"&&k!=="tabIndex"&&k!=="download"&&k!=="rowSpan"&&k!=="colSpan"&&k!=="role"&&k in M)try{M[k]=L==null?"":L;break e}catch(ye){}typeof L=="function"||(L==null||L===!1&&k[4]!=="-"?M.removeAttribute(k):M.setAttribute(k,L))}}function ar(M){if(this.l){var k=this.l[M.type+!1];if(M.t){if(M.t<=k.u)return}else M.t=Date.now();return k(Ae.event?Ae.event(M):M)}}function cr(M){if(this.l)return this.l[M.type+!0](Ae.event?Ae.event(M):M)}function rn(M,k,L,J,X,Q,ye,be,Te,me){var Pe,re,je,Ce,Ze,mt,ct,Re,Me,We,Je,Tt,Wt,Fe,Kt,rt=k.type;if(k.constructor!==void 0)return null;128&L.__u&&(Te=!!(32&L.__u),Q=[be=k.__e=L.__e]),(Pe=Ae.__b)&&Pe(k);e:if(typeof rt=="function")try{if(Re=k.props,Me=(Pe=rt.contextType)&&J[Pe.__c],We=Pe?Me?Me.props.value:Pe.__:J,L.__c?ct=(re=k.__c=L.__c).__=re.__E:("prototype"in rt&&rt.prototype.render?k.__c=re=new rt(Re,We):(k.__c=re=new vt(Re,We),re.constructor=rt,re.render=Fr),Me&&Me.sub(re),re.props=Re,re.state||(re.state={}),re.context=We,re.__n=J,je=re.__d=!0,re.__h=[],re._sb=[]),re.__s==null&&(re.__s=re.state),rt.getDerivedStateFromProps!=null&&(re.__s==re.state&&(re.__s=He({},re.__s)),He(re.__s,rt.getDerivedStateFromProps(Re,re.__s))),Ce=re.props,Ze=re.state,re.__v=k,je)rt.getDerivedStateFromProps==null&&re.componentWillMount!=null&&re.componentWillMount(),re.componentDidMount!=null&&re.__h.push(re.componentDidMount);else{if(rt.getDerivedStateFromProps==null&&Re!==Ce&&re.componentWillReceiveProps!=null&&re.componentWillReceiveProps(Re,We),!re.__e&&(re.shouldComponentUpdate!=null&&re.shouldComponentUpdate(Re,re.__s,We)===!1||k.__v===L.__v)){for(k.__v!==L.__v&&(re.props=Re,re.state=re.__s,re.__d=!1),k.__e=L.__e,k.__k=L.__k,k.__k.forEach(function(Mt){Mt&&(Mt.__=k)}),Je=0;Je<re._sb.length;Je++)re.__h.push(re._sb[Je]);re._sb=[],re.__h.length&&ye.push(re);break e}re.componentWillUpdate!=null&&re.componentWillUpdate(Re,re.__s,We),re.componentDidUpdate!=null&&re.__h.push(function(){re.componentDidUpdate(Ce,Ze,mt)})}if(re.context=We,re.props=Re,re.__P=M,re.__e=!1,Tt=Ae.__r,Wt=0,"prototype"in rt&&rt.prototype.render){for(re.state=re.__s,re.__d=!1,Tt&&Tt(k),Pe=re.render(re.props,re.state,re.context),Fe=0;Fe<re._sb.length;Fe++)re.__h.push(re._sb[Fe]);re._sb=[]}else do re.__d=!1,Tt&&Tt(k),Pe=re.render(re.props,re.state,re.context),re.state=re.__s;while(re.__d&&++Wt<25);re.state=re.__s,re.getChildContext!=null&&(J=He(He({},J),re.getChildContext())),je||re.getSnapshotBeforeUpdate==null||(mt=re.getSnapshotBeforeUpdate(Ce,Ze)),wt(M,Ue(Kt=Pe!=null&&Pe.type===bt&&Pe.key==null?Pe.props.children:Pe)?Kt:[Kt],k,L,J,X,Q,ye,be,Te,me),re.base=k.__e,k.__u&=-161,re.__h.length&&ye.push(re),ct&&(re.__E=re.__=null)}catch(Mt){k.__v=null,Te||Q!=null?(k.__e=be,k.__u|=Te?160:32,Q[Q.indexOf(be)]=null):(k.__e=L.__e,k.__k=L.__k),Ae.__e(Mt,k,L)}else Q==null&&k.__v===L.__v?(k.__k=L.__k,k.__e=L.__e):k.__e=gn(L.__e,k,L,J,X,Q,ye,Te,me);(Pe=Ae.diffed)&&Pe(k)}function un(M,k,L){for(var J=0;J<L.length;J++)Kn(L[J],L[++J],L[++J]);Ae.__c&&Ae.__c(k,M),M.some(function(X){try{M=X.__h,X.__h=[],M.some(function(Q){Q.call(X)})}catch(Q){Ae.__e(Q,X.__v)}})}function gn(M,k,L,J,X,Q,ye,be,Te){var me,Pe,re,je,Ce,Ze,mt,ct=L.props,Re=k.props,Me=k.type;if(Me==="svg"&&(X=!0),Q!=null){for(me=0;me<Q.length;me++)if((Ce=Q[me])&&"setAttribute"in Ce==!!Me&&(Me?Ce.localName===Me:Ce.nodeType===3)){M=Ce,Q[me]=null;break}}if(M==null){if(Me===null)return document.createTextNode(Re);M=X?document.createElementNS("http://www.w3.org/2000/svg",Me):document.createElement(Me,Re.is&&Re),Q=null,be=!1}if(Me===null)ct===Re||be&&M.data===Re||(M.data=Re);else{if(Q=Q&&Se.call(M.childNodes),ct=L.props||de,!be&&Q!=null)for(ct={},me=0;me<M.attributes.length;me++)ct[(Ce=M.attributes[me]).name]=Ce.value;for(me in ct)Ce=ct[me],me=="children"||(me=="dangerouslySetInnerHTML"?re=Ce:me==="key"||me in Re||En(M,me,null,Ce,X));for(me in Re)Ce=Re[me],me=="children"?je=Ce:me=="dangerouslySetInnerHTML"?Pe=Ce:me=="value"?Ze=Ce:me=="checked"?mt=Ce:me==="key"||be&&typeof Ce!="function"||ct[me]===Ce||En(M,me,Ce,ct[me],X);if(Pe)be||re&&(Pe.__html===re.__html||Pe.__html===M.innerHTML)||(M.innerHTML=Pe.__html),k.__k=[];else if(re&&(M.innerHTML=""),wt(M,Ue(je)?je:[je],k,L,J,X&&Me!=="foreignObject",Q,ye,Q?Q[0]:L.__k&&Nt(L,0),be,Te),Q!=null)for(me=Q.length;me--;)Q[me]!=null&&Ve(Q[me]);be||(me="value",Ze!==void 0&&(Ze!==M[me]||Me==="progress"&&!Ze||Me==="option"&&Ze!==ct[me])&&En(M,me,Ze,ct[me],!1),me="checked",mt!==void 0&&mt!==M[me]&&En(M,me,mt,ct[me],!1))}return M}function Kn(M,k,L){try{typeof M=="function"?M(k):M.current=k}catch(J){Ae.__e(J,L)}}function Jn(M,k,L){var J,X;if(Ae.unmount&&Ae.unmount(M),(J=M.ref)&&(J.current&&J.current!==M.__e||Kn(J,null,k)),(J=M.__c)!=null){if(J.componentWillUnmount)try{J.componentWillUnmount()}catch(Q){Ae.__e(Q,k)}J.base=J.__P=null,M.__c=void 0}if(J=M.__k)for(X=0;X<J.length;X++)J[X]&&Jn(J[X],k,L||typeof M.type!="function");L||M.__e==null||Ve(M.__e),M.__=M.__e=M.__d=void 0}function Fr(M,k,L){return this.constructor(M,L)}function Hr(M,k,L){var J,X,Q,ye;Ae.__&&Ae.__(M,k),X=(J=typeof L=="function")?null:L&&L.__k||k.__k,Q=[],ye=[],rn(k,M=(!J&&L||k).__k=ge(bt,null,[M]),X||de,de,k.ownerSVGElement!==void 0,!J&&L?[L]:X?null:k.firstChild?Se.call(k.childNodes):null,Q,!J&&L?L:X?X.__e:k.firstChild,J,ye),M.__d=void 0,un(Q,M,ye)}Se=ve.slice,Ae={__e:function(M,k,L,J){for(var X,Q,ye;k=k.__;)if((X=k.__c)&&!X.__)try{if((Q=X.constructor)&&Q.getDerivedStateFromError!=null&&(X.setState(Q.getDerivedStateFromError(M)),ye=X.__d),X.componentDidCatch!=null&&(X.componentDidCatch(M,J||{}),ye=X.__d),ye)return X.__E=X}catch(be){M=be}throw M}},nt=0,vt.prototype.setState=function(M,k){var L;L=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=He({},this.state),typeof M=="function"&&(M=M(He({},L),this.props)),M&&He(L,M),M!=null&&this.__v&&(k&&this._sb.push(k),zt(this))},vt.prototype.forceUpdate=function(M){this.__v&&(this.__e=!0,M&&this.__h.push(M),zt(this))},vt.prototype.render=bt,V=[],ne=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ie=function(M,k){return M.__v.__b-k.__v.__b},ft.__r=0;var bn,ht,it,ur,qt=0,lr=[],Xt=[],Ke=Ae,dn=Ke.__b,Xn=Ke.__r,Sn=Ke.diffed,Zn=Ke.__c,Ln=Ke.unmount,Tn=Ke.__;function Un(M,k){Ke.__h&&Ke.__h(ht,M,qt||k),qt=0;var L=ht.__H||(ht.__H={__:[],__h:[]});return M>=L.__.length&&L.__.push({__V:Xt}),L.__[M]}function fn(M){return qt=1,dr(pr,M)}function dr(M,k,L){var J=Un(bn++,2);if(J.t=M,!J.__c&&(J.__=[L?L(k):pr(void 0,k),function(be){var Te=J.__N?J.__N[0]:J.__[0],me=J.t(Te,be);Te!==me&&(J.__N=[me,J.__[1]],J.__c.setState({}))}],J.__c=ht,!ht.u)){var X=function(be,Te,me){if(!J.__c.__H)return!0;var Pe=J.__c.__H.__.filter(function(je){return!!je.__c});if(Pe.every(function(je){return!je.__N}))return!Q||Q.call(this,be,Te,me);var re=!1;return Pe.forEach(function(je){if(je.__N){var Ce=je.__[0];je.__=je.__N,je.__N=void 0,Ce!==je.__[0]&&(re=!0)}}),!(!re&&J.__c.props===be)&&(!Q||Q.call(this,be,Te,me))};ht.u=!0;var Q=ht.shouldComponentUpdate,ye=ht.componentWillUpdate;ht.componentWillUpdate=function(be,Te,me){if(this.__e){var Pe=Q;Q=void 0,X(be,Te,me),Q=Pe}ye&&ye.call(this,be,Te,me)},ht.shouldComponentUpdate=X}return J.__N||J.__}function Bn(M,k){var L=Un(bn++,3);!Ke.__s&&jn(L.__H,k)&&(L.__=M,L.i=k,ht.__H.__h.push(L))}function jt(M){return qt=5,In(function(){return{current:M}},[])}function In(M,k){var L=Un(bn++,7);return jn(L.__H,k)?(L.__V=M(),L.i=k,L.__h=M,L.__V):L.__}function Yt(M,k){return qt=8,In(function(){return M},k)}function fr(){for(var M;M=lr.shift();)if(M.__P&&M.__H)try{M.__H.__h.forEach(vn),M.__H.__h.forEach(Hn),M.__H.__h=[]}catch(k){M.__H.__h=[],Ke.__e(k,M.__v)}}Ke.__b=function(M){ht=null,dn&&dn(M)},Ke.__=function(M,k){k.__k&&k.__k.__m&&(M.__m=k.__k.__m),Tn&&Tn(M,k)},Ke.__r=function(M){Xn&&Xn(M),bn=0;var k=(ht=M.__c).__H;k&&(it===ht?(k.__h=[],ht.__h=[],k.__.forEach(function(L){L.__N&&(L.__=L.__N),L.__V=Xt,L.__N=L.i=void 0})):(k.__h.forEach(vn),k.__h.forEach(Hn),k.__h=[],bn=0)),it=ht},Ke.diffed=function(M){Sn&&Sn(M);var k=M.__c;k&&k.__H&&(k.__H.__h.length&&(lr.push(k)!==1&&ur===Ke.requestAnimationFrame||((ur=Ke.requestAnimationFrame)||jr)(fr)),k.__H.__.forEach(function(L){L.i&&(L.__H=L.i),L.__V!==Xt&&(L.__=L.__V),L.i=void 0,L.__V=Xt})),it=ht=null},Ke.__c=function(M,k){k.some(function(L){try{L.__h.forEach(vn),L.__h=L.__h.filter(function(J){return!J.__||Hn(J)})}catch(J){k.some(function(X){X.__h&&(X.__h=[])}),k=[],Ke.__e(J,L.__v)}}),Zn&&Zn(M,k)},Ke.unmount=function(M){Ln&&Ln(M);var k,L=M.__c;L&&L.__H&&(L.__H.__.forEach(function(J){try{vn(J)}catch(X){k=X}}),L.__H=void 0,k&&Ke.__e(k,L.__v))};var Fn=typeof requestAnimationFrame=="function";function jr(M){var k,L=function(){clearTimeout(J),Fn&&cancelAnimationFrame(k),setTimeout(M)},J=setTimeout(L,100);Fn&&(k=requestAnimationFrame(L))}function vn(M){var k=ht,L=M.__c;typeof L=="function"&&(M.__c=void 0,L()),ht=k}function Hn(M){var k=ht;M.__c=M.__(),ht=k}function jn(M,k){return!M||M.length!==k.length||k.some(function(L,J){return L!==M[J]})}function pr(M,k){return typeof k=="function"?k(M):k}const hr="http://www.w3.org/2000/svg";function Wr(){const M=J=>v.createElementNS(hr,J),k=U(M("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),L=U(M("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return k.appendChild(L),k}const mr="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/DialogHeader.tsx";function gr({options:M}){const k=In(()=>({__html:Wr().outerHTML}),[]);return ge("h2",{class:"dialog__header",__self:this,__source:{fileName:mr,lineNumber:16}},M.formTitle,M.showBranding?ge("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:k,__self:this,__source:{fileName:mr,lineNumber:19}}):null)}function Sr(M,k){const L=[];return k.isNameRequired&&!M.name&&L.push(k.nameLabel),k.isEmailRequired&&!M.email&&L.push(k.emailLabel),M.message||L.push(k.messageLabel),L}const at="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Form.tsx";function Qn(M,k){const L=M.get(k);return typeof L=="string"?L.trim():""}function Wn({options:M,defaultEmail:k,defaultName:L,onFormClose:J,onSubmit:X,onSubmitSuccess:Q,onSubmitError:ye,showEmail:be,showName:Te,screenshotInput:me}){const{addScreenshotButtonLabel:Pe,removeScreenshotButtonLabel:re,cancelButtonLabel:je,emailLabel:Ce,emailPlaceholder:Ze,isEmailRequired:mt,isNameRequired:ct,messageLabel:Re,messagePlaceholder:Me,nameLabel:We,namePlaceholder:Je,submitButtonLabel:Tt,isRequiredLabel:Wt}=M,[Fe,Kt]=fn(null),[rt,Mt]=fn(!1),Rn=me&&me.input,[$n,Gn]=fn(null),nr=Yt(Dt=>{Gn(Dt),Mt(!1)},[]),An=Yt(Dt=>{const en=Sr(Dt,{emailLabel:Ce,isEmailRequired:mt,isNameRequired:ct,messageLabel:Re,nameLabel:We});return en.length>0?Kt(`Please enter in the following required fields: ${en.join(", ")}`):Kt(null),en.length===0},[Ce,mt,ct,Re,We]),Nn=Yt(Dt=>Oe(this,null,function*(){try{if(Dt.preventDefault(),!(Dt.target instanceof HTMLFormElement))return;const en=new FormData(Dt.target),Mn=yield me&&rt?me.value():void 0,Pt={name:Qn(en,"name"),email:Qn(en,"email"),message:Qn(en,"message"),attachments:Mn?[Mn]:void 0};if(!An(Pt))return;try{yield X({name:Pt.name,email:Pt.email,message:Pt.message,source:y},{attachments:Pt.attachments}),Q(Pt)}catch(Jt){P&&l.logger.error(Jt),Kt("There was a problem submitting feedback, please wait and try again."),ye(Jt)}}catch(en){}}),[me&&rt,Q,ye]);return ge("form",{class:"form",onSubmit:Nn,__self:this,__source:{fileName:at,lineNumber:142}},Rn&&rt?ge(Rn,{onError:nr,__self:this,__source:{fileName:at,lineNumber:144}}):null,ge("div",{class:"form__right","data-sentry-feedback":!0,__self:this,__source:{fileName:at,lineNumber:147}},ge("div",{class:"form__top",__self:this,__source:{fileName:at,lineNumber:148}},Fe?ge("div",{class:"form__error-container",__self:this,__source:{fileName:at,lineNumber:149}},Fe):null,Te?ge("label",{for:"name",class:"form__label",__self:this,__source:{fileName:at,lineNumber:152}},ge(qn,{label:We,isRequiredLabel:Wt,isRequired:ct,__self:this,__source:{fileName:at,lineNumber:153}}),ge("input",{class:"form__input",defaultValue:L,id:"name",name:"name",placeholder:Je,required:ct,type:"text",__self:this,__source:{fileName:at,lineNumber:154}})):ge("input",{"aria-hidden":!0,value:L,name:"name",type:"hidden",__self:this,__source:{fileName:at,lineNumber:165}}),be?ge("label",{for:"email",class:"form__label",__self:this,__source:{fileName:at,lineNumber:169}},ge(qn,{label:Ce,isRequiredLabel:Wt,isRequired:mt,__self:this,__source:{fileName:at,lineNumber:170}}),ge("input",{class:"form__input",defaultValue:k,id:"email",name:"email",placeholder:Ze,required:mt,type:"email",__self:this,__source:{fileName:at,lineNumber:171}})):ge("input",{"aria-hidden":!0,value:k,name:"email",type:"hidden",__self:this,__source:{fileName:at,lineNumber:182}}),ge("label",{for:"message",class:"form__label",__self:this,__source:{fileName:at,lineNumber:185}},ge(qn,{label:Re,isRequiredLabel:Wt,isRequired:!0,__self:this,__source:{fileName:at,lineNumber:186}}),ge("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:Me,required:!0,rows:5,__self:this,__source:{fileName:at,lineNumber:187}})),Rn?ge("label",{for:"screenshot",class:"form__label",__self:this,__source:{fileName:at,lineNumber:199}},ge("button",{class:"btn btn--default",type:"button",onClick:()=>{Gn(null),Mt(Dt=>!Dt)},__self:this,__source:{fileName:at,lineNumber:200}},rt?re:Pe),$n?ge("div",{class:"form__error-container",__self:this,__source:{fileName:at,lineNumber:210}},$n.message):null):null),ge("div",{class:"btn-group",__self:this,__source:{fileName:at,lineNumber:214}},ge("button",{class:"btn btn--primary",type:"submit",__self:this,__source:{fileName:at,lineNumber:215}},Tt),ge("button",{class:"btn btn--default",type:"button",onClick:J,__self:this,__source:{fileName:at,lineNumber:218}},je))))}function qn({label:M,isRequired:k,isRequiredLabel:L}){return ge("span",{class:"form__label__text",__self:this,__source:{fileName:at,lineNumber:233}},M,k&&ge("span",{class:"form__label__text--required",__self:this,__source:{fileName:at,lineNumber:235}},L))}const $e=16,ze=17,kt="http://www.w3.org/2000/svg";function sn(){const M=Te=>g.document.createElementNS(kt,Te),k=U(M("svg"),{width:`${$e}`,height:`${ze}`,viewBox:`0 0 ${$e} ${ze}`,fill:"inherit"}),L=U(M("g"),{clipPath:"url(#clip0_57_156)"}),J=U(M("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),X=U(M("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});k.appendChild(L).append(X,J);const Q=M("defs"),ye=U(M("clipPath"),{id:"clip0_57_156"}),be=U(M("rect"),{width:`${$e}`,height:`${$e}`,fill:"white",transform:"translate(0 0.5)"});return ye.appendChild(be),Q.appendChild(ye),k.appendChild(Q).appendChild(ye).appendChild(be),k}const on="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Dialog.tsx";function yr(J){var X=J,{open:M,onFormSubmitted:k}=X,L=ir(X,["open","onFormSubmitted"]);const Q=L.options,ye=In(()=>({__html:sn().outerHTML}),[]),[be,Te]=fn(null),me=Yt(()=>{be&&(clearTimeout(be),Te(null)),k()},[be]),Pe=Yt(re=>{L.onSubmitSuccess(re),Te(setTimeout(()=>{k(),Te(null)},A))},[k]);return ge(bt,{__self:this,__source:{fileName:on,lineNumber:47}},be?ge("div",{class:"success__position",onClick:me,__self:this,__source:{fileName:on,lineNumber:49}},ge("div",{class:"success__content",__self:this,__source:{fileName:on,lineNumber:50}},Q.successMessageText,ge("span",{class:"success__icon",dangerouslySetInnerHTML:ye,__self:this,__source:{fileName:on,lineNumber:52}}))):ge("dialog",{class:"dialog",onClick:Q.onFormClose,open:M,__self:this,__source:{fileName:on,lineNumber:56}},ge("div",{class:"dialog__position",__self:this,__source:{fileName:on,lineNumber:57}},ge("div",{class:"dialog__content",onClick:re=>{re.stopPropagation()},__self:this,__source:{fileName:on,lineNumber:58}},ge(gr,{options:Q,__self:this,__source:{fileName:on,lineNumber:65}}),ge(Wn,Ie(H({},L),{onSubmitSuccess:Pe,__self:this,__source:{fileName:on,lineNumber:66}}))))))}const xr=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}
`,_r=`
.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}

.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,$r=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form__right {
  width: var(--form-width, 272px);
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  flex: 1 0 auto;
}

@media (max-width: 600px) {
  .form__right {
    width: auto;
  }
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-foreground);
  fill: var(--error-foreground);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,er=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,Er=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function br(){const M=v.createElement("style");return M.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${xr}
${_r}
${$r}
${er}
${Er}
`,M}const Tr="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/integration.tsx";function Ir(){const M=i.getCurrentScope().getUser(),k=i.getIsolationScope().getUser(),L=i.getGlobalScope().getUser();return M&&Object.keys(M).length?M:k&&Object.keys(k).length?k:L}const Cn=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:M,screenshotIntegration:k,sendFeedback:L,shadow:J})=>{const X=J,Q=M.useSentryUser,ye=Ir(),be=v.createElement("div"),Te=br();let me="";const Pe={get el(){return be},appendToDom(){!X.contains(Te)&&!X.contains(be)&&(X.appendChild(Te),X.appendChild(be))},removeFromDom(){X.removeChild(be),X.removeChild(Te)},open(){je(!0),M.onFormOpen&&M.onFormOpen(),me=v.body.style.overflow,v.body.style.overflow="hidden"},close(){je(!1),v.body.style.overflow=me}},re=k&&k.createInput(ge,Pe,M),je=Ce=>{Hr(ge(yr,{options:M,screenshotInput:re,showName:M.showName||M.isNameRequired,showEmail:M.showEmail||M.isEmailRequired,defaultName:Q&&ye&&ye[Q.name]||"",defaultEmail:Q&&ye&&ye[Q.email]||"",onFormClose:()=>{je(!1),M.onFormClose&&M.onFormClose()},onSubmit:L,onSubmitSuccess:Ze=>{je(!1),M.onSubmitSuccess&&M.onSubmitSuccess(Ze)},onSubmitError:Ze=>{M.onSubmitError&&M.onSubmitError(Ze)},onFormSubmitted:()=>{M.onFormSubmitted&&M.onFormSubmitted()},open:Ce,__self:void 0,__source:{fileName:Tr,lineNumber:72}}),be)};return Pe}});function Gr(){const M=v.createElement("style"),k="#1A141F",L="#302735";return M.textContent=`
.editor {
  padding: 10px;
  padding-top: 65px;
  padding-bottom: 65px;
  flex-grow: 1;

  background-color: ${k};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${k} 8px,
      ${k} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${L} 15px,
      ${L} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
}

.editor__canvas-container canvas {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.editor__crop-btn-group {
  padding: 8px;
  gap: 8px;
  border-radius: var(--menu-border-radius, 6px);
  background: var(--button-primary-background, var(--background));
  width: 175px;
  position: absolute;
}

.editor__crop-corner {
  width: 30px;
  height: 30px;
  position: absolute;
  background: none;
  border: 3px solid #ffffff;
}

.editor__crop-corner--top-left {
  cursor: nwse-resize;
  border-right: none;
  border-bottom: none;
}
.editor__crop-corner--top-right {
  cursor: nesw-resize;
  border-left: none;
  border-bottom: none;
}
.editor__crop-corner--bottom-left {
  cursor: nesw-resize;
  border-right: none;
  border-top: none;
}
.editor__crop-corner--bottom-right {
  cursor: nwse-resize;
  border-left: none;
  border-top: none;
}
`,M}const zr=({onBeforeScreenshot:M,onScreenshot:k,onAfterScreenshot:L,onError:J})=>{Bn(()=>{Oe(this,null,function*(){M();const Q=yield T.mediaDevices.getDisplayMedia({video:{width:g.innerWidth*g.devicePixelRatio,height:g.innerHeight*g.devicePixelRatio},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),ye=v.createElement("video");yield new Promise((be,Te)=>{ye.srcObject=Q,ye.onloadedmetadata=()=>{k(ye),Q.getTracks().forEach(me=>me.stop()),be()},ye.play().catch(Te)}),L()}).catch(J)},[])},Be="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/ScreenshotEditor.tsx",Bt=30,Ft=3,Vt=Bt+Ft,Zt=g.devicePixelRatio,On=M=>({x:Math.min(M.startX,M.endX),y:Math.min(M.startY,M.endY),width:Math.abs(M.startX-M.endX),height:Math.abs(M.startY-M.endY)}),tr=M=>{const k=M.clientHeight,L=M.clientWidth,J=M.width/M.height;let X=k*J,Q=k;X>L&&(X=L,Q=L/J);const ye=(L-X)/2,be=(k-Q)/2;return{startX:ye,startY:be,endX:X+ye,endY:Q+be}};function vr({imageBuffer:M,dialog:k,options:L}){return function({onError:X}){const Q=In(()=>({__html:Gr().innerText}),[]),ye=jt(null),be=jt(null),Te=jt(null),[me,Pe]=fn({startX:0,startY:0,endX:0,endY:0}),[re,je]=fn(!1);Bn(()=>{g.addEventListener("resize",Ce,!1)},[]);function Ce(){const Re=Te.current,Me=On(tr(M));if(Re){Re.width=Me.width*Zt,Re.height=Me.height*Zt,Re.style.width=`${Me.width}px`,Re.style.height=`${Me.height}px`;const Je=Re.getContext("2d");Je&&Je.scale(Zt,Zt)}const We=be.current;We&&(We.style.width=`${Me.width}px`,We.style.height=`${Me.height}px`,We.style.left=`${Me.x}px`,We.style.top=`${Me.y}px`),Pe({startX:0,startY:0,endX:Me.width,endY:Me.height})}Bn(()=>{const Re=Te.current;if(!Re)return;const Me=Re.getContext("2d");if(!Me)return;const We=On(tr(M)),Je=On(me);Me.clearRect(0,0,We.width,We.height),Me.fillStyle="rgba(0, 0, 0, 0.5)",Me.fillRect(0,0,We.width,We.height),Me.clearRect(Je.x,Je.y,Je.width,Je.height),Me.strokeStyle="#ffffff",Me.lineWidth=3,Me.strokeRect(Je.x+1,Je.y+1,Je.width-2,Je.height-2),Me.strokeStyle="#000000",Me.lineWidth=1,Me.strokeRect(Je.x+3,Je.y+3,Je.width-6,Je.height-6)},[me]);function Ze(Re,Me){je(!1);const We=mt(Me),Je=()=>{v.removeEventListener("mousemove",We),v.removeEventListener("mouseup",Je),je(!0)};v.addEventListener("mouseup",Je),v.addEventListener("mousemove",We)}const mt=Yt(Re=>function(Me){if(!Te.current)return;const We=Te.current,Je=We.getBoundingClientRect(),Tt=Me.clientX-Je.x,Wt=Me.clientY-Je.y;switch(Re){case"top-left":Pe(Fe=>Ie(H({},Fe),{startX:Math.min(Math.max(0,Tt),Fe.endX-Vt),startY:Math.min(Math.max(0,Wt),Fe.endY-Vt)}));break;case"top-right":Pe(Fe=>Ie(H({},Fe),{endX:Math.max(Math.min(Tt,We.width/Zt),Fe.startX+Vt),startY:Math.min(Math.max(0,Wt),Fe.endY-Vt)}));break;case"bottom-left":Pe(Fe=>Ie(H({},Fe),{startX:Math.min(Math.max(0,Tt),Fe.endX-Vt),endY:Math.max(Math.min(Wt,We.height/Zt),Fe.startY+Vt)}));break;case"bottom-right":Pe(Fe=>Ie(H({},Fe),{endX:Math.max(Math.min(Tt,We.width/Zt),Fe.startX+Vt),endY:Math.max(Math.min(Wt,We.height/Zt),Fe.startY+Vt)}));break}},[]);function ct(){const Re=v.createElement("canvas"),Me=On(tr(M)),We=On(me);Re.width=We.width,Re.height=We.height;const Je=Re.getContext("2d");Je&&M&&Je.drawImage(M,We.x/Me.width*M.width,We.y/Me.height*M.height,We.width/Me.width*M.width,We.height/Me.height*M.height,0,0,We.width,We.height);const Tt=M.getContext("2d");Tt&&(Tt.clearRect(0,0,M.width,M.height),M.width=Re.width,M.height=Re.height,Tt.drawImage(Re,0,0),Ce())}return zr({onBeforeScreenshot:Yt(()=>{k.el.style.display="none"},[]),onScreenshot:Yt(Re=>{const Me=M.getContext("2d");if(!Me)throw new Error("Could not get canvas context");M.width=Re.videoWidth,M.height=Re.videoHeight,Me.drawImage(Re,0,0)},[M]),onAfterScreenshot:Yt(()=>{k.el.style.display="block";const Re=ye.current;Re&&Re.appendChild(M),Ce()},[]),onError:Yt(Re=>{k.el.style.display="block",X(Re)},[])}),ge("div",{class:"editor",__self:this,__source:{fileName:Be,lineNumber:249}},ge("style",{dangerouslySetInnerHTML:Q,__self:this,__source:{fileName:Be,lineNumber:250}}),ge("div",{class:"editor__canvas-container",ref:ye,__self:this,__source:{fileName:Be,lineNumber:251}},ge("div",{class:"editor__crop-container",style:{position:"absolute"},ref:be,__self:this,__source:{fileName:Be,lineNumber:252}},ge("canvas",{style:{position:"absolute"},ref:Te,__self:this,__source:{fileName:Be,lineNumber:253}}),ge(xn,{left:me.startX-Ft,top:me.startY-Ft,onGrabButton:Ze,corner:"top-left",__self:this,__source:{fileName:Be,lineNumber:254}}),ge(xn,{left:me.endX-Bt+Ft,top:me.startY-Ft,onGrabButton:Ze,corner:"top-right",__self:this,__source:{fileName:Be,lineNumber:260}}),ge(xn,{left:me.startX-Ft,top:me.endY-Bt+Ft,onGrabButton:Ze,corner:"bottom-left",__self:this,__source:{fileName:Be,lineNumber:266}}),ge(xn,{left:me.endX-Bt+Ft,top:me.endY-Bt+Ft,onGrabButton:Ze,corner:"bottom-right",__self:this,__source:{fileName:Be,lineNumber:272}}),ge("div",{style:{left:Math.max(0,me.endX-191),top:Math.max(0,me.endY+8),display:re?"flex":"none"},class:"editor__crop-btn-group",__self:this,__source:{fileName:Be,lineNumber:278}},ge("button",{onClick:Re=>{Re.preventDefault(),Te.current&&Pe({startX:0,startY:0,endX:Te.current.width/Zt,endY:Te.current.height/Zt}),je(!1)},class:"btn btn--default",__self:this,__source:{fileName:Be,lineNumber:286}},L.cancelButtonLabel),ge("button",{onClick:Re=>{Re.preventDefault(),ct(),je(!1)},class:"btn btn--primary",__self:this,__source:{fileName:Be,lineNumber:303}},L.confirmButtonLabel)))))}}function xn({top:M,left:k,corner:L,onGrabButton:J}){return ge("button",{class:`editor__crop-corner editor__crop-corner--${L} `,style:{top:M,left:k},onMouseDown:X=>{X.preventDefault(),J(X,L)},onClick:X=>{X.preventDefault()},__self:this,__source:{fileName:Be,lineNumber:333}})}const Yr=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:(M,k,L)=>{const J=v.createElement("canvas");return{input:vr({h:M,imageBuffer:J,dialog:k,options:L}),value:()=>Oe(this,null,function*(){const X=yield new Promise(Q=>{J.toBlob(Q,"image/png")});if(X)return{data:new Uint8Array(yield X.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}})}}});e.buildFeedbackIntegration=le,e.feedbackModalIntegration=Cn,e.feedbackScreenshotIntegration=Yr,e.getFeedback=pe,e.sendFeedback=w},4772:(j,e,o)=>{var{_optionalChain:i}=o(17077);Object.defineProperty(e,"__esModule",{value:!0});const l=o(95617);var g;(function(V){V[V.Document=0]="Document",V[V.DocumentType=1]="DocumentType",V[V.Element=2]="Element",V[V.Text=3]="Text",V[V.CDATA=4]="CDATA",V[V.Comment=5]="Comment"})(g||(g={}));function v(V,se){for(let ne=V.classList.length;ne--;){const ie=V.classList[ne];if(se.test(ie))return!0}return!1}function T(V,se,ne=1/0,ie=0){return!V||V.nodeType!==V.ELEMENT_NODE||ie>ne?-1:se(V)?ie:T(V.parentNode,se,ne,ie+1)}function E(V,se){return ne=>{const ie=ne;if(ie===null)return!1;try{if(V){if(typeof V=="string"){if(ie.matches(`.${V}`))return!0}else if(v(ie,V))return!0}return!!(se&&ie.matches(se))}catch(de){return!1}}}const _=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let h={map:{},getId(){return console.error(_),-1},getNode(){return console.error(_),null},removeNodeFromMap(){console.error(_)},has(){return console.error(_),!1},reset(){console.error(_)}};typeof window!="undefined"&&window.Proxy&&window.Reflect&&(h=new Proxy(h,{get(V,se,ne){return se==="map"&&console.error(_),Reflect.get(V,se,ne)}}));function f(V,se,ne,ie,de=window){const ve=de.Object.getOwnPropertyDescriptor(V,se);return de.Object.defineProperty(V,se,ie?ne:{set(Le){C(()=>{ne.set.call(this,Le)},0),ve&&ve.set&&ve.set.call(this,Le)}}),()=>f(V,se,ve||{},!0)}function I(V,se,ne){try{if(!(se in V))return()=>{};const ie=V[se],de=ne(ie);return typeof de=="function"&&(de.prototype=de.prototype||{},Object.defineProperties(de,{__rrweb_original__:{enumerable:!1,value:ie}})),V[se]=de,()=>{V[se]=ie}}catch(ie){return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function b(V){return V?V.nodeType===V.ELEMENT_NODE?V:V.parentElement:null}function S(V,se,ne,ie,de){if(!V)return!1;const ve=b(V);if(!ve)return!1;const Le=E(se,ne);if(!de){const Ve=ie&&ve.matches(ie);return Le(ve)&&!Ve}const Ue=T(ve,Le);let He=-1;return Ue<0?!1:(ie&&(He=T(ve,E(null,ie))),Ue>-1&&He<0?!0:Ue<He)}const d={};function p(V){const se=d[V];if(se)return se;const ne=window.document;let ie=window[V];if(ne&&typeof ne.createElement=="function")try{const de=ne.createElement("iframe");de.hidden=!0,ne.head.appendChild(de);const ve=de.contentWindow;ve&&ve[V]&&(ie=ve[V]),ne.head.removeChild(de)}catch(de){}return d[V]=ie.bind(window)}function u(...V){return p("requestAnimationFrame")(...V)}function C(...V){return p("setTimeout")(...V)}var m=(V=>(V[V["2D"]=0]="2D",V[V.WebGL=1]="WebGL",V[V.WebGL2=2]="WebGL2",V))(m||{});let n;function r(V){n=V}const a=V=>n?(...ne)=>{try{return V(...ne)}catch(ie){if(n&&n(ie)===!0)return()=>{};throw ie}}:V;for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),A=0;A<y.length;A++)R[y.charCodeAt(A)]=A;var w=function(V){var se=new Uint8Array(V),ne,ie=se.length,de="";for(ne=0;ne<ie;ne+=3)de+=y[se[ne]>>2],de+=y[(se[ne]&3)<<4|se[ne+1]>>4],de+=y[(se[ne+1]&15)<<2|se[ne+2]>>6],de+=y[se[ne+2]&63];return ie%3===2?de=de.substring(0,de.length-1)+"=":ie%3===1&&(de=de.substring(0,de.length-2)+"=="),de};const P=new Map;function x(V,se){let ne=P.get(V);return ne||(ne=new Map,P.set(V,ne)),ne.has(se)||ne.set(se,[]),ne.get(se)}const $=(V,se,ne)=>{if(!V||!(ee(V,se)||typeof V=="object"))return;const ie=V.constructor.name,de=x(ne,ie);let ve=de.indexOf(V);return ve===-1&&(ve=de.length,de.push(V)),ve};function K(V,se,ne){if(V instanceof Array)return V.map(ie=>K(ie,se,ne));if(V===null)return V;if(V instanceof Float32Array||V instanceof Float64Array||V instanceof Int32Array||V instanceof Uint32Array||V instanceof Uint8Array||V instanceof Uint16Array||V instanceof Int16Array||V instanceof Int8Array||V instanceof Uint8ClampedArray)return{rr_type:V.constructor.name,args:[Object.values(V)]};if(V instanceof ArrayBuffer){const ie=V.constructor.name,de=w(V);return{rr_type:ie,base64:de}}else{if(V instanceof DataView)return{rr_type:V.constructor.name,args:[K(V.buffer,se,ne),V.byteOffset,V.byteLength]};if(V instanceof HTMLImageElement){const ie=V.constructor.name,{src:de}=V;return{rr_type:ie,src:de}}else if(V instanceof HTMLCanvasElement){const ie="HTMLImageElement",de=V.toDataURL();return{rr_type:ie,src:de}}else{if(V instanceof ImageData)return{rr_type:V.constructor.name,args:[K(V.data,se,ne),V.width,V.height]};if(ee(V,se)||typeof V=="object"){const ie=V.constructor.name,de=$(V,se,ne);return{rr_type:ie,index:de}}}}return V}const U=(V,se,ne)=>V.map(ie=>K(ie,se,ne)),ee=(V,se)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(de=>typeof se[de]=="function").find(de=>V instanceof se[de]);function Y(V,se,ne,ie,de){const ve=[],Le=Object.getOwnPropertyNames(se.CanvasRenderingContext2D.prototype);for(const Ue of Le)try{if(typeof se.CanvasRenderingContext2D.prototype[Ue]!="function")continue;const He=I(se.CanvasRenderingContext2D.prototype,Ue,function(Ve){return function(...ge){return S(this.canvas,ne,ie,de,!0)||C(()=>{const lt=U(ge,se,this);V(this.canvas,{type:m["2D"],property:Ue,args:lt})},0),Ve.apply(this,ge)}});ve.push(He)}catch(He){const Ve=f(se.CanvasRenderingContext2D.prototype,Ue,{set(ge){V(this.canvas,{type:m["2D"],property:Ue,args:[ge],setter:!0})}});ve.push(Ve)}return()=>{ve.forEach(Ue=>Ue())}}function B(V){return V==="experimental-webgl"?"webgl":V}function z(V,se,ne,ie,de){const ve=[];try{const Le=I(V.HTMLCanvasElement.prototype,"getContext",function(Ue){return function(He,...Ve){if(!S(this,se,ne,ie,!0)){const ge=B(He);if("__context"in this||(this.__context=ge),de&&["webgl","webgl2"].includes(ge))if(Ve[0]&&typeof Ve[0]=="object"){const lt=Ve[0];lt.preserveDrawingBuffer||(lt.preserveDrawingBuffer=!0)}else Ve.splice(0,1,{preserveDrawingBuffer:!0})}return Ue.apply(this,[He,...Ve])}});ve.push(Le)}catch(Le){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{ve.forEach(Le=>Le())}}function te(V,se,ne,ie,de,ve,Le,Ue){const He=[],Ve=Object.getOwnPropertyNames(V);for(const ge of Ve)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(ge))try{if(typeof V[ge]!="function")continue;const lt=I(V,ge,function(bt){return function(...vt){const Nt=bt.apply(this,vt);if($(Nt,Ue,this),"tagName"in this.canvas&&!S(this.canvas,ie,de,ve,!0)){const ln=U(vt,Ue,this),Ut={type:se,property:ge,args:ln};ne(this.canvas,Ut)}return Nt}});He.push(lt)}catch(lt){const bt=f(V,ge,{set(vt){ne(this.canvas,{type:se,property:ge,args:[vt],setter:!0})}});He.push(bt)}return He}function ue(V,se,ne,ie,de,ve){const Le=[];return Le.push(...te(se.WebGLRenderingContext.prototype,m.WebGL,V,ne,ie,de,ve,se)),typeof se.WebGL2RenderingContext!="undefined"&&Le.push(...te(se.WebGL2RenderingContext.prototype,m.WebGL2,V,ne,ie,de,ve,se)),()=>{Le.forEach(Ue=>Ue())}}var fe='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function he(){const V=new Blob([fe]);return URL.createObjectURL(V)}class q{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(se){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(lt,bt)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(lt)||this.pendingCanvasMutations.set(lt,[]),this.pendingCanvasMutations.get(lt).push(bt)};const{sampling:ne="all",win:ie,blockClass:de,blockSelector:ve,unblockSelector:Le,maxCanvasSize:Ue,recordCanvas:He,dataURLOptions:Ve,errorHandler:ge}=se;this.mutationCb=se.mutationCb,this.mirror=se.mirror,this.options=se,ge&&r(ge),!se.enableManualSnapshot&&a(()=>{He&&ne==="all"&&this.initCanvasMutationObserver(ie,de,ve,Le),He&&typeof ne=="number"&&this.initCanvasFPSObserver(ne,ie,de,ve,Le,Ue,{dataURLOptions:Ve})})()}initCanvasFPSObserver(se,ne,ie,de,ve,Le,Ue){const He=z(ne,ie,de,ve,!0),Ve=this.takeSnapshot(!1,se,ne,ie,de,ve,Le,Ue.dataURLOptions);this.resetObservers=()=>{He(),cancelAnimationFrame(Ve)}}initCanvasMutationObserver(se,ne,ie,de){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const ve=z(se,ne,ie,de,!1),Le=Y(this.processMutation.bind(this),se,ne,ie,de),Ue=ue(this.processMutation.bind(this),se,ne,ie,de,this.mirror);this.resetObservers=()=>{ve(),Le(),Ue()}}snapshot(se){const{options:ne}=this,ie=this.takeSnapshot(!0,ne.sampling==="all"?2:ne.sampling||2,ne.win,ne.blockClass,ne.blockSelector,ne.unblockSelector,ne.maxCanvasSize,ne.dataURLOptions,se);this.resetObservers=()=>{cancelAnimationFrame(ie)}}takeSnapshot(se,ne,ie,de,ve,Le,Ue,He,Ve){const ge=new Map,lt=new Worker(he());lt.onmessage=zt=>{const ft=zt.data,{id:wt}=ft;if(ge.set(wt,!1),!("base64"in ft))return;const{base64:_t,type:Qt,width:hn,height:mn}=ft;this.mutationCb({id:wt,type:m["2D"],commands:[{property:"clearRect",args:[0,0,hn,mn]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:_t}],type:Qt}]},0,0,hn,mn]}]})};const bt=1e3/ne;let vt=0,Nt;const ln=zt=>{if(zt)return[zt];const ft=[];return ie.document.querySelectorAll("canvas").forEach(wt=>{S(wt,de,ve,Le,!0)||ft.push(wt)}),ft},Ut=zt=>{if(vt&&zt-vt<bt){Nt=u(Ut);return}vt=zt,ln(Ve).forEach(ft=>{const wt=this.mirror.getId(ft);if(!ge.get(wt)&&!(!ft.width||!ft.height)){if(ge.set(wt,!0),!se&&["webgl","webgl2"].includes(ft.__context)){const _t=ft.getContext(ft.__context);i([_t,"optionalAccess",Qt=>Qt.getContextAttributes,"call",Qt=>Qt(),"optionalAccess",Qt=>Qt.preserveDrawingBuffer])===!1&&_t.clear(_t.COLOR_BUFFER_BIT)}createImageBitmap(ft).then(_t=>{lt.postMessage({id:wt,bitmap:_t,width:ft.width,height:ft.height,dataURLOptions:He,maxCanvasSize:Ue},[_t])}).catch(_t=>{a(()=>{throw _t})()})}}),Nt=u(Ut)};return Nt=u(Ut),Nt}startPendingCanvasMutationFlusher(){u(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const se=ne=>{this.rafStamps.latestId=ne,u(se)};u(se)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((se,ne)=>{const ie=this.mirror.getId(ne);this.flushPendingCanvasMutationFor(ne,ie)}),u(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(se,ne){if(this.frozen||this.locked)return;const ie=this.pendingCanvasMutations.get(se);if(!ie||ne===-1)return;const de=ie.map(Le=>{const Ve=Le,{type:Ue}=Ve;return ir(Ve,["type"])}),{type:ve}=ie[0];this.mutationCb({id:ne,type:ve,commands:de}),this.pendingCanvasMutations.delete(se)}}const le={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},pe="ReplayCanvas",Se=1280,Ae=(V={})=>{const[se,ne]=V.maxCanvasSize||[],ie={quality:V.quality||"medium",enableManualSnapshot:V.enableManualSnapshot,maxCanvasSize:[se?Math.min(se,Se):Se,ne?Math.min(ne,Se):Se]};let de;const ve=new Promise(Ue=>de=Ue);return{name:pe,getOptions(){const{quality:Ue,enableManualSnapshot:He,maxCanvasSize:Ve}=ie;return H({enableManualSnapshot:He,recordCanvas:!0,getCanvasManager:ge=>{const lt=new q(Ie(H({},ge),{enableManualSnapshot:He,maxCanvasSize:Ve,errorHandler:bt=>{try{typeof bt=="object"&&(bt.__rrweb__=!0)}catch(vt){}}}));return de(lt),lt}},le[Ue||"medium"]||le.medium)},snapshot(Ue){return Oe(this,null,function*(){(yield ve).snapshot(Ue)})}}},nt=l.defineIntegration(Ae);e.replayCanvasIntegration=nt},3667:(j,e,o)=>{var{_nullishCoalesce:i,_optionalChain:l}=o(17077);Object.defineProperty(e,"__esModule",{value:!0});const g=o(95617),v=o(17077),T=o(82138),E=v.GLOBAL_OBJ,_="sentryReplaySession",h="replay_event",f="Unable to send Replay",I=3e5,b=9e5,S=5e3,d=5500,p=6e4,u=5e3,C=3,m=15e4,n=5e3,r=3e3,a=300,y=2e7,R=4999,A=15e3,w=36e5;function P(t,s){return t!=null?t:s()}function x(t){let s,c=t[0],O=1;for(;O<t.length;){const N=t[O],D=t[O+1];if(O+=2,(N==="optionalAccess"||N==="optionalCall")&&c==null)return;N==="access"||N==="optionalAccess"?(s=c,c=D(c)):(N==="call"||N==="optionalCall")&&(c=D((...F)=>c.call(s,...F)),s=void 0)}return c}var $;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})($||($={}));function K(t){return t.nodeType===t.ELEMENT_NODE}function U(t){const s=x([t,"optionalAccess",c=>c.host]);return x([s,"optionalAccess",c=>c.shadowRoot])===t}function ee(t){return Object.prototype.toString.call(t)==="[object ShadowRoot]"}function Y(t){return t.includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t}function B(t){const{cssText:s}=t;if(s.split('"').length<3)return s;const c=["@import",`url(${JSON.stringify(t.href)})`];return t.layerName===""?c.push("layer"):t.layerName&&c.push(`layer(${t.layerName})`),t.supportsText&&c.push(`supports(${t.supportsText})`),t.media.length&&c.push(t.media.mediaText),c.join(" ")+";"}function z(t){try{const s=t.rules||t.cssRules;return s?Y(Array.from(s,te).join("")):null}catch(s){return null}}function te(t){let s;if(fe(t))try{s=z(t.styleSheet)||B(t)}catch(c){}else if(he(t)&&t.selectorText.includes(":"))return ue(t.cssText);return s||t.cssText}function ue(t){const s=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(s,"$1\\$2")}function fe(t){return"styleSheet"in t}function he(t){return"selectorText"in t}class q{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(s){if(!s)return-1;const c=x([this,"access",O=>O.getMeta,"call",O=>O(s),"optionalAccess",O=>O.id]);return P(c,()=>-1)}getNode(s){return this.idNodeMap.get(s)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(s){return this.nodeMetaMap.get(s)||null}removeNodeFromMap(s){const c=this.getId(s);this.idNodeMap.delete(c),s.childNodes&&s.childNodes.forEach(O=>this.removeNodeFromMap(O))}has(s){return this.idNodeMap.has(s)}hasNode(s){return this.nodeMetaMap.has(s)}add(s,c){const O=c.id;this.idNodeMap.set(O,s),this.nodeMetaMap.set(s,c)}replace(s,c){const O=this.getNode(s);if(O){const N=this.nodeMetaMap.get(O);N&&this.nodeMetaMap.set(c,N)}this.idNodeMap.set(s,c)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function le(){return new q}function pe({maskInputOptions:t,tagName:s,type:c}){return s==="OPTION"&&(s="SELECT"),!!(t[s.toLowerCase()]||c&&t[c]||c==="password"||s==="INPUT"&&!c&&t.text)}function Se({isMasked:t,element:s,value:c,maskInputFn:O}){let N=c||"";return t?(O&&(N=O(N,s)),"*".repeat(N.length)):N}function Ae(t){return t.toLowerCase()}function nt(t){return t.toUpperCase()}const V="__rrweb_original__";function se(t){const s=t.getContext("2d");if(!s)return!0;const c=50;for(let O=0;O<t.width;O+=c)for(let N=0;N<t.height;N+=c){const D=s.getImageData,F=V in D?D[V]:D;if(new Uint32Array(F.call(s,O,N,Math.min(c,t.width-O),Math.min(c,t.height-N)).data.buffer).some(W=>W!==0))return!1}return!0}function ne(t){const s=t.type;return t.hasAttribute("data-rr-is-password")?"password":s?Ae(s):null}function ie(t,s,c){return s==="INPUT"&&(c==="radio"||c==="checkbox")?t.getAttribute("value")||"":t.value}let de=1;const ve=new RegExp("[^a-z0-9-_:]"),Le=-2;function Ue(){return de++}function He(t){if(t instanceof HTMLFormElement)return"form";const s=Ae(t.tagName);return ve.test(s)?"div":s}function Ve(t){let s="";return t.indexOf("//")>-1?s=t.split("/").slice(0,3).join("/"):s=t.split("/")[0],s=s.split("?")[0],s}let ge,lt;const bt=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,vt=/^(?:[a-z+]+:)?\/\//i,Nt=/^www\..*/i,ln=/^(data:)([^,]*),(.*)/i;function Ut(t,s){return(t||"").replace(bt,(c,O,N,D,F,G)=>{const W=N||F||G,Z=O||D||"";if(!W)return c;if(vt.test(W)||Nt.test(W))return`url(${Z}${W}${Z})`;if(ln.test(W))return`url(${Z}${W}${Z})`;if(W[0]==="/")return`url(${Z}${Ve(s)+W}${Z})`;const oe=s.split("/"),ce=W.split("/");oe.pop();for(const ae of ce)ae!=="."&&(ae===".."?oe.pop():oe.push(ae));return`url(${Z}${oe.join("/")}${Z})`})}const zt=/^[^ \t\n\r\u000c]+/,ft=/^[, \t\n\r\u000c]+/;function wt(t,s){if(s.trim()==="")return s;let c=0;function O(D){let F;const G=D.exec(s.substring(c));return G?(F=G[0],c+=F.length,F):""}const N=[];for(;O(ft),!(c>=s.length);){let D=O(zt);if(D.slice(-1)===",")D=_t(t,D.substring(0,D.length-1)),N.push(D);else{let F="";D=_t(t,D);let G=!1;for(;;){const W=s.charAt(c);if(W===""){N.push((D+F).trim());break}else if(G)W===")"&&(G=!1);else if(W===","){c+=1,N.push((D+F).trim());break}else W==="("&&(G=!0);F+=W,c+=1}}}return N.join(", ")}function _t(t,s){if(!s||s.trim()==="")return s;const c=t.createElement("a");return c.href=s,c.href}function Qt(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}function hn(){const t=document.createElement("a");return t.href="",t.href}function mn(t,s,c,O,N,D){return O&&(c==="src"||c==="href"&&!(s==="use"&&O[0]==="#")||c==="xlink:href"&&O[0]!=="#"||c==="background"&&(s==="table"||s==="td"||s==="th")?_t(t,O):c==="srcset"?wt(t,O):c==="style"?Ut(O,hn()):s==="object"&&c==="data"?_t(t,O):typeof D=="function"?D(c,O,N):O)}function En(t,s,c){return(t==="video"||t==="audio")&&s==="autoplay"}function ar(t,s,c,O){try{if(O&&t.matches(O))return!1;if(typeof s=="string"){if(t.classList.contains(s))return!0}else for(let N=t.classList.length;N--;){const D=t.classList[N];if(s.test(D))return!0}if(c)return t.matches(c)}catch(N){}return!1}function cr(t,s){for(let c=t.classList.length;c--;){const O=t.classList[c];if(s.test(O))return!0}return!1}function rn(t,s,c=1/0,O=0){return!t||t.nodeType!==t.ELEMENT_NODE||O>c?-1:s(t)?O:rn(t.parentNode,s,c,O+1)}function un(t,s){return c=>{const O=c;if(O===null)return!1;try{if(t){if(typeof t=="string"){if(O.matches(`.${t}`))return!0}else if(cr(O,t))return!0}return!!(s&&O.matches(s))}catch(N){return!1}}}function gn(t,s,c,O,N,D){try{const F=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(F===null)return!1;if(F.tagName==="INPUT"){const Z=F.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(Z))return!0}let G=-1,W=-1;if(D){if(W=rn(F,un(O,N)),W<0)return!0;G=rn(F,un(s,c),W>=0?W:1/0)}else{if(G=rn(F,un(s,c)),G<0)return!1;W=rn(F,un(O,N),G>=0?G:1/0)}return G>=0?W>=0?G<=W:!0:W>=0?!1:!!D}catch(F){}return!!D}function Kn(t,s,c){const O=t.contentWindow;if(!O)return;let N=!1,D;try{D=O.document.readyState}catch(G){return}if(D!=="complete"){const G=setTimeout(()=>{N||(s(),N=!0)},c);t.addEventListener("load",()=>{clearTimeout(G),N=!0,s()});return}const F="about:blank";if(O.location.href!==F||t.src===F||t.src==="")return setTimeout(s,0),t.addEventListener("load",s);t.addEventListener("load",s)}function Jn(t,s,c){let O=!1,N;try{N=t.sheet}catch(F){return}if(N)return;const D=setTimeout(()=>{O||(s(),O=!0)},c);t.addEventListener("load",()=>{clearTimeout(D),O=!0,s()})}function Fr(t,s){const{doc:c,mirror:O,blockClass:N,blockSelector:D,unblockSelector:F,maskAllText:G,maskAttributeFn:W,maskTextClass:Z,unmaskTextClass:oe,maskTextSelector:ce,unmaskTextSelector:ae,inlineStylesheet:Ee,maskInputOptions:_e={},maskTextFn:Ne,maskInputFn:xe,dataURLOptions:we={},inlineImages:Qe,recordCanvas:qe,keepIframeSrcFn:et,newlyAddedElement:St=!1}=s,Ge=Hr(c,O);switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:$.Document,childNodes:[],compatMode:t.compatMode}:{type:$.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:$.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:Ge};case t.ELEMENT_NODE:return ht(t,{doc:c,blockClass:N,blockSelector:D,unblockSelector:F,inlineStylesheet:Ee,maskAttributeFn:W,maskInputOptions:_e,maskInputFn:xe,dataURLOptions:we,inlineImages:Qe,recordCanvas:qe,keepIframeSrcFn:et,newlyAddedElement:St,rootId:Ge,maskAllText:G,maskTextClass:Z,unmaskTextClass:oe,maskTextSelector:ce,unmaskTextSelector:ae});case t.TEXT_NODE:return bn(t,{maskAllText:G,maskTextClass:Z,unmaskTextClass:oe,maskTextSelector:ce,unmaskTextSelector:ae,maskTextFn:Ne,maskInputOptions:_e,maskInputFn:xe,rootId:Ge});case t.CDATA_SECTION_NODE:return{type:$.CDATA,textContent:"",rootId:Ge};case t.COMMENT_NODE:return{type:$.Comment,textContent:t.textContent||"",rootId:Ge};default:return!1}}function Hr(t,s){if(!s.hasNode(t))return;const c=s.getId(t);return c===1?void 0:c}function bn(t,s){const{maskAllText:c,maskTextClass:O,unmaskTextClass:N,maskTextSelector:D,unmaskTextSelector:F,maskTextFn:G,maskInputOptions:W,maskInputFn:Z,rootId:oe}=s,ce=t.parentNode&&t.parentNode.tagName;let ae=t.textContent;const Ee=ce==="STYLE"?!0:void 0,_e=ce==="SCRIPT"?!0:void 0,Ne=ce==="TEXTAREA"?!0:void 0;if(Ee&&ae){try{t.nextSibling||t.previousSibling||x([t,"access",we=>we.parentNode,"access",we=>we.sheet,"optionalAccess",we=>we.cssRules])&&(ae=z(t.parentNode.sheet))}catch(we){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${we}`,t)}ae=Ut(ae,hn())}_e&&(ae="SCRIPT_PLACEHOLDER");const xe=gn(t,O,D,N,F,c);if(!Ee&&!_e&&!Ne&&ae&&xe&&(ae=G?G(ae,t.parentElement):ae.replace(/[\S]/g,"*")),Ne&&ae&&(W.textarea||xe)&&(ae=Z?Z(ae,t.parentNode):ae.replace(/[\S]/g,"*")),ce==="OPTION"&&ae){const we=pe({type:null,tagName:ce,maskInputOptions:W});ae=Se({isMasked:gn(t,O,D,N,F,we),element:t,value:ae,maskInputFn:Z})}return{type:$.Text,textContent:ae||"",isStyle:Ee,rootId:oe}}function ht(t,s){const{doc:c,blockClass:O,blockSelector:N,unblockSelector:D,inlineStylesheet:F,maskInputOptions:G={},maskAttributeFn:W,maskInputFn:Z,dataURLOptions:oe={},inlineImages:ce,recordCanvas:ae,keepIframeSrcFn:Ee,newlyAddedElement:_e=!1,rootId:Ne,maskAllText:xe,maskTextClass:we,unmaskTextClass:Qe,maskTextSelector:qe,unmaskTextSelector:et}=s,St=ar(t,O,N,D),Ge=He(t);let ke={};const Xe=t.attributes.length;for(let De=0;De<Xe;De++){const Ye=t.attributes[De];Ye.name&&!En(Ge,Ye.name,Ye.value)&&(ke[Ye.name]=mn(c,Ge,Ae(Ye.name),Ye.value,t,W))}if(Ge==="link"&&F){const De=Array.from(c.styleSheets).find(pt=>pt.href===t.href);let Ye=null;De&&(Ye=z(De)),Ye&&(delete ke.rel,delete ke.href,ke._cssText=Ut(Ye,De.href))}if(Ge==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const De=z(t.sheet);De&&(ke._cssText=Ut(De,hn()))}if(Ge==="input"||Ge==="textarea"||Ge==="select"||Ge==="option"){const De=t,Ye=ne(De),pt=ie(De,nt(Ge),Ye),Rt=De.checked;if(Ye!=="submit"&&Ye!=="button"&&pt){const It=gn(De,we,qe,Qe,et,pe({type:Ye,tagName:nt(Ge),maskInputOptions:G}));ke.value=Se({isMasked:It,element:De,value:pt,maskInputFn:Z})}Rt&&(ke.checked=Rt)}if(Ge==="option"&&(t.selected&&!G.select?ke.selected=!0:delete ke.selected),Ge==="canvas"&&ae){if(t.__context==="2d")se(t)||(ke.rr_dataURL=t.toDataURL(oe.type,oe.quality));else if(!("__context"in t)){const De=t.toDataURL(oe.type,oe.quality),Ye=document.createElement("canvas");Ye.width=t.width,Ye.height=t.height;const pt=Ye.toDataURL(oe.type,oe.quality);De!==pt&&(ke.rr_dataURL=De)}}if(Ge==="img"&&ce){ge||(ge=c.createElement("canvas"),lt=ge.getContext("2d"));const De=t,Ye=De.crossOrigin;De.crossOrigin="anonymous";const pt=()=>{De.removeEventListener("load",pt);try{ge.width=De.naturalWidth,ge.height=De.naturalHeight,lt.drawImage(De,0,0),ke.rr_dataURL=ge.toDataURL(oe.type,oe.quality)}catch(Rt){console.warn(`Cannot inline img src=${De.currentSrc}! Error: ${Rt}`)}Ye?ke.crossOrigin=Ye:De.removeAttribute("crossorigin")};De.complete&&De.naturalWidth!==0?pt():De.addEventListener("load",pt)}if((Ge==="audio"||Ge==="video")&&(ke.rr_mediaState=t.paused?"paused":"played",ke.rr_mediaCurrentTime=t.currentTime),_e||(t.scrollLeft&&(ke.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(ke.rr_scrollTop=t.scrollTop)),St){const{width:De,height:Ye}=t.getBoundingClientRect();ke={class:ke.class,rr_width:`${De}px`,rr_height:`${Ye}px`}}Ge==="iframe"&&!Ee(ke.src)&&(t.contentDocument||(ke.rr_src=ke.src),delete ke.src);let Et;try{customElements.get(Ge)&&(Et=!0)}catch(De){}return{type:$.Element,tagName:Ge,attributes:ke,childNodes:[],isSVG:Qt(t)||void 0,needBlock:St,rootId:Ne,isCustom:Et}}function it(t){return t==null?"":t.toLowerCase()}function ur(t,s){if(s.comment&&t.type===$.Comment)return!0;if(t.type===$.Element){if(s.script&&(t.tagName==="script"||t.tagName==="link"&&(t.attributes.rel==="preload"||t.attributes.rel==="modulepreload")&&t.attributes.as==="script"||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&t.attributes.href.endsWith(".js")))return!0;if(s.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(it(t.attributes.name).match(/^msapplication-tile(image|color)$/)||it(t.attributes.name)==="application-name"||it(t.attributes.rel)==="icon"||it(t.attributes.rel)==="apple-touch-icon"||it(t.attributes.rel)==="shortcut icon")))return!0;if(t.tagName==="meta"){if(s.headMetaDescKeywords&&it(t.attributes.name).match(/^description|keywords$/))return!0;if(s.headMetaSocial&&(it(t.attributes.property).match(/^(og|twitter|fb):/)||it(t.attributes.name).match(/^(og|twitter):/)||it(t.attributes.name)==="pinterest"))return!0;if(s.headMetaRobots&&(it(t.attributes.name)==="robots"||it(t.attributes.name)==="googlebot"||it(t.attributes.name)==="bingbot"))return!0;if(s.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0)return!0;if(s.headMetaAuthorship&&(it(t.attributes.name)==="author"||it(t.attributes.name)==="generator"||it(t.attributes.name)==="framework"||it(t.attributes.name)==="publisher"||it(t.attributes.name)==="progid"||it(t.attributes.property).match(/^article:/)||it(t.attributes.property).match(/^product:/)))return!0;if(s.headMetaVerification&&(it(t.attributes.name)==="google-site-verification"||it(t.attributes.name)==="yandex-verification"||it(t.attributes.name)==="csrf-token"||it(t.attributes.name)==="p:domain_verify"||it(t.attributes.name)==="verify-v1"||it(t.attributes.name)==="verification"||it(t.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function qt(t,s){const{doc:c,mirror:O,blockClass:N,blockSelector:D,unblockSelector:F,maskAllText:G,maskTextClass:W,unmaskTextClass:Z,maskTextSelector:oe,unmaskTextSelector:ce,skipChild:ae=!1,inlineStylesheet:Ee=!0,maskInputOptions:_e={},maskAttributeFn:Ne,maskTextFn:xe,maskInputFn:we,slimDOMOptions:Qe,dataURLOptions:qe={},inlineImages:et=!1,recordCanvas:St=!1,onSerialize:Ge,onIframeLoad:ke,iframeLoadTimeout:Xe=5e3,onStylesheetLoad:Et,stylesheetLoadTimeout:De=5e3,keepIframeSrcFn:Ye=()=>!1,newlyAddedElement:pt=!1}=s;let{preserveWhiteSpace:Rt=!0}=s;const It=Fr(t,{doc:c,mirror:O,blockClass:N,blockSelector:D,maskAllText:G,unblockSelector:F,maskTextClass:W,unmaskTextClass:Z,maskTextSelector:oe,unmaskTextSelector:ce,inlineStylesheet:Ee,maskInputOptions:_e,maskAttributeFn:Ne,maskTextFn:xe,maskInputFn:we,dataURLOptions:qe,inlineImages:et,recordCanvas:St,keepIframeSrcFn:Ye,newlyAddedElement:pt});if(!It)return console.warn(t,"not serialized"),null;let Gt;O.hasNode(t)?Gt=O.getId(t):ur(It,Qe)||!Rt&&It.type===$.Text&&!It.isStyle&&!It.textContent.replace(/^\s+|\s+$/gm,"").length?Gt=Le:Gt=Ue();const ut=Object.assign(It,{id:Gt});if(O.add(t,ut),Gt===Le)return null;Ge&&Ge(t);let tn=!ae;if(ut.type===$.Element){tn=tn&&!ut.needBlock,delete ut.needBlock;const At=t.shadowRoot;At&&ee(At)&&(ut.isShadowHost=!0)}if((ut.type===$.Document||ut.type===$.Element)&&tn){Qe.headWhitespace&&ut.type===$.Element&&ut.tagName==="head"&&(Rt=!1);const At={doc:c,mirror:O,blockClass:N,blockSelector:D,maskAllText:G,unblockSelector:F,maskTextClass:W,unmaskTextClass:Z,maskTextSelector:oe,unmaskTextSelector:ce,skipChild:ae,inlineStylesheet:Ee,maskInputOptions:_e,maskAttributeFn:Ne,maskTextFn:xe,maskInputFn:we,slimDOMOptions:Qe,dataURLOptions:qe,inlineImages:et,recordCanvas:St,preserveWhiteSpace:Rt,onSerialize:Ge,onIframeLoad:ke,iframeLoadTimeout:Xe,onStylesheetLoad:Et,stylesheetLoadTimeout:De,keepIframeSrcFn:Ye};for(const nn of Array.from(t.childNodes)){const pn=qt(nn,At);pn&&ut.childNodes.push(pn)}if(K(t)&&t.shadowRoot)for(const nn of Array.from(t.shadowRoot.childNodes)){const pn=qt(nn,At);pn&&(ee(t.shadowRoot)&&(pn.isShadow=!0),ut.childNodes.push(pn))}}return t.parentNode&&U(t.parentNode)&&ee(t.parentNode)&&(ut.isShadow=!0),ut.type===$.Element&&ut.tagName==="iframe"&&Kn(t,()=>{const At=t.contentDocument;if(At&&ke){const nn=qt(At,{doc:At,mirror:O,blockClass:N,blockSelector:D,unblockSelector:F,maskAllText:G,maskTextClass:W,unmaskTextClass:Z,maskTextSelector:oe,unmaskTextSelector:ce,skipChild:!1,inlineStylesheet:Ee,maskInputOptions:_e,maskAttributeFn:Ne,maskTextFn:xe,maskInputFn:we,slimDOMOptions:Qe,dataURLOptions:qe,inlineImages:et,recordCanvas:St,preserveWhiteSpace:Rt,onSerialize:Ge,onIframeLoad:ke,iframeLoadTimeout:Xe,onStylesheetLoad:Et,stylesheetLoadTimeout:De,keepIframeSrcFn:Ye});nn&&ke(t,nn)}},Xe),ut.type===$.Element&&ut.tagName==="link"&&ut.attributes.rel==="stylesheet"&&Jn(t,()=>{if(Et){const At=qt(t,{doc:c,mirror:O,blockClass:N,blockSelector:D,unblockSelector:F,maskAllText:G,maskTextClass:W,unmaskTextClass:Z,maskTextSelector:oe,unmaskTextSelector:ce,skipChild:!1,inlineStylesheet:Ee,maskInputOptions:_e,maskAttributeFn:Ne,maskTextFn:xe,maskInputFn:we,slimDOMOptions:Qe,dataURLOptions:qe,inlineImages:et,recordCanvas:St,preserveWhiteSpace:Rt,onSerialize:Ge,onIframeLoad:ke,iframeLoadTimeout:Xe,onStylesheetLoad:Et,stylesheetLoadTimeout:De,keepIframeSrcFn:Ye});At&&Et(t,At)}},De),ut}function lr(t,s){const{mirror:c=new q,blockClass:O="rr-block",blockSelector:N=null,unblockSelector:D=null,maskAllText:F=!1,maskTextClass:G="rr-mask",unmaskTextClass:W=null,maskTextSelector:Z=null,unmaskTextSelector:oe=null,inlineStylesheet:ce=!0,inlineImages:ae=!1,recordCanvas:Ee=!1,maskAllInputs:_e=!1,maskAttributeFn:Ne,maskTextFn:xe,maskInputFn:we,slimDOM:Qe=!1,dataURLOptions:qe,preserveWhiteSpace:et,onSerialize:St,onIframeLoad:Ge,iframeLoadTimeout:ke,onStylesheetLoad:Xe,stylesheetLoadTimeout:Et,keepIframeSrcFn:De=()=>!1}=s||{};return qt(t,{doc:t,mirror:c,blockClass:O,blockSelector:N,unblockSelector:D,maskAllText:F,maskTextClass:G,unmaskTextClass:W,maskTextSelector:Z,unmaskTextSelector:oe,skipChild:!1,inlineStylesheet:ce,maskInputOptions:_e===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:_e===!1?{}:_e,maskAttributeFn:Ne,maskTextFn:xe,maskInputFn:we,slimDOMOptions:Qe===!0||Qe==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:Qe==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:Qe===!1?{}:Qe,dataURLOptions:qe,inlineImages:ae,recordCanvas:Ee,preserveWhiteSpace:et,onSerialize:St,onIframeLoad:Ge,iframeLoadTimeout:ke,onStylesheetLoad:Xe,stylesheetLoadTimeout:Et,keepIframeSrcFn:De,newlyAddedElement:!1})}function Xt(t){let s,c=t[0],O=1;for(;O<t.length;){const N=t[O],D=t[O+1];if(O+=2,(N==="optionalAccess"||N==="optionalCall")&&c==null)return;N==="access"||N==="optionalAccess"?(s=c,c=D(c)):(N==="call"||N==="optionalCall")&&(c=D((...F)=>c.call(s,...F)),s=void 0)}return c}function Ke(t,s,c=document){const O={capture:!0,passive:!0};return c.addEventListener(t,s,O),()=>c.removeEventListener(t,s,O)}const dn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Xn={map:{},getId(){return console.error(dn),-1},getNode(){return console.error(dn),null},removeNodeFromMap(){console.error(dn)},has(){return console.error(dn),!1},reset(){console.error(dn)}};typeof window!="undefined"&&window.Proxy&&window.Reflect&&(Xn=new Proxy(Xn,{get(t,s,c){return s==="map"&&console.error(dn),Reflect.get(t,s,c)}}));function Sn(t,s,c={}){let O=null,N=0;return function(...D){const F=Date.now();!N&&c.leading===!1&&(N=F);const G=s-(F-N),W=this;G<=0||G>s?(O&&(qn(O),O=null),N=F,t.apply(W,D)):!O&&c.trailing!==!1&&(O=Wn(()=>{N=c.leading===!1?0:Date.now(),O=null,t.apply(W,D)},G))}}function Zn(t,s,c,O,N=window){const D=N.Object.getOwnPropertyDescriptor(t,s);return N.Object.defineProperty(t,s,O?c:{set(F){Wn(()=>{c.set.call(this,F)},0),D&&D.set&&D.set.call(this,F)}}),()=>Zn(t,s,D||{},!0)}function Ln(t,s,c){try{if(!(s in t))return()=>{};const O=t[s],N=c(O);return typeof N=="function"&&(N.prototype=N.prototype||{},Object.defineProperties(N,{__rrweb_original__:{enumerable:!1,value:O}})),t[s]=N,()=>{t[s]=O}}catch(O){return()=>{}}}let Tn=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Tn=()=>new Date().getTime());function Un(t){const s=t.document;return{left:s.scrollingElement?s.scrollingElement.scrollLeft:t.pageXOffset!==void 0?t.pageXOffset:Xt([s,"optionalAccess",c=>c.documentElement,"access",c=>c.scrollLeft])||Xt([s,"optionalAccess",c=>c.body,"optionalAccess",c=>c.parentElement,"optionalAccess",c=>c.scrollLeft])||Xt([s,"optionalAccess",c=>c.body,"optionalAccess",c=>c.scrollLeft])||0,top:s.scrollingElement?s.scrollingElement.scrollTop:t.pageYOffset!==void 0?t.pageYOffset:Xt([s,"optionalAccess",c=>c.documentElement,"access",c=>c.scrollTop])||Xt([s,"optionalAccess",c=>c.body,"optionalAccess",c=>c.parentElement,"optionalAccess",c=>c.scrollTop])||Xt([s,"optionalAccess",c=>c.body,"optionalAccess",c=>c.scrollTop])||0}}function fn(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function dr(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Bn(t){return t?t.nodeType===t.ELEMENT_NODE?t:t.parentElement:null}function jt(t,s,c,O,N){if(!t)return!1;const D=Bn(t);if(!D)return!1;const F=un(s,c);if(!N){const Z=O&&D.matches(O);return F(D)&&!Z}const G=rn(D,F);let W=-1;return G<0?!1:(O&&(W=rn(D,un(null,O))),G>-1&&W<0?!0:G<W)}function In(t,s){return s.getId(t)!==-1}function Yt(t,s){return s.getId(t)===Le}function fr(t,s){if(U(t))return!1;const c=s.getId(t);return s.has(c)?t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE?!1:t.parentNode?fr(t.parentNode,s):!0:!0}function Fn(t){return!!t.changedTouches}function jr(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...s)=>{let c=s[0];if(!(0 in s))throw new TypeError("1 argument is required");do if(this===c)return!0;while(c=c&&c.parentNode);return!1})}function vn(t,s){return!!(t.nodeName==="IFRAME"&&s.getMeta(t))}function Hn(t,s){return!!(t.nodeName==="LINK"&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&t.getAttribute("rel")==="stylesheet"&&s.getMeta(t))}function jn(t){return!!Xt([t,"optionalAccess",s=>s.shadowRoot])}class pr{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(s){return i(this.styleIDMap.get(s),()=>-1)}has(s){return this.styleIDMap.has(s)}add(s,c){if(this.has(s))return this.getId(s);let O;return c===void 0?O=this.id++:O=c,this.styleIDMap.set(s,O),this.idStyleMap.set(O,s),O}getStyle(s){return this.idStyleMap.get(s)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function hr(t){let s=null;return Xt([t,"access",c=>c.getRootNode,"optionalCall",c=>c(),"optionalAccess",c=>c.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(s=t.getRootNode().host),s}function Wr(t){let s=t,c;for(;c=hr(s);)s=c;return s}function mr(t){const s=t.ownerDocument;if(!s)return!1;const c=Wr(t);return s.contains(c)}function gr(t){const s=t.ownerDocument;return s?s.contains(t)||mr(t):!1}const Sr={};function at(t){const s=Sr[t];if(s)return s;const c=window.document;let O=window[t];if(c&&typeof c.createElement=="function")try{const N=c.createElement("iframe");N.hidden=!0,c.head.appendChild(N);const D=N.contentWindow;D&&D[t]&&(O=D[t]),c.head.removeChild(N)}catch(N){}return Sr[t]=O.bind(window)}function Qn(...t){return at("requestAnimationFrame")(...t)}function Wn(...t){return at("setTimeout")(...t)}function qn(...t){return at("clearTimeout")(...t)}var $e=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))($e||{}),ze=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(ze||{}),kt=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(kt||{}),sn=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(sn||{});function on(t){let s,c=t[0],O=1;for(;O<t.length;){const N=t[O],D=t[O+1];if(O+=2,(N==="optionalAccess"||N==="optionalCall")&&c==null)return;N==="access"||N==="optionalAccess"?(s=c,c=D(c)):(N==="call"||N==="optionalCall")&&(c=D((...F)=>c.call(s,...F)),s=void 0)}return c}function yr(t){return"__ln"in t}class xr{constructor(){this.length=0,this.head=null,this.tail=null}get(s){if(s>=this.length)throw new Error("Position outside of list range");let c=this.head;for(let O=0;O<s;O++)c=on([c,"optionalAccess",N=>N.next])||null;return c}addNode(s){const c={value:s,previous:null,next:null};if(s.__ln=c,s.previousSibling&&yr(s.previousSibling)){const O=s.previousSibling.__ln.next;c.next=O,c.previous=s.previousSibling.__ln,s.previousSibling.__ln.next=c,O&&(O.previous=c)}else if(s.nextSibling&&yr(s.nextSibling)&&s.nextSibling.__ln.previous){const O=s.nextSibling.__ln.previous;c.previous=O,c.next=s.nextSibling.__ln,s.nextSibling.__ln.previous=c,O&&(O.next=c)}else this.head&&(this.head.previous=c),c.next=this.head,this.head=c;c.next===null&&(this.tail=c),this.length++}removeNode(s){const c=s.__ln;this.head&&(c.previous?(c.previous.next=c.next,c.next?c.next.previous=c.previous:this.tail=c.previous):(this.head=c.next,this.head?this.head.previous=null:this.tail=null),s.__ln&&delete s.__ln,this.length--)}}const _r=(t,s)=>`${t}@${s}`;class $r{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=s=>{s.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const s=[],c=new Set,O=new xr,N=W=>{let Z=W,oe=Le;for(;oe===Le;)Z=Z&&Z.nextSibling,oe=Z&&this.mirror.getId(Z);return oe},D=W=>{if(!W.parentNode||!gr(W))return;const Z=U(W.parentNode)?this.mirror.getId(hr(W)):this.mirror.getId(W.parentNode),oe=N(W);if(Z===-1||oe===-1)return O.addNode(W);const ce=qt(W,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:ae=>{vn(ae,this.mirror)&&this.iframeManager.addIframe(ae),Hn(ae,this.mirror)&&this.stylesheetManager.trackLinkElement(ae),jn(W)&&this.shadowDomManager.addShadowRoot(W.shadowRoot,this.doc)},onIframeLoad:(ae,Ee)=>{this.iframeManager.attachIframe(ae,Ee),this.shadowDomManager.observeAttachShadow(ae)},onStylesheetLoad:(ae,Ee)=>{this.stylesheetManager.attachLinkElement(ae,Ee)}});ce&&(s.push({parentId:Z,nextId:oe,node:ce}),c.add(ce.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const W of this.movedSet)Er(this.removes,W,this.mirror)&&!this.movedSet.has(W.parentNode)||D(W);for(const W of this.addedSet)!Tr(this.droppedSet,W)&&!Er(this.removes,W,this.mirror)||Tr(this.movedSet,W)?D(W):this.droppedSet.add(W);let F=null;for(;O.length;){let W=null;if(F){const Z=this.mirror.getId(F.value.parentNode),oe=N(F.value);Z!==-1&&oe!==-1&&(W=F)}if(!W){let Z=O.tail;for(;Z;){const oe=Z;if(Z=Z.previous,oe){const ce=this.mirror.getId(oe.value.parentNode);if(N(oe.value)===-1)continue;if(ce!==-1){W=oe;break}else{const Ee=oe.value;if(Ee.parentNode&&Ee.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const _e=Ee.parentNode.host;if(this.mirror.getId(_e)!==-1){W=oe;break}}}}}}if(!W){for(;O.head;)O.removeNode(O.head.value);break}F=W.previous,O.removeNode(W.value),D(W.value)}const G={texts:this.texts.map(W=>({id:this.mirror.getId(W.node),value:W.value})).filter(W=>!c.has(W.id)).filter(W=>this.mirror.has(W.id)),attributes:this.attributes.map(W=>{const{attributes:Z}=W;if(typeof Z.style=="string"){const oe=JSON.stringify(W.styleDiff),ce=JSON.stringify(W._unchangedStyles);oe.length<Z.style.length&&(oe+ce).split("var(").length===Z.style.split("var(").length&&(Z.style=W.styleDiff)}return{id:this.mirror.getId(W.node),attributes:Z}}).filter(W=>!c.has(W.id)).filter(W=>this.mirror.has(W.id)),removes:this.removes,adds:s};!G.texts.length&&!G.attributes.length&&!G.removes.length&&!G.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(G))},this.processMutation=s=>{if(!Yt(s.target,this.mirror))switch(s.type){case"characterData":{const c=s.target.textContent;!jt(s.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&c!==s.oldValue&&this.texts.push({value:gn(s.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&c?this.maskTextFn?this.maskTextFn(c,Bn(s.target)):c.replace(/[\S]/g,"*"):c,node:s.target});break}case"attributes":{const c=s.target;let O=s.attributeName,N=s.target.getAttribute(O);if(O==="value"){const F=ne(c),G=c.tagName;N=ie(c,G,F);const W=pe({maskInputOptions:this.maskInputOptions,tagName:G,type:F}),Z=gn(s.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,W);N=Se({isMasked:Z,element:c,value:N,maskInputFn:this.maskInputFn})}if(jt(s.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||N===s.oldValue)return;let D=this.attributeMap.get(s.target);if(c.tagName==="IFRAME"&&O==="src"&&!this.keepIframeSrcFn(N))if(!c.contentDocument)O="rr_src";else return;if(D||(D={node:s.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(D),this.attributeMap.set(s.target,D)),O==="type"&&c.tagName==="INPUT"&&(s.oldValue||"").toLowerCase()==="password"&&c.setAttribute("data-rr-is-password","true"),!En(c.tagName,O)&&(D.attributes[O]=mn(this.doc,Ae(c.tagName),Ae(O),N,c,this.maskAttributeFn),O==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(G){this.unattachedDoc=this.doc}const F=this.unattachedDoc.createElement("span");s.oldValue&&F.setAttribute("style",s.oldValue);for(const G of Array.from(c.style)){const W=c.style.getPropertyValue(G),Z=c.style.getPropertyPriority(G);W!==F.style.getPropertyValue(G)||Z!==F.style.getPropertyPriority(G)?Z===""?D.styleDiff[G]=W:D.styleDiff[G]=[W,Z]:D._unchangedStyles[G]=[W,Z]}for(const G of Array.from(F.style))c.style.getPropertyValue(G)===""&&(D.styleDiff[G]=!1)}break}case"childList":{if(jt(s.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;s.addedNodes.forEach(c=>this.genAdds(c,s.target)),s.removedNodes.forEach(c=>{const O=this.mirror.getId(c),N=U(s.target)?this.mirror.getId(s.target.host):this.mirror.getId(s.target);jt(s.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Yt(c,this.mirror)||!In(c,this.mirror)||(this.addedSet.has(c)?(er(this.addedSet,c),this.droppedSet.add(c)):this.addedSet.has(s.target)&&O===-1||fr(s.target,this.mirror)||(this.movedSet.has(c)&&this.movedMap[_r(O,N)]?er(this.movedSet,c):this.removes.push({parentId:N,id:O,isShadow:U(s.target)&&ee(s.target)?!0:void 0})),this.mapRemoves.push(c))});break}}},this.genAdds=(s,c)=>{if(!this.processedNodeManager.inOtherBuffer(s,this)&&!(this.addedSet.has(s)||this.movedSet.has(s))){if(this.mirror.hasNode(s)){if(Yt(s,this.mirror))return;this.movedSet.add(s);let O=null;c&&this.mirror.hasNode(c)&&(O=this.mirror.getId(c)),O&&O!==-1&&(this.movedMap[_r(this.mirror.getId(s),O)]=!0)}else this.addedSet.add(s),this.droppedSet.delete(s);jt(s,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(s.childNodes.forEach(O=>this.genAdds(O)),jn(s)&&s.shadowRoot.childNodes.forEach(O=>{this.processedNodeManager.add(O,this),this.genAdds(O,s)}))}}}init(s){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(c=>{this[c]=s[c]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function er(t,s){t.delete(s),s.childNodes.forEach(c=>er(t,c))}function Er(t,s,c){return t.length===0?!1:br(t,s,c)}function br(t,s,c){const{parentNode:O}=s;if(!O)return!1;const N=c.getId(O);return t.some(D=>D.id===N)?!0:br(t,O,c)}function Tr(t,s){return t.size===0?!1:Ir(t,s)}function Ir(t,s){const{parentNode:c}=s;return c?t.has(c)?!0:Ir(t,c):!1}let Cn;function Gr(t){Cn=t}function zr(){Cn=void 0}const Be=t=>Cn?(...c)=>{try{return t(...c)}catch(O){if(Cn&&Cn(O)===!0)return()=>{};throw O}}:t;function Bt(t){let s,c=t[0],O=1;for(;O<t.length;){const N=t[O],D=t[O+1];if(O+=2,(N==="optionalAccess"||N==="optionalCall")&&c==null)return;N==="access"||N==="optionalAccess"?(s=c,c=D(c)):(N==="call"||N==="optionalCall")&&(c=D((...F)=>c.call(s,...F)),s=void 0)}return c}const Ft=[];function Vt(t){try{if("composedPath"in t){const s=t.composedPath();if(s.length)return s[0]}else if("path"in t&&t.path.length)return t.path[0]}catch(s){}return t&&t.target}function Zt(t,s){const c=new $r;Ft.push(c),c.init(t);let O=window.MutationObserver||window.__rrMutationObserver;const N=Bt([window,"optionalAccess",F=>F.Zone,"optionalAccess",F=>F.__symbol__,"optionalCall",F=>F("MutationObserver")]);N&&window[N]&&(O=window[N]);const D=new O(Be(F=>{t.onMutation&&t.onMutation(F)===!1||c.processMutations.bind(c)(F)}));return D.observe(s,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),D}function On({mousemoveCb:t,sampling:s,doc:c,mirror:O}){if(s.mousemove===!1)return()=>{};const N=typeof s.mousemove=="number"?s.mousemove:50,D=typeof s.mousemoveCallback=="number"?s.mousemoveCallback:500;let F=[],G;const W=Sn(Be(ce=>{const ae=Date.now()-G;t(F.map(Ee=>(Ee.timeOffset-=ae,Ee)),ce),F=[],G=null}),D),Z=Be(Sn(Be(ce=>{const ae=Vt(ce),{clientX:Ee,clientY:_e}=Fn(ce)?ce.changedTouches[0]:ce;G||(G=Tn()),F.push({x:Ee,y:_e,id:O.getId(ae),timeOffset:Tn()-G}),W(typeof DragEvent!="undefined"&&ce instanceof DragEvent?ze.Drag:ce instanceof MouseEvent?ze.MouseMove:ze.TouchMove)}),N,{trailing:!1})),oe=[Ke("mousemove",Z,c),Ke("touchmove",Z,c),Ke("drag",Z,c)];return Be(()=>{oe.forEach(ce=>ce())})}function tr({mouseInteractionCb:t,doc:s,mirror:c,blockClass:O,blockSelector:N,unblockSelector:D,sampling:F}){if(F.mouseInteraction===!1)return()=>{};const G=F.mouseInteraction===!0||F.mouseInteraction===void 0?{}:F.mouseInteraction,W=[];let Z=null;const oe=ce=>ae=>{const Ee=Vt(ae);if(jt(Ee,O,N,D,!0))return;let _e=null,Ne=ce;if("pointerType"in ae){switch(ae.pointerType){case"mouse":_e=sn.Mouse;break;case"touch":_e=sn.Touch;break;case"pen":_e=sn.Pen;break}_e===sn.Touch?kt[ce]===kt.MouseDown?Ne="TouchStart":kt[ce]===kt.MouseUp&&(Ne="TouchEnd"):sn.Pen}else Fn(ae)&&(_e=sn.Touch);_e!==null?(Z=_e,(Ne.startsWith("Touch")&&_e===sn.Touch||Ne.startsWith("Mouse")&&_e===sn.Mouse)&&(_e=null)):kt[ce]===kt.Click&&(_e=Z,Z=null);const xe=Fn(ae)?ae.changedTouches[0]:ae;if(!xe)return;const we=c.getId(Ee),{clientX:Qe,clientY:qe}=xe;Be(t)(H({type:kt[Ne],id:we,x:Qe,y:qe},_e!==null&&{pointerType:_e}))};return Object.keys(kt).filter(ce=>Number.isNaN(Number(ce))&&!ce.endsWith("_Departed")&&G[ce]!==!1).forEach(ce=>{let ae=Ae(ce);const Ee=oe(ce);if(window.PointerEvent)switch(kt[ce]){case kt.MouseDown:case kt.MouseUp:ae=ae.replace("mouse","pointer");break;case kt.TouchStart:case kt.TouchEnd:return}W.push(Ke(ae,Ee,s))}),Be(()=>{W.forEach(ce=>ce())})}function vr({scrollCb:t,doc:s,mirror:c,blockClass:O,blockSelector:N,unblockSelector:D,sampling:F}){const G=Be(Sn(Be(W=>{const Z=Vt(W);if(!Z||jt(Z,O,N,D,!0))return;const oe=c.getId(Z);if(Z===s&&s.defaultView){const ce=Un(s.defaultView);t({id:oe,x:ce.left,y:ce.top})}else t({id:oe,x:Z.scrollLeft,y:Z.scrollTop})}),F.scroll||100));return Ke("scroll",G,s)}function xn({viewportResizeCb:t},{win:s}){let c=-1,O=-1;const N=Be(Sn(Be(()=>{const D=fn(),F=dr();(c!==D||O!==F)&&(t({width:Number(F),height:Number(D)}),c=D,O=F)}),200));return Ke("resize",N,s)}const Yr=["INPUT","TEXTAREA","SELECT"],M=new WeakMap;function k({inputCb:t,doc:s,mirror:c,blockClass:O,blockSelector:N,unblockSelector:D,ignoreClass:F,ignoreSelector:G,maskInputOptions:W,maskInputFn:Z,sampling:oe,userTriggeredOnInput:ce,maskTextClass:ae,unmaskTextClass:Ee,maskTextSelector:_e,unmaskTextSelector:Ne}){function xe(ke){let Xe=Vt(ke);const Et=ke.isTrusted,De=Xe&&nt(Xe.tagName);if(De==="OPTION"&&(Xe=Xe.parentElement),!Xe||!De||Yr.indexOf(De)<0||jt(Xe,O,N,D,!0))return;const Ye=Xe;if(Ye.classList.contains(F)||G&&Ye.matches(G))return;const pt=ne(Xe);let Rt=ie(Ye,De,pt),It=!1;const Gt=pe({maskInputOptions:W,tagName:De,type:pt}),ut=gn(Xe,ae,_e,Ee,Ne,Gt);(pt==="radio"||pt==="checkbox")&&(It=Xe.checked),Rt=Se({isMasked:ut,element:Xe,value:Rt,maskInputFn:Z}),we(Xe,ce?{text:Rt,isChecked:It,userTriggered:Et}:{text:Rt,isChecked:It});const tn=Xe.name;pt==="radio"&&tn&&It&&s.querySelectorAll(`input[type="radio"][name="${tn}"]`).forEach(At=>{if(At!==Xe){const nn=Se({isMasked:ut,element:At,value:ie(At,De,pt),maskInputFn:Z});we(At,ce?{text:nn,isChecked:!It,userTriggered:!1}:{text:nn,isChecked:!It})}})}function we(ke,Xe){const Et=M.get(ke);if(!Et||Et.text!==Xe.text||Et.isChecked!==Xe.isChecked){M.set(ke,Xe);const De=c.getId(ke);Be(t)(Ie(H({},Xe),{id:De}))}}const qe=(oe.input==="last"?["change"]:["input","change"]).map(ke=>Ke(ke,Be(xe),s)),et=s.defaultView;if(!et)return()=>{qe.forEach(ke=>ke())};const St=et.Object.getOwnPropertyDescriptor(et.HTMLInputElement.prototype,"value"),Ge=[[et.HTMLInputElement.prototype,"value"],[et.HTMLInputElement.prototype,"checked"],[et.HTMLSelectElement.prototype,"value"],[et.HTMLTextAreaElement.prototype,"value"],[et.HTMLSelectElement.prototype,"selectedIndex"],[et.HTMLOptionElement.prototype,"selected"]];return St&&St.set&&qe.push(...Ge.map(ke=>Zn(ke[0],ke[1],{set(){Be(xe)({target:this,isTrusted:!1})}},!1,et))),Be(()=>{qe.forEach(ke=>ke())})}function L(t){const s=[];function c(O,N){if(je("CSSGroupingRule")&&O.parentRule instanceof CSSGroupingRule||je("CSSMediaRule")&&O.parentRule instanceof CSSMediaRule||je("CSSSupportsRule")&&O.parentRule instanceof CSSSupportsRule||je("CSSConditionRule")&&O.parentRule instanceof CSSConditionRule){const F=Array.from(O.parentRule.cssRules).indexOf(O);N.unshift(F)}else if(O.parentStyleSheet){const F=Array.from(O.parentStyleSheet.cssRules).indexOf(O);N.unshift(F)}return N}return c(t,s)}function J(t,s,c){let O,N;return t?(t.ownerNode?O=s.getId(t.ownerNode):N=c.getId(t),{styleId:N,id:O}):{}}function X({styleSheetRuleCb:t,mirror:s,stylesheetManager:c},{win:O}){if(!O.CSSStyleSheet||!O.CSSStyleSheet.prototype)return()=>{};const N=O.CSSStyleSheet.prototype.insertRule;O.CSSStyleSheet.prototype.insertRule=new Proxy(N,{apply:Be((oe,ce,ae)=>{const[Ee,_e]=ae,{id:Ne,styleId:xe}=J(ce,s,c.styleMirror);return(Ne&&Ne!==-1||xe&&xe!==-1)&&t({id:Ne,styleId:xe,adds:[{rule:Ee,index:_e}]}),oe.apply(ce,ae)})});const D=O.CSSStyleSheet.prototype.deleteRule;O.CSSStyleSheet.prototype.deleteRule=new Proxy(D,{apply:Be((oe,ce,ae)=>{const[Ee]=ae,{id:_e,styleId:Ne}=J(ce,s,c.styleMirror);return(_e&&_e!==-1||Ne&&Ne!==-1)&&t({id:_e,styleId:Ne,removes:[{index:Ee}]}),oe.apply(ce,ae)})});let F;O.CSSStyleSheet.prototype.replace&&(F=O.CSSStyleSheet.prototype.replace,O.CSSStyleSheet.prototype.replace=new Proxy(F,{apply:Be((oe,ce,ae)=>{const[Ee]=ae,{id:_e,styleId:Ne}=J(ce,s,c.styleMirror);return(_e&&_e!==-1||Ne&&Ne!==-1)&&t({id:_e,styleId:Ne,replace:Ee}),oe.apply(ce,ae)})}));let G;O.CSSStyleSheet.prototype.replaceSync&&(G=O.CSSStyleSheet.prototype.replaceSync,O.CSSStyleSheet.prototype.replaceSync=new Proxy(G,{apply:Be((oe,ce,ae)=>{const[Ee]=ae,{id:_e,styleId:Ne}=J(ce,s,c.styleMirror);return(_e&&_e!==-1||Ne&&Ne!==-1)&&t({id:_e,styleId:Ne,replaceSync:Ee}),oe.apply(ce,ae)})}));const W={};Ce("CSSGroupingRule")?W.CSSGroupingRule=O.CSSGroupingRule:(Ce("CSSMediaRule")&&(W.CSSMediaRule=O.CSSMediaRule),Ce("CSSConditionRule")&&(W.CSSConditionRule=O.CSSConditionRule),Ce("CSSSupportsRule")&&(W.CSSSupportsRule=O.CSSSupportsRule));const Z={};return Object.entries(W).forEach(([oe,ce])=>{Z[oe]={insertRule:ce.prototype.insertRule,deleteRule:ce.prototype.deleteRule},ce.prototype.insertRule=new Proxy(Z[oe].insertRule,{apply:Be((ae,Ee,_e)=>{const[Ne,xe]=_e,{id:we,styleId:Qe}=J(Ee.parentStyleSheet,s,c.styleMirror);return(we&&we!==-1||Qe&&Qe!==-1)&&t({id:we,styleId:Qe,adds:[{rule:Ne,index:[...L(Ee),xe||0]}]}),ae.apply(Ee,_e)})}),ce.prototype.deleteRule=new Proxy(Z[oe].deleteRule,{apply:Be((ae,Ee,_e)=>{const[Ne]=_e,{id:xe,styleId:we}=J(Ee.parentStyleSheet,s,c.styleMirror);return(xe&&xe!==-1||we&&we!==-1)&&t({id:xe,styleId:we,removes:[{index:[...L(Ee),Ne]}]}),ae.apply(Ee,_e)})})}),Be(()=>{O.CSSStyleSheet.prototype.insertRule=N,O.CSSStyleSheet.prototype.deleteRule=D,F&&(O.CSSStyleSheet.prototype.replace=F),G&&(O.CSSStyleSheet.prototype.replaceSync=G),Object.entries(W).forEach(([oe,ce])=>{ce.prototype.insertRule=Z[oe].insertRule,ce.prototype.deleteRule=Z[oe].deleteRule})})}function Q({mirror:t,stylesheetManager:s},c){let O=null;c.nodeName==="#document"?O=t.getId(c):O=t.getId(c.host);const N=c.nodeName==="#document"?Bt([c,"access",F=>F.defaultView,"optionalAccess",F=>F.Document]):Bt([c,"access",F=>F.ownerDocument,"optionalAccess",F=>F.defaultView,"optionalAccess",F=>F.ShadowRoot]),D=Bt([N,"optionalAccess",F=>F.prototype])?Object.getOwnPropertyDescriptor(Bt([N,"optionalAccess",F=>F.prototype]),"adoptedStyleSheets"):void 0;return O===null||O===-1||!N||!D?()=>{}:(Object.defineProperty(c,"adoptedStyleSheets",{configurable:D.configurable,enumerable:D.enumerable,get(){return Bt([D,"access",F=>F.get,"optionalAccess",F=>F.call,"call",F=>F(this)])},set(F){const G=Bt([D,"access",W=>W.set,"optionalAccess",W=>W.call,"call",W=>W(this,F)]);if(O!==null&&O!==-1)try{s.adoptStyleSheets(F,O)}catch(W){}return G}}),Be(()=>{Object.defineProperty(c,"adoptedStyleSheets",{configurable:D.configurable,enumerable:D.enumerable,get:D.get,set:D.set})}))}function ye({styleDeclarationCb:t,mirror:s,ignoreCSSAttributes:c,stylesheetManager:O},{win:N}){const D=N.CSSStyleDeclaration.prototype.setProperty;N.CSSStyleDeclaration.prototype.setProperty=new Proxy(D,{apply:Be((G,W,Z)=>{const[oe,ce,ae]=Z;if(c.has(oe))return D.apply(W,[oe,ce,ae]);const{id:Ee,styleId:_e}=J(Bt([W,"access",Ne=>Ne.parentRule,"optionalAccess",Ne=>Ne.parentStyleSheet]),s,O.styleMirror);return(Ee&&Ee!==-1||_e&&_e!==-1)&&t({id:Ee,styleId:_e,set:{property:oe,value:ce,priority:ae},index:L(W.parentRule)}),G.apply(W,Z)})});const F=N.CSSStyleDeclaration.prototype.removeProperty;return N.CSSStyleDeclaration.prototype.removeProperty=new Proxy(F,{apply:Be((G,W,Z)=>{const[oe]=Z;if(c.has(oe))return F.apply(W,[oe]);const{id:ce,styleId:ae}=J(Bt([W,"access",Ee=>Ee.parentRule,"optionalAccess",Ee=>Ee.parentStyleSheet]),s,O.styleMirror);return(ce&&ce!==-1||ae&&ae!==-1)&&t({id:ce,styleId:ae,remove:{property:oe},index:L(W.parentRule)}),G.apply(W,Z)})}),Be(()=>{N.CSSStyleDeclaration.prototype.setProperty=D,N.CSSStyleDeclaration.prototype.removeProperty=F})}function be({mediaInteractionCb:t,blockClass:s,blockSelector:c,unblockSelector:O,mirror:N,sampling:D,doc:F}){const G=Be(Z=>Sn(Be(oe=>{const ce=Vt(oe);if(!ce||jt(ce,s,c,O,!0))return;const{currentTime:ae,volume:Ee,muted:_e,playbackRate:Ne}=ce;t({type:Z,id:N.getId(ce),currentTime:ae,volume:Ee,muted:_e,playbackRate:Ne})}),D.media||500)),W=[Ke("play",G(0),F),Ke("pause",G(1),F),Ke("seeked",G(2),F),Ke("volumechange",G(3),F),Ke("ratechange",G(4),F)];return Be(()=>{W.forEach(Z=>Z())})}function Te({fontCb:t,doc:s}){const c=s.defaultView;if(!c)return()=>{};const O=[],N=new WeakMap,D=c.FontFace;c.FontFace=function(W,Z,oe){const ce=new D(W,Z,oe);return N.set(ce,{family:W,buffer:typeof Z!="string",descriptors:oe,fontSource:typeof Z=="string"?Z:JSON.stringify(Array.from(new Uint8Array(Z)))}),ce};const F=Ln(s.fonts,"add",function(G){return function(W){return Wn(Be(()=>{const Z=N.get(W);Z&&(t(Z),N.delete(W))}),0),G.apply(this,[W])}});return O.push(()=>{c.FontFace=D}),O.push(F),Be(()=>{O.forEach(G=>G())})}function me(t){const{doc:s,mirror:c,blockClass:O,blockSelector:N,unblockSelector:D,selectionCb:F}=t;let G=!0;const W=Be(()=>{const Z=s.getSelection();if(!Z||G&&Bt([Z,"optionalAccess",ae=>ae.isCollapsed]))return;G=Z.isCollapsed||!1;const oe=[],ce=Z.rangeCount||0;for(let ae=0;ae<ce;ae++){const Ee=Z.getRangeAt(ae),{startContainer:_e,startOffset:Ne,endContainer:xe,endOffset:we}=Ee;jt(_e,O,N,D,!0)||jt(xe,O,N,D,!0)||oe.push({start:c.getId(_e),startOffset:Ne,end:c.getId(xe),endOffset:we})}F({ranges:oe})});return W(),Ke("selectionchange",W)}function Pe({doc:t,customElementCb:s}){const c=t.defaultView;return!c||!c.customElements?()=>{}:Ln(c.customElements,"define",function(N){return function(D,F,G){try{s({define:{name:D}})}catch(W){}return N.apply(this,[D,F,G])}})}function re(t,s={}){const c=t.doc.defaultView;if(!c)return()=>{};const O=Zt(t,t.doc),N=On(t),D=tr(t),F=vr(t),G=xn(t,{win:c}),W=k(t),Z=be(t),oe=X(t,{win:c}),ce=Q(t,t.doc),ae=ye(t,{win:c}),Ee=t.collectFonts?Te(t):()=>{},_e=me(t),Ne=Pe(t),xe=[];for(const we of t.plugins)xe.push(we.observer(we.callback,c,we.options));return Be(()=>{Ft.forEach(we=>we.reset()),O.disconnect(),N(),D(),F(),G(),W(),Z(),oe(),ce(),ae(),Ee(),_e(),Ne(),xe.forEach(we=>we())})}function je(t){return typeof window[t]!="undefined"}function Ce(t){return!!(typeof window[t]!="undefined"&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class Ze{constructor(s){this.generateIdFn=s,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(s,c,O,N){const D=O||this.getIdToRemoteIdMap(s),F=N||this.getRemoteIdToIdMap(s);let G=D.get(c);return G||(G=this.generateIdFn(),D.set(c,G),F.set(G,c)),G}getIds(s,c){const O=this.getIdToRemoteIdMap(s),N=this.getRemoteIdToIdMap(s);return c.map(D=>this.getId(s,D,O,N))}getRemoteId(s,c,O){const N=O||this.getRemoteIdToIdMap(s);if(typeof c!="number")return c;const D=N.get(c);return D||-1}getRemoteIds(s,c){const O=this.getRemoteIdToIdMap(s);return c.map(N=>this.getRemoteId(s,N,O))}reset(s){if(!s){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(s),this.iframeRemoteIdToIdMap.delete(s)}getIdToRemoteIdMap(s){let c=this.iframeIdToRemoteIdMap.get(s);return c||(c=new Map,this.iframeIdToRemoteIdMap.set(s,c)),c}getRemoteIdToIdMap(s){let c=this.iframeRemoteIdToIdMap.get(s);return c||(c=new Map,this.iframeRemoteIdToIdMap.set(s,c)),c}}function mt(t){let s,c=t[0],O=1;for(;O<t.length;){const N=t[O],D=t[O+1];if(O+=2,(N==="optionalAccess"||N==="optionalCall")&&c==null)return;N==="access"||N==="optionalAccess"?(s=c,c=D(c)):(N==="call"||N==="optionalCall")&&(c=D((...F)=>c.call(s,...F)),s=void 0)}return c}class ct{constructor(){this.crossOriginIframeMirror=new Ze(Ue),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Re{constructor(s){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Ze(Ue),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=s.mutationCb,this.wrappedEmit=s.wrappedEmit,this.stylesheetManager=s.stylesheetManager,this.recordCrossOriginIframes=s.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Ze(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=s.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(s){this.iframes.set(s,!0),s.contentWindow&&this.crossOriginIframeMap.set(s.contentWindow,s)}addLoadListener(s){this.loadListener=s}attachIframe(s,c){this.mutationCb({adds:[{parentId:this.mirror.getId(s),nextId:null,node:c}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),mt([this,"access",O=>O.loadListener,"optionalCall",O=>O(s)]),s.contentDocument&&s.contentDocument.adoptedStyleSheets&&s.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(s.contentDocument.adoptedStyleSheets,this.mirror.getId(s.contentDocument))}handleMessage(s){const c=s;if(c.data.type!=="rrweb"||c.origin!==c.data.origin||!s.source)return;const N=this.crossOriginIframeMap.get(s.source);if(!N)return;const D=this.transformCrossOriginEvent(N,c.data.event);D&&this.wrappedEmit(D,c.data.isCheckout)}transformCrossOriginEvent(s,c){switch(c.type){case $e.FullSnapshot:{this.crossOriginIframeMirror.reset(s),this.crossOriginIframeStyleMirror.reset(s),this.replaceIdOnNode(c.data.node,s);const O=c.data.node.id;return this.crossOriginIframeRootIdMap.set(s,O),this.patchRootIdOnNode(c.data.node,O),{timestamp:c.timestamp,type:$e.IncrementalSnapshot,data:{source:ze.Mutation,adds:[{parentId:this.mirror.getId(s),nextId:null,node:c.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case $e.Meta:case $e.Load:case $e.DomContentLoaded:return!1;case $e.Plugin:return c;case $e.Custom:return this.replaceIds(c.data.payload,s,["id","parentId","previousId","nextId"]),c;case $e.IncrementalSnapshot:switch(c.data.source){case ze.Mutation:return c.data.adds.forEach(O=>{this.replaceIds(O,s,["parentId","nextId","previousId"]),this.replaceIdOnNode(O.node,s);const N=this.crossOriginIframeRootIdMap.get(s);N&&this.patchRootIdOnNode(O.node,N)}),c.data.removes.forEach(O=>{this.replaceIds(O,s,["parentId","id"])}),c.data.attributes.forEach(O=>{this.replaceIds(O,s,["id"])}),c.data.texts.forEach(O=>{this.replaceIds(O,s,["id"])}),c;case ze.Drag:case ze.TouchMove:case ze.MouseMove:return c.data.positions.forEach(O=>{this.replaceIds(O,s,["id"])}),c;case ze.ViewportResize:return!1;case ze.MediaInteraction:case ze.MouseInteraction:case ze.Scroll:case ze.CanvasMutation:case ze.Input:return this.replaceIds(c.data,s,["id"]),c;case ze.StyleSheetRule:case ze.StyleDeclaration:return this.replaceIds(c.data,s,["id"]),this.replaceStyleIds(c.data,s,["styleId"]),c;case ze.Font:return c;case ze.Selection:return c.data.ranges.forEach(O=>{this.replaceIds(O,s,["start","end"])}),c;case ze.AdoptedStyleSheet:return this.replaceIds(c.data,s,["id"]),this.replaceStyleIds(c.data,s,["styleIds"]),mt([c,"access",O=>O.data,"access",O=>O.styles,"optionalAccess",O=>O.forEach,"call",O=>O(N=>{this.replaceStyleIds(N,s,["styleId"])})]),c}}return!1}replace(s,c,O,N){for(const D of N)!Array.isArray(c[D])&&typeof c[D]!="number"||(Array.isArray(c[D])?c[D]=s.getIds(O,c[D]):c[D]=s.getId(O,c[D]));return c}replaceIds(s,c,O){return this.replace(this.crossOriginIframeMirror,s,c,O)}replaceStyleIds(s,c,O){return this.replace(this.crossOriginIframeStyleMirror,s,c,O)}replaceIdOnNode(s,c){this.replaceIds(s,c,["id","rootId"]),"childNodes"in s&&s.childNodes.forEach(O=>{this.replaceIdOnNode(O,c)})}patchRootIdOnNode(s,c){s.type!==$.Document&&!s.rootId&&(s.rootId=c),"childNodes"in s&&s.childNodes.forEach(O=>{this.patchRootIdOnNode(O,c)})}}class Me{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class We{constructor(s){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=s.mutationCb,this.scrollCb=s.scrollCb,this.bypassOptions=s.bypassOptions,this.mirror=s.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(s,c){if(!ee(s)||this.shadowDoms.has(s))return;this.shadowDoms.add(s);const O=Zt(Ie(H({},this.bypassOptions),{doc:c,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),s);this.restoreHandlers.push(()=>O.disconnect()),this.restoreHandlers.push(vr(Ie(H({},this.bypassOptions),{scrollCb:this.scrollCb,doc:s,mirror:this.mirror}))),Wn(()=>{s.adoptedStyleSheets&&s.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(s.adoptedStyleSheets,this.mirror.getId(s.host)),this.restoreHandlers.push(Q({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},s))},0)}observeAttachShadow(s){!s.contentWindow||!s.contentDocument||this.patchAttachShadow(s.contentWindow.Element,s.contentDocument)}patchAttachShadow(s,c){const O=this;this.restoreHandlers.push(Ln(s.prototype,"attachShadow",function(N){return function(D){const F=N.call(this,D);return this.shadowRoot&&gr(this)&&O.addShadowRoot(this.shadowRoot,c),F}}))}reset(){this.restoreHandlers.forEach(s=>{try{s()}catch(c){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class Je{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class Tt{constructor(s){this.trackedLinkElements=new WeakSet,this.styleMirror=new pr,this.mutationCb=s.mutationCb,this.adoptedStyleSheetCb=s.adoptedStyleSheetCb}attachLinkElement(s,c){"_cssText"in c.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:c.id,attributes:c.attributes}]}),this.trackLinkElement(s)}trackLinkElement(s){this.trackedLinkElements.has(s)||(this.trackedLinkElements.add(s),this.trackStylesheetInLinkElement(s))}adoptStyleSheets(s,c){if(s.length===0)return;const O={id:c,styleIds:[]},N=[];for(const D of s){let F;this.styleMirror.has(D)?F=this.styleMirror.getId(D):(F=this.styleMirror.add(D),N.push({styleId:F,rules:Array.from(D.rules||CSSRule,(G,W)=>({rule:te(G),index:W}))})),O.styleIds.push(F)}N.length>0&&(O.styles=N),this.adoptedStyleSheetCb(O)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(s){}}class Wt{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){Qn(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(s,c){const O=this.nodeMap.get(s);return O&&Array.from(O).some(N=>N!==c)}add(s,c){this.nodeMap.set(s,(this.nodeMap.get(s)||new Set).add(c))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let Fe,Kt;const rt=le();function Mt(t={}){const{emit:s,checkoutEveryNms:c,checkoutEveryNth:O,blockClass:N="rr-block",blockSelector:D=null,unblockSelector:F=null,ignoreClass:G="rr-ignore",ignoreSelector:W=null,maskAllText:Z=!1,maskTextClass:oe="rr-mask",unmaskTextClass:ce=null,maskTextSelector:ae=null,unmaskTextSelector:Ee=null,inlineStylesheet:_e=!0,maskAllInputs:Ne,maskInputOptions:xe,slimDOMOptions:we,maskAttributeFn:Qe,maskInputFn:qe,maskTextFn:et,maxCanvasSize:St=null,packFn:Ge,sampling:ke={},dataURLOptions:Xe={},mousemoveWait:Et,recordCanvas:De=!1,recordCrossOriginIframes:Ye=!1,recordAfter:pt=t.recordAfter==="DOMContentLoaded"?t.recordAfter:"load",userTriggeredOnInput:Rt=!1,collectFonts:It=!1,inlineImages:Gt=!1,plugins:ut,keepIframeSrcFn:tn=()=>!1,ignoreCSSAttributes:At=new Set([]),errorHandler:nn,onMutation:pn,getCanvasManager:wi}=t;Gr(nn);const ns=Ye?window.parent===window:!0;let Pr=!1;if(!ns)try{window.parent.document&&(Pr=!1)}catch(st){Pr=!0}if(ns&&!s)throw new Error("emit function is required");Et!==void 0&&ke.mousemove===void 0&&(ke.mousemove=Et),rt.reset();const rs=Ne===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:xe!==void 0?xe:{},ss=we===!0||we==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:we==="all",headMetaDescKeywords:we==="all"}:we||{};jr();let os,is=0;const Bs=st=>{for(const cn of ut||[])cn.eventProcessor&&(st=cn.eventProcessor(st));return Ge&&!Pr&&(st=Ge(st)),st};Fe=(st,cn)=>{const tt=st;if(tt.timestamp=Tn(),l([Ft,"access",yt=>yt[0],"optionalAccess",yt=>yt.isFrozen,"call",yt=>yt()])&&tt.type!==$e.FullSnapshot&&!(tt.type===$e.IncrementalSnapshot&&tt.data.source===ze.Mutation)&&Ft.forEach(yt=>yt.unfreeze()),ns)l([s,"optionalCall",yt=>yt(Bs(tt),cn)]);else if(Pr){const yt={type:"rrweb",event:Bs(tt),origin:window.location.origin,isCheckout:cn};window.parent.postMessage(yt,"*")}if(tt.type===$e.FullSnapshot)os=tt,is=0;else if(tt.type===$e.IncrementalSnapshot){if(tt.data.source===ze.Mutation&&tt.data.isAttachIframe)return;is++;const yt=O&&is>=O,ot=c&&os&&tt.timestamp-os.timestamp>c;(yt||ot)&&cs(!0)}};const Lr=st=>{Fe({type:$e.IncrementalSnapshot,data:H({source:ze.Mutation},st)})},Fs=st=>Fe({type:$e.IncrementalSnapshot,data:H({source:ze.Scroll},st)}),ki=st=>Fe({type:$e.IncrementalSnapshot,data:H({source:ze.CanvasMutation},st)}),Di=st=>Fe({type:$e.IncrementalSnapshot,data:H({source:ze.AdoptedStyleSheet},st)}),kn=new Tt({mutationCb:Lr,adoptedStyleSheetCb:Di}),Dn=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new ct:new Re({mirror:rt,mutationCb:Lr,stylesheetManager:kn,recordCrossOriginIframes:Ye,wrappedEmit:Fe});for(const st of ut||[])st.getMirror&&st.getMirror({nodeMirror:rt,crossOriginIframeMirror:Dn.crossOriginIframeMirror,crossOriginIframeStyleMirror:Dn.crossOriginIframeStyleMirror});const as=new Wt,Hs=$n(wi,{mirror:rt,win:window,mutationCb:st=>Fe({type:$e.IncrementalSnapshot,data:H({source:ze.CanvasMutation},st)}),recordCanvas:De,blockClass:N,blockSelector:D,unblockSelector:F,maxCanvasSize:St,sampling:ke.canvas,dataURLOptions:Xe,errorHandler:nn}),Ur=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Me:new We({mutationCb:Lr,scrollCb:Fs,bypassOptions:{onMutation:pn,blockClass:N,blockSelector:D,unblockSelector:F,maskAllText:Z,maskTextClass:oe,unmaskTextClass:ce,maskTextSelector:ae,unmaskTextSelector:Ee,inlineStylesheet:_e,maskInputOptions:rs,dataURLOptions:Xe,maskAttributeFn:Qe,maskTextFn:et,maskInputFn:qe,recordCanvas:De,inlineImages:Gt,sampling:ke,slimDOMOptions:ss,iframeManager:Dn,stylesheetManager:kn,canvasManager:Hs,keepIframeSrcFn:tn,processedNodeManager:as},mirror:rt}),cs=(st=!1)=>{Fe({type:$e.Meta,data:{href:window.location.href,width:dr(),height:fn()}},st),kn.reset(),Ur.init(),Ft.forEach(tt=>tt.lock());const cn=lr(document,{mirror:rt,blockClass:N,blockSelector:D,unblockSelector:F,maskAllText:Z,maskTextClass:oe,unmaskTextClass:ce,maskTextSelector:ae,unmaskTextSelector:Ee,inlineStylesheet:_e,maskAllInputs:rs,maskAttributeFn:Qe,maskInputFn:qe,maskTextFn:et,slimDOM:ss,dataURLOptions:Xe,recordCanvas:De,inlineImages:Gt,onSerialize:tt=>{vn(tt,rt)&&Dn.addIframe(tt),Hn(tt,rt)&&kn.trackLinkElement(tt),jn(tt)&&Ur.addShadowRoot(tt.shadowRoot,document)},onIframeLoad:(tt,yt)=>{Dn.attachIframe(tt,yt),Ur.observeAttachShadow(tt)},onStylesheetLoad:(tt,yt)=>{kn.attachLinkElement(tt,yt)},keepIframeSrcFn:tn});if(!cn)return console.warn("Failed to snapshot the document");Fe({type:$e.FullSnapshot,data:{node:cn,initialOffset:Un(window)}}),Ft.forEach(tt=>tt.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&kn.adoptStyleSheets(document.adoptedStyleSheets,rt.getId(document))};Kt=cs;try{const st=[],cn=yt=>Be(re)({onMutation:pn,mutationCb:Lr,mousemoveCb:(ot,Pn)=>Fe({type:$e.IncrementalSnapshot,data:{source:Pn,positions:ot}}),mouseInteractionCb:ot=>Fe({type:$e.IncrementalSnapshot,data:H({source:ze.MouseInteraction},ot)}),scrollCb:Fs,viewportResizeCb:ot=>Fe({type:$e.IncrementalSnapshot,data:H({source:ze.ViewportResize},ot)}),inputCb:ot=>Fe({type:$e.IncrementalSnapshot,data:H({source:ze.Input},ot)}),mediaInteractionCb:ot=>Fe({type:$e.IncrementalSnapshot,data:H({source:ze.MediaInteraction},ot)}),styleSheetRuleCb:ot=>Fe({type:$e.IncrementalSnapshot,data:H({source:ze.StyleSheetRule},ot)}),styleDeclarationCb:ot=>Fe({type:$e.IncrementalSnapshot,data:H({source:ze.StyleDeclaration},ot)}),canvasMutationCb:ki,fontCb:ot=>Fe({type:$e.IncrementalSnapshot,data:H({source:ze.Font},ot)}),selectionCb:ot=>{Fe({type:$e.IncrementalSnapshot,data:H({source:ze.Selection},ot)})},customElementCb:ot=>{Fe({type:$e.IncrementalSnapshot,data:H({source:ze.CustomElement},ot)})},blockClass:N,ignoreClass:G,ignoreSelector:W,maskAllText:Z,maskTextClass:oe,unmaskTextClass:ce,maskTextSelector:ae,unmaskTextSelector:Ee,maskInputOptions:rs,inlineStylesheet:_e,sampling:ke,recordCanvas:De,inlineImages:Gt,userTriggeredOnInput:Rt,collectFonts:It,doc:yt,maskAttributeFn:Qe,maskInputFn:qe,maskTextFn:et,keepIframeSrcFn:tn,blockSelector:D,unblockSelector:F,slimDOMOptions:ss,dataURLOptions:Xe,mirror:rt,iframeManager:Dn,stylesheetManager:kn,shadowDomManager:Ur,processedNodeManager:as,canvasManager:Hs,ignoreCSSAttributes:At,plugins:l([ut,"optionalAccess",ot=>ot.filter,"call",ot=>ot(Pn=>Pn.observer),"optionalAccess",ot=>ot.map,"call",ot=>ot(Pn=>({observer:Pn.observer,options:Pn.options,callback:Pi=>Fe({type:$e.Plugin,data:{plugin:Pn.name,payload:Pi}})}))])||[]},{});Dn.addLoadListener(yt=>{try{st.push(cn(yt.contentDocument))}catch(ot){console.warn(ot)}});const tt=()=>{cs(),st.push(cn(document))};return document.readyState==="interactive"||document.readyState==="complete"?tt():(st.push(Ke("DOMContentLoaded",()=>{Fe({type:$e.DomContentLoaded,data:{}}),pt==="DOMContentLoaded"&&tt()})),st.push(Ke("load",()=>{Fe({type:$e.Load,data:{}}),pt==="load"&&tt()},window))),()=>{st.forEach(yt=>yt()),as.destroy(),Kt=void 0,zr()}}catch(st){console.warn(st)}}function Rn(t){if(!Kt)throw new Error("please take full snapshot after start recording");Kt(t)}Mt.mirror=rt,Mt.takeFullSnapshot=Rn;function $n(t,s){try{return t?t(s):new Je}catch(c){return console.warn("Unable to initialize CanvasManager"),new Je}}const Gn=3,nr=5;function An(t){return t>9999999999?t:t*1e3}function Nn(t){return t>9999999999?t/1e3:t}function Dt(t,s){s.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(s.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:$e.Custom,timestamp:(s.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:v.normalize(s,10,1e3)}}),s.category==="console")))}const en="button,a";function Mn(t){return t.closest(en)||t}function Pt(t){const s=Jt(t);return!s||!(s instanceof Element)?s:Mn(s)}function Jt(t){return wn(t)?t.target:t}function wn(t){return typeof t=="object"&&!!t&&"target"in t}let an;function Cr(t){return an||(an=[],Or()),an.push(t),()=>{const s=an?an.indexOf(t):-1;s>-1&&an.splice(s,1)}}function Or(){v.fill(E,"open",function(t){return function(...s){if(an)try{an.forEach(c=>c())}catch(c){}return t.apply(E,s)}})}function Rr(t,s,c){t.handleClick(s,c)}class Ar{constructor(s,c,O=Dt){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=c.timeout/1e3,this._threshold=c.threshold/1e3,this._scollTimeout=c.scrollTimeout/1e3,this._replay=s,this._ignoreSelector=c.ignoreSelector,this._addBreadcrumbEvent=O}addListeners(){const s=Cr(()=>{this._lastMutation=Ot()});this._teardown=()=>{s(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(s,c){if(gt(c,this._ignoreSelector)||!Ct(s))return;const O={timestamp:Nn(s.timestamp),clickBreadcrumb:s,clickCount:0,node:c};this._clicks.some(N=>N.node===O.node&&Math.abs(N.timestamp-O.timestamp)<1)||(this._clicks.push(O),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(s=Date.now()){this._lastMutation=Nn(s)}registerScroll(s=Date.now()){this._lastScroll=Nn(s)}registerClick(s){const c=Mn(s);this._handleMultiClick(c)}_handleMultiClick(s){this._getClicks(s).forEach(c=>{c.clickCount++})}_getClicks(s){return this._clicks.filter(c=>c.node===s)}_checkClicks(){const s=[],c=Ot();this._clicks.forEach(O=>{!O.mutationAfter&&this._lastMutation&&(O.mutationAfter=O.timestamp<=this._lastMutation?this._lastMutation-O.timestamp:void 0),!O.scrollAfter&&this._lastScroll&&(O.scrollAfter=O.timestamp<=this._lastScroll?this._lastScroll-O.timestamp:void 0),O.timestamp+this._timeout<=c&&s.push(O)});for(const O of s){const N=this._clicks.indexOf(O);N>-1&&(this._generateBreadcrumbs(O),this._clicks.splice(N,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(s){const c=this._replay,O=s.scrollAfter&&s.scrollAfter<=this._scollTimeout,N=s.mutationAfter&&s.mutationAfter<=this._threshold,D=!O&&!N,{clickCount:F,clickBreadcrumb:G}=s;if(D){const W=Math.min(s.mutationAfter||this._timeout,this._timeout)*1e3,Z=W<this._timeout*1e3?"mutation":"timeout",oe={type:"default",message:G.message,timestamp:G.timestamp,category:"ui.slowClickDetected",data:Ie(H({},G.data),{url:E.location.href,route:c.getCurrentRoute(),timeAfterClickMs:W,endReason:Z,clickCount:F||1})};this._addBreadcrumbEvent(c,oe);return}if(F>1){const W={type:"default",message:G.message,timestamp:G.timestamp,category:"ui.multiClick",data:Ie(H({},G.data),{url:E.location.href,route:c.getCurrentRoute(),clickCount:F,metric:!0})};this._addBreadcrumbEvent(c,W)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=T.setTimeout(()=>this._checkClicks(),1e3)}}const $s=["A","BUTTON","INPUT"];function gt(t,s){return!!(!$s.includes(t.tagName)||t.tagName==="INPUT"&&!["submit","button"].includes(t.getAttribute("type")||"")||t.tagName==="A"&&(t.hasAttribute("download")||t.hasAttribute("target")&&t.getAttribute("target")!=="_self")||s&&t.matches(s))}function Ct(t){return!!(t.data&&typeof t.data.nodeId=="number"&&t.timestamp)}function Ot(){return Date.now()/1e3}function xt(t,s){try{if(!Ht(s))return;const{source:c}=s.data;if(c===ze.Mutation&&t.registerMutation(s.timestamp),c===ze.Scroll&&t.registerScroll(s.timestamp),rr(s)){const{type:O,id:N}=s.data,D=Mt.mirror.getNode(N);D instanceof HTMLElement&&O===kt.Click&&t.registerClick(D)}}catch(c){}}function Ht(t){return t.type===Gn}function rr(t){return t.data.source===ze.MouseInteraction}function Lt(t){return H({timestamp:Date.now()/1e3,type:"default"},t)}var zn;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(zn||(zn={}));const Gs=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function zs(t){const s={};!t["data-sentry-component"]&&t["data-sentry-element"]&&(t["data-sentry-component"]=t["data-sentry-element"]);for(const c in t)if(Gs.has(c)){let O=c;(c==="data-testid"||c==="data-test-id")&&(O="testId"),s[O]=t[c]}return s}const Ys=t=>s=>{if(!t.isEnabled())return;const c=Vs(s);if(!c)return;const O=s.name==="click",N=O?s.event:void 0;O&&t.clickDetector&&N&&N.target&&!N.altKey&&!N.metaKey&&!N.ctrlKey&&!N.shiftKey&&Rr(t.clickDetector,c,Pt(s.event)),Dt(t,c)};function us(t,s){const c=Mt.mirror.getId(t),O=c&&Mt.mirror.getNode(c),N=O&&Mt.mirror.getMeta(O),D=N&&Js(N)?N:null;return{message:s,data:D?{nodeId:c,node:{id:c,tagName:D.tagName,textContent:Array.from(D.childNodes).map(F=>F.type===zn.Text&&F.textContent).filter(Boolean).map(F=>F.trim()).join(""),attributes:zs(D.attributes)}}:{}}}function Vs(t){const{target:s,message:c}=Ks(t);return Lt(H({category:`ui.${t.name}`},us(s,c)))}function Ks(t){const s=t.name==="click";let c,O=null;try{O=s?Pt(t.event):Jt(t.event),c=v.htmlTreeAsString(O,{maxStringLength:200})||"<unknown>"}catch(N){c="<unknown>"}return{target:O,message:c}}function Js(t){return t.type===zn.Element}function Xs(t,s){if(!t.isEnabled())return;t.updateUserActivity();const c=Zs(s);c&&Dt(t,c)}function Zs(t){const{metaKey:s,shiftKey:c,ctrlKey:O,altKey:N,key:D,target:F}=t;if(!F||Qs(F)||!D)return null;const G=s||O||N,W=D.length===1;if(!G&&W)return null;const Z=v.htmlTreeAsString(F,{maxStringLength:200})||"<unknown>",oe=us(F,Z);return Lt({category:"ui.keyDown",message:Z,data:Ie(H({},oe.data),{metaKey:s,shiftKey:c,ctrlKey:O,altKey:N,key:D})})}function Qs(t){return t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable}const ls={resource:ro,paint:to,navigation:no};function qs(t){return t.map(eo).filter(Boolean)}function eo(t){return ls[t.entryType]?ls[t.entryType](t):null}function Yn(t){return((v.browserPerformanceTimeOrigin||E.performance.timeOrigin)+t)/1e3}function to(t){const{duration:s,entryType:c,name:O,startTime:N}=t,D=Yn(N);return{type:c,name:O,start:D,end:D+s,data:void 0}}function no(t){const{entryType:s,name:c,decodedBodySize:O,duration:N,domComplete:D,encodedBodySize:F,domContentLoadedEventStart:G,domContentLoadedEventEnd:W,domInteractive:Z,loadEventStart:oe,loadEventEnd:ce,redirectCount:ae,startTime:Ee,transferSize:_e,type:Ne}=t;return N===0?null:{type:`${s}.${Ne}`,start:Yn(Ee),end:Yn(D),name:c,data:{size:_e,decodedBodySize:O,encodedBodySize:F,duration:N,domInteractive:Z,domContentLoadedEventStart:G,domContentLoadedEventEnd:W,loadEventStart:oe,loadEventEnd:ce,domComplete:D,redirectCount:ae}}}function ro(t){const{entryType:s,initiatorType:c,name:O,responseEnd:N,startTime:D,decodedBodySize:F,encodedBodySize:G,responseStatus:W,transferSize:Z}=t;return["fetch","xmlhttprequest"].includes(c)?null:{type:`${s}.${c}`,start:Yn(D),end:Yn(N),name:O,data:{size:Z,statusCode:W,decodedBodySize:F,encodedBodySize:G}}}function so(t){const s=t.entries,c=s[s.length-1],O=c?c.element:void 0,N=t.value,D=Yn(N);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:D,end:D,data:{value:N,size:N,nodeId:O?Mt.mirror.getId(O):void 0}}}function oo(t){function s(N){t.performanceEntries.includes(N)||t.performanceEntries.push(N)}function c({entries:N}){N.forEach(s)}const O=[];return["navigation","paint","resource"].forEach(N=>{O.push(T.addPerformanceInstrumentationHandler(N,c))}),O.push(T.addLcpInstrumentationHandler(({metric:N})=>{t.replayPerformanceEntries.push(so(N))})),()=>{O.forEach(N=>N())}}const dt=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,io='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(J)return J.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function ao(){const t=new Blob([io]);return URL.createObjectURL(t)}function $t(t,s){dt&&(v.logger.info(t),s&&ds(t))}function Vn(t,s){dt&&(v.logger.info(t),s&&T.setTimeout(()=>{ds(t)},0))}function ds(t){g.addBreadcrumb({category:"console",data:{logger:"replay"},level:"info",message:t},{level:"info"})}class Vr extends Error{constructor(){super(`Event buffer exceeded maximum size of ${y}.`)}}class fs{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(s){return Oe(this,null,function*(){const c=JSON.stringify(s).length;if(this._totalSize+=c,this._totalSize>y)throw new Vr;this.events.push(s)})}finish(){return new Promise(s=>{const c=this.events;this.clear(),s(JSON.stringify(c))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const s=this.events.map(c=>c.timestamp).sort()[0];return s?An(s):null}}class co{constructor(s){this._worker=s,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((s,c)=>{this._worker.addEventListener("message",({data:O})=>{O.success?s():c()},{once:!0}),this._worker.addEventListener("error",O=>{c(O)},{once:!0})}),this._ensureReadyPromise)}destroy(){$t("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(s,c){const O=this._getAndIncrementId();return new Promise((N,D)=>{const F=({data:G})=>{const W=G;if(W.method===s&&W.id===O){if(this._worker.removeEventListener("message",F),!W.success){dt&&v.logger.error("[Replay]",W.response),D(new Error("Error in compression worker"));return}N(W.response)}};this._worker.addEventListener("message",F),this._worker.postMessage({id:O,method:s,arg:c})})}_getAndIncrementId(){return this._id++}}class uo{constructor(s){this._worker=new co(s),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(s){const c=An(s.timestamp);(!this._earliestTimestamp||c<this._earliestTimestamp)&&(this._earliestTimestamp=c);const O=JSON.stringify(s);return this._totalSize+=O.length,this._totalSize>y?Promise.reject(new Vr):this._sendEventToWorker(O)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,s=>{dt&&v.logger.warn('[Replay] Sending "clear" message to worker failed',s)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(s){return this._worker.postMessage("addEvent",s)}_finishRequest(){return Oe(this,null,function*(){const s=yield this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,s})}}class lo{constructor(s){this._fallback=new fs,this._compression=new uo(s),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(s){this._used.hasCheckout=s}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(s){return this._used.addEvent(s)}finish(){return Oe(this,null,function*(){return yield this.ensureWorkerIsLoaded(),this._used.finish()})}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){return Oe(this,null,function*(){try{yield this._compression.ensureReady()}catch(s){$t("[Replay] Failed to load the compression worker, falling back to simple buffer");return}yield this._switchToCompressionWorker()})}_switchToCompressionWorker(){return Oe(this,null,function*(){const{events:s,hasCheckout:c}=this._fallback,O=[];for(const N of s)O.push(this._compression.addEvent(N));this._compression.hasCheckout=c,this._used=this._compression;try{yield Promise.all(O)}catch(N){dt&&v.logger.warn("[Replay] Failed to add events when switching buffers.",N)}})}}function fo({useCompression:t,workerUrl:s}){if(t&&window.Worker){const c=po(s);if(c)return c}return $t("[Replay] Using simple buffer"),new fs}function po(t){try{const s=t||ho();if(!s)return;$t(`[Replay] Using compression worker${t?` from ${t}`:""}`);const c=new Worker(s);return new lo(c)}catch(s){$t("[Replay] Failed to create compression worker")}}function ho(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__=="undefined"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?ao():""}function Kr(){try{return"sessionStorage"in E&&!!E.sessionStorage}catch(t){return!1}}function mo(t){go(),t.session=void 0}function go(){if(Kr())try{E.sessionStorage.removeItem(_)}catch(t){}}function ps(t){return t===void 0?!1:Math.random()<t}function hs(t){const s=Date.now(),c=t.id||v.uuid4(),O=t.started||s,N=t.lastActivity||s,D=t.segmentId||0,F=t.sampled,G=t.previousSessionId;return{id:c,started:O,lastActivity:N,segmentId:D,sampled:F,previousSessionId:G}}function Jr(t){if(Kr())try{E.sessionStorage.setItem(_,JSON.stringify(t))}catch(s){}}function So(t,s){return ps(t)?"session":s?"buffer":!1}function ms({sessionSampleRate:t,allowBuffering:s,stickySession:c=!1},{previousSessionId:O}={}){const N=So(t,s),D=hs({sampled:N,previousSessionId:O});return c&&Jr(D),D}function yo(t){if(!Kr())return null;try{const s=E.sessionStorage.getItem(_);if(!s)return null;const c=JSON.parse(s);return Vn("[Replay] Loading existing session",t),hs(c)}catch(s){return null}}function Xr(t,s,c=+new Date){return t===null||s===void 0||s<0?!0:s===0?!1:t+s<=c}function gs(t,{maxReplayDuration:s,sessionIdleExpire:c,targetTime:O=Date.now()}){return Xr(t.started,s,O)||Xr(t.lastActivity,c,O)}function Ss(t,{sessionIdleExpire:s,maxReplayDuration:c}){return!(!gs(t,{sessionIdleExpire:s,maxReplayDuration:c})||t.sampled==="buffer"&&t.segmentId===0)}function Zr({traceInternals:t,sessionIdleExpire:s,maxReplayDuration:c,previousSessionId:O},N){const D=N.stickySession&&yo(t);return D?Ss(D,{sessionIdleExpire:s,maxReplayDuration:c})?(Vn("[Replay] Session in sessionStorage is expired, creating new one..."),ms(N,{previousSessionId:D.id})):D:(Vn("[Replay] Creating new session",t),ms(N,{previousSessionId:O}))}function _o(t){return t.type===$e.Custom}function Qr(t,s,c){return _s(t,s)?(ys(t,s,c),!0):!1}function Eo(t,s,c){return _s(t,s)?ys(t,s,c):Promise.resolve(null)}function ys(t,s,c){return Oe(this,null,function*(){if(!t.eventBuffer)return null;try{c&&t.recordingMode==="buffer"&&t.eventBuffer.clear(),c&&(t.eventBuffer.hasCheckout=!0);const O=t.getOptions(),N=bo(s,O.beforeAddRecordingEvent);return N?yield t.eventBuffer.addEvent(N):void 0}catch(O){const N=O&&O instanceof Vr?"addEventSizeExceeded":"addEvent";dt&&v.logger.error(O),yield t.stop({reason:N});const D=g.getClient();D&&D.recordDroppedEvent("internal_sdk_error","replay")}})}function _s(t,s){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const c=An(s.timestamp);return c+t.timeouts.sessionIdlePause<Date.now()?!1:c>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration?($t(`[Replay] Skipping event with timestamp ${c} because it is after maxReplayDuration`,t.getOptions()._experiments.traceInternals),!1):!0}function bo(t,s){try{if(typeof s=="function"&&_o(t))return s(t)}catch(c){return dt&&v.logger.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",c),null}return t}function qr(t){return!t.type}function es(t){return t.type==="transaction"}function To(t){return t.type==="replay_event"}function Es(t){return t.type==="feedback"}function Io(t){return(s,c)=>{if(!t.isEnabled()||!qr(s)&&!es(s))return;const O=c&&c.statusCode;if(!(!O||O<200||O>=300)){if(es(s)){vo(t,s);return}Co(t,s)}}}function vo(t,s){const c=t.getContext();s.contexts&&s.contexts.trace&&s.contexts.trace.trace_id&&c.traceIds.size<100&&c.traceIds.add(s.contexts.trace.trace_id)}function Co(t,s){const c=t.getContext();if(s.event_id&&c.errorIds.size<100&&c.errorIds.add(s.event_id),t.recordingMode!=="buffer"||!s.tags||!s.tags.replayId)return;const{beforeErrorSampling:O}=t.getOptions();typeof O=="function"&&!O(s)||T.setTimeout(()=>{t.sendBufferedReplayOrFlush()})}function Oo(t){return s=>{!t.isEnabled()||!qr(s)||Ro(t,s)}}function Ro(t,s){const c=s.exception&&s.exception.values&&s.exception.values[0].value;if(typeof c=="string"&&(c.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||c.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const O=Lt({category:"replay.hydrate-error"});Dt(t,O)}}function Ao(t){const s=g.getClient();s&&s.on("beforeAddBreadcrumb",c=>No(t,c))}function No(t,s){if(!t.isEnabled()||!bs(s))return;const c=Mo(s);c&&Dt(t,c)}function Mo(t){return!bs(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui.")?null:t.category==="console"?wo(t):Lt(t)}function wo(t){const s=t.data&&t.data.arguments;if(!Array.isArray(s)||s.length===0)return Lt(t);let c=!1;const O=s.map(N=>{if(!N)return N;if(typeof N=="string")return N.length>n?(c=!0,`${N.slice(0,n)}\u2026`):N;if(typeof N=="object")try{const D=v.normalize(N,7);return JSON.stringify(D).length>n?(c=!0,`${JSON.stringify(D,null,2).slice(0,n)}\u2026`):D}catch(D){}return N});return Lt(Ie(H({},t),{data:H(Ie(H({},t.data),{arguments:O}),c?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}function bs(t){return!!t.category}function ko(t,s){return t.type||!t.exception||!t.exception.values||!t.exception.values.length?!1:!!(s.originalException&&s.originalException.__rrweb__)}function Do(t,s){t.triggerUserActivity(),t.addUpdate(()=>s.timestamp?(t.throttledAddEvent({type:$e.Custom,timestamp:s.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:s.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:s.event_id}}}}),!1):!0)}function Po(t,s){return t.recordingMode!=="buffer"||s.message===f||!s.exception||s.type?!1:ps(t.getOptions().errorSampleRate)}function Lo(t){return Object.assign((s,c)=>t.isEnabled()?To(s)?(delete s.breadcrumbs,s):!qr(s)&&!es(s)&&!Es(s)||!t.checkAndHandleExpiredSession()?s:Es(s)?(t.flush(),s.contexts.feedback.replay_id=t.getSessionId(),Do(t,s),s):ko(s,c)&&!t.getOptions()._experiments.captureExceptions?(dt&&v.logger.log("[Replay] Ignoring error from rrweb internals",s),null):((Po(t,s)||t.recordingMode==="session")&&(s.tags=Ie(H({},s.tags),{replayId:t.getSessionId()})),s):s,{id:"Replay"})}function Nr(t,s){return s.map(({type:c,start:O,end:N,name:D,data:F})=>{const G=t.throttledAddEvent({type:$e.Custom,timestamp:O,data:{tag:"performanceSpan",payload:{op:c,description:D,startTimestamp:O,endTimestamp:N,data:F}}});return typeof G=="string"?Promise.resolve(null):G})}function Uo(t){const{from:s,to:c}=t,O=Date.now()/1e3;return{type:"navigation.push",start:O,end:O,name:c,data:{previous:s}}}function Bo(t){return s=>{if(!t.isEnabled())return;const c=Uo(s);c!==null&&(t.getContext().urls.push(c.name),t.triggerUserActivity(),t.addUpdate(()=>(Nr(t,[c]),!1)))}}function Fo(t,s){return dt&&t.getOptions()._experiments.traceInternals?!1:g.isSentryRequestUrl(s,g.getClient())}function Ts(t,s){t.isEnabled()&&s!==null&&(Fo(t,s.name)||t.addUpdate(()=>(Nr(t,[s]),!0)))}function Mr(t){if(!t)return;const s=new TextEncoder;try{if(typeof t=="string")return s.encode(t).length;if(t instanceof URLSearchParams)return s.encode(t.toString()).length;if(t instanceof FormData){const c=Os(t);return s.encode(c).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch(c){}}function Is(t){if(!t)return;const s=parseInt(t,10);return isNaN(s)?void 0:s}function vs(t){try{if(typeof t=="string")return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[Os(t)];if(!t)return[void 0]}catch(s){return dt&&v.logger.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return dt&&v.logger.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function wr(t,s){if(!t)return{headers:{},size:void 0,_meta:{warnings:[s]}};const c=H({},t._meta),O=c.warnings||[];return c.warnings=[...O,s],t._meta=c,t}function Cs(t,s){if(!s)return null;const{startTimestamp:c,endTimestamp:O,url:N,method:D,statusCode:F,request:G,response:W}=s;return{type:t,start:c/1e3,end:O/1e3,name:N,data:v.dropUndefinedKeys({method:D,statusCode:F,request:G,response:W})}}function sr(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function yn(t,s,c){if(!s&&Object.keys(t).length===0)return;if(!s)return{headers:t};if(!c)return{headers:t,size:s};const O={headers:t,size:s},{body:N,warnings:D}=Ho(c);return O.body=N,D&&D.length>0&&(O._meta={warnings:D}),O}function ts(t,s){return Object.keys(t).reduce((c,O)=>{const N=O.toLowerCase();return s.includes(N)&&t[O]&&(c[N]=t[O]),c},{})}function Os(t){return new URLSearchParams(t).toString()}function Ho(t){if(!t||typeof t!="string")return{body:t};const s=t.length>m,c=jo(t);if(s){const O=t.slice(0,m);return c?{body:O,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${O}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(c)try{return{body:JSON.parse(t)}}catch(O){}return{body:t}}function jo(t){const s=t[0],c=t[t.length-1];return s==="["&&c==="]"||s==="{"&&c==="}"}function kr(t,s){const c=Wo(t);return v.stringMatchesSomePattern(c,s)}function Wo(t,s=E.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(E.location.origin))return t;const c=new URL(t,s);if(c.origin!==new URL(s).origin)return t;const O=c.href;return!t.endsWith("/")&&O.endsWith("/")?O.slice(0,-1):O}function xo(t,s,c){return Oe(this,null,function*(){try{const O=yield Go(t,s,c),N=Cs("resource.fetch",O);Ts(c.replay,N)}catch(O){dt&&v.logger.error("[Replay] Failed to capture fetch breadcrumb",O)}})}function $o(t,s){const{input:c,response:O}=s,N=c?Rs(c):void 0,D=Mr(N),F=O?Is(O.headers.get("content-length")):void 0;D!==void 0&&(t.data.request_body_size=D),F!==void 0&&(t.data.response_body_size=F)}function Go(t,s,c){return Oe(this,null,function*(){const O=Date.now(),{startTimestamp:N=O,endTimestamp:D=O}=s,{url:F,method:G,status_code:W=0,request_body_size:Z,response_body_size:oe}=t.data,ce=kr(F,c.networkDetailAllowUrls)&&!kr(F,c.networkDetailDenyUrls),ae=ce?zo(c,s.input,Z):sr(Z),Ee=yield Yo(ce,c,s.response,oe);return{startTimestamp:N,endTimestamp:D,url:F,method:G,statusCode:W,request:ae,response:Ee}})}function zo({networkCaptureBodies:t,networkRequestHeaders:s},c,O){const N=c?Jo(c,s):{};if(!t)return yn(N,O,void 0);const D=Rs(c),[F,G]=vs(D),W=yn(N,O,F);return G?wr(W,G):W}function Yo(D,F,G,W){return Oe(this,arguments,function*(t,{networkCaptureBodies:s,networkResponseHeaders:c},O,N){if(!t&&N!==void 0)return sr(N);const Z=O?As(O.headers,c):{};if(!O||!s&&N!==void 0)return yn(Z,N,void 0);const[oe,ce]=yield Ko(O),ae=Vo(oe,{networkCaptureBodies:s,responseBodySize:N,captureDetails:t,headers:Z});return ce?wr(ae,ce):ae})}function Vo(t,{networkCaptureBodies:s,responseBodySize:c,captureDetails:O,headers:N}){try{const D=t&&t.length&&c===void 0?Mr(t):c;return O?s?yn(N,D,t):yn(N,D,void 0):sr(D)}catch(D){return dt&&v.logger.warn("[Replay] Failed to serialize response body",D),yn(N,c,void 0)}}function Ko(t){return Oe(this,null,function*(){const s=Xo(t);if(!s)return[void 0,"BODY_PARSE_ERROR"];try{return[yield Zo(s)]}catch(c){return dt&&v.logger.warn("[Replay] Failed to get text body from response",c),[void 0,"BODY_PARSE_ERROR"]}})}function Rs(t=[]){if(!(t.length!==2||typeof t[1]!="object"))return t[1].body}function As(t,s){const c={};return s.forEach(O=>{t.get(O)&&(c[O]=t.get(O))}),c}function Jo(t,s){return t.length===1&&typeof t[0]!="string"?Ns(t[0],s):t.length===2?Ns(t[1],s):{}}function Ns(t,s){if(!t)return{};const c=t.headers;return c?c instanceof Headers?As(c,s):Array.isArray(c)?{}:ts(c,s):{}}function Xo(t){try{return t.clone()}catch(s){dt&&v.logger.warn("[Replay] Failed to clone response body",s)}}function Zo(t){return new Promise((s,c)=>{const O=T.setTimeout(()=>c(new Error("Timeout while trying to read response body")),500);Qo(t).then(N=>s(N),N=>c(N)).finally(()=>clearTimeout(O))})}function Qo(t){return Oe(this,null,function*(){return yield t.text()})}function qo(t,s,c){return Oe(this,null,function*(){try{const O=ti(t,s,c),N=Cs("resource.xhr",O);Ts(c.replay,N)}catch(O){dt&&v.logger.error("[Replay] Failed to capture xhr breadcrumb",O)}})}function ei(t,s){const{xhr:c,input:O}=s;if(!c)return;const N=Mr(O),D=c.getResponseHeader("content-length")?Is(c.getResponseHeader("content-length")):oi(c.response,c.responseType);N!==void 0&&(t.data.request_body_size=N),D!==void 0&&(t.data.response_body_size=D)}function ti(t,s,c){const O=Date.now(),{startTimestamp:N=O,endTimestamp:D=O,input:F,xhr:G}=s,{url:W,method:Z,status_code:oe=0,request_body_size:ce,response_body_size:ae}=t.data;if(!W)return null;if(!G||!kr(W,c.networkDetailAllowUrls)||kr(W,c.networkDetailDenyUrls)){const Ge=sr(ce),ke=sr(ae);return{startTimestamp:N,endTimestamp:D,url:W,method:Z,statusCode:oe,request:Ge,response:ke}}const Ee=G[T.SENTRY_XHR_DATA_KEY],_e=Ee?ts(Ee.request_headers,c.networkRequestHeaders):{},Ne=ts(ni(G),c.networkResponseHeaders),[xe,we]=c.networkCaptureBodies?vs(F):[void 0],[Qe,qe]=c.networkCaptureBodies?ri(G):[void 0],et=yn(_e,ce,xe),St=yn(Ne,ae,Qe);return{startTimestamp:N,endTimestamp:D,url:W,method:Z,statusCode:oe,request:we?wr(et,we):et,response:qe?wr(St,qe):St}}function ni(t){const s=t.getAllResponseHeaders();return s?s.split(`\r
`).reduce((c,O)=>{const[N,D]=O.split(": ");return c[N.toLowerCase()]=D,c},{}):{}}function ri(t){const s=[];try{return[t.responseText]}catch(c){s.push(c)}try{return si(t.response,t.responseType)}catch(c){s.push(c)}return dt&&v.logger.warn("[Replay] Failed to get xhr response body",...s),[void 0]}function si(t,s){try{if(typeof t=="string")return[t];if(t instanceof Document)return[t.body.outerHTML];if(s==="json"&&t&&typeof t=="object")return[JSON.stringify(t)];if(!t)return[void 0]}catch(c){return dt&&v.logger.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return dt&&v.logger.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function oi(t,s){try{const c=s==="json"&&t&&typeof t=="object"?JSON.stringify(t):t;return Mr(c)}catch(c){return}}function ii(t){const s=g.getClient();try{const{networkDetailAllowUrls:c,networkDetailDenyUrls:O,networkCaptureBodies:N,networkRequestHeaders:D,networkResponseHeaders:F}=t.getOptions(),G={replay:t,networkDetailAllowUrls:c,networkDetailDenyUrls:O,networkCaptureBodies:N,networkRequestHeaders:D,networkResponseHeaders:F};s&&s.on("beforeAddBreadcrumb",(W,Z)=>ai(G,W,Z))}catch(c){}}function ai(t,s,c){if(s.data)try{ci(s)&&li(c)&&(ei(s,c),qo(s,c,t)),ui(s)&&di(c)&&($o(s,c),xo(s,c,t))}catch(O){dt&&v.logger.warn("Error when enriching network breadcrumb")}}function ci(t){return t.category==="xhr"}function ui(t){return t.category==="fetch"}function li(t){return t&&t.xhr}function di(t){return t&&t.response}function fi(t){const s=g.getClient();T.addClickKeypressInstrumentationHandler(Ys(t)),T.addHistoryInstrumentationHandler(Bo(t)),Ao(t),ii(t);const c=Lo(t);g.addEventProcessor(c),s&&(s.on("beforeSendEvent",Oo(t)),s.on("afterSendEvent",Io(t)),s.on("createDsc",O=>{const N=t.getSessionId();N&&t.isEnabled()&&t.recordingMode==="session"&&t.checkAndHandleExpiredSession()&&(O.replay_id=N)}),s.on("spanStart",O=>{t.lastActiveSpan=O}),s.on("spanEnd",O=>{t.lastActiveSpan=O}),s.on("beforeSendFeedback",(O,N)=>{const D=t.getSessionId();N&&N.includeReplay&&t.isEnabled()&&D&&O.contexts&&O.contexts.feedback&&(O.contexts.feedback.replay_id=D)}))}function pi(t){return Oe(this,null,function*(){try{return Promise.all(Nr(t,[hi(E.performance.memory)]))}catch(s){return[]}})}function hi(t){const{jsHeapSizeLimit:s,totalJSHeapSize:c,usedJSHeapSize:O}=t,N=Date.now()/1e3;return{type:"memory",name:"memory",start:N,end:N,data:{memory:{jsHeapSizeLimit:s,totalJSHeapSize:c,usedJSHeapSize:O}}}}function mi(t,s,c){let O,N,D;const F=c&&c.maxWait?Math.max(c.maxWait,s):0;function G(){return W(),O=t(),O}function W(){N!==void 0&&clearTimeout(N),D!==void 0&&clearTimeout(D),N=D=void 0}function Z(){return N!==void 0||D!==void 0?G():O}function oe(){return N&&clearTimeout(N),N=T.setTimeout(G,s),F&&D===void 0&&(D=T.setTimeout(G,F)),O}return oe.cancel=W,oe.flush=Z,oe}function gi(t){let s=!1;return(c,O)=>{if(!t.checkAndHandleExpiredSession()){dt&&v.logger.warn("[Replay] Received replay event after session expired.");return}const N=O||!s;s=!0,t.clickDetector&&xt(t.clickDetector,c),t.addUpdate(()=>{if(t.recordingMode==="buffer"&&N&&t.setInitialState(),!Qr(t,c,N))return!0;if(!N)return!1;if(yi(t,N),t.session&&t.session.previousSessionId)return!0;if(t.recordingMode==="buffer"&&t.session&&t.eventBuffer){const D=t.eventBuffer.getEarliestTimestamp();D&&($t(`[Replay] Updating session start time to earliest event in buffer to ${new Date(D)}`,t.getOptions()._experiments.traceInternals),t.session.started=D,t.getOptions().stickySession&&Jr(t.session))}return t.recordingMode==="session"&&t.flush(),!0})}}function Si(t){const s=t.getOptions();return{type:$e.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:t.isRecordingCanvas(),sessionSampleRate:s.sessionSampleRate,errorSampleRate:s.errorSampleRate,useCompressionOption:s.useCompression,blockAllMedia:s.blockAllMedia,maskAllText:s.maskAllText,maskAllInputs:s.maskAllInputs,useCompression:t.eventBuffer?t.eventBuffer.type==="worker":!1,networkDetailHasUrls:s.networkDetailAllowUrls.length>0,networkCaptureBodies:s.networkCaptureBodies,networkRequestHasHeaders:s.networkRequestHeaders.length>0,networkResponseHasHeaders:s.networkResponseHeaders.length>0}}}}function yi(t,s){!s||!t.session||t.session.segmentId!==0||Qr(t,Si(t),!1)}function _i(t,s,c,O){return v.createEnvelope(v.createEventEnvelopeHeaders(t,v.getSdkMetadataForEnvelopeHeader(t),O,c),[[{type:"replay_event"},t],[{type:"replay_recording",length:typeof s=="string"?new TextEncoder().encode(s).length:s.length},s]])}function Ei({recordingData:t,headers:s}){let c;const O=`${JSON.stringify(s)}
`;if(typeof t=="string")c=`${O}${t}`;else{const D=new TextEncoder().encode(O);c=new Uint8Array(D.length+t.length),c.set(D),c.set(t,D.length)}return c}function bi(N){return Oe(this,arguments,function*({client:t,scope:s,replayId:c,event:O}){const D=typeof t._integrations=="object"&&t._integrations!==null&&!Array.isArray(t._integrations)?Object.keys(t._integrations):void 0,F={event_id:c,integrations:D};t.emit("preprocessEvent",O,F);const G=yield g.prepareEvent(t.getOptions(),O,F,s,t,g.getIsolationScope());if(!G)return null;G.platform=G.platform||"javascript";const W=t.getSdkMetadata(),{name:Z,version:oe}=W&&W.sdk||{};return G.sdk=Ie(H({},G.sdk),{name:Z||"sentry.javascript.unknown",version:oe||"0.0.0"}),G})}function Ti(F){return Oe(this,arguments,function*({recordingData:t,replayId:s,segmentId:c,eventContext:O,timestamp:N,session:D}){const G=Ei({recordingData:t,headers:{segment_id:c}}),{urls:W,errorIds:Z,traceIds:oe,initialTimestamp:ce}=O,ae=g.getClient(),Ee=g.getCurrentScope(),_e=ae&&ae.getTransport(),Ne=ae&&ae.getDsn();if(!ae||!_e||!Ne||!D.sampled)return v.resolvedSyncPromise({});const xe={type:h,replay_start_timestamp:ce/1e3,timestamp:N/1e3,error_ids:Z,trace_ids:oe,urls:W,replay_id:s,segment_id:c,replay_type:D.sampled},we=yield bi({scope:Ee,client:ae,replayId:s,event:xe});if(!we)return ae.recordDroppedEvent("event_processor","replay",xe),$t("An event processor returned `null`, will not send event."),v.resolvedSyncPromise({});delete we.sdkProcessingMetadata;const Qe=_i(we,G,Ne,ae.getOptions().tunnel);let qe;try{qe=yield _e.send(Qe)}catch(St){const Ge=new Error(f);try{Ge.cause=St}catch(ke){}throw Ge}if(typeof qe.statusCode=="number"&&(qe.statusCode<200||qe.statusCode>=300))throw new Ms(qe.statusCode);const et=v.updateRateLimits({},qe);if(v.isRateLimited(et,"replay"))throw new ws(et);return qe})}class Ms extends Error{constructor(s){super(`Transport returned status code ${s}`)}}class ws extends Error{constructor(s){super("Rate limit hit"),this.rateLimits=s}}function ks(c){return Oe(this,arguments,function*(t,s={count:0,interval:u}){const{recordingData:O,options:N}=t;if(O.length)try{return yield Ti(t),!0}catch(D){if(D instanceof Ms||D instanceof ws)throw D;if(g.setContext("Replays",{_retryCount:s.count}),dt&&N._experiments&&N._experiments.captureExceptions&&g.captureException(D),s.count>=C){const F=new Error(`${f} - max retries exceeded`);try{F.cause=D}catch(G){}throw F}return s.interval*=++s.count,new Promise((F,G)=>{T.setTimeout(()=>Oe(this,null,function*(){try{yield ks(t,s),F(!0)}catch(W){G(W)}}),s.interval)})}})}const Ds="__THROTTLED",Ii="__SKIPPED";function vi(t,s,c){const O=new Map,N=G=>{const W=G-c;O.forEach((Z,oe)=>{oe<W&&O.delete(oe)})},D=()=>[...O.values()].reduce((G,W)=>G+W,0);let F=!1;return(...G)=>{const W=Math.floor(Date.now()/1e3);if(N(W),D()>=s){const oe=F;return F=!0,oe?Ii:Ds}F=!1;const Z=O.get(W)||0;return O.set(W,Z+1),t(...G)}}class _n{constructor({options:s,recordingOptions:c}){_n.prototype.__init.call(this),_n.prototype.__init2.call(this),_n.prototype.__init3.call(this),_n.prototype.__init4.call(this),_n.prototype.__init5.call(this),_n.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:I,sessionIdleExpire:b},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=c,this._options=s,this._debouncedFlush=mi(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=vi((F,G)=>Eo(this,F,G),300,5);const{slowClickTimeout:O,slowClickIgnoreSelectors:N}=this.getOptions(),D=O?{threshold:Math.min(r,O),timeout:O,scrollTimeout:a,ignoreSelector:N?N.join(","):""}:void 0;D&&(this.clickDetector=new Ar(this,D))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(s){const{errorSampleRate:c,sessionSampleRate:O}=this._options;if(!(c<=0&&O<=0)){if(this._initializeSessionForSampling(s),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",Vn(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");Vn("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const s=Zr({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=s,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");Vn("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const s=Zr({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=s,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const s=this._canvas;this._stopRecording=Mt(H(Ie(H(H({},this._recordingOptions),this.recordingMode==="buffer"&&{checkoutEveryNms:p}),{emit:gi(this),onMutation:this._onMutationHandler}),s?{recordCanvas:s.recordCanvas,getCanvasManager:s.getCanvasManager,sampling:s.sampling,dataURLOptions:s.dataURLOptions}:{}))}catch(s){this._handleException(s)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(s){return this._handleException(s),!1}}stop(){return Oe(this,arguments,function*({forceFlush:s=!1,reason:c}={}){if(this._isEnabled){this._isEnabled=!1;try{$t(`[Replay] Stopping Replay${c?` triggered by ${c}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),s&&(yield this._flush({force:!0})),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,mo(this)}catch(O){this._handleException(O)}}})}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),$t("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),$t("[Replay] Resuming replay",this._options._experiments.traceInternals))}sendBufferedReplayOrFlush(){return Oe(this,arguments,function*({continueRecording:s=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const c=Date.now();$t("[Replay] Converting buffer to session",this._options._experiments.traceInternals),yield this.flushImmediate();const O=this.stopRecording();!s||!O||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(c),this._updateSessionActivity(c),this._maybeSaveSession()),this.startRecording())})}addUpdate(s){const c=s();this.recordingMode!=="buffer"&&c!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Xr(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const s=`${E.location.pathname}${E.location.hash}${E.location.search}`,c=`${E.location.origin}${s}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=c,this._context.initialTimestamp=Date.now(),this._context.urls.push(c)}throttledAddEvent(s,c){const O=this._throttledAddEvent(s,c);if(O===Ds){const N=Lt({category:"replay.throttled"});this.addUpdate(()=>!Qr(this,{type:nr,timestamp:N.timestamp||0,data:{tag:"breadcrumb",payload:N,metric:!0}}))}return O}getCurrentRoute(){const s=this.lastActiveSpan||g.getActiveSpan(),c=s&&g.getRootSpan(s),N=(c&&g.spanToJSON(c).data||{})[g.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];if(!(!c||!N||!["route","custom"].includes(N)))return g.spanToJSON(c).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=fo({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(s){dt&&v.logger.error("[Replay]",s),dt&&this._options._experiments&&this._options._experiments.captureExceptions&&g.captureException(s)}_initializeSessionForSampling(s){const c=this._options.errorSampleRate>0,O=Zr({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:s},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:c});this.session=O}_checkSession(){if(!this.session)return!1;const s=this.session;return Ss(s,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(s),!1):!0}_refreshSession(s){return Oe(this,null,function*(){this._isEnabled&&(yield this.stop({reason:"refresh session"}),this.initializeSampling(s.id))})}_addListeners(){try{E.document.addEventListener("visibilitychange",this._handleVisibilityChange),E.addEventListener("blur",this._handleWindowBlur),E.addEventListener("focus",this._handleWindowFocus),E.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(fi(this),this._hasInitializedCoreListeners=!0)}catch(s){this._handleException(s)}this._performanceCleanupCallback=oo(this)}_removeListeners(){try{E.document.removeEventListener("visibilitychange",this._handleVisibilityChange),E.removeEventListener("blur",this._handleWindowBlur),E.removeEventListener("focus",this._handleWindowFocus),E.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(s){this._handleException(s)}}__init(){this._handleVisibilityChange=()=>{E.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const s=Lt({category:"ui.blur"});this._doChangeToBackgroundTasks(s)}}__init3(){this._handleWindowFocus=()=>{const s=Lt({category:"ui.focus"});this._doChangeToForegroundTasks(s)}}__init4(){this._handleKeyboardEvent=s=>{Xs(this,s)}}_doChangeToBackgroundTasks(s){!this.session||gs(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(s&&this._createCustomBreadcrumb(s),this.conditionalFlush())}_doChangeToForegroundTasks(s){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){$t("[Replay] Document has become active, but session has expired");return}s&&this._createCustomBreadcrumb(s)}_updateUserActivity(s=Date.now()){this._lastActivity=s}_updateSessionActivity(s=Date.now()){this.session&&(this.session.lastActivity=s,this._maybeSaveSession())}_createCustomBreadcrumb(s){this.addUpdate(()=>{this.throttledAddEvent({type:$e.Custom,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s}})})}_addPerformanceEntries(){const s=qs(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Nr(this,s))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:s,eventBuffer:c}=this;if(!s||!c||s.segmentId)return;const O=c.getEarliestTimestamp();O&&O<this._context.initialTimestamp&&(this._context.initialTimestamp=O)}_popEventContext(){const s={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),s}_runFlush(){return Oe(this,null,function*(){const s=this.getSessionId();if(!this.session||!this.eventBuffer||!s){dt&&v.logger.error("[Replay] No session or eventBuffer found to flush.");return}if(yield this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(yield pi(this),!!this.eventBuffer&&s===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const c=Date.now();if(c-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const O=this._popEventContext(),N=this.session.segmentId++;this._maybeSaveSession();const D=yield this.eventBuffer.finish();yield ks({replayId:s,recordingData:D,segmentId:N,eventContext:O,session:this.session,options:this.getOptions(),timestamp:c})}catch(c){this._handleException(c),this.stop({reason:"sendReplay"});const O=g.getClient();O&&O.recordDroppedEvent("send_error","replay")}})}__init5(){this._flush=(...c)=>Oe(this,[...c],function*({force:s=!1}={}){if(!this._isEnabled&&!s)return;if(!this.checkAndHandleExpiredSession()){dt&&v.logger.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const O=this.session.started,D=Date.now()-O;this._debouncedFlush.cancel();const F=D<this._options.minReplayDuration,G=D>this._options.maxReplayDuration+5e3;if(F||G){$t(`[Replay] Session duration (${Math.floor(D/1e3)}s) is too ${F?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),F&&this._debouncedFlush();return}const W=this.eventBuffer;if(W&&this.session.segmentId===0&&!W.hasCheckout&&$t("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),yield this._flushLock,this._flushLock=void 0;return}try{yield this._flushLock}catch(Z){dt&&v.logger.error(Z)}finally{this._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&Jr(this.session)}__init6(){this._onMutationHandler=s=>{const c=s.length,O=this._options.mutationLimit,N=this._options.mutationBreadcrumbLimit,D=O&&c>O;if(c>N||D){const F=Lt({category:"replay.mutations",data:{count:c,limit:D}});this._createCustomBreadcrumb(F)}return D?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function or(t,s){return[...t,...s].join(",")}function Ci({mask:t,unmask:s,block:c,unblock:O,ignore:N}){const D=['base[href="/"]'],F=or(t,[".sentry-mask","[data-sentry-mask]"]),G=or(s,[]);return{maskTextSelector:F,unmaskTextSelector:G,blockSelector:or(c,[".sentry-block","[data-sentry-block]",...D]),unblockSelector:or(O,[]),ignoreSelector:or(N,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function Oi({el:t,key:s,maskAttributes:c,maskAllText:O,privacyOptions:N,value:D}){return!O||N.unmaskTextSelector&&t.matches(N.unmaskTextSelector)?D:c.includes(s)||s==="value"&&t.tagName==="INPUT"&&["submit","button"].includes(t.getAttribute("type")||"")?D.replace(/[\S]/g,"*"):D}const Ps='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Ri=["content-length","content-type","accept"];let Ls=!1;const Ai=t=>new Dr(t);class Dr{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:s=S,flushMaxDelay:c=d,minReplayDuration:O=R,maxReplayDuration:N=w,stickySession:D=!0,useCompression:F=!0,workerUrl:G,_experiments:W={},maskAllText:Z=!0,maskAllInputs:oe=!0,blockAllMedia:ce=!0,mutationBreadcrumbLimit:ae=750,mutationLimit:Ee=1e4,slowClickTimeout:_e=7e3,slowClickIgnoreSelectors:Ne=[],networkDetailAllowUrls:xe=[],networkDetailDenyUrls:we=[],networkCaptureBodies:Qe=!0,networkRequestHeaders:qe=[],networkResponseHeaders:et=[],mask:St=[],maskAttributes:Ge=["title","placeholder"],unmask:ke=[],block:Xe=[],unblock:Et=[],ignore:De=[],maskFn:Ye,beforeAddRecordingEvent:pt,beforeErrorSampling:Rt}={}){this.name=Dr.id;const It=Ci({mask:St,unmask:ke,block:Xe,unblock:Et,ignore:De});if(this._recordingOptions=Ie(H({maskAllInputs:oe,maskAllText:Z,maskInputOptions:{password:!0},maskTextFn:Ye,maskInputFn:Ye,maskAttributeFn:(Gt,ut,tn)=>Oi({maskAttributes:Ge,maskAllText:Z,privacyOptions:It,key:Gt,value:ut,el:tn})},It),{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Gt=>{try{Gt.__rrweb__=!0}catch(ut){}}}),this._initialOptions={flushMinDelay:s,flushMaxDelay:c,minReplayDuration:Math.min(O,A),maxReplayDuration:Math.min(N,w),stickySession:D,useCompression:F,workerUrl:G,blockAllMedia:ce,maskAllInputs:oe,maskAllText:Z,mutationBreadcrumbLimit:ae,mutationLimit:Ee,slowClickTimeout:_e,slowClickIgnoreSelectors:Ne,networkDetailAllowUrls:xe,networkDetailDenyUrls:we,networkCaptureBodies:Qe,networkRequestHeaders:Us(qe),networkResponseHeaders:Us(et),beforeAddRecordingEvent:pt,beforeErrorSampling:Rt,_experiments:W},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Ps}`:Ps),this._isInitialized&&v.isBrowser())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Ls}set _isInitialized(s){Ls=s}setupOnce(){v.isBrowser()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(s){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(s)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const s=Ni(this._initialOptions);this._replay=new _n({options:s,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const c=g.getClient().getIntegrationByName("ReplayCanvas");if(!c)return;this._replay._canvas=c.getOptions()}catch(s){}}}Dr.__initStatic();function Ni(t){const s=g.getClient(),c=s&&s.getOptions(),O=H({sessionSampleRate:0,errorSampleRate:0},v.dropUndefinedKeys(t));if(!c)return v.consoleSandbox(()=>{console.warn("SDK client is not available.")}),O;const N=g.parseSampleRate(c.replaysSessionSampleRate),D=g.parseSampleRate(c.replaysOnErrorSampleRate);return N==null&&D==null&&v.consoleSandbox(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),N!=null&&(O.sessionSampleRate=N),D!=null&&(O.errorSampleRate=D),O}function Us(t){return[...Ri,...t.map(s=>s.toLowerCase())]}function Mi(){const t=g.getClient();return t&&t.getIntegrationByName("Replay")}e.getReplay=Mi,e.replayIntegration=Ai},71185:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(17077),g=o(93894),v=o(75921),T=o(46229),E=o(63386);class _ extends i.BaseClient{constructor(f){const I=H({parentSpanIsAlwaysRootSpan:!0},f),b=T.WINDOW.SENTRY_SDK_SOURCE||l.getSDKSource();i.applySdkMetadata(I,"browser",["browser"],b),super(I),I.sendClientReports&&T.WINDOW.document&&T.WINDOW.document.addEventListener("visibilitychange",()=>{T.WINDOW.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(f,I){return v.eventFromException(this._options.stackParser,f,I,this._options.attachStacktrace)}eventFromMessage(f,I="info",b){return v.eventFromMessage(this._options.stackParser,f,I,b,this._options.attachStacktrace)}captureUserFeedback(f){if(!this._isEnabled()){g.DEBUG_BUILD&&l.logger.warn("SDK not enabled, will not capture user feedback.");return}const I=E.createUserFeedbackEnvelope(f,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(I)}_prepareEvent(f,I,b){return f.platform=f.platform||"javascript",super._prepareEvent(f,I,b)}_flushOutcomes(){const f=this._clearOutcomes();if(f.length===0){g.DEBUG_BUILD&&l.logger.log("No outcomes to send");return}if(!this._dsn){g.DEBUG_BUILD&&l.logger.log("No dsn provided, will not send outcomes");return}g.DEBUG_BUILD&&l.logger.log("Sending outcomes:",f);const I=l.createClientReportEnvelope(f,this._options.tunnel&&l.dsnToString(this._dsn));this.sendEnvelope(I)}}e.BrowserClient=_},93894:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;e.DEBUG_BUILD=o},75921:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(17077);function g(n,r){const a=E(n,r),y={type:r&&r.name,value:I(r)};return a.length&&(y.stacktrace={frames:a}),y.type===void 0&&y.value===""&&(y.value="Unrecoverable error caught"),y}function v(n,r,a,y){const R=i.getClient(),A=R&&R.getOptions().normalizeDepth,w=m(r),P={__serialized__:l.normalizeToSize(r,A)};if(w)return{exception:{values:[g(n,w)]},extra:P};const x={exception:{values:[{type:l.isEvent(r)?r.constructor.name:y?"UnhandledRejection":"Error",value:u(r,{isUnhandledRejection:y})}]},extra:P};if(a){const $=E(n,a);$.length&&(x.exception.values[0].stacktrace={frames:$})}return x}function T(n,r){return{exception:{values:[g(n,r)]}}}function E(n,r){const a=r.stacktrace||r.stack||"",y=h(r),R=f(r);try{return n(a,y,R)}catch(A){}return[]}const _=/Minified React error #\d+;/i;function h(n){return n&&_.test(n.message)?1:0}function f(n){return typeof n.framesToPop=="number"?n.framesToPop:0}function I(n){const r=n&&n.message;return r?r.error&&typeof r.error.message=="string"?r.error.message:r:"No error message"}function b(n,r,a,y){const R=a&&a.syntheticException||void 0,A=d(n,r,R,y);return l.addExceptionMechanism(A),A.level="error",a&&a.event_id&&(A.event_id=a.event_id),l.resolvedSyncPromise(A)}function S(n,r,a="info",y,R){const A=y&&y.syntheticException||void 0,w=p(n,r,A,R);return w.level=a,y&&y.event_id&&(w.event_id=y.event_id),l.resolvedSyncPromise(w)}function d(n,r,a,y,R){let A;if(l.isErrorEvent(r)&&r.error)return T(n,r.error);if(l.isDOMError(r)||l.isDOMException(r)){const w=r;if("stack"in r)A=T(n,r);else{const P=w.name||(l.isDOMError(w)?"DOMError":"DOMException"),x=w.message?`${P}: ${w.message}`:P;A=p(n,x,a,y),l.addExceptionTypeValue(A,x)}return"code"in w&&(A.tags=Ie(H({},A.tags),{"DOMException.code":`${w.code}`})),A}return l.isError(r)?T(n,r):l.isPlainObject(r)||l.isEvent(r)?(A=v(n,r,a,R),l.addExceptionMechanism(A,{synthetic:!0}),A):(A=p(n,r,a,y),l.addExceptionTypeValue(A,`${r}`,void 0),l.addExceptionMechanism(A,{synthetic:!0}),A)}function p(n,r,a,y){const R={};if(y&&a){const A=E(n,a);A.length&&(R.exception={values:[{value:r,stacktrace:{frames:A}}]})}if(l.isParameterizedString(r)){const{__sentry_template_string__:A,__sentry_template_values__:w}=r;return R.logentry={message:A,params:w},R}return R.message=r,R}function u(n,{isUnhandledRejection:r}){const a=l.extractExceptionKeysForMessage(n),y=r?"promise rejection":"exception";return l.isErrorEvent(n)?`Event \`ErrorEvent\` captured as ${y} with message \`${n.message}\``:l.isEvent(n)?`Event \`${C(n)}\` (type=${n.type}) captured as ${y}`:`Object captured as ${y} with keys: ${a}`}function C(n){try{const r=Object.getPrototypeOf(n);return r?r.constructor.name:void 0}catch(r){}}function m(n){for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const a=n[r];if(a instanceof Error)return a}}e.eventFromException=b,e.eventFromMessage=S,e.eventFromUnknownInput=d,e.exceptionFromError=g},26057:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(88723),l=o(59846),g=i.buildFeedbackIntegration({lazyLoadIntegration:l.lazyLoadIntegration});e.feedbackAsyncIntegration=g},27442:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(88723),l=o(59846),g=i.buildFeedbackIntegration({lazyLoadIntegration:l.lazyLoadIntegration,getModalIntegration:()=>i.feedbackModalIntegration,getScreenshotIntegration:()=>i.feedbackScreenshotIntegration});e.feedbackSyncIntegration=g},46229:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(17077),g=l.GLOBAL_OBJ;let v=0;function T(){return v>0}function E(){v++,setTimeout(()=>{v--})}function _(h,f={},I){if(typeof h!="function")return h;try{const S=h.__sentry_wrapped__;if(S)return S;if(l.getOriginalFunction(h))return h}catch(S){return h}const b=function(){const S=Array.prototype.slice.call(arguments);try{I&&typeof I=="function"&&I.apply(this,arguments);const d=S.map(p=>_(p,f));return h.apply(this,d)}catch(d){throw E(),i.withScope(p=>{p.addEventProcessor(u=>(f.mechanism&&(l.addExceptionTypeValue(u,void 0,void 0),l.addExceptionMechanism(u,f.mechanism)),u.extra=Ie(H({},u.extra),{arguments:S}),u)),i.captureException(d)}),d}};try{for(const S in h)Object.prototype.hasOwnProperty.call(h,S)&&(b[S]=h[S])}catch(S){}l.markFunctionWrapped(b,h),l.addNonEnumerableProperty(h,"__sentry_wrapped__",b);try{Object.getOwnPropertyDescriptor(b,"name").configurable&&Object.defineProperty(b,"name",{get(){return h.name}})}catch(S){}return b}e.WINDOW=g,e.ignoreNextOnError=E,e.shouldIgnoreOnError=T,e.wrap=_},66440:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(46229),g=o(71185),v=o(36267),T=o(67417),E=o(75921),_=o(63386),h=o(33944),f=o(53008),I=o(14458),b=o(6049),S=o(28950),d=o(67323),p=o(59846),u=o(39946),C=o(36383),m=o(47726),n=o(3667),r=o(4772),a=o(26057),y=o(27442),R=o(88723),A=o(92441),w=o(15756),P=o(69905),x=o(28712),$=o(4275);e.SDK_VERSION=i.SDK_VERSION,e.SEMANTIC_ATTRIBUTE_SENTRY_OP=i.SEMANTIC_ATTRIBUTE_SENTRY_OP,e.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,e.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=i.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,e.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=i.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,e.Scope=i.Scope,e.addBreadcrumb=i.addBreadcrumb,e.addEventProcessor=i.addEventProcessor,e.addIntegration=i.addIntegration,e.addTracingExtensions=i.addTracingExtensions,e.captureConsoleIntegration=i.captureConsoleIntegration,e.captureEvent=i.captureEvent,e.captureException=i.captureException,e.captureFeedback=i.captureFeedback,e.captureMessage=i.captureMessage,e.captureSession=i.captureSession,e.close=i.close,e.continueTrace=i.continueTrace,e.createTransport=i.createTransport,e.debugIntegration=i.debugIntegration,e.dedupeIntegration=i.dedupeIntegration,e.endSession=i.endSession,e.extraErrorDataIntegration=i.extraErrorDataIntegration,e.flush=i.flush,e.functionToStringIntegration=i.functionToStringIntegration,e.getActiveSpan=i.getActiveSpan,e.getClient=i.getClient,e.getCurrentHub=i.getCurrentHub,e.getCurrentScope=i.getCurrentScope,e.getGlobalScope=i.getGlobalScope,e.getIsolationScope=i.getIsolationScope,e.getRootSpan=i.getRootSpan,e.getSpanDescendants=i.getSpanDescendants,e.getSpanStatusFromHttpCode=i.getSpanStatusFromHttpCode,e.inboundFiltersIntegration=i.inboundFiltersIntegration,e.isInitialized=i.isInitialized,e.lastEventId=i.lastEventId,e.makeMultiplexedTransport=i.makeMultiplexedTransport,e.moduleMetadataIntegration=i.moduleMetadataIntegration,e.parameterize=i.parameterize,e.registerSpanErrorInstrumentation=i.registerSpanErrorInstrumentation,e.rewriteFramesIntegration=i.rewriteFramesIntegration,e.sessionTimingIntegration=i.sessionTimingIntegration,e.setContext=i.setContext,e.setCurrentClient=i.setCurrentClient,e.setExtra=i.setExtra,e.setExtras=i.setExtras,e.setHttpStatus=i.setHttpStatus,e.setMeasurement=i.setMeasurement,e.setTag=i.setTag,e.setTags=i.setTags,e.setUser=i.setUser,e.spanToBaggageHeader=i.spanToBaggageHeader,e.spanToJSON=i.spanToJSON,e.spanToTraceHeader=i.spanToTraceHeader,e.startInactiveSpan=i.startInactiveSpan,e.startNewTrace=i.startNewTrace,e.startSession=i.startSession,e.startSpan=i.startSpan,e.startSpanManual=i.startSpanManual,e.withActiveSpan=i.withActiveSpan,e.withIsolationScope=i.withIsolationScope,e.withScope=i.withScope,e.zodErrorsIntegration=i.zodErrorsIntegration,e.WINDOW=l.WINDOW,e.BrowserClient=g.BrowserClient,e.makeFetchTransport=v.makeFetchTransport,e.chromeStackLineParser=T.chromeStackLineParser,e.defaultStackLineParsers=T.defaultStackLineParsers,e.defaultStackParser=T.defaultStackParser,e.geckoStackLineParser=T.geckoStackLineParser,e.opera10StackLineParser=T.opera10StackLineParser,e.opera11StackLineParser=T.opera11StackLineParser,e.winjsStackLineParser=T.winjsStackLineParser,e.eventFromException=E.eventFromException,e.eventFromMessage=E.eventFromMessage,e.exceptionFromError=E.exceptionFromError,e.createUserFeedbackEnvelope=_.createUserFeedbackEnvelope,e.captureUserFeedback=h.captureUserFeedback,e.forceLoad=h.forceLoad,e.getDefaultIntegrations=h.getDefaultIntegrations,e.init=h.init,e.onLoad=h.onLoad,e.showReportDialog=h.showReportDialog,e.breadcrumbsIntegration=f.breadcrumbsIntegration,e.globalHandlersIntegration=I.globalHandlersIntegration,e.httpContextIntegration=b.httpContextIntegration,e.linkedErrorsIntegration=S.linkedErrorsIntegration,e.browserApiErrorsIntegration=d.browserApiErrorsIntegration,e.lazyLoadIntegration=p.lazyLoadIntegration,e.reportingObserverIntegration=u.reportingObserverIntegration,e.httpClientIntegration=C.httpClientIntegration,e.contextLinesIntegration=m.contextLinesIntegration,e.getReplay=n.getReplay,e.replayIntegration=n.replayIntegration,e.replayCanvasIntegration=r.replayCanvasIntegration,e.feedbackAsyncIntegration=a.feedbackAsyncIntegration,e.feedbackIntegration=y.feedbackSyncIntegration,e.feedbackSyncIntegration=y.feedbackSyncIntegration,e.getFeedback=R.getFeedback,e.sendFeedback=R.sendFeedback,e.metrics=A.metrics,e.defaultRequestInstrumentationOptions=w.defaultRequestInstrumentationOptions,e.instrumentOutgoingRequests=w.instrumentOutgoingRequests,e.browserTracingIntegration=P.browserTracingIntegration,e.startBrowserTracingNavigationSpan=P.startBrowserTracingNavigationSpan,e.startBrowserTracingPageLoadSpan=P.startBrowserTracingPageLoadSpan,e.makeBrowserOfflineTransport=x.makeBrowserOfflineTransport,e.browserProfilingIntegration=$.browserProfilingIntegration},53008:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(82138),l=o(95617),g=o(17077),v=o(93894),T=o(46229),E=1024,_="Breadcrumbs",h=(m={})=>{const n=H({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},m);return{name:_,setup(r){n.console&&g.addConsoleInstrumentationHandler(S(r)),n.dom&&i.addClickKeypressInstrumentationHandler(b(r,n.dom)),n.xhr&&i.addXhrInstrumentationHandler(d(r)),n.fetch&&g.addFetchInstrumentationHandler(p(r)),n.history&&i.addHistoryInstrumentationHandler(u(r)),n.sentry&&r.on("beforeSendEvent",I(r))}}},f=l.defineIntegration(h);function I(m){return function(r){l.getClient()===m&&l.addBreadcrumb({category:`sentry.${r.type==="transaction"?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:g.getEventDescription(r)},{event:r})}}function b(m,n){return function(a){if(l.getClient()!==m)return;let y,R,A=typeof n=="object"?n.serializeAttribute:void 0,w=typeof n=="object"&&typeof n.maxStringLength=="number"?n.maxStringLength:void 0;w&&w>E&&(v.DEBUG_BUILD&&g.logger.warn(`\`dom.maxStringLength\` cannot exceed ${E}, but a value of ${w} was configured. Sentry will use ${E} instead.`),w=E),typeof A=="string"&&(A=[A]);try{const x=a.event,$=C(x)?x.target:x;y=g.htmlTreeAsString($,{keyAttrs:A,maxStringLength:w}),R=g.getComponentName($)}catch(x){y="<unknown>"}if(y.length===0)return;const P={category:`ui.${a.name}`,message:y};R&&(P.data={"ui.component_name":R}),l.addBreadcrumb(P,{event:a.event,name:a.name,global:a.global})}}function S(m){return function(r){if(l.getClient()!==m)return;const a={category:"console",data:{arguments:r.args,logger:"console"},level:g.severityLevelFromString(r.level),message:g.safeJoin(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)a.message=`Assertion failed: ${g.safeJoin(r.args.slice(1)," ")||"console.assert"}`,a.data.arguments=r.args.slice(1);else return;l.addBreadcrumb(a,{input:r.args,level:r.level})}}function d(m){return function(r){if(l.getClient()!==m)return;const{startTimestamp:a,endTimestamp:y}=r,R=r.xhr[i.SENTRY_XHR_DATA_KEY];if(!a||!y||!R)return;const{method:A,url:w,status_code:P,body:x}=R,$={method:A,url:w,status_code:P},K={xhr:r.xhr,input:x,startTimestamp:a,endTimestamp:y};l.addBreadcrumb({category:"xhr",data:$,type:"http"},K)}}function p(m){return function(r){if(l.getClient()!==m)return;const{startTimestamp:a,endTimestamp:y}=r;if(y&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.error){const R=r.fetchData,A={data:r.error,input:r.args,startTimestamp:a,endTimestamp:y};l.addBreadcrumb({category:"fetch",data:R,level:"error",type:"http"},A)}else{const R=r.response,A=Ie(H({},r.fetchData),{status_code:R&&R.status}),w={input:r.args,response:R,startTimestamp:a,endTimestamp:y};l.addBreadcrumb({category:"fetch",data:A,type:"http"},w)}}}function u(m){return function(r){if(l.getClient()!==m)return;let a=r.from,y=r.to;const R=g.parseUrl(T.WINDOW.location.href);let A=a?g.parseUrl(a):void 0;const w=g.parseUrl(y);(!A||!A.path)&&(A=R),R.protocol===w.protocol&&R.host===w.host&&(y=w.relative),R.protocol===A.protocol&&R.host===A.host&&(a=A.relative),l.addBreadcrumb({category:"navigation",data:{from:a,to:y}})}}function C(m){return!!m&&!!m.target}e.breadcrumbsIntegration=f},67323:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(17077),g=o(46229),v=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],T="BrowserApiErrors",E=(S={})=>{const d=H({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},S);return{name:T,setupOnce(){d.setTimeout&&l.fill(g.WINDOW,"setTimeout",h),d.setInterval&&l.fill(g.WINDOW,"setInterval",h),d.requestAnimationFrame&&l.fill(g.WINDOW,"requestAnimationFrame",f),d.XMLHttpRequest&&"XMLHttpRequest"in g.WINDOW&&l.fill(XMLHttpRequest.prototype,"send",I);const p=d.eventTarget;p&&(Array.isArray(p)?p:v).forEach(b)}}},_=i.defineIntegration(E);function h(S){return function(...d){const p=d[0];return d[0]=g.wrap(p,{mechanism:{data:{function:l.getFunctionName(S)},handled:!1,type:"instrument"}}),S.apply(this,d)}}function f(S){return function(d){return S.apply(this,[g.wrap(d,{mechanism:{data:{function:"requestAnimationFrame",handler:l.getFunctionName(S)},handled:!1,type:"instrument"}})])}}function I(S){return function(...d){const p=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(C=>{C in p&&typeof p[C]=="function"&&l.fill(p,C,function(m){const n={mechanism:{data:{function:C,handler:l.getFunctionName(m)},handled:!1,type:"instrument"}},r=l.getOriginalFunction(m);return r&&(n.mechanism.data.handler=l.getFunctionName(r)),g.wrap(m,n)})}),S.apply(this,d)}}function b(S){const d=g.WINDOW,p=d[S]&&d[S].prototype;!p||!p.hasOwnProperty||!p.hasOwnProperty("addEventListener")||(l.fill(p,"addEventListener",function(u){return function(C,m,n){try{typeof m.handleEvent=="function"&&(m.handleEvent=g.wrap(m.handleEvent,{mechanism:{data:{function:"handleEvent",handler:l.getFunctionName(m),target:S},handled:!1,type:"instrument"}}))}catch(r){}return u.apply(this,[C,g.wrap(m,{mechanism:{data:{function:"addEventListener",handler:l.getFunctionName(m),target:S},handled:!1,type:"instrument"}}),n])}}),l.fill(p,"removeEventListener",function(u){return function(C,m,n){const r=m;try{const a=r&&r.__sentry_wrapped__;a&&u.call(this,C,a,n)}catch(a){}return u.call(this,C,r,n)}}))}e.browserApiErrorsIntegration=_},47726:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(17077),g=l.GLOBAL_OBJ,v=7,T="ContextLines",E=(I={})=>{const b=I.frameContextLines!=null?I.frameContextLines:v;return{name:T,processEvent(S){return h(S,b)}}},_=i.defineIntegration(E);function h(I,b){const S=g.document,d=g.location&&l.stripUrlQueryAndFragment(g.location.href);if(!S||!d)return I;const p=I.exception&&I.exception.values;if(!p||!p.length)return I;const u=S.documentElement.innerHTML;if(!u)return I;const C=["<!DOCTYPE html>","<html>",...u.split(`
`),"</html>"];return p.forEach(m=>{const n=m.stacktrace;n&&n.frames&&(n.frames=n.frames.map(r=>f(r,C,d,b)))}),I}function f(I,b,S,d){return I.filename!==S||!I.lineno||!b.length||l.addContextToFrame(b,I,d),I}e.applySourceContextToFrame=f,e.contextLinesIntegration=_},14458:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(17077),g=o(93894),v=o(75921),T=o(46229),E="GlobalHandlers",_=(C={})=>{const m=H({onerror:!0,onunhandledrejection:!0},C);return{name:E,setupOnce(){Error.stackTraceLimit=50},setup(n){m.onerror&&(f(n),p("onerror")),m.onunhandledrejection&&(I(n),p("onunhandledrejection"))}}},h=i.defineIntegration(_);function f(C){l.addGlobalErrorInstrumentationHandler(m=>{const{stackParser:n,attachStacktrace:r}=u();if(i.getClient()!==C||T.shouldIgnoreOnError())return;const{msg:a,url:y,line:R,column:A,error:w}=m,P=d(v.eventFromUnknownInput(n,w||a,void 0,r,!1),y,R,A);P.level="error",i.captureEvent(P,{originalException:w,mechanism:{handled:!1,type:"onerror"}})})}function I(C){l.addGlobalUnhandledRejectionInstrumentationHandler(m=>{const{stackParser:n,attachStacktrace:r}=u();if(i.getClient()!==C||T.shouldIgnoreOnError())return;const a=b(m),y=l.isPrimitive(a)?S(a):v.eventFromUnknownInput(n,a,void 0,r,!0);y.level="error",i.captureEvent(y,{originalException:a,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function b(C){if(l.isPrimitive(C))return C;try{if("reason"in C)return C.reason;if("detail"in C&&"reason"in C.detail)return C.detail.reason}catch(m){}return C}function S(C){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(C)}`}]}}}function d(C,m,n,r){const a=C.exception=C.exception||{},y=a.values=a.values||[],R=y[0]=y[0]||{},A=R.stacktrace=R.stacktrace||{},w=A.frames=A.frames||[],P=isNaN(parseInt(r,10))?void 0:r,x=isNaN(parseInt(n,10))?void 0:n,$=l.isString(m)&&m.length>0?m:l.getLocationHref();return w.length===0&&w.push({colno:P,filename:$,function:l.UNKNOWN_FUNCTION,in_app:!0,lineno:x}),C}function p(C){g.DEBUG_BUILD&&l.logger.log(`Global Handler attached: ${C}`)}function u(){const C=i.getClient();return C&&C.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}e.globalHandlersIntegration=h},36383:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(82138),l=o(95617),g=o(17077),v=o(93894),T="HttpClient",E=(R={})=>{const A=H({failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/]},R);return{name:T,setup(w){C(w,A),m(w,A)}}},_=l.defineIntegration(E);function h(R,A,w,P){if(n(R,w.status,w.url)){const x=a(A,P);let $,K,U,ee;y()&&([{headers:$,cookies:U},{headers:K,cookies:ee}]=[{cookieHeader:"Cookie",obj:x},{cookieHeader:"Set-Cookie",obj:w}].map(({cookieHeader:B,obj:z})=>{const te=S(z.headers);let ue;try{const fe=te[B]||te[B.toLowerCase()]||void 0;fe&&(ue=b(fe))}catch(fe){v.DEBUG_BUILD&&g.logger.log(`Could not extract cookies from header ${B}`)}return{headers:te,cookies:ue}}));const Y=r({url:x.url,method:x.method,status:w.status,requestHeaders:$,responseHeaders:K,requestCookies:U,responseCookies:ee});l.captureEvent(Y)}}function f(R,A,w,P){if(n(R,A.status,A.responseURL)){let x,$,K;if(y()){try{const ee=A.getResponseHeader("Set-Cookie")||A.getResponseHeader("set-cookie")||void 0;ee&&($=b(ee))}catch(ee){v.DEBUG_BUILD&&g.logger.log("Could not extract cookies from response headers")}try{K=d(A)}catch(ee){v.DEBUG_BUILD&&g.logger.log("Could not extract headers from response")}x=P}const U=r({url:A.responseURL,method:w,status:A.status,requestHeaders:x,responseHeaders:K,responseCookies:$});l.captureEvent(U)}}function I(R){if(R){const A=R["Content-Length"]||R["content-length"];if(A)return parseInt(A,10)}}function b(R){return R.split("; ").reduce((A,w)=>{const[P,x]=w.split("=");return A[P]=x,A},{})}function S(R){const A={};return R.forEach((w,P)=>{A[P]=w}),A}function d(R){const A=R.getAllResponseHeaders();return A?A.split(`\r
`).reduce((w,P)=>{const[x,$]=P.split(": ");return w[x]=$,w},{}):{}}function p(R,A){return R.some(w=>typeof w=="string"?A.includes(w):w.test(A))}function u(R,A){return R.some(w=>typeof w=="number"?w===A:A>=w[0]&&A<=w[1])}function C(R,A){g.supportsNativeFetch()&&g.addFetchInstrumentationHandler(w=>{if(l.getClient()!==R)return;const{response:P,args:x}=w,[$,K]=x;P&&h(A,$,P,K)})}function m(R,A){"XMLHttpRequest"in g.GLOBAL_OBJ&&i.addXhrInstrumentationHandler(w=>{if(l.getClient()!==R)return;const P=w.xhr,x=P[i.SENTRY_XHR_DATA_KEY];if(!x)return;const{method:$,request_headers:K}=x;try{f(A,P,$,K)}catch(U){v.DEBUG_BUILD&&g.logger.warn("Error while extracting response event form XHR response",U)}})}function n(R,A,w){return u(R.failedRequestStatusCodes,A)&&p(R.failedRequestTargets,w)&&!l.isSentryRequestUrl(w,l.getClient())}function r(R){const A=`HTTP Client Error with status code: ${R.status}`,w={message:A,exception:{values:[{type:"Error",value:A}]},request:{url:R.url,method:R.method,headers:R.requestHeaders,cookies:R.requestCookies},contexts:{response:{status_code:R.status,headers:R.responseHeaders,cookies:R.responseCookies,body_size:I(R.responseHeaders)}}};return g.addExceptionMechanism(w,{type:"http.client",handled:!1}),w}function a(R,A){return!A&&R instanceof Request||R instanceof Request&&R.bodyUsed?R:new Request(R,A)}function y(){const R=l.getClient();return R?!!R.getOptions().sendDefaultPii:!1}e.httpClientIntegration=_},6049:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(46229),g=i.defineIntegration(()=>({name:"HttpContext",preprocessEvent(v){if(!l.WINDOW.navigator&&!l.WINDOW.location&&!l.WINDOW.document)return;const T=v.request&&v.request.url||l.WINDOW.location&&l.WINDOW.location.href,{referrer:E}=l.WINDOW.document||{},{userAgent:_}=l.WINDOW.navigator||{},h=H(H(H({},v.request&&v.request.headers),E&&{Referer:E}),_&&{"User-Agent":_}),f=Ie(H(H({},v.request),T&&{url:T}),{headers:h});v.request=f}}));e.httpContextIntegration=g},28950:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(17077),g=o(75921),v="cause",T=5,E="LinkedErrors",_=(f={})=>{const I=f.limit||T,b=f.key||v;return{name:E,preprocessEvent(S,d,p){const u=p.getOptions();l.applyAggregateErrorsToEvent(g.exceptionFromError,u.stackParser,u.maxValueLength,b,I,S,d)}}},h=i.defineIntegration(_);e.linkedErrorsIntegration=h},39946:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(17077),g=l.GLOBAL_OBJ,v="ReportingObserver",T=new WeakMap,E=(h={})=>{const f=h.types||["crash","deprecation","intervention"];function I(b){if(T.has(i.getClient()))for(const S of b)i.withScope(d=>{d.setExtra("url",S.url);const p=`ReportingObserver [${S.type}]`;let u="No details available";if(S.body){const C={};for(const m in S.body)C[m]=S.body[m];if(d.setExtra("body",C),S.type==="crash"){const m=S.body;u=[m.crashId||"",m.reason||""].join(" ").trim()||u}else u=S.body.message||u}i.captureMessage(`${p}: ${u}`)})}return{name:v,setupOnce(){if(!l.supportsReportingObserver())return;new g.ReportingObserver(I,{buffered:!0,types:f}).observe()},setup(b){T.set(b,!0)}}},_=i.defineIntegration(E);e.reportingObserverIntegration=_},92441:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617);function l(h,f=1,I){i.metrics.increment(i.BrowserMetricsAggregator,h,f,I)}function g(h,f,I){i.metrics.distribution(i.BrowserMetricsAggregator,h,f,I)}function v(h,f,I){i.metrics.set(i.BrowserMetricsAggregator,h,f,I)}function T(h,f,I){i.metrics.gauge(i.BrowserMetricsAggregator,h,f,I)}function E(h,f,I="second",b){return i.metrics.timing(i.BrowserMetricsAggregator,h,f,I,b)}const _={increment:l,distribution:g,set:v,gauge:T,timing:E};e.metrics=_},4275:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(17077),g=o(93894),v=o(5245),T=o(12676),E="BrowserProfiling",_=()=>({name:E,setup(f){const I=i.getActiveSpan(),b=I&&i.getRootSpan(I);b&&T.isAutomatedPageLoadSpan(b)&&T.shouldProfileSpan(b)&&v.startProfileForSpan(b),f.on("spanStart",S=>{S===i.getRootSpan(S)&&T.shouldProfileSpan(S)&&v.startProfileForSpan(S)}),f.on("beforeEnvelope",S=>{if(!T.getActiveProfilesCount())return;const d=T.findProfiledTransactionsFromEnvelope(S);if(!d.length)return;const p=[];for(const u of d){const C=u&&u.contexts,m=C&&C.profile&&C.profile.profile_id,n=C&&C.profile&&C.profile.start_timestamp;if(typeof m!="string"){g.DEBUG_BUILD&&l.logger.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!m){g.DEBUG_BUILD&&l.logger.log("[Profiling] cannot find profile for a span without a profile context");continue}C&&C.profile&&delete C.profile;const r=T.takeProfileFromGlobalCache(m);if(!r){g.DEBUG_BUILD&&l.logger.log(`[Profiling] Could not retrieve profile for span: ${m}`);continue}const a=T.createProfilingEvent(m,n,r,u);a&&p.push(a)}T.addProfilesToEnvelope(S,p)})}}),h=i.defineIntegration(_);e.browserProfilingIntegration=h},5245:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(17077),g=o(93894),v=o(46229),T=o(12676);function E(_){let h;T.isAutomatedPageLoadSpan(_)&&(h=l.timestampInSeconds()*1e3);const f=T.startJSSelfProfile();if(!f)return;g.DEBUG_BUILD&&l.logger.log(`[Profiling] started profiling span: ${i.spanToJSON(_).description}`);const I=l.uuid4();i.getCurrentScope().setContext("profile",{profile_id:I,start_timestamp:h});function b(){return Oe(this,null,function*(){if(_&&f)return f.stop().then(u=>{if(S&&(v.WINDOW.clearTimeout(S),S=void 0),g.DEBUG_BUILD&&l.logger.log(`[Profiling] stopped profiling of span: ${i.spanToJSON(_).description}`),!u){g.DEBUG_BUILD&&l.logger.log(`[Profiling] profiler returned null profile for: ${i.spanToJSON(_).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}T.addProfileToGlobalCache(I,u)}).catch(u=>{g.DEBUG_BUILD&&l.logger.log("[Profiling] error while stopping profiler:",u)})})}let S=v.WINDOW.setTimeout(()=>{g.DEBUG_BUILD&&l.logger.log("[Profiling] max profile duration elapsed, stopping profiling for:",i.spanToJSON(_).description),b()},T.MAX_PROFILE_DURATION_MS);const d=_.end.bind(_);function p(){return _?(b().then(()=>{d()},()=>{d()}),_):d()}_.end=p}e.startProfileForSpan=E},12676:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(17077),g=o(93894),v=o(46229),T=1e6,E=String(0),_="main";let h="",f="",I="",b=v.WINDOW.navigator&&v.WINDOW.navigator.userAgent||"",S="";const d=v.WINDOW.navigator&&v.WINDOW.navigator.language||v.WINDOW.navigator&&v.WINDOW.navigator.languages&&v.WINDOW.navigator.languages[0]||"";function p(q){return typeof q=="object"&&q!==null&&"getHighEntropyValues"in q}const u=v.WINDOW.navigator&&v.WINDOW.navigator.userAgentData;p(u)&&u.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(q=>{if(h=q.platform||"",I=q.architecture||"",S=q.model||"",f=q.platformVersion||"",q.fullVersionList&&q.fullVersionList.length>0){const le=q.fullVersionList[q.fullVersionList.length-1];b=`${le.brand} ${le.version}`}}).catch(q=>{});function C(q){return!("thread_metadata"in q)}function m(q){return C(q)?y(q):q}function n(q){const le=q&&q.contexts&&q.contexts.trace&&q.contexts.trace.trace_id;return typeof le=="string"&&le.length!==32&&g.DEBUG_BUILD&&l.logger.log(`[Profiling] Invalid traceId: ${le} on profiled event`),typeof le!="string"?"":le}function r(q,le,pe,Se){if(Se.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(pe==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${pe} instead.`);const Ae=n(Se),nt=m(pe),V=le||(typeof Se.start_timestamp=="number"?Se.start_timestamp*1e3:l.timestampInSeconds()*1e3),se=typeof Se.timestamp=="number"?Se.timestamp*1e3:l.timestampInSeconds()*1e3;return{event_id:q,timestamp:new Date(V).toISOString(),platform:"javascript",version:"1",release:Se.release||"",environment:Se.environment||i.DEFAULT_ENVIRONMENT,runtime:{name:"javascript",version:v.WINDOW.navigator.userAgent},os:{name:h,version:f,build_number:b},device:{locale:d,model:S,manufacturer:b,architecture:I,is_emulator:!1},debug_meta:{images:P(pe.resources)},profile:nt,transactions:[{name:Se.transaction||"",id:Se.event_id||l.uuid4(),trace_id:Ae,active_thread_id:E,relative_start_ns:"0",relative_end_ns:((se-V)*1e6).toFixed(0)}]}}function a(q){return i.spanToJSON(q).op==="pageload"}function y(q){let le,pe=0;const Se={samples:[],stacks:[],frames:[],thread_metadata:{[E]:{name:_}}};if(!q.samples.length)return Se;const Ae=q.samples[0].timestamp,nt=typeof performance.timeOrigin=="number"?performance.timeOrigin:l.browserPerformanceTimeOrigin||0,V=nt-(l.browserPerformanceTimeOrigin||nt);for(let se=0;se<q.samples.length;se++){const ne=q.samples[se];if(ne.stackId===void 0){le===void 0&&(le=pe,Se.stacks[le]=[],pe++),Se.samples[se]={elapsed_since_start_ns:((ne.timestamp+V-Ae)*T).toFixed(0),stack_id:le,thread_id:E};continue}let ie=q.stacks[ne.stackId];const de=[];for(;ie;){de.push(ie.frameId);const Le=q.frames[ie.frameId];Se.frames[ie.frameId]===void 0&&(Se.frames[ie.frameId]={function:Le.name,abs_path:typeof Le.resourceId=="number"?q.resources[Le.resourceId]:void 0,lineno:Le.line,colno:Le.column}),ie=ie.parentId===void 0?void 0:q.stacks[ie.parentId]}const ve={elapsed_since_start_ns:((ne.timestamp+V-Ae)*T).toFixed(0),stack_id:pe,thread_id:E};Se.stacks[pe]=de,Se.samples[se]=ve,pe++}return Se}function R(q,le){if(!le.length)return q;for(const pe of le)q[1].push([{type:"profile"},pe]);return q}function A(q){const le=[];return l.forEachEnvelopeItem(q,(pe,Se)=>{if(Se==="transaction")for(let Ae=1;Ae<pe.length;Ae++){const nt=pe[Ae];nt&&nt.contexts&&nt.contexts.profile&&nt.contexts.profile.profile_id&&le.push(pe[Ae])}}),le}const w=new WeakMap;function P(q){const le=l.GLOBAL_OBJ._sentryDebugIds;if(!le)return[];const pe=i.getClient(),Se=pe&&pe.getOptions(),Ae=Se&&Se.stackParser;if(!Ae)return[];let nt;const V=w.get(Ae);V?nt=V:(nt=new Map,w.set(Ae,nt));const se=Object.keys(le).reduce((ie,de)=>{let ve;const Le=nt.get(de);Le?ve=Le:(ve=Ae(de),nt.set(de,ve));for(let Ue=ve.length-1;Ue>=0;Ue--){const He=ve[Ue],Ve=He&&He.filename;if(He&&Ve){ie[Ve]=le[de];break}}return ie},{}),ne=[];for(const ie of q)ie&&se[ie]&&ne.push({type:"sourcemap",code_file:ie,debug_id:se[ie]});return ne}function x(q){return typeof q!="number"&&typeof q!="boolean"||typeof q=="number"&&isNaN(q)?(g.DEBUG_BUILD&&l.logger.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(q)} of type ${JSON.stringify(typeof q)}.`),!1):q===!0||q===!1?!0:q<0||q>1?(g.DEBUG_BUILD&&l.logger.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${q}.`),!1):!0}function $(q){return q.samples.length<2?(g.DEBUG_BUILD&&l.logger.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):q.frames.length?!0:(g.DEBUG_BUILD&&l.logger.log("[Profiling] Discarding profile because it contains no frames"),!1)}let K=!1;const U=3e4;function ee(q){return typeof q=="function"}function Y(){const q=v.WINDOW.Profiler;if(!ee(q)){g.DEBUG_BUILD&&l.logger.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const le=10,pe=Math.floor(U/le);try{return new q({sampleInterval:le,maxBufferSize:pe})}catch(Se){g.DEBUG_BUILD&&(l.logger.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),l.logger.log("[Profiling] Disabling profiling for current user session.")),K=!0}}function B(q){if(K)return g.DEBUG_BUILD&&l.logger.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!q.isRecording())return g.DEBUG_BUILD&&l.logger.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const le=i.getClient(),pe=le&&le.getOptions();if(!pe)return g.DEBUG_BUILD&&l.logger.log("[Profiling] Profiling disabled, no options found."),!1;const Se=pe.profilesSampleRate;return x(Se)?Se?(Se===!0?!0:Math.random()<Se)?!0:(g.DEBUG_BUILD&&l.logger.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(Se)})`),!1):(g.DEBUG_BUILD&&l.logger.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(g.DEBUG_BUILD&&l.logger.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function z(q,le,pe,Se){return $(pe)?r(q,le,pe,Se):null}const te=new Map;function ue(){return te.size}function fe(q){const le=te.get(q);return le&&te.delete(q),le}function he(q,le){if(te.set(q,le),te.size>30){const pe=te.keys().next().value;te.delete(pe)}}e.MAX_PROFILE_DURATION_MS=U,e.addProfileToGlobalCache=he,e.addProfilesToEnvelope=R,e.applyDebugMetadata=P,e.convertJSSelfProfileToSampledFormat=y,e.createProfilePayload=r,e.createProfilingEvent=z,e.enrichWithThreadInformation=m,e.findProfiledTransactionsFromEnvelope=A,e.getActiveProfilesCount=ue,e.isAutomatedPageLoadSpan=a,e.isValidSampleRate=x,e.shouldProfileSpan=B,e.startJSSelfProfile=Y,e.takeProfileFromGlobalCache=fe},33944:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(17077),g=o(82138),v=o(71185),T=o(93894),E=o(46229),_=o(53008),h=o(67323),f=o(14458),I=o(6049),b=o(28950),S=o(67417),d=o(36267);function p(A){return[i.inboundFiltersIntegration(),i.functionToStringIntegration(),h.browserApiErrorsIntegration(),_.breadcrumbsIntegration(),f.globalHandlersIntegration(),b.linkedErrorsIntegration(),i.dedupeIntegration(),I.httpContextIntegration()]}function u(A={}){const w={defaultIntegrations:p(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:E.WINDOW.SENTRY_RELEASE&&E.WINDOW.SENTRY_RELEASE.id?E.WINDOW.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return H(H({},w),A)}function C(){const A=E.WINDOW,w=A.chrome?"chrome":"browser",P=A[w],x=P&&P.runtime&&P.runtime.id,$=E.WINDOW.location&&E.WINDOW.location.href||"",K=["chrome-extension:","moz-extension:","ms-browser-extension:"],U=!!x&&E.WINDOW===E.WINDOW.top&&K.some(ee=>$.startsWith(`${ee}//`));return!!x&&!U}function m(A={}){const w=u(A);if(C()){l.consoleSandbox(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}T.DEBUG_BUILD&&(l.supportsFetch()||l.logger.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const P=Ie(H({},w),{stackParser:l.stackParserFromStackParserOptions(w.stackParser||S.defaultStackParser),integrations:i.getIntegrationsToSetup(w),transport:w.transport||d.makeFetchTransport});i.initAndBind(v.BrowserClient,P),w.autoSessionTracking&&y()}function n(A={}){if(!E.WINDOW.document){T.DEBUG_BUILD&&l.logger.error("Global document not defined in showReportDialog call");return}const w=i.getCurrentScope(),P=w.getClient(),x=P&&P.getDsn();if(!x){T.DEBUG_BUILD&&l.logger.error("DSN not configured for showReportDialog call");return}if(w&&(A.user=H(H({},w.getUser()),A.user)),!A.eventId){const ee=i.lastEventId();ee&&(A.eventId=ee)}const $=E.WINDOW.document.createElement("script");$.async=!0,$.crossOrigin="anonymous",$.src=i.getReportDialogEndpoint(x,A),A.onLoad&&($.onload=A.onLoad);const{onClose:K}=A;if(K){const ee=Y=>{if(Y.data==="__sentry_reportdialog_closed__")try{K()}finally{E.WINDOW.removeEventListener("message",ee)}};E.WINDOW.addEventListener("message",ee)}const U=E.WINDOW.document.head||E.WINDOW.document.body;U?U.appendChild($):T.DEBUG_BUILD&&l.logger.error("Not injecting report dialog. No injection point found in HTML")}function r(){}function a(A){A()}function y(){if(typeof E.WINDOW.document=="undefined"){T.DEBUG_BUILD&&l.logger.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}i.startSession({ignoreDuration:!0}),i.captureSession(),g.addHistoryInstrumentationHandler(({from:A,to:w})=>{A!==void 0&&A!==w&&(i.startSession({ignoreDuration:!0}),i.captureSession())})}function R(A){const w=i.getClient();w&&w.captureUserFeedback(A)}e.captureUserFeedback=R,e.forceLoad=r,e.getDefaultIntegrations=p,e.init=m,e.onLoad=a,e.showReportDialog=n},67417:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=10,g=20,v=30,T=40,E=50;function _(K,U,ee,Y){const B={filename:K,function:U==="<anonymous>"?i.UNKNOWN_FUNCTION:U,in_app:!0};return ee!==void 0&&(B.lineno=ee),Y!==void 0&&(B.colno=Y),B}const h=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,f=/\((\S*)(?::(\d+))(?::(\d+))\)/,b=[v,K=>{const U=h.exec(K);if(U){if(U[2]&&U[2].indexOf("eval")===0){const z=f.exec(U[2]);z&&(U[2]=z[1],U[3]=z[2],U[4]=z[3])}const[Y,B]=$(U[1]||i.UNKNOWN_FUNCTION,U[2]);return _(B,Y,U[3]?+U[3]:void 0,U[4]?+U[4]:void 0)}}],S=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,d=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=[E,K=>{const U=S.exec(K);if(U){if(U[3]&&U[3].indexOf(" > eval")>-1){const z=d.exec(U[3]);z&&(U[1]=U[1]||"eval",U[3]=z[1],U[4]=z[2],U[5]="")}let Y=U[3],B=U[1]||i.UNKNOWN_FUNCTION;return[B,Y]=$(B,Y),_(Y,B,U[4]?+U[4]:void 0,U[5]?+U[5]:void 0)}}],C=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,n=[T,K=>{const U=C.exec(K);return U?_(U[2],U[1]||i.UNKNOWN_FUNCTION,+U[3],U[4]?+U[4]:void 0):void 0}],r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,y=[l,K=>{const U=r.exec(K);return U?_(U[2],U[3]||i.UNKNOWN_FUNCTION,+U[1]):void 0}],R=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,w=[g,K=>{const U=R.exec(K);return U?_(U[5],U[3]||U[4]||i.UNKNOWN_FUNCTION,+U[1],+U[2]):void 0}],P=[b,u],x=i.createStackParser(...P),$=(K,U)=>{const ee=K.indexOf("safari-extension")!==-1,Y=K.indexOf("safari-web-extension")!==-1;return ee||Y?[K.indexOf("@")!==-1?K.split("@")[0]:i.UNKNOWN_FUNCTION,ee?`safari-extension:${U}`:`safari-web-extension:${U}`]:[K,U]};e.chromeStackLineParser=b,e.defaultStackLineParsers=P,e.defaultStackParser=x,e.geckoStackLineParser=u,e.opera10StackLineParser=y,e.opera11StackLineParser=w,e.winjsStackLineParser=n},70554:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(17077),g=o(93894),v=o(46229);function T(){v.WINDOW&&v.WINDOW.document?v.WINDOW.document.addEventListener("visibilitychange",()=>{const E=i.getActiveSpan();if(!E)return;const _=i.getRootSpan(E);if(v.WINDOW.document.hidden&&_){const h="cancelled",{op:f,status:I}=i.spanToJSON(_);g.DEBUG_BUILD&&l.logger.log(`[Tracing] Transaction: ${h} -> since tab moved to the background, op: ${f}`),I||_.setStatus({code:i.SPAN_STATUS_ERROR,message:h}),_.setAttribute("sentry.cancellation_reason","document.hidden"),_.end()}}):g.DEBUG_BUILD&&l.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}e.registerBackgroundTabDetection=T},69905:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(82138),l=o(95617),g=o(17077),v=o(93894),T=o(46229),E=o(70554),_=o(15756),h="BrowserTracing",f=H(Ie(H({},l.TRACING_DEFAULTS),{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!0,_experiments:{}}),_.defaultRequestInstrumentationOptions),I=(u={})=>{l.registerSpanErrorInstrumentation();const{enableInp:C,enableLongTask:m,_experiments:{enableInteractions:n},beforeStartSpan:r,idleTimeout:a,finalTimeout:y,childSpanTimeout:R,markBackgroundSpan:A,traceFetch:w,traceXHR:P,shouldCreateSpanForRequest:x,enableHTTPTimings:$,instrumentPageLoad:K,instrumentNavigation:U}=H(H({},f),u),ee=i.startTrackingWebVitals();C&&i.startTrackingINP(),m&&i.startTrackingLongTasks(),n&&i.startTrackingInteractions();const Y={name:void 0,source:void 0};function B(z,te){const ue=te.op==="pageload",fe=r?r(te):te,he=fe.attributes||{};te.name!==fe.name&&(he[l.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]="custom",fe.attributes=he),Y.name=fe.name,Y.source=he[l.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];const q=l.startIdleSpan(fe,{idleTimeout:a,finalTimeout:y,childSpanTimeout:R,disableAutoFinish:ue,beforeSpanEnd:pe=>{ee(),i.addPerformanceEntries(pe)}});function le(){["interactive","complete"].includes(T.WINDOW.document.readyState)&&z.emit("idleSpanEnableAutoFinish",q)}return ue&&T.WINDOW.document&&(T.WINDOW.document.addEventListener("readystatechange",()=>{le()}),le()),q}return{name:h,afterAllSetup(z){let te,ue=T.WINDOW.location&&T.WINDOW.location.href;z.on("startNavigationSpan",fe=>{l.getClient()===z&&(te&&(v.DEBUG_BUILD&&g.logger.log(`[Tracing] Finishing current root span with op: ${l.spanToJSON(te).op}`),te.end()),te=B(z,H({op:"navigation"},fe)))}),z.on("startPageLoadSpan",(fe,he={})=>{if(l.getClient()!==z)return;te&&(v.DEBUG_BUILD&&g.logger.log(`[Tracing] Finishing current root span with op: ${l.spanToJSON(te).op}`),te.end());const q=he.sentryTrace||d("sentry-trace"),le=he.baggage||d("baggage"),pe=g.propagationContextFromHeaders(q,le);l.getCurrentScope().setPropagationContext(pe),te=B(z,H({op:"pageload"},fe))}),z.on("spanEnd",fe=>{const he=l.spanToJSON(fe).op;if(fe!==l.getRootSpan(fe)||he!=="navigation"&&he!=="pageload")return;const q=l.getCurrentScope(),le=q.getPropagationContext();q.setPropagationContext(Ie(H({},le),{sampled:le.sampled!==void 0?le.sampled:l.spanIsSampled(fe),dsc:le.dsc||l.getDynamicSamplingContextFromSpan(fe)}))}),T.WINDOW.location&&(K&&b(z,{name:T.WINDOW.location.pathname,startTime:g.browserPerformanceTimeOrigin?g.browserPerformanceTimeOrigin/1e3:void 0,attributes:{[l.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url",[l.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.pageload.browser"}}),U&&i.addHistoryInstrumentationHandler(({to:fe,from:he})=>{if(he===void 0&&ue&&ue.indexOf(fe)!==-1){ue=void 0;return}he!==fe&&(ue=void 0,S(z,{name:T.WINDOW.location.pathname,attributes:{[l.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url",[l.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.navigation.browser"}}))})),A&&E.registerBackgroundTabDetection(),n&&p(a,y,R,Y),_.instrumentOutgoingRequests({traceFetch:w,traceXHR:P,tracePropagationTargets:z.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:x,enableHTTPTimings:$})}}};function b(u,C,m){u.emit("startPageLoadSpan",C,m),l.getCurrentScope().setTransactionName(C.name);const n=l.getActiveSpan();return(n&&l.spanToJSON(n).op)==="pageload"?n:void 0}function S(u,C){l.getIsolationScope().setPropagationContext(g.generatePropagationContext()),l.getCurrentScope().setPropagationContext(g.generatePropagationContext()),u.emit("startNavigationSpan",C),l.getCurrentScope().setTransactionName(C.name);const m=l.getActiveSpan();return(m&&l.spanToJSON(m).op)==="navigation"?m:void 0}function d(u){const C=g.getDomElement(`meta[name=${u}]`);return C?C.getAttribute("content"):void 0}function p(u,C,m,n){let r;const a=()=>{const y="ui.action.click",R=l.getActiveSpan(),A=R&&l.getRootSpan(R);if(A){const w=l.spanToJSON(A).op;if(["navigation","pageload"].includes(w)){v.DEBUG_BUILD&&g.logger.warn(`[Tracing] Did not create ${y} span because a pageload or navigation span is in progress.`);return}}if(r&&(r.setAttribute(l.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,"interactionInterrupted"),r.end(),r=void 0),!n.name){v.DEBUG_BUILD&&g.logger.warn(`[Tracing] Did not create ${y} transaction because _latestRouteName is missing.`);return}r=l.startIdleSpan({name:n.name,op:y,attributes:{[l.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:n.source||"url"}},{idleTimeout:u,finalTimeout:C,childSpanTimeout:m})};T.WINDOW.document&&addEventListener("click",a,{once:!1,capture:!0})}e.BROWSER_TRACING_INTEGRATION_ID=h,e.browserTracingIntegration=I,e.getMetaContent=d,e.startBrowserTracingNavigationSpan=S,e.startBrowserTracingPageLoadSpan=b},15756:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(82138),l=o(95617),g=o(17077),v=o(46229),T={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function E(m){const{traceFetch:n,traceXHR:r,shouldCreateSpanForRequest:a,enableHTTPTimings:y,tracePropagationTargets:R}=H({traceFetch:T.traceFetch,traceXHR:T.traceXHR},m),A=typeof a=="function"?a:x=>!0,w=x=>S(x,R),P={};n&&g.addFetchInstrumentationHandler(x=>{const $=l.instrumentFetchRequest(x,A,w,P);if($){const K=C(x.fetchData.url),U=K?g.parseUrl(K).host:void 0;$.setAttributes({"http.url":K,"server.address":U})}y&&$&&h($)}),r&&i.addXhrInstrumentationHandler(x=>{const $=d(x,A,w,P);y&&$&&h($)})}function _(m){return m.entryType==="resource"&&"initiatorType"in m&&typeof m.nextHopProtocol=="string"&&(m.initiatorType==="fetch"||m.initiatorType==="xmlhttprequest")}function h(m){const{url:n}=l.spanToJSON(m).data||{};if(!n||typeof n!="string")return;const r=i.addPerformanceInstrumentationHandler("resource",({entries:a})=>{a.forEach(y=>{_(y)&&y.name.endsWith(n)&&(b(y).forEach(A=>m.setAttribute(...A)),setTimeout(r))})})}function f(m){let n="unknown",r="unknown",a="";for(const y of m){if(y==="/"){[n,r]=m.split("/");break}if(!isNaN(Number(y))){n=a==="h"?"http":a,r=m.split(a)[1];break}a+=y}return a===m&&(n=a),{name:n,version:r}}function I(m=0){return((g.browserPerformanceTimeOrigin||performance.timeOrigin)+m)/1e3}function b(m){const{name:n,version:r}=f(m.nextHopProtocol),a=[];return a.push(["network.protocol.version",r],["network.protocol.name",n]),g.browserPerformanceTimeOrigin?[...a,["http.request.redirect_start",I(m.redirectStart)],["http.request.fetch_start",I(m.fetchStart)],["http.request.domain_lookup_start",I(m.domainLookupStart)],["http.request.domain_lookup_end",I(m.domainLookupEnd)],["http.request.connect_start",I(m.connectStart)],["http.request.secure_connection_start",I(m.secureConnectionStart)],["http.request.connection_end",I(m.connectEnd)],["http.request.request_start",I(m.requestStart)],["http.request.response_start",I(m.responseStart)],["http.request.response_end",I(m.responseEnd)]]:a}function S(m,n){const r=v.WINDOW.location&&v.WINDOW.location.href;if(r){let a,y;try{a=new URL(m,r),y=new URL(r).origin}catch(A){return!1}const R=a.origin===y;return n?g.stringMatchesSomePattern(a.toString(),n)||R&&g.stringMatchesSomePattern(a.pathname,n):R}else{const a=!!m.match(/^\/(?!\/)/);return n?g.stringMatchesSomePattern(m,n):a}}function d(m,n,r,a){const y=m.xhr,R=y&&y[i.SENTRY_XHR_DATA_KEY];if(!y||y.__sentry_own_request__||!R)return;const A=l.hasTracingEnabled()&&n(R.url);if(m.endTimestamp&&A){const U=y.__sentry_xhr_span_id__;if(!U)return;const ee=a[U];ee&&R.status_code!==void 0&&(l.setHttpStatus(ee,R.status_code),ee.end(),delete a[U]);return}const w=C(R.url),P=w?g.parseUrl(w).host:void 0,x=!!l.getActiveSpan(),$=A&&x?l.startInactiveSpan({name:`${R.method} ${R.url}`,attributes:{type:"xhr","http.method":R.method,"http.url":w,url:R.url,"server.address":P,[l.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser",[l.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client"}}):new l.SentryNonRecordingSpan;y.__sentry_xhr_span_id__=$.spanContext().spanId,a[y.__sentry_xhr_span_id__]=$;const K=l.getClient();return y.setRequestHeader&&r(R.url)&&K&&p(y,K,l.hasTracingEnabled()&&x?$:void 0),$}function p(m,n,r){const a=l.getCurrentScope(),y=l.getIsolationScope(),{traceId:R,spanId:A,sampled:w,dsc:P}=H(H({},y.getPropagationContext()),a.getPropagationContext()),x=r&&l.hasTracingEnabled()?l.spanToTraceHeader(r):g.generateSentryTraceHeader(R,A,w),$=g.dynamicSamplingContextToSentryBaggageHeader(P||(r?l.getDynamicSamplingContextFromSpan(r):l.getDynamicSamplingContextFromClient(R,n)));u(m,x,$)}function u(m,n,r){try{m.setRequestHeader("sentry-trace",n),r&&m.setRequestHeader(g.BAGGAGE_HEADER_NAME,r)}catch(a){}}function C(m){try{return new URL(m,v.WINDOW.location.origin).href}catch(n){return}}e.defaultRequestInstrumentationOptions=T,e.extractNetworkProtocol=f,e.instrumentOutgoingRequests=E,e.shouldAttachHeaders=S,e.xhrCallback=d},36267:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(82138),l=o(95617),g=o(17077);function v(T,E=i.getNativeImplementation("fetch")){let _=0,h=0;function f(I){const b=I.body.length;_+=b,h++;const S=H({body:I.body,method:"POST",referrerPolicy:"origin",headers:T.headers,keepalive:_<=6e4&&h<15},T.fetchOptions);if(!E)return i.clearCachedImplementation("fetch"),g.rejectedSyncPromise("No fetch implementation available");try{return E(T.url,S).then(d=>(_-=b,h--,{statusCode:d.status,headers:{"x-sentry-rate-limits":d.headers.get("X-Sentry-Rate-Limits"),"retry-after":d.headers.get("Retry-After")}}))}catch(d){return i.clearCachedImplementation("fetch"),_-=b,h--,g.rejectedSyncPromise(d)}}return l.createTransport(T,f)}e.makeFetchTransport=v},28712:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(17077),g=o(36267);function v(d){return new Promise((p,u)=>{d.oncomplete=d.onsuccess=()=>p(d.result),d.onabort=d.onerror=()=>u(d.error)})}function T(d,p){const u=indexedDB.open(d);u.onupgradeneeded=()=>u.result.createObjectStore(p);const C=v(u);return m=>C.then(n=>m(n.transaction(p,"readwrite").objectStore(p)))}function E(d){return v(d.getAllKeys())}function _(d,p,u){return d(C=>E(C).then(m=>{if(!(m.length>=u))return C.put(p,Math.max(...m,0)+1),v(C.transaction)}))}function h(d,p,u){return d(C=>E(C).then(m=>{if(!(m.length>=u))return C.put(p,Math.min(...m,0)-1),v(C.transaction)}))}function f(d){return d(p=>E(p).then(u=>{if(u.length!==0)return v(p.get(u[0])).then(C=>(p.delete(u[0]),v(p.transaction).then(()=>C)))}))}function I(d){let p;function u(){return p==null&&(p=T(d.dbName||"sentry-offline",d.storeName||"queue")),p}return{push:C=>Oe(this,null,function*(){try{const m=yield l.serializeEnvelope(C);yield _(u(),m,d.maxQueueSize||30)}catch(m){}}),unshift:C=>Oe(this,null,function*(){try{const m=yield l.serializeEnvelope(C);yield h(u(),m,d.maxQueueSize||30)}catch(m){}}),shift:()=>Oe(this,null,function*(){try{const C=yield f(u());if(C)return l.parseEnvelope(C)}catch(C){}})}}function b(d){return p=>d(Ie(H({},p),{createStore:I}))}function S(d=g.makeFetchTransport){return b(i.makeOfflineTransport(d))}e.createStore=T,e.makeBrowserOfflineTransport=S,e.push=_,e.shift=f,e.unshift=h},63386:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077);function l(v,{metadata:T,tunnel:E,dsn:_}){const h=H(H({event_id:v.event_id,sent_at:new Date().toISOString()},T&&T.sdk&&{sdk:{name:T.sdk.name,version:T.sdk.version}}),!!E&&!!_&&{dsn:i.dsnToString(_)}),f=g(v);return i.createEnvelope(h,[f])}function g(v){return[{type:"user_report"},v]}e.createUserFeedbackEnvelope=l},59846:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),l=o(46229),g={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",debugIntegration:"debug",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",sessionTimingIntegration:"sessiontiming",browserProfilingIntegration:"browserprofiling"},v=l.WINDOW;function T(_){return Oe(this,null,function*(){const h=g[_],f=v.Sentry=v.Sentry||{};if(!h)throw new Error(`Cannot lazy load integration: ${_}`);const I=f[_];if(typeof I=="function")return I;const b=E(h),S=l.WINDOW.document.createElement("script");S.src=b,S.crossOrigin="anonymous";const d=new Promise((u,C)=>{S.addEventListener("load",()=>u()),S.addEventListener("error",C)});l.WINDOW.document.body.appendChild(S);try{yield d}catch(u){throw new Error(`Error when loading integration: ${_}`)}const p=f[_];if(typeof p!="function")throw new Error(`Could not load integration: ${_}`);return p})}function E(_){const h=i.getClient(),f=h&&h.getOptions(),I=f&&f.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${i.SDK_VERSION}/${_}.min.js`,I).toString()}e.lazyLoadIntegration=T},41385:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l="7";function g(h){const f=h.protocol?`${h.protocol}:`:"",I=h.port?`:${h.port}`:"";return`${f}//${h.host}${I}${h.path?`/${h.path}`:""}/api/`}function v(h){return`${g(h)}${h.projectId}/envelope/`}function T(h,f){return i.urlEncode(H({sentry_key:h.publicKey,sentry_version:l},f&&{sentry_client:`${f.name}/${f.version}`}))}function E(h,f,I){return f||`${v(h)}?${T(h,I)}`}function _(h,f){const I=i.makeDsn(h);if(!I)return"";const b=`${g(I)}embed/error-page/`;let S=`dsn=${i.dsnToString(I)}`;for(const d in f)if(d!=="dsn"&&d!=="onClose")if(d==="user"){const p=f.user;if(!p)continue;p.name&&(S+=`&name=${encodeURIComponent(p.name)}`),p.email&&(S+=`&email=${encodeURIComponent(p.email)}`)}else S+=`&${encodeURIComponent(d)}=${encodeURIComponent(f[d])}`;return`${b}?${S}`}e.getEnvelopeEndpointWithUrlEncodedAuth=E,e.getReportDialogEndpoint=_},82473:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(99909),l=o(74760);function g(T){const E=i.getMainCarrier(),_=i.getSentryCarrier(E);_.acs=T}function v(T){const E=i.getSentryCarrier(T);return E.acs?E.acs:l.getStackAsyncContextStrategy()}e.getAsyncContextStrategy=v,e.setAsyncContextStrategy=g},74760:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(56485),g=o(25),v=o(99909);class T{constructor(S,d){let p;S?p=S:p=new g.Scope;let u;d?u=d:u=new g.Scope,this._stack=[{scope:p}],this._isolationScope=u}withScope(S){const d=this._pushScope();let p;try{p=S(d)}catch(u){throw this._popScope(),u}return i.isThenable(p)?p.then(u=>(this._popScope(),u),u=>{throw this._popScope(),u}):(this._popScope(),p)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const S=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:S}),S}_popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}}function E(){const b=v.getMainCarrier(),S=v.getSentryCarrier(b);return S.stack=S.stack||new T(l.getDefaultCurrentScope(),l.getDefaultIsolationScope())}function _(b){return E().withScope(b)}function h(b,S){const d=E();return d.withScope(()=>(d.getStackTop().scope=b,S(b)))}function f(b){return E().withScope(()=>b(E().getIsolationScope()))}function I(){return{withIsolationScope:f,withScope:_,withSetScope:h,withSetIsolationScope:(b,S)=>f(S),getCurrentScope:()=>E().getScope(),getIsolationScope:()=>E().getIsolationScope()}}e.AsyncContextStack=T,e.getStackAsyncContextStrategy=I},4343:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(41385),g=o(28625),v=o(76335),T=o(11757),E=o(58219),_=o(45681),h=o(93729),f=o(2564),I=o(19730),b="Not capturing exception because it's already been captured.";class S{constructor(n){if(this._options=n,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],n.dsn?this._dsn=i.makeDsn(n.dsn):v.DEBUG_BUILD&&i.logger.warn("No DSN provided, client will not send events."),this._dsn){const r=l.getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,n.tunnel,n._metadata?n._metadata.sdk:void 0);this._transport=n.transport(Ie(H({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},n.transportOptions),{url:r}))}}captureException(n,r,a){const y=i.uuid4();if(i.checkOrSetAlreadyCaught(n))return v.DEBUG_BUILD&&i.logger.log(b),y;const R=H({event_id:y},r);return this._process(this.eventFromException(n,R).then(A=>this._captureEvent(A,R,a))),R.event_id}captureMessage(n,r,a,y){const R=H({event_id:i.uuid4()},a),A=i.isParameterizedString(n)?n:String(n),w=i.isPrimitive(n)?this.eventFromMessage(A,r,R):this.eventFromException(n,R);return this._process(w.then(P=>this._captureEvent(P,R,y))),R.event_id}captureEvent(n,r,a){const y=i.uuid4();if(r&&r.originalException&&i.checkOrSetAlreadyCaught(r.originalException))return v.DEBUG_BUILD&&i.logger.log(b),y;const R=H({event_id:y},r),w=(n.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(n,R,w||a)),R.event_id}captureSession(n){typeof n.release!="string"?v.DEBUG_BUILD&&i.logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(n),_.updateSession(n,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(n){const r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(n).then(a=>r.flush(n).then(y=>a&&y))):i.resolvedSyncPromise(!0)}close(n){return this.flush(n).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(n){this._eventProcessors.push(n)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(n){return this._integrations[n]}addIntegration(n){const r=this._integrations[n.name];E.setupIntegration(this,n,this._integrations),r||E.afterSetupIntegrations(this,[n])}sendEvent(n,r={}){this.emit("beforeSendEvent",n,r);let a=T.createEventEnvelope(n,this._dsn,this._options._metadata,this._options.tunnel);for(const R of r.attachments||[])a=i.addItemToEnvelope(a,i.createAttachmentEnvelopeItem(R));const y=this.sendEnvelope(a);y&&y.then(R=>this.emit("afterSendEvent",n,R),null)}sendSession(n){const r=T.createSessionEnvelope(n,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(n,r,a){if(this._options.sendClientReports){const y=`${n}:${r}`;v.DEBUG_BUILD&&i.logger.log(`Adding outcome: "${y}"`),this._outcomes[y]=this._outcomes[y]+1||1}}on(n,r){this._hooks[n]||(this._hooks[n]=[]),this._hooks[n].push(r)}emit(n,...r){this._hooks[n]&&this._hooks[n].forEach(a=>a(...r))}sendEnvelope(n){return this.emit("beforeEnvelope",n),this._isEnabled()&&this._transport?this._transport.send(n).then(null,r=>(v.DEBUG_BUILD&&i.logger.error("Error while sending event:",r),r)):(v.DEBUG_BUILD&&i.logger.error("Transport disabled"),i.resolvedSyncPromise({}))}_setupIntegrations(){const{integrations:n}=this._options;this._integrations=E.setupIntegrations(this,n),E.afterSetupIntegrations(this,n)}_updateSessionFromEvent(n,r){let a=!1,y=!1;const R=r.exception&&r.exception.values;if(R){y=!0;for(const P of R){const x=P.mechanism;if(x&&x.handled===!1){a=!0;break}}}const A=n.status==="ok";(A&&n.errors===0||A&&a)&&(_.updateSession(n,Ie(H({},a&&{status:"crashed"}),{errors:n.errors||Number(y||a)})),this.captureSession(n))}_isClientDoneProcessing(n){return new i.SyncPromise(r=>{let a=0;const y=1,R=setInterval(()=>{this._numProcessing==0?(clearInterval(R),r(!0)):(a+=y,n&&a>=n&&(clearInterval(R),r(!1)))},y)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(n,r,a,y=g.getIsolationScope()){const R=this.getOptions(),A=Object.keys(this._integrations);return!r.integrations&&A.length>0&&(r.integrations=A),this.emit("preprocessEvent",n,r),n.type||y.setLastEventId(n.event_id||r.event_id),I.prepareEvent(R,n,r,a,this,y).then(w=>{if(w===null)return w;const P=H(H({},y.getPropagationContext()),a?a.getPropagationContext():void 0);if(!(w.contexts&&w.contexts.trace)&&P){const{traceId:$,spanId:K,parentSpanId:U,dsc:ee}=P;w.contexts=H({trace:i.dropUndefinedKeys({trace_id:$,span_id:K,parent_span_id:U})},w.contexts);const Y=ee||h.getDynamicSamplingContextFromClient($,this);w.sdkProcessingMetadata=H({dynamicSamplingContext:Y},w.sdkProcessingMetadata)}return w})}_captureEvent(n,r={},a){return this._processEvent(n,r,a).then(y=>y.event_id,y=>{if(v.DEBUG_BUILD){const R=y;R.logLevel==="log"?i.logger.log(R.message):i.logger.warn(R)}})}_processEvent(n,r,a){const y=this.getOptions(),{sampleRate:R}=y,A=C(n),w=u(n),P=n.type||"error",x=`before send for type \`${P}\``,$=typeof R=="undefined"?void 0:f.parseSampleRate(R);if(w&&typeof $=="number"&&Math.random()>$)return this.recordDroppedEvent("sample_rate","error",n),i.rejectedSyncPromise(new i.SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${R})`,"log"));const K=P==="replay_event"?"replay":P,ee=(n.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(n,r,a,ee).then(Y=>{if(Y===null)throw this.recordDroppedEvent("event_processor",K,n),new i.SentryError("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return Y;const z=p(y,Y,r);return d(z,x)}).then(Y=>{if(Y===null)throw this.recordDroppedEvent("before_send",K,n),new i.SentryError(`${x} returned \`null\`, will not send event.`,"log");const B=a&&a.getSession();!A&&B&&this._updateSessionFromEvent(B,Y);const z=Y.transaction_info;if(A&&z&&Y.transaction!==n.transaction){const te="custom";Y.transaction_info=Ie(H({},z),{source:te})}return this.sendEvent(Y,r),Y}).then(null,Y=>{throw Y instanceof i.SentryError?Y:(this.captureException(Y,{data:{__sentry__:!0},originalException:Y}),new i.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${Y}`))})}_process(n){this._numProcessing++,n.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const n=this._outcomes;return this._outcomes={},Object.keys(n).map(r=>{const[a,y]=r.split(":");return{reason:a,category:y,quantity:n[r]}})}}function d(m,n){const r=`${n} must return \`null\` or a valid event.`;if(i.isThenable(m))return m.then(a=>{if(!i.isPlainObject(a)&&a!==null)throw new i.SentryError(r);return a},a=>{throw new i.SentryError(`${n} rejected with ${a}`)});if(!i.isPlainObject(m)&&m!==null)throw new i.SentryError(r);return m}function p(m,n,r){const{beforeSend:a,beforeSendTransaction:y,beforeSendSpan:R}=m;if(u(n)&&a)return a(n,r);if(C(n)){if(n.spans&&R){const A=[];for(const w of n.spans){const P=R(w);P&&A.push(P)}n.spans=A}if(y)return y(n,r)}return n}function u(m){return m.type===void 0}function C(m){return m.type==="transaction"}e.BaseClient=S},26931:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(28625),g=100;function v(T,E){const _=l.getClient(),h=l.getIsolationScope();if(!_)return;const{beforeBreadcrumb:f=null,maxBreadcrumbs:I=g}=_.getOptions();if(I<=0)return;const b=i.dateTimestampInSeconds(),S=H({timestamp:b},T),d=f?i.consoleSandbox(()=>f(S,E)):S;d!==null&&(_.emit&&_.emit("beforeAddBreadcrumb",d,E),h.addBreadcrumb(d,I))}e.addBreadcrumb=v},99909:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077);function l(){return g(i.GLOBAL_OBJ),i.GLOBAL_OBJ}function g(v){const T=v.__SENTRY__=v.__SENTRY__||{};return T.version=T.version||i.SDK_VERSION,T[i.SDK_VERSION]=T[i.SDK_VERSION]||{}}e.getMainCarrier=l,e.getSentryCarrier=g},2086:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077);function l(v,T,E,_,h){const f={sent_at:new Date().toISOString()};E&&E.sdk&&(f.sdk={name:E.sdk.name,version:E.sdk.version}),_&&h&&(f.dsn=i.dsnToString(h)),T&&(f.trace=i.dropUndefinedKeys(T));const I=g(v);return i.createEnvelope(f,[I])}function g(v){return[{type:"check_in"},v]}e.createCheckInEnvelope=l},41480:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o="production";e.DEFAULT_ENVIRONMENT=o},28625:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(82473),g=o(99909),v=o(25);function T(){const b=g.getMainCarrier();return l.getAsyncContextStrategy(b).getCurrentScope()}function E(){const b=g.getMainCarrier();return l.getAsyncContextStrategy(b).getIsolationScope()}function _(){return i.getGlobalSingleton("globalScope",()=>new v.Scope)}function h(...b){const S=g.getMainCarrier(),d=l.getAsyncContextStrategy(S);if(b.length===2){const[p,u]=b;return p?d.withSetScope(p,u):d.withScope(u)}return d.withScope(b[0])}function f(...b){const S=g.getMainCarrier(),d=l.getAsyncContextStrategy(S);if(b.length===2){const[p,u]=b;return p?d.withSetIsolationScope(p,u):d.withIsolationScope(u)}return d.withIsolationScope(b[0])}function I(){return T().getClient()}e.getClient=I,e.getCurrentScope=T,e.getGlobalScope=_,e.getIsolationScope=E,e.withIsolationScope=f,e.withScope=h},76335:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;e.DEBUG_BUILD=o},56485:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(25);function g(){return i.getGlobalSingleton("defaultCurrentScope",()=>new l.Scope)}function v(){return i.getGlobalSingleton("defaultIsolationScope",()=>new l.Scope)}e.getDefaultCurrentScope=g,e.getDefaultIsolationScope=v},11757:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(93729),g=o(95542);function v(h,f){return f&&(h.sdk=h.sdk||{},h.sdk.name=h.sdk.name||f.name,h.sdk.version=h.sdk.version||f.version,h.sdk.integrations=[...h.sdk.integrations||[],...f.integrations||[]],h.sdk.packages=[...h.sdk.packages||[],...f.packages||[]]),h}function T(h,f,I,b){const S=i.getSdkMetadataForEnvelopeHeader(I),d=H(H({sent_at:new Date().toISOString()},S&&{sdk:S}),!!b&&f&&{dsn:i.dsnToString(f)}),p="aggregates"in h?[{type:"sessions"},h]:[{type:"session"},h.toJSON()];return i.createEnvelope(d,[p])}function E(h,f,I,b){const S=i.getSdkMetadataForEnvelopeHeader(I),d=h.type&&h.type!=="replay_event"?h.type:"event";v(h,I&&I.sdk);const p=i.createEventEnvelopeHeaders(h,S,b,f);delete h.sdkProcessingMetadata;const u=[{type:d},h];return i.createEnvelope(p,[u])}function _(h,f){function I(n){return!!n.trace_id&&!!n.public_key}const b=l.getDynamicSamplingContextFromSpan(h[0]),S=f&&f.getDsn(),d=f&&f.getOptions().tunnel,p=H(H({sent_at:new Date().toISOString()},I(b)&&{trace:b}),!!d&&S&&{dsn:i.dsnToString(S)}),u=f&&f.getOptions().beforeSendSpan,C=u?n=>u(g.spanToJSON(n)):n=>g.spanToJSON(n),m=[];for(const n of h){const r=C(n);r&&m.push(i.createSpanEnvelopeItem(r))}return i.createEnvelope(p,m)}e.createEventEnvelope=E,e.createSessionEnvelope=T,e.createSpanEnvelope=_},41728:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(76335);function g(v,T,E,_=0){return new i.SyncPromise((h,f)=>{const I=v[_];if(T===null||typeof I!="function")h(T);else{const b=I(H({},T),E);l.DEBUG_BUILD&&I.id&&b===null&&i.logger.log(`Event processor "${I.id}" dropped event`),i.isThenable(b)?b.then(S=>g(v,S,E,_+1).then(h)).then(null,f):g(v,b,E,_+1).then(h).then(null,f)}})}e.notifyEventProcessors=g},56530:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(41480),g=o(28625),v=o(76335),T=o(45681),E=o(19730);function _(K,U){return g.getCurrentScope().captureException(K,E.parseEventHintOrCaptureContext(U))}function h(K,U){const ee=typeof U=="string"?U:void 0,Y=typeof U!="string"?{captureContext:U}:void 0;return g.getCurrentScope().captureMessage(K,ee,Y)}function f(K,U){return g.getCurrentScope().captureEvent(K,U)}function I(K,U){g.getIsolationScope().setContext(K,U)}function b(K){g.getIsolationScope().setExtras(K)}function S(K,U){g.getIsolationScope().setExtra(K,U)}function d(K){g.getIsolationScope().setTags(K)}function p(K,U){g.getIsolationScope().setTag(K,U)}function u(K){g.getIsolationScope().setUser(K)}function C(){return g.getIsolationScope().lastEventId()}function m(K,U){const ee=g.getCurrentScope(),Y=g.getClient();if(!Y)v.DEBUG_BUILD&&i.logger.warn("Cannot capture check-in. No client defined.");else if(!Y.captureCheckIn)v.DEBUG_BUILD&&i.logger.warn("Cannot capture check-in. Client does not support sending check-ins.");else return Y.captureCheckIn(K,U,ee);return i.uuid4()}function n(K,U,ee){const Y=m({monitorSlug:K,status:"in_progress"},ee),B=i.timestampInSeconds();function z(te){m({monitorSlug:K,status:te,checkInId:Y,duration:i.timestampInSeconds()-B})}return g.withIsolationScope(()=>{let te;try{te=U()}catch(ue){throw z("error"),ue}return i.isThenable(te)?Promise.resolve(te).then(()=>{z("ok")},()=>{z("error")}):z("ok"),te})}function r(K){return Oe(this,null,function*(){const U=g.getClient();return U?U.flush(K):(v.DEBUG_BUILD&&i.logger.warn("Cannot flush events. No client defined."),Promise.resolve(!1))})}function a(K){return Oe(this,null,function*(){const U=g.getClient();return U?U.close(K):(v.DEBUG_BUILD&&i.logger.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))})}function y(){return!!g.getClient()}function R(){const K=g.getClient();return!!K&&K.getOptions().enabled!==!1&&!!K.getTransport()}function A(K){g.getIsolationScope().addEventProcessor(K)}function w(K){const U=g.getClient(),ee=g.getIsolationScope(),Y=g.getCurrentScope(),{release:B,environment:z=l.DEFAULT_ENVIRONMENT}=U&&U.getOptions()||{},{userAgent:te}=i.GLOBAL_OBJ.navigator||{},ue=T.makeSession(H(H({release:B,environment:z,user:Y.getUser()||ee.getUser()},te&&{userAgent:te}),K)),fe=ee.getSession();return fe&&fe.status==="ok"&&T.updateSession(fe,{status:"exited"}),P(),ee.setSession(ue),Y.setSession(ue),ue}function P(){const K=g.getIsolationScope(),U=g.getCurrentScope(),ee=U.getSession()||K.getSession();ee&&T.closeSession(ee),x(),K.setSession(),U.setSession()}function x(){const K=g.getIsolationScope(),U=g.getCurrentScope(),ee=g.getClient(),Y=U.getSession()||K.getSession();Y&&ee&&ee.captureSession(Y)}function $(K=!1){if(K){P();return}x()}e.addEventProcessor=A,e.captureCheckIn=m,e.captureEvent=f,e.captureException=_,e.captureMessage=h,e.captureSession=$,e.close=a,e.endSession=P,e.flush=r,e.isEnabled=R,e.isInitialized=y,e.lastEventId=C,e.setContext=I,e.setExtra=S,e.setExtras=b,e.setTag=p,e.setTags=d,e.setUser=u,e.startSession=w,e.withMonitor=n},22274:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(28625);function g(v,T={},E=l.getCurrentScope()){const{message:_,name:h,email:f,url:I,source:b,associatedEventId:S}=v,d={contexts:{feedback:i.dropUndefinedKeys({contact_email:f,name:h,message:_,url:I,source:b,associated_event_id:S})},type:"feedback",level:"info"},p=E&&E.getClient()||l.getClient();return p&&p.emit("beforeSendFeedback",d,T),E.captureEvent(d,T)}e.captureFeedback=g},47281:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(28625),g=o(14124);o(5489),o(76335);const v=o(73844),T=o(95542),E=o(70987),_=o(56728),h=o(95009),f=o(93729);function I(p,u,C,m,n="auto.http.browser"){if(!p.fetchData)return;const r=v.hasTracingEnabled()&&u(p.fetchData.url);if(p.endTimestamp&&r){const K=p.fetchData.__span;if(!K)return;const U=m[K];U&&(d(U,p),delete m[K]);return}const a=l.getCurrentScope(),y=l.getClient(),{method:R,url:A}=p.fetchData,w=S(A),P=w?i.parseUrl(w).host:void 0,x=!!T.getActiveSpan(),$=r&&x?h.startInactiveSpan({name:`${R} ${A}`,attributes:{url:A,type:"fetch","http.method":R,"http.url":w,"server.address":P,[g.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:n,[g.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client"}}):new E.SentryNonRecordingSpan;if(p.fetchData.__span=$.spanContext().spanId,m[$.spanContext().spanId]=$,C(p.fetchData.url)&&y){const K=p.args[0];p.args[1]=p.args[1]||{};const U=p.args[1];U.headers=b(K,y,a,U,v.hasTracingEnabled()&&x?$:void 0)}return $}function b(p,u,C,m,n){const r=l.getIsolationScope(),{traceId:a,spanId:y,sampled:R,dsc:A}=H(H({},r.getPropagationContext()),C.getPropagationContext()),w=n?T.spanToTraceHeader(n):i.generateSentryTraceHeader(a,y,R),P=i.dynamicSamplingContextToSentryBaggageHeader(A||(n?f.getDynamicSamplingContextFromSpan(n):f.getDynamicSamplingContextFromClient(a,u))),x=m.headers||(typeof Request!="undefined"&&i.isInstanceOf(p,Request)?p.headers:void 0);if(x)if(typeof Headers!="undefined"&&i.isInstanceOf(x,Headers)){const $=new Headers(x);return $.append("sentry-trace",w),P&&$.append(i.BAGGAGE_HEADER_NAME,P),$}else if(Array.isArray(x)){const $=[...x,["sentry-trace",w]];return P&&$.push([i.BAGGAGE_HEADER_NAME,P]),$}else{const $="baggage"in x?x.baggage:void 0,K=[];return Array.isArray($)?K.push(...$):$&&K.push($),P&&K.push(P),Ie(H({},x),{"sentry-trace":w,baggage:K.length>0?K.join(","):void 0})}else return{"sentry-trace":w,baggage:P}}function S(p){try{return new URL(p).href}catch(u){return}}function d(p,u){if(u.response){_.setHttpStatus(p,u.response.status);const C=u.response&&u.response.headers&&u.response.headers.get("content-length");if(C){const m=parseInt(C);m>0&&p.setAttribute("http.response_content_length",m)}}else u.error&&p.setStatus({code:_.SPAN_STATUS_ERROR,message:"internal_error"});p.end()}e.addTracingHeadersToFetchRequest=b,e.instrumentFetchRequest=I},5416:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(26931),l=o(28625),g=o(56530);function v(){return{bindClient(_){l.getCurrentScope().setClient(_)},withScope:l.withScope,getClient:()=>l.getClient(),getScope:l.getCurrentScope,getIsolationScope:l.getIsolationScope,captureException:(_,h)=>l.getCurrentScope().captureException(_,h),captureMessage:(_,h,f)=>l.getCurrentScope().captureMessage(_,h,f),captureEvent:g.captureEvent,addBreadcrumb:i.addBreadcrumb,setUser:g.setUser,setTags:g.setTags,setTag:g.setTag,setExtra:g.setExtra,setExtras:g.setExtras,setContext:g.setContext,getIntegration(_){const h=l.getClient();return h&&h.getIntegrationByName(_.id)||null},startSession:g.startSession,endSession:g.endSession,captureSession(_){if(_)return g.endSession();E()}}}const T=v;function E(){const _=l.getCurrentScope(),h=l.getClient(),f=_.getSession();h&&f&&h.captureSession(f)}e.getCurrentHub=T,e.getCurrentHubShim=v},95617:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(5489),l=o(97209),g=o(67873),v=o(49620),T=o(70413),E=o(70987),_=o(56728),h=o(95009),f=o(93729),I=o(72256),b=o(23359),S=o(7269),d=o(14124),p=o(11757),u=o(56530),C=o(28625),m=o(56485),n=o(82473),r=o(99909),a=o(45681),y=o(24452),R=o(25),A=o(41728),w=o(41385),P=o(4343),x=o(77619),$=o(85485),K=o(98179),U=o(58035),ee=o(95129),Y=o(58219),B=o(42408),z=o(19730),te=o(2086),ue=o(73844),fe=o(89922),he=o(80749),q=o(73628),le=o(95542),pe=o(2564),Se=o(44274),Ae=o(41480),nt=o(26931),V=o(4261),se=o(28809),ne=o(5947),ie=o(57600),de=o(37120),ve=o(59630),Le=o(58450),Ue=o(28846),He=o(95709),Ve=o(21003),ge=o(83555),lt=o(92851),bt=o(73116),vt=o(14552),Nt=o(73793),ln=o(47406),Ut=o(47281),zt=o(70794),ft=o(22274),wt=o(5416),_t=o(17077);e.registerSpanErrorInstrumentation=i.registerSpanErrorInstrumentation,e.getCapturedScopesOnSpan=l.getCapturedScopesOnSpan,e.setCapturedScopesOnSpan=l.setCapturedScopesOnSpan,e.addTracingExtensions=g.addTracingExtensions,e.TRACING_DEFAULTS=v.TRACING_DEFAULTS,e.startIdleSpan=v.startIdleSpan,e.SentrySpan=T.SentrySpan,e.SentryNonRecordingSpan=E.SentryNonRecordingSpan,e.SPAN_STATUS_ERROR=_.SPAN_STATUS_ERROR,e.SPAN_STATUS_OK=_.SPAN_STATUS_OK,e.SPAN_STATUS_UNSET=_.SPAN_STATUS_UNSET,e.getSpanStatusFromHttpCode=_.getSpanStatusFromHttpCode,e.setHttpStatus=_.setHttpStatus,e.continueTrace=h.continueTrace,e.startInactiveSpan=h.startInactiveSpan,e.startNewTrace=h.startNewTrace,e.startSpan=h.startSpan,e.startSpanManual=h.startSpanManual,e.suppressTracing=h.suppressTracing,e.withActiveSpan=h.withActiveSpan,e.getDynamicSamplingContextFromClient=f.getDynamicSamplingContextFromClient,e.getDynamicSamplingContextFromSpan=f.getDynamicSamplingContextFromSpan,e.spanToBaggageHeader=f.spanToBaggageHeader,e.setMeasurement=I.setMeasurement,e.timedEventsToMeasurements=I.timedEventsToMeasurements,e.sampleSpan=b.sampleSpan,e.logSpanEnd=S.logSpanEnd,e.logSpanStart=S.logSpanStart,e.SEMANTIC_ATTRIBUTE_CACHE_HIT=d.SEMANTIC_ATTRIBUTE_CACHE_HIT,e.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE=d.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE,e.SEMANTIC_ATTRIBUTE_CACHE_KEY=d.SEMANTIC_ATTRIBUTE_CACHE_KEY,e.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME=d.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME,e.SEMANTIC_ATTRIBUTE_PROFILE_ID=d.SEMANTIC_ATTRIBUTE_PROFILE_ID,e.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON=d.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,e.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT=d.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT,e.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE=d.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE,e.SEMANTIC_ATTRIBUTE_SENTRY_OP=d.SEMANTIC_ATTRIBUTE_SENTRY_OP,e.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=d.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,e.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=d.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,e.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=d.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,e.createEventEnvelope=p.createEventEnvelope,e.createSessionEnvelope=p.createSessionEnvelope,e.createSpanEnvelope=p.createSpanEnvelope,e.addEventProcessor=u.addEventProcessor,e.captureCheckIn=u.captureCheckIn,e.captureEvent=u.captureEvent,e.captureException=u.captureException,e.captureMessage=u.captureMessage,e.captureSession=u.captureSession,e.close=u.close,e.endSession=u.endSession,e.flush=u.flush,e.isEnabled=u.isEnabled,e.isInitialized=u.isInitialized,e.lastEventId=u.lastEventId,e.setContext=u.setContext,e.setExtra=u.setExtra,e.setExtras=u.setExtras,e.setTag=u.setTag,e.setTags=u.setTags,e.setUser=u.setUser,e.startSession=u.startSession,e.withMonitor=u.withMonitor,e.getClient=C.getClient,e.getCurrentScope=C.getCurrentScope,e.getGlobalScope=C.getGlobalScope,e.getIsolationScope=C.getIsolationScope,e.withIsolationScope=C.withIsolationScope,e.withScope=C.withScope,e.getDefaultCurrentScope=m.getDefaultCurrentScope,e.getDefaultIsolationScope=m.getDefaultIsolationScope,e.setAsyncContextStrategy=n.setAsyncContextStrategy,e.getMainCarrier=r.getMainCarrier,e.closeSession=a.closeSession,e.makeSession=a.makeSession,e.updateSession=a.updateSession,e.SessionFlusher=y.SessionFlusher,e.Scope=R.Scope,e.notifyEventProcessors=A.notifyEventProcessors,e.getEnvelopeEndpointWithUrlEncodedAuth=w.getEnvelopeEndpointWithUrlEncodedAuth,e.getReportDialogEndpoint=w.getReportDialogEndpoint,e.BaseClient=P.BaseClient,e.ServerRuntimeClient=x.ServerRuntimeClient,e.initAndBind=$.initAndBind,e.setCurrentClient=$.setCurrentClient,e.createTransport=K.createTransport,e.makeOfflineTransport=U.makeOfflineTransport,e.makeMultiplexedTransport=ee.makeMultiplexedTransport,e.addIntegration=Y.addIntegration,e.defineIntegration=Y.defineIntegration,e.getIntegrationsToSetup=Y.getIntegrationsToSetup,e.applyScopeDataToEvent=B.applyScopeDataToEvent,e.mergeScopeData=B.mergeScopeData,e.prepareEvent=z.prepareEvent,e.createCheckInEnvelope=te.createCheckInEnvelope,e.hasTracingEnabled=ue.hasTracingEnabled,e.isSentryRequestUrl=fe.isSentryRequestUrl,e.handleCallbackErrors=he.handleCallbackErrors,e.parameterize=q.parameterize,e.addChildSpanToSpan=le.addChildSpanToSpan,e.getActiveSpan=le.getActiveSpan,e.getRootSpan=le.getRootSpan,e.getSpanDescendants=le.getSpanDescendants,e.getStatusMessage=le.getStatusMessage,e.spanIsSampled=le.spanIsSampled,e.spanToJSON=le.spanToJSON,e.spanToTraceContext=le.spanToTraceContext,e.spanToTraceHeader=le.spanToTraceHeader,e.parseSampleRate=pe.parseSampleRate,e.applySdkMetadata=Se.applySdkMetadata,e.DEFAULT_ENVIRONMENT=Ae.DEFAULT_ENVIRONMENT,e.addBreadcrumb=nt.addBreadcrumb,e.functionToStringIntegration=V.functionToStringIntegration,e.inboundFiltersIntegration=se.inboundFiltersIntegration,e.linkedErrorsIntegration=ne.linkedErrorsIntegration,e.moduleMetadataIntegration=ie.moduleMetadataIntegration,e.requestDataIntegration=de.requestDataIntegration,e.captureConsoleIntegration=ve.captureConsoleIntegration,e.debugIntegration=Le.debugIntegration,e.dedupeIntegration=Ue.dedupeIntegration,e.extraErrorDataIntegration=He.extraErrorDataIntegration,e.rewriteFramesIntegration=Ve.rewriteFramesIntegration,e.sessionTimingIntegration=ge.sessionTimingIntegration,e.zodErrorsIntegration=lt.zodErrorsIntegration,e.metrics=bt.metrics,e.metricsDefault=vt.metricsDefault,e.BrowserMetricsAggregator=Nt.BrowserMetricsAggregator,e.getMetricSummaryJsonForSpan=ln.getMetricSummaryJsonForSpan,e.addTracingHeadersToFetchRequest=Ut.addTracingHeadersToFetchRequest,e.instrumentFetchRequest=Ut.instrumentFetchRequest,e.trpcMiddleware=zt.trpcMiddleware,e.captureFeedback=ft.captureFeedback,e.getCurrentHub=wt.getCurrentHub,e.getCurrentHubShim=wt.getCurrentHubShim,e.SDK_VERSION=_t.SDK_VERSION},58219:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(28625),g=o(76335),v=[];function T(d){const p={};return d.forEach(u=>{const{name:C}=u,m=p[C];m&&!m.isDefaultInstance&&u.isDefaultInstance||(p[C]=u)}),Object.keys(p).map(u=>p[u])}function E(d){const p=d.defaultIntegrations||[],u=d.integrations;p.forEach(r=>{r.isDefaultInstance=!0});let C;Array.isArray(u)?C=[...p,...u]:typeof u=="function"?C=i.arrayify(u(p)):C=p;const m=T(C),n=b(m,r=>r.name==="Debug");if(n!==-1){const[r]=m.splice(n,1);m.push(r)}return m}function _(d,p){const u={};return p.forEach(C=>{C&&f(d,C,u)}),u}function h(d,p){for(const u of p)u&&u.afterAllSetup&&u.afterAllSetup(d)}function f(d,p,u){if(u[p.name]){g.DEBUG_BUILD&&i.logger.log(`Integration skipped because it was already installed: ${p.name}`);return}if(u[p.name]=p,v.indexOf(p.name)===-1&&typeof p.setupOnce=="function"&&(p.setupOnce(),v.push(p.name)),p.setup&&typeof p.setup=="function"&&p.setup(d),typeof p.preprocessEvent=="function"){const C=p.preprocessEvent.bind(p);d.on("preprocessEvent",(m,n)=>C(m,n,d))}if(typeof p.processEvent=="function"){const C=p.processEvent.bind(p),m=Object.assign((n,r)=>C(n,r,d),{id:p.name});d.addEventProcessor(m)}g.DEBUG_BUILD&&i.logger.log(`Integration installed: ${p.name}`)}function I(d){const p=l.getClient();if(!p){g.DEBUG_BUILD&&i.logger.warn(`Cannot add integration "${d.name}" because no SDK Client is available.`);return}p.addIntegration(d)}function b(d,p){for(let u=0;u<d.length;u++)if(p(d[u])===!0)return u;return-1}function S(d){return d}e.addIntegration=I,e.afterSetupIntegrations=h,e.defineIntegration=S,e.getIntegrationsToSetup=E,e.installedIntegrations=v,e.setupIntegration=f,e.setupIntegrations=_},59630:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(28625),g=o(56530),v=o(58219),T="CaptureConsole",E=(f={})=>{const I=f.levels||i.CONSOLE_LEVELS;return{name:T,setup(b){"console"in i.GLOBAL_OBJ&&i.addConsoleInstrumentationHandler(({args:S,level:d})=>{l.getClient()!==b||!I.includes(d)||h(S,d)})}}},_=v.defineIntegration(E);function h(f,I){const b={level:i.severityLevelFromString(I),extra:{arguments:f}};l.withScope(S=>{if(S.addEventProcessor(u=>(u.logger="console",i.addExceptionMechanism(u,{handled:!1,type:"console"}),u)),I==="assert"){if(!f[0]){const u=`Assertion failed: ${i.safeJoin(f.slice(1)," ")||"console.assert"}`;S.setExtra("arguments",f.slice(1)),g.captureMessage(u,b)}return}const d=f.find(u=>u instanceof Error);if(d){g.captureException(d,b);return}const p=i.safeJoin(f," ");g.captureMessage(p,b)})}e.captureConsoleIntegration=_},58450:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(58219),g="Debug",v=(E={})=>{const _=H({debugger:!1,stringify:!1},E);return{name:g,setup(h){h.on("beforeSendEvent",(f,I)=>{if(_.debugger)debugger;i.consoleSandbox(()=>{_.stringify?(console.log(JSON.stringify(f,null,2)),I&&Object.keys(I).length&&console.log(JSON.stringify(I,null,2))):(console.log(f),I&&Object.keys(I).length&&console.log(I))})})}}},T=l.defineIntegration(v);e.debugIntegration=T},28846:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(58219),g=o(76335),v="Dedupe",T=()=>{let p;return{name:v,processEvent(u){if(u.type)return u;try{if(_(u,p))return g.DEBUG_BUILD&&i.logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(C){}return p=u}}},E=l.defineIntegration(T);function _(p,u){return u?!!(h(p,u)||f(p,u)):!1}function h(p,u){const C=p.message,m=u.message;return!(!C&&!m||C&&!m||!C&&m||C!==m||!b(p,u)||!I(p,u))}function f(p,u){const C=S(u),m=S(p);return!(!C||!m||C.type!==m.type||C.value!==m.value||!b(p,u)||!I(p,u))}function I(p,u){let C=d(p),m=d(u);if(!C&&!m)return!0;if(C&&!m||!C&&m||(C=C,m=m,m.length!==C.length))return!1;for(let n=0;n<m.length;n++){const r=m[n],a=C[n];if(r.filename!==a.filename||r.lineno!==a.lineno||r.colno!==a.colno||r.function!==a.function)return!1}return!0}function b(p,u){let C=p.fingerprint,m=u.fingerprint;if(!C&&!m)return!0;if(C&&!m||!C&&m)return!1;C=C,m=m;try{return C.join("")===m.join("")}catch(n){return!1}}function S(p){return p.exception&&p.exception.values&&p.exception.values[0]}function d(p){const u=p.exception;if(u)try{return u.values[0].stacktrace.frames}catch(C){return}}e._shouldDropEvent=_,e.dedupeIntegration=E},95709:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(58219),g=o(76335),v="ExtraErrorData",T=(f={})=>{const{depth:I=3,captureErrorCause:b=!0}=f;return{name:v,processEvent(S,d){return _(S,d,I,b)}}},E=l.defineIntegration(T);function _(f,I={},b,S){if(!I.originalException||!i.isError(I.originalException))return f;const d=I.originalException.name||I.originalException.constructor.name,p=h(I.originalException,S);if(p){const u=H({},f.contexts),C=i.normalize(p,b);return i.isPlainObject(C)&&(i.addNonEnumerableProperty(C,"__sentry_skip_normalization__",!0),u[d]=C),Ie(H({},f),{contexts:u})}return f}function h(f,I){try{const b=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],S={};for(const d of Object.keys(f)){if(b.indexOf(d)!==-1)continue;const p=f[d];S[d]=i.isError(p)?p.toString():p}if(I&&f.cause!==void 0&&(S.cause=i.isError(f.cause)?f.cause.toString():f.cause),typeof f.toJSON=="function"){const d=f.toJSON();for(const p of Object.keys(d)){const u=d[p];S[p]=i.isError(u)?u.toString():u}}return S}catch(b){g.DEBUG_BUILD&&i.logger.error("Unable to extract extra data from the Error object:",b)}return null}e.extraErrorDataIntegration=E},4261:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(28625),g=o(58219);let v;const T="FunctionToString",E=new WeakMap,_=()=>({name:T,setupOnce(){v=Function.prototype.toString;try{Function.prototype.toString=function(...f){const I=i.getOriginalFunction(this),b=E.has(l.getClient())&&I!==void 0?I:this;return v.apply(b,f)}}catch(f){}},setup(f){E.set(f,!0)}}),h=g.defineIntegration(_);e.functionToStringIntegration=h},28809:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(76335),g=o(58219),v=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],T="InboundFilters",E=(n={})=>({name:T,processEvent(r,a,y){const R=y.getOptions(),A=h(n,R);return f(r,A)?null:r}}),_=g.defineIntegration(E);function h(n={},r={}){return{allowUrls:[...n.allowUrls||[],...r.allowUrls||[]],denyUrls:[...n.denyUrls||[],...r.denyUrls||[]],ignoreErrors:[...n.ignoreErrors||[],...r.ignoreErrors||[],...n.disableErrorDefaults?[]:v],ignoreTransactions:[...n.ignoreTransactions||[],...r.ignoreTransactions||[]],ignoreInternal:n.ignoreInternal!==void 0?n.ignoreInternal:!0}}function f(n,r){return r.ignoreInternal&&u(n)?(l.DEBUG_BUILD&&i.logger.warn(`Event dropped due to being internal Sentry Error.
Event: ${i.getEventDescription(n)}`),!0):I(n,r.ignoreErrors)?(l.DEBUG_BUILD&&i.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${i.getEventDescription(n)}`),!0):b(n,r.ignoreTransactions)?(l.DEBUG_BUILD&&i.logger.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${i.getEventDescription(n)}`),!0):S(n,r.denyUrls)?(l.DEBUG_BUILD&&i.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${i.getEventDescription(n)}.
Url: ${m(n)}`),!0):d(n,r.allowUrls)?!1:(l.DEBUG_BUILD&&i.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${i.getEventDescription(n)}.
Url: ${m(n)}`),!0)}function I(n,r){return n.type||!r||!r.length?!1:p(n).some(a=>i.stringMatchesSomePattern(a,r))}function b(n,r){if(n.type!=="transaction"||!r||!r.length)return!1;const a=n.transaction;return a?i.stringMatchesSomePattern(a,r):!1}function S(n,r){if(!r||!r.length)return!1;const a=m(n);return a?i.stringMatchesSomePattern(a,r):!1}function d(n,r){if(!r||!r.length)return!0;const a=m(n);return a?i.stringMatchesSomePattern(a,r):!0}function p(n){const r=[];n.message&&r.push(n.message);let a;try{a=n.exception.values[n.exception.values.length-1]}catch(y){}return a&&a.value&&(r.push(a.value),a.type&&r.push(`${a.type}: ${a.value}`)),r}function u(n){try{return n.exception.values[0].type==="SentryError"}catch(r){}return!1}function C(n=[]){for(let r=n.length-1;r>=0;r--){const a=n[r];if(a&&a.filename!=="<anonymous>"&&a.filename!=="[native code]")return a.filename||null}return null}function m(n){try{let r;try{r=n.exception.values[0].stacktrace.frames}catch(a){}return r?C(r):null}catch(r){return l.DEBUG_BUILD&&i.logger.error(`Cannot extract url for event ${i.getEventDescription(n)}`),null}}e.inboundFiltersIntegration=_},5947:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(58219),g="cause",v=5,T="LinkedErrors",E=(h={})=>{const f=h.limit||v,I=h.key||g;return{name:T,preprocessEvent(b,S,d){const p=d.getOptions();i.applyAggregateErrorsToEvent(i.exceptionFromError,p.stackParser,p.maxValueLength,I,f,b,S)}}},_=l.defineIntegration(E);e.linkedErrorsIntegration=_},57600:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(58219),g=o(60892),v="ModuleMetadata",T=()=>({name:v,setup(_){_.on("beforeEnvelope",h=>{i.forEachEnvelopeItem(h,(f,I)=>{if(I==="event"){const b=Array.isArray(f)?f[1]:void 0;b&&(g.stripMetadataFromStackFrames(b),f[1]=b)}})})},processEvent(_,h,f){const I=f.getOptions().stackParser;return g.addMetadataToStackFrames(I,_),_}}),E=l.defineIntegration(T);e.moduleMetadataIntegration=E},37120:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(58219),g={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"},v="RequestData",T=(h={})=>{const f=Ie(H(H({},g),h),{include:Ie(H(H({},g.include),h.include),{user:h.include&&typeof h.include.user=="boolean"?h.include.user:H(H({},g.include.user),(h.include||{}).user)})});return{name:v,processEvent(I){const{sdkProcessingMetadata:b={}}=I,S=b.request;if(!S)return I;const d=_(f);return i.addRequestDataToEvent(I,S,d)}}},E=l.defineIntegration(T);function _(h){const{transactionNamingScheme:f,include:u}=h,C=u,{ip:I,user:b}=C,S=ir(C,["ip","user"]),d=["method"];for(const[m,n]of Object.entries(S))n&&d.push(m);let p;if(b===void 0)p=!0;else if(typeof b=="boolean")p=b;else{const m=[];for(const[n,r]of Object.entries(b))r&&m.push(n);p=m}return{include:{ip:I,user:p,request:d.length!==0?d:void 0,transaction:f}}}e.requestDataIntegration=E},21003:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(58219),g="RewriteFrames",v=l.defineIntegration((E={})=>{const _=E.root,h=E.prefix||"app:///",f="window"in i.GLOBAL_OBJ&&i.GLOBAL_OBJ.window!==void 0,I=E.iteratee||T({isBrowser:f,root:_,prefix:h});function b(d){try{return Ie(H({},d),{exception:Ie(H({},d.exception),{values:d.exception.values.map(p=>H(H({},p),p.stacktrace&&{stacktrace:S(p.stacktrace)}))})})}catch(p){return d}}function S(d){return Ie(H({},d),{frames:d&&d.frames&&d.frames.map(p=>I(p))})}return{name:g,processEvent(d){let p=d;return d.exception&&Array.isArray(d.exception.values)&&(p=b(p)),p}}});function T({isBrowser:E,root:_,prefix:h}){return f=>{if(!f.filename)return f;const I=/^[a-zA-Z]:\\/.test(f.filename)||f.filename.includes("\\")&&!f.filename.includes("/"),b=/^\//.test(f.filename);if(E){if(_){const S=f.filename;S.indexOf(_)===0&&(f.filename=S.replace(_,h))}}else if(I||b){const S=I?f.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):f.filename,d=_?i.relative(_,S):i.basename(S);f.filename=`${h}${d}`}return f}}e.generateIteratee=T,e.rewriteFramesIntegration=v},83555:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(58219),g="SessionTiming",v=()=>{const E=i.timestampInSeconds()*1e3;return{name:g,processEvent(_){const h=i.timestampInSeconds()*1e3;return Ie(H({},_),{extra:Ie(H({},_.extra),{"session:start":E,"session:duration":h-E,"session:end":h})})}}},T=l.defineIntegration(v);e.sessionTimingIntegration=T},92851:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(58219),g=10,v="ZodErrors";function T(b){return i.isError(b)&&b.name==="ZodError"&&Array.isArray(b.errors)}function E(b){return Ie(H({},b),{path:"path"in b&&Array.isArray(b.path)?b.path.join("."):void 0,keys:"keys"in b?JSON.stringify(b.keys):void 0,unionErrors:"unionErrors"in b?JSON.stringify(b.unionErrors):void 0})}function _(b){const S=new Set;for(const p of b.issues)p.path&&S.add(p.path[0]);const d=Array.from(S);return`Failed to validate keys: ${i.truncate(d.join(", "),100)}`}function h(b,S,d){return!S.exception||!S.exception.values||!d||!d.originalException||!T(d.originalException)||d.originalException.issues.length===0?S:Ie(H({},S),{exception:Ie(H({},S.exception),{values:[Ie(H({},S.exception.values[0]),{value:_(d.originalException)}),...S.exception.values.slice(1)]}),extra:Ie(H({},S.extra),{"zoderror.issues":d.originalException.errors.slice(0,b).map(E)})})}const f=(b={})=>{const S=b.limit||g;return{name:v,processEvent(d,p){return h(S,d,p)}}},I=l.defineIntegration(f);e.applyZodErrorsToEvent=h,e.zodErrorsIntegration=I},60892:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=new Map,g=new Set;function v(h){if(i.GLOBAL_OBJ._sentryModuleMetadata)for(const f of Object.keys(i.GLOBAL_OBJ._sentryModuleMetadata)){const I=i.GLOBAL_OBJ._sentryModuleMetadata[f];if(g.has(f))continue;g.add(f);const b=h(f);for(const S of b.reverse())if(S.filename){l.set(S.filename,I);break}}}function T(h,f){return v(h),l.get(f)}function E(h,f){try{f.exception.values.forEach(I=>{if(I.stacktrace)for(const b of I.stacktrace.frames||[]){if(!b.filename)continue;const S=T(h,b.filename);S&&(b.module_metadata=S)}})}catch(I){}}function _(h){try{h.exception.values.forEach(f=>{if(f.stacktrace)for(const I of f.stacktrace.frames||[])delete I.module_metadata})}catch(f){}}e.addMetadataToStackFrames=E,e.getMetadataForUrl=T,e.stripMetadataFromStackFrames=_},29554:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(95542),g=o(75670),v=o(93051),T=o(29840),E=o(97358);class _{constructor(f){this._client=f,this._buckets=new Map,this._bucketsTotalWeight=0,this._interval=setInterval(()=>this._flush(),g.DEFAULT_FLUSH_INTERVAL),this._interval.unref&&this._interval.unref(),this._flushShift=Math.floor(Math.random()*g.DEFAULT_FLUSH_INTERVAL/1e3),this._forceFlush=!1}add(f,I,b,S="none",d={},p=i.timestampInSeconds()){const u=Math.floor(p),C=E.sanitizeMetricKey(I),m=E.sanitizeTags(d),n=E.sanitizeUnit(S),r=E.getBucketKey(f,C,n,m);let a=this._buckets.get(r);const y=a&&f===g.SET_METRIC_TYPE?a.metric.weight:0;a?(a.metric.add(b),a.timestamp<u&&(a.timestamp=u)):(a={metric:new T.METRIC_MAP[f](b),timestamp:u,metricType:f,name:C,unit:n,tags:m},this._buckets.set(r,a));const R=typeof b=="string"?a.metric.weight-y:b;l.updateMetricSummaryOnActiveSpan(f,C,R,n,d,r),this._bucketsTotalWeight+=a.metric.weight,this._bucketsTotalWeight>=g.MAX_WEIGHT&&this.flush()}flush(){this._forceFlush=!0,this._flush()}close(){this._forceFlush=!0,clearInterval(this._interval),this._flush()}_flush(){if(this._forceFlush){this._forceFlush=!1,this._bucketsTotalWeight=0,this._captureMetrics(this._buckets),this._buckets.clear();return}const f=Math.floor(i.timestampInSeconds())-g.DEFAULT_FLUSH_INTERVAL/1e3-this._flushShift,I=new Map;for(const[b,S]of this._buckets)S.timestamp<=f&&(I.set(b,S),this._bucketsTotalWeight-=S.metric.weight);for(const[b]of I)this._buckets.delete(b);this._captureMetrics(I)}_captureMetrics(f){if(f.size>0){const I=Array.from(f).map(([,b])=>b);v.captureAggregateMetrics(this._client,I)}}}e.MetricsAggregator=_},73793:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(95542),g=o(75670),v=o(93051),T=o(29840),E=o(97358);class _{constructor(f){this._client=f,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),g.DEFAULT_BROWSER_FLUSH_INTERVAL)}add(f,I,b,S="none",d={},p=i.timestampInSeconds()){const u=Math.floor(p),C=E.sanitizeMetricKey(I),m=E.sanitizeTags(d),n=E.sanitizeUnit(S),r=E.getBucketKey(f,C,n,m);let a=this._buckets.get(r);const y=a&&f===g.SET_METRIC_TYPE?a.metric.weight:0;a?(a.metric.add(b),a.timestamp<u&&(a.timestamp=u)):(a={metric:new T.METRIC_MAP[f](b),timestamp:u,metricType:f,name:C,unit:n,tags:m},this._buckets.set(r,a));const R=typeof b=="string"?a.metric.weight-y:b;l.updateMetricSummaryOnActiveSpan(f,C,R,n,d,r)}flush(){if(this._buckets.size===0)return;const f=Array.from(this._buckets.values());v.captureAggregateMetrics(this._client,f),this._buckets.clear()}close(){clearInterval(this._interval),this.flush()}}e.BrowserMetricsAggregator=_},75670:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o="c",i="g",l="s",g="d",v=5e3,T=1e4,E=1e4;e.COUNTER_METRIC_TYPE=o,e.DEFAULT_BROWSER_FLUSH_INTERVAL=v,e.DEFAULT_FLUSH_INTERVAL=T,e.DISTRIBUTION_METRIC_TYPE=g,e.GAUGE_METRIC_TYPE=i,e.MAX_WEIGHT=E,e.SET_METRIC_TYPE=l},93051:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(97358);function g(E,_){i.logger.log(`Flushing aggregated metrics, number of metrics: ${_.length}`);const h=E.getDsn(),f=E.getSdkMetadata(),I=E.getOptions().tunnel,b=v(_,h,f,I);E.sendEnvelope(b)}function v(E,_,h,f){const I={sent_at:new Date().toISOString()};h&&h.sdk&&(I.sdk={name:h.sdk.name,version:h.sdk.version}),f&&_&&(I.dsn=i.dsnToString(_));const b=T(E);return i.createEnvelope(I,[b])}function T(E){const _=l.serializeMetricBuckets(E);return[{type:"statsd",length:_.length},_]}e.captureAggregateMetrics=g,e.createMetricEnvelope=v},14552:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(29554),l=o(73116);function g(I,b=1,S){l.metrics.increment(i.MetricsAggregator,I,b,S)}function v(I,b,S){l.metrics.distribution(i.MetricsAggregator,I,b,S)}function T(I,b,S){l.metrics.set(i.MetricsAggregator,I,b,S)}function E(I,b,S){l.metrics.gauge(i.MetricsAggregator,I,b,S)}function _(I,b,S="second",d){return l.metrics.timing(i.MetricsAggregator,I,b,S,d)}function h(I){return l.metrics.getMetricsAggregatorForClient(I,i.MetricsAggregator)}const f={increment:g,distribution:v,set:T,gauge:E,timing:_,getMetricsAggregatorForClient:h};e.metricsDefault=f},73116:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(28625),g=o(76335);o(5489);const v=o(95542),T=o(95009),E=o(80749),_=o(75670);function h(m,n){const r=i.getGlobalSingleton("globalMetricsAggregators",()=>new WeakMap),a=r.get(m);if(a)return a;const y=new n(m);return m.on("flush",()=>y.flush()),m.on("close",()=>y.close()),r.set(m,y),y}function f(m,n,r,a,y={}){const R=y.client||l.getClient();if(!R)return;const A=v.getActiveSpan(),w=A?v.getRootSpan(A):void 0,P=w&&v.spanToJSON(w).description,{unit:x,tags:$,timestamp:K}=y,{release:U,environment:ee}=R.getOptions(),Y={};U&&(Y.release=U),ee&&(Y.environment=ee),P&&(Y.transaction=P),g.DEBUG_BUILD&&i.logger.log(`Adding value of ${a} to ${n} metric ${r}`),h(R,m).add(n,r,a,x,H(H({},Y),$),K)}function I(m,n,r=1,a){f(m,_.COUNTER_METRIC_TYPE,n,C(r),a)}function b(m,n,r,a){f(m,_.DISTRIBUTION_METRIC_TYPE,n,C(r),a)}function S(m,n,r,a="second",y){if(typeof r=="function"){const R=i.timestampInSeconds();return T.startSpanManual({op:"metrics.timing",name:n,startTime:R,onlyIfParent:!0},A=>E.handleCallbackErrors(()=>r(),()=>{},()=>{const w=i.timestampInSeconds(),P=w-R;b(m,n,P,Ie(H({},y),{unit:"second"})),A.end(w)}))}b(m,n,r,Ie(H({},y),{unit:a}))}function d(m,n,r,a){f(m,_.SET_METRIC_TYPE,n,r,a)}function p(m,n,r,a){f(m,_.GAUGE_METRIC_TYPE,n,C(r),a)}const u={increment:I,distribution:b,set:d,gauge:p,timing:S,getMetricsAggregatorForClient:h};function C(m){return typeof m=="string"?parseInt(m):m}e.metrics=u},29840:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(75670),l=o(97358);class g{constructor(f){this._value=f}get weight(){return 1}add(f){this._value+=f}toString(){return`${this._value}`}}class v{constructor(f){this._last=f,this._min=f,this._max=f,this._sum=f,this._count=1}get weight(){return 5}add(f){this._last=f,f<this._min&&(this._min=f),f>this._max&&(this._max=f),this._sum+=f,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class T{constructor(f){this._value=[f]}get weight(){return this._value.length}add(f){this._value.push(f)}toString(){return this._value.join(":")}}class E{constructor(f){this.first=f,this._value=new Set([f])}get weight(){return this._value.size}add(f){this._value.add(f)}toString(){return Array.from(this._value).map(f=>typeof f=="string"?l.simpleHash(f):f).join(":")}}const _={[i.COUNTER_METRIC_TYPE]:g,[i.GAUGE_METRIC_TYPE]:v,[i.DISTRIBUTION_METRIC_TYPE]:T,[i.SET_METRIC_TYPE]:E};e.CounterMetric=g,e.DistributionMetric=T,e.GaugeMetric=v,e.METRIC_MAP=_,e.SetMetric=E},47406:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l="_sentryMetrics";function g(T){const E=T[l];if(!E)return;const _={};for(const[,[h,f]]of E)_[h]||(_[h]=[]),_[h].push(i.dropUndefinedKeys(f));return _}function v(T,E,_,h,f,I,b){const d=T[l]||(T[l]=new Map),p=`${E}:${_}@${f}`,u=d.get(b);if(u){const[,C]=u;d.set(b,[p,{min:Math.min(C.min,h),max:Math.max(C.max,h),count:C.count+=1,sum:C.sum+=h,tags:C.tags}])}else d.set(b,[p,{min:h,max:h,count:1,sum:h,tags:I}])}e.getMetricSummaryJsonForSpan=g,e.updateMetricSummaryOnSpan=v},97358:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077);function l(S,d,p,u){const C=Object.entries(i.dropUndefinedKeys(u)).sort((m,n)=>m[0].localeCompare(n[0]));return`${S}${d}${p}${C}`}function g(S){let d=0;for(let p=0;p<S.length;p++){const u=S.charCodeAt(p);d=(d<<5)-d+u,d&=d}return d>>>0}function v(S){let d="";for(const p of S){const u=Object.entries(p.tags),C=u.length>0?`|#${u.map(([m,n])=>`${m}:${n}`).join(",")}`:"";d+=`${p.name}@${p.unit}:${p.metric}|${p.metricType}${C}|T${p.timestamp}
`}return d}function T(S){return S.replace(/[^\w]+/gi,"_")}function E(S){return S.replace(/[^\w\-.]+/gi,"_")}function _(S){return S.replace(/[^\w\-./]+/gi,"")}const h=[[`
`,"\\n"],["\r","\\r"],["	","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function f(S){for(const[d,p]of h)if(S===d)return p;return S}function I(S){return[...S].reduce((d,p)=>d+f(p),"")}function b(S){const d={};for(const p in S)if(Object.prototype.hasOwnProperty.call(S,p)){const u=_(p);d[u]=I(String(S[p]))}return d}e.getBucketKey=l,e.sanitizeMetricKey=E,e.sanitizeTags=b,e.sanitizeUnit=T,e.serializeMetricBuckets=v,e.simpleHash=g},25:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(45681),g=o(82436),v=100;class T{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=i.generatePropagationContext()}clone(){const h=new T;return h._breadcrumbs=[...this._breadcrumbs],h._tags=H({},this._tags),h._extra=H({},this._extra),h._contexts=H({},this._contexts),h._user=this._user,h._level=this._level,h._session=this._session,h._transactionName=this._transactionName,h._fingerprint=this._fingerprint,h._eventProcessors=[...this._eventProcessors],h._requestSession=this._requestSession,h._attachments=[...this._attachments],h._sdkProcessingMetadata=H({},this._sdkProcessingMetadata),h._propagationContext=H({},this._propagationContext),h._client=this._client,h._lastEventId=this._lastEventId,g._setSpanForScope(h,g._getSpanForScope(this)),h}setClient(h){this._client=h}setLastEventId(h){this._lastEventId=h}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(h){this._scopeListeners.push(h)}addEventProcessor(h){return this._eventProcessors.push(h),this}setUser(h){return this._user=h||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&l.updateSession(this._session,{user:h}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(h){return this._requestSession=h,this}setTags(h){return this._tags=H(H({},this._tags),h),this._notifyScopeListeners(),this}setTag(h,f){return this._tags=Ie(H({},this._tags),{[h]:f}),this._notifyScopeListeners(),this}setExtras(h){return this._extra=H(H({},this._extra),h),this._notifyScopeListeners(),this}setExtra(h,f){return this._extra=Ie(H({},this._extra),{[h]:f}),this._notifyScopeListeners(),this}setFingerprint(h){return this._fingerprint=h,this._notifyScopeListeners(),this}setLevel(h){return this._level=h,this._notifyScopeListeners(),this}setTransactionName(h){return this._transactionName=h,this._notifyScopeListeners(),this}setContext(h,f){return f===null?delete this._contexts[h]:this._contexts[h]=f,this._notifyScopeListeners(),this}setSession(h){return h?this._session=h:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(h){if(!h)return this;const f=typeof h=="function"?h(this):h,[I,b]=f instanceof E?[f.getScopeData(),f.getRequestSession()]:i.isPlainObject(f)?[h,h.requestSession]:[],{tags:S,extra:d,user:p,contexts:u,level:C,fingerprint:m=[],propagationContext:n}=I||{};return this._tags=H(H({},this._tags),S),this._extra=H(H({},this._extra),d),this._contexts=H(H({},this._contexts),u),p&&Object.keys(p).length&&(this._user=p),C&&(this._level=C),m.length&&(this._fingerprint=m),n&&(this._propagationContext=n),b&&(this._requestSession=b),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,g._setSpanForScope(this,void 0),this._attachments=[],this._propagationContext=i.generatePropagationContext(),this._notifyScopeListeners(),this}addBreadcrumb(h,f){const I=typeof f=="number"?f:v;if(I<=0)return this;const b=H({timestamp:i.dateTimestampInSeconds()},h),S=this._breadcrumbs;return S.push(b),this._breadcrumbs=S.length>I?S.slice(-I):S,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(h){return this._attachments.push(h),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:g._getSpanForScope(this)}}setSDKProcessingMetadata(h){return this._sdkProcessingMetadata=H(H({},this._sdkProcessingMetadata),h),this}setPropagationContext(h){return this._propagationContext=h,this}getPropagationContext(){return this._propagationContext}captureException(h,f){const I=f&&f.event_id?f.event_id:i.uuid4();if(!this._client)return i.logger.warn("No client configured on scope - will not capture exception!"),I;const b=new Error("Sentry syntheticException");return this._client.captureException(h,Ie(H({originalException:h,syntheticException:b},f),{event_id:I}),this),I}captureMessage(h,f,I){const b=I&&I.event_id?I.event_id:i.uuid4();if(!this._client)return i.logger.warn("No client configured on scope - will not capture message!"),b;const S=new Error(h);return this._client.captureMessage(h,f,Ie(H({originalException:h,syntheticException:S},I),{event_id:b}),this),b}captureEvent(h,f){const I=f&&f.event_id?f.event_id:i.uuid4();return this._client?(this._client.captureEvent(h,Ie(H({},f),{event_id:I}),this),I):(i.logger.warn("No client configured on scope - will not capture event!"),I)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(h=>{h(this)}),this._notifyingListeners=!1)}}const E=T;e.Scope=E},85485:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(28625),g=o(76335);function v(E,_){_.debug===!0&&(g.DEBUG_BUILD?i.logger.enable():i.consoleSandbox(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),l.getCurrentScope().update(_.initialScope);const f=new E(_);T(f),f.init()}function T(E){l.getCurrentScope().setClient(E)}e.initAndBind=v,e.setCurrentClient=T},14124:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o="sentry.source",i="sentry.sample_rate",l="sentry.op",g="sentry.origin",v="sentry.idle_span_finish_reason",T="sentry.measurement_unit",E="sentry.measurement_value",_="sentry.profile_id",h="sentry.exclusive_time",f="cache.hit",I="cache.key",b="cache.item_size";e.SEMANTIC_ATTRIBUTE_CACHE_HIT=f,e.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE=b,e.SEMANTIC_ATTRIBUTE_CACHE_KEY=I,e.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME=h,e.SEMANTIC_ATTRIBUTE_PROFILE_ID=_,e.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON=v,e.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT=T,e.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE=E,e.SEMANTIC_ATTRIBUTE_SENTRY_OP=l,e.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=g,e.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=i,e.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=o},77619:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(4343),g=o(2086),v=o(28625),T=o(76335),E=o(24452),_=o(5489),h=o(82436),f=o(95542),I=o(93729);class b extends l.BaseClient{constructor(d){_.registerSpanErrorInstrumentation(),super(d)}eventFromException(d,p){return i.resolvedSyncPromise(i.eventFromUnknownInput(this,this._options.stackParser,d,p))}eventFromMessage(d,p="info",u){return i.resolvedSyncPromise(i.eventFromMessage(this._options.stackParser,d,p,u,this._options.attachStacktrace))}captureException(d,p,u){if(this._options.autoSessionTracking&&this._sessionFlusher){const C=v.getIsolationScope().getRequestSession();C&&C.status==="ok"&&(C.status="errored")}return super.captureException(d,p,u)}captureEvent(d,p,u){if(this._options.autoSessionTracking&&this._sessionFlusher&&(d.type||"exception")==="exception"&&d.exception&&d.exception.values&&d.exception.values.length>0){const n=v.getIsolationScope().getRequestSession();n&&n.status==="ok"&&(n.status="errored")}return super.captureEvent(d,p,u)}close(d){return this._sessionFlusher&&this._sessionFlusher.close(),super.close(d)}initSessionFlusher(){const{release:d,environment:p}=this._options;d?this._sessionFlusher=new E.SessionFlusher(this,{release:d,environment:p}):T.DEBUG_BUILD&&i.logger.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")}captureCheckIn(d,p,u){const C="checkInId"in d&&d.checkInId?d.checkInId:i.uuid4();if(!this._isEnabled())return T.DEBUG_BUILD&&i.logger.warn("SDK not enabled, will not capture checkin."),C;const m=this.getOptions(),{release:n,environment:r,tunnel:a}=m,y={check_in_id:C,monitor_slug:d.monitorSlug,status:d.status,release:n,environment:r};"duration"in d&&(y.duration=d.duration),p&&(y.monitor_config={schedule:p.schedule,checkin_margin:p.checkinMargin,max_runtime:p.maxRuntime,timezone:p.timezone,failure_issue_threshold:p.failureIssueThreshold,recovery_threshold:p.recoveryThreshold});const[R,A]=this._getTraceInfoFromScope(u);A&&(y.contexts={trace:A});const w=g.createCheckInEnvelope(y,R,this.getSdkMetadata(),a,this.getDsn());return T.DEBUG_BUILD&&i.logger.info("Sending checkin:",d.monitorSlug,d.status),this.sendEnvelope(w),C}_captureRequestSession(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():T.DEBUG_BUILD&&i.logger.warn("Discarded request mode session because autoSessionTracking option was disabled")}_prepareEvent(d,p,u,C){return this._options.platform&&(d.platform=d.platform||this._options.platform),this._options.runtime&&(d.contexts=Ie(H({},d.contexts),{runtime:(d.contexts||{}).runtime||this._options.runtime})),this._options.serverName&&(d.server_name=d.server_name||this._options.serverName),super._prepareEvent(d,p,u,C)}_getTraceInfoFromScope(d){if(!d)return[void 0,void 0];const p=h._getSpanForScope(d);if(p){const a=f.getRootSpan(p);return[I.getDynamicSamplingContextFromSpan(a),f.spanToTraceContext(a)]}const{traceId:u,spanId:C,parentSpanId:m,dsc:n}=d.getPropagationContext(),r={trace_id:u,span_id:C,parent_span_id:m};return n?[n,r]:[I.getDynamicSamplingContextFromClient(u,this),r]}}e.ServerRuntimeClient=b},45681:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077);function l(E){const _=i.timestampInSeconds(),h={sid:i.uuid4(),init:!0,timestamp:_,started:_,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>T(h)};return E&&g(h,E),h}function g(E,_={}){if(_.user&&(!E.ipAddress&&_.user.ip_address&&(E.ipAddress=_.user.ip_address),!E.did&&!_.did&&(E.did=_.user.id||_.user.email||_.user.username)),E.timestamp=_.timestamp||i.timestampInSeconds(),_.abnormal_mechanism&&(E.abnormal_mechanism=_.abnormal_mechanism),_.ignoreDuration&&(E.ignoreDuration=_.ignoreDuration),_.sid&&(E.sid=_.sid.length===32?_.sid:i.uuid4()),_.init!==void 0&&(E.init=_.init),!E.did&&_.did&&(E.did=`${_.did}`),typeof _.started=="number"&&(E.started=_.started),E.ignoreDuration)E.duration=void 0;else if(typeof _.duration=="number")E.duration=_.duration;else{const h=E.timestamp-E.started;E.duration=h>=0?h:0}_.release&&(E.release=_.release),_.environment&&(E.environment=_.environment),!E.ipAddress&&_.ipAddress&&(E.ipAddress=_.ipAddress),!E.userAgent&&_.userAgent&&(E.userAgent=_.userAgent),typeof _.errors=="number"&&(E.errors=_.errors),_.status&&(E.status=_.status)}function v(E,_){let h={};_?h={status:_}:E.status==="ok"&&(h={status:"exited"}),g(E,h)}function T(E){return i.dropUndefinedKeys({sid:`${E.sid}`,init:E.init,started:new Date(E.started*1e3).toISOString(),timestamp:new Date(E.timestamp*1e3).toISOString(),status:E.status,errors:E.errors,did:typeof E.did=="number"||typeof E.did=="string"?`${E.did}`:void 0,duration:E.duration,abnormal_mechanism:E.abnormal_mechanism,attrs:{release:E.release,environment:E.environment,ip_address:E.ipAddress,user_agent:E.userAgent}})}e.closeSession=v,e.makeSession=l,e.updateSession=g},24452:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(28625);class g{constructor(T,E){this._client=T,this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._intervalId=setInterval(()=>this.flush(),this.flushTimeout*1e3),this._intervalId.unref&&this._intervalId.unref(),this._sessionAttrs=E}flush(){const T=this.getSessionAggregates();T.aggregates.length!==0&&(this._pendingAggregates={},this._client.sendSession(T))}getSessionAggregates(){const T=Object.keys(this._pendingAggregates).map(_=>this._pendingAggregates[parseInt(_)]),E={attrs:this._sessionAttrs,aggregates:T};return i.dropUndefinedKeys(E)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;const T=l.getIsolationScope(),E=T.getRequestSession();E&&E.status&&(this._incrementSessionStatusCount(E.status,new Date),T.setRequestSession(void 0))}_incrementSessionStatusCount(T,E){const _=new Date(E).setSeconds(0,0);this._pendingAggregates[_]=this._pendingAggregates[_]||{};const h=this._pendingAggregates[_];switch(h.started||(h.started=new Date(_).toISOString()),T){case"errored":return h.errored=(h.errored||0)+1,h.errored;case"ok":return h.exited=(h.exited||0)+1,h.exited;default:return h.crashed=(h.crashed||0)+1,h.crashed}}}e.SessionFlusher=g},93729:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(41480),g=o(28625),v=o(14124),T=o(95542),E="_frozenDsc";function _(b,S){const d=b;i.addNonEnumerableProperty(d,E,S)}function h(b,S){const d=S.getOptions(),{publicKey:p}=S.getDsn()||{},u=i.dropUndefinedKeys({environment:d.environment||l.DEFAULT_ENVIRONMENT,release:d.release,public_key:p,trace_id:b});return S.emit("createDsc",u),u}function f(b){const S=g.getClient();if(!S)return{};const d=h(T.spanToJSON(b).trace_id||"",S),p=T.getRootSpan(b);if(!p)return d;const u=p[E];if(u)return u;const C=T.spanToJSON(p),m=C.data||{},n=m[v.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE];n!=null&&(d.sample_rate=`${n}`);const r=m[v.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];return r&&r!=="url"&&(d.transaction=C.description),d.sampled=String(T.spanIsSampled(p)),S.emit("createDsc",d),d}function I(b){const S=f(b);return i.dynamicSamplingContextToSentryBaggageHeader(S)}e.freezeDscOnSpan=_,e.getDynamicSamplingContextFromClient=h,e.getDynamicSamplingContextFromSpan=f,e.spanToBaggageHeader=I},5489:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(76335),g=o(95542),v=o(56728);let T=!1;function E(){T||(T=!0,i.addGlobalErrorInstrumentationHandler(_),i.addGlobalUnhandledRejectionInstrumentationHandler(_))}function _(){const h=g.getActiveSpan(),f=h&&g.getRootSpan(h);if(f){const I="internal_error";l.DEBUG_BUILD&&i.logger.log(`[Tracing] Root span: ${I} -> Global error occured`),f.setStatus({code:v.SPAN_STATUS_ERROR,message:I})}}_.tag="sentry_tracingErrorCallback",e.registerSpanErrorInstrumentation=E},67873:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(5489);function l(){i.registerSpanErrorInstrumentation()}e.addTracingExtensions=l},49620:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(28625),g=o(76335),v=o(14124),T=o(73844),E=o(82436),_=o(95542),h=o(70987),f=o(56728),I=o(95009),b={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},S="heartbeatFailed",d="idleTimeout",p="finalTimeout",u="externalFinish";function C(n,r={}){const a=new Map;let y=!1,R,A=u,w=!r.disableAutoFinish;const{idleTimeout:P=b.idleTimeout,finalTimeout:x=b.finalTimeout,childSpanTimeout:$=b.childSpanTimeout,beforeSpanEnd:K}=r,U=l.getClient();if(!U||!T.hasTracingEnabled())return new h.SentryNonRecordingSpan;const ee=l.getCurrentScope(),Y=_.getActiveSpan(),B=m(n);function z(pe=i.timestampInSeconds()){const Se=_.getSpanDescendants(B).filter(ie=>ie!==B);if(!Se.length){B.end(pe);return}const Ae=Se.map(ie=>_.spanToJSON(ie).timestamp).filter(ie=>!!ie),nt=Ae.length?Math.max(...Ae):void 0,V=_.spanTimeInputToSeconds(pe),se=_.spanToJSON(B).start_timestamp,ne=Math.min(se?se+x/1e3:1/0,Math.max(se||-1/0,Math.min(V,nt||1/0)));B.end(ne)}function te(){R&&(clearTimeout(R),R=void 0)}function ue(pe){te(),R=setTimeout(()=>{!y&&a.size===0&&w&&(A=d,z(pe))},P)}function fe(pe){R=setTimeout(()=>{!y&&w&&(A=S,z(pe))},$)}function he(pe){te(),a.set(pe,!0);const Se=i.timestampInSeconds();fe(Se+$/1e3)}function q(pe){if(a.has(pe)&&a.delete(pe),a.size===0){const Se=i.timestampInSeconds();ue(Se+P/1e3)}}function le(){y=!0,a.clear(),K&&K(B),E._setSpanForScope(ee,Y);const pe=_.spanToJSON(B),{timestamp:Se,start_timestamp:Ae}=pe;if(!Se||!Ae)return;(pe.data||{})[v.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON]||B.setAttribute(v.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,A),i.logger.log(`[Tracing] Idle span "${pe.op}" finished`);const V=_.getSpanDescendants(B).filter(ne=>ne!==B);let se=0;V.forEach(ne=>{ne.isRecording()&&(ne.setStatus({code:f.SPAN_STATUS_ERROR,message:"cancelled"}),ne.end(Se),g.DEBUG_BUILD&&i.logger.log("[Tracing] Cancelling span since span ended early",JSON.stringify(ne,void 0,2)));const ie=_.spanToJSON(ne),{timestamp:de=0,start_timestamp:ve=0}=ie,Le=ve<=Se,Ue=(x+P)/1e3,He=de-ve<Ue;if(g.DEBUG_BUILD){const Ve=JSON.stringify(ne,void 0,2);Le?He||i.logger.log("[Tracing] Discarding span since it finished after idle span final timeout",Ve):i.logger.log("[Tracing] Discarding span since it happened after idle span was finished",Ve)}(!He||!Le)&&(_.removeChildSpanFromSpan(B,ne),se++)}),se>0&&B.setAttribute("sentry.idle_span_discarded_spans",se)}return U.on("spanStart",pe=>{if(y||pe===B||_.spanToJSON(pe).timestamp)return;_.getSpanDescendants(B).includes(pe)&&he(pe.spanContext().spanId)}),U.on("spanEnd",pe=>{y||(q(pe.spanContext().spanId),pe===B&&le())}),U.on("idleSpanEnableAutoFinish",pe=>{pe===B&&(w=!0,ue(),a.size&&fe())}),r.disableAutoFinish||ue(),setTimeout(()=>{y||(B.setStatus({code:f.SPAN_STATUS_ERROR,message:"deadline_exceeded"}),A=p,z())},x),B}function m(n){const r=I.startInactiveSpan(n);return E._setSpanForScope(l.getCurrentScope(),r),g.DEBUG_BUILD&&i.logger.log("[Tracing] Started span is an idle span"),r}e.TRACING_DEFAULTS=b,e.startIdleSpan=C},7269:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(76335),g=o(95542);function v(E){if(!l.DEBUG_BUILD)return;const{description:_="< unknown name >",op:h="< unknown op >",parent_span_id:f}=g.spanToJSON(E),{spanId:I}=E.spanContext(),b=g.spanIsSampled(E),S=g.getRootSpan(E),d=S===E,p=`[Tracing] Starting ${b?"sampled":"unsampled"} ${d?"root ":""}span`,u=[`op: ${h}`,`name: ${_}`,`ID: ${I}`];if(f&&u.push(`parent ID: ${f}`),!d){const{op:C,description:m}=g.spanToJSON(S);u.push(`root ID: ${S.spanContext().spanId}`),C&&u.push(`root op: ${C}`),m&&u.push(`root description: ${m}`)}i.logger.log(`${p}
  ${u.join(`
  `)}`)}function T(E){if(!l.DEBUG_BUILD)return;const{description:_="< unknown name >",op:h="< unknown op >"}=g.spanToJSON(E),{spanId:f}=E.spanContext(),b=g.getRootSpan(E)===E,S=`[Tracing] Finishing "${h}" ${b?"root ":""}span "${_}" with ID ${f}`;i.logger.log(S)}e.logSpanEnd=T,e.logSpanStart=v},72256:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(14124),l=o(95542);function g(T,E,_){const h=l.getActiveSpan(),f=h&&l.getRootSpan(h);f&&f.addEvent(T,{[i.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:E,[i.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:_})}function v(T){if(!T||T.length===0)return;const E={};return T.forEach(_=>{const h=_.attributes||{},f=h[i.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT],I=h[i.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE];typeof f=="string"&&typeof I=="number"&&(E[_.name]={value:I,unit:f})}),E}e.setMeasurement=g,e.timedEventsToMeasurements=v},23359:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(76335),g=o(73844),v=o(2564);function T(E,_){if(!g.hasTracingEnabled(E))return[!1];let h;typeof E.tracesSampler=="function"?h=E.tracesSampler(_):_.parentSampled!==void 0?h=_.parentSampled:typeof E.tracesSampleRate!="undefined"?h=E.tracesSampleRate:h=1;const f=v.parseSampleRate(h);return f===void 0?(l.DEBUG_BUILD&&i.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):f?Math.random()<f?[!0,f]:(l.DEBUG_BUILD&&i.logger.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(h)})`),[!1,f]):(l.DEBUG_BUILD&&i.logger.log(`[Tracing] Discarding transaction because ${typeof E.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,f])}e.sampleSpan=T},70987:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(95542);class g{constructor(T={}){this._traceId=T.traceId||i.uuid4(),this._spanId=T.spanId||i.uuid4().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:l.TRACE_FLAG_NONE}}end(T){}setAttribute(T,E){return this}setAttributes(T){return this}setStatus(T){return this}updateName(T){return this}isRecording(){return!1}addEvent(T,E,_){return this}}e.SentryNonRecordingSpan=g},70413:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(28625),g=o(76335),v=o(11757),T=o(47406),E=o(14124),_=o(95542),h=o(93729),f=o(7269),I=o(72256),b=o(97209),S=1e3;class d{constructor(r={}){this._traceId=r.traceId||i.uuid4(),this._spanId=r.spanId||i.uuid4().substring(16),this._startTime=r.startTimestamp||i.timestampInSeconds(),this._attributes={},this.setAttributes(H({[E.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"manual",[E.SEMANTIC_ATTRIBUTE_SENTRY_OP]:r.op},r.attributes)),this._name=r.name,r.parentSpanId&&(this._parentSpanId=r.parentSpanId),"sampled"in r&&(this._sampled=r.sampled),r.endTimestamp&&(this._endTime=r.endTimestamp),this._events=[],this._isStandaloneSpan=r.isStandalone,this._endTime&&this._onSpanEnded()}spanContext(){const{_spanId:r,_traceId:a,_sampled:y}=this;return{spanId:r,traceId:a,traceFlags:y?_.TRACE_FLAG_SAMPLED:_.TRACE_FLAG_NONE}}setAttribute(r,a){a===void 0?delete this._attributes[r]:this._attributes[r]=a}setAttributes(r){Object.keys(r).forEach(a=>this.setAttribute(a,r[a]))}updateStartTime(r){this._startTime=_.spanTimeInputToSeconds(r)}setStatus(r){return this._status=r,this}updateName(r){return this._name=r,this}end(r){this._endTime||(this._endTime=_.spanTimeInputToSeconds(r),f.logSpanEnd(this),this._onSpanEnded())}getSpanJSON(){return i.dropUndefinedKeys({data:this._attributes,description:this._name,op:this._attributes[E.SEMANTIC_ATTRIBUTE_SENTRY_OP],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:_.getStatusMessage(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[E.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],_metrics_summary:T.getMetricSummaryJsonForSpan(this),profile_id:this._attributes[E.SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:this._attributes[E.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:I.timedEventsToMeasurements(this._events),is_segment:this._isStandaloneSpan&&_.getRootSpan(this)===this||void 0,segment_id:this._isStandaloneSpan?_.getRootSpan(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(r,a,y){g.DEBUG_BUILD&&i.logger.log("[Tracing] Adding an event to span:",r);const R=p(a)?a:y||i.timestampInSeconds(),A=p(a)?{}:a||{},w={name:r,time:_.spanTimeInputToSeconds(R),attributes:A};return this._events.push(w),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const r=l.getClient();if(r&&r.emit("spanEnd",this),!(this._isStandaloneSpan||this===_.getRootSpan(this)))return;if(this._isStandaloneSpan){m(v.createSpanEnvelope([this],r));return}const y=this._convertSpanToTransaction();y&&(b.getCapturedScopesOnSpan(this).scope||l.getCurrentScope()).captureEvent(y)}_convertSpanToTransaction(){if(!u(_.spanToJSON(this)))return;this._name||(g.DEBUG_BUILD&&i.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:r,isolationScope:a}=b.getCapturedScopesOnSpan(this),R=(r||l.getCurrentScope()).getClient()||l.getClient();if(this._sampled!==!0){g.DEBUG_BUILD&&i.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),R&&R.recordDroppedEvent("sample_rate","transaction");return}const w=_.getSpanDescendants(this).filter(U=>U!==this&&!C(U)).map(U=>_.spanToJSON(U)).filter(u),P=this._attributes[E.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],x=H({contexts:{trace:_.spanToTransactionTraceContext(this)},spans:w.length>S?w.sort((U,ee)=>U.start_timestamp-ee.start_timestamp).slice(0,S):w,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:H({capturedSpanScope:r,capturedSpanIsolationScope:a},i.dropUndefinedKeys({dynamicSamplingContext:h.getDynamicSamplingContextFromSpan(this)})),_metrics_summary:T.getMetricSummaryJsonForSpan(this)},P&&{transaction_info:{source:P}}),$=I.timedEventsToMeasurements(this._events);return $&&Object.keys($).length&&(g.DEBUG_BUILD&&i.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify($,void 0,2)),x.measurements=$),x}}function p(n){return n&&typeof n=="number"||n instanceof Date||Array.isArray(n)}function u(n){return!!n.start_timestamp&&!!n.timestamp&&!!n.span_id&&!!n.trace_id}function C(n){return n instanceof d&&n.isStandaloneSpan()}function m(n){const r=l.getClient();if(!r)return;const a=n[1];if(!a||a.length===0){r.recordDroppedEvent("before_send","span");return}const y=r.getTransport();y&&y.send(n).then(null,R=>{g.DEBUG_BUILD&&i.logger.error("Error while sending span:",R)})}e.SentrySpan=d},56728:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=0,i=1,l=2;function g(T){if(T<400&&T>=100)return{code:i};if(T>=400&&T<500)switch(T){case 401:return{code:l,message:"unauthenticated"};case 403:return{code:l,message:"permission_denied"};case 404:return{code:l,message:"not_found"};case 409:return{code:l,message:"already_exists"};case 413:return{code:l,message:"failed_precondition"};case 429:return{code:l,message:"resource_exhausted"};case 499:return{code:l,message:"cancelled"};default:return{code:l,message:"invalid_argument"}}if(T>=500&&T<600)switch(T){case 501:return{code:l,message:"unimplemented"};case 503:return{code:l,message:"unavailable"};case 504:return{code:l,message:"deadline_exceeded"};default:return{code:l,message:"internal_error"}}return{code:l,message:"unknown_error"}}function v(T,E){T.setAttribute("http.response.status_code",E);const _=g(E);_.message!=="unknown_error"&&T.setStatus(_)}e.SPAN_STATUS_ERROR=l,e.SPAN_STATUS_OK=i,e.SPAN_STATUS_UNSET=o,e.getSpanStatusFromHttpCode=g,e.setHttpStatus=v},95009:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(99909),g=o(28625),v=o(82473),T=o(76335),E=o(14124),_=o(80749),h=o(73844),f=o(82436),I=o(95542),b=o(93729),S=o(7269),d=o(23359),p=o(70987),u=o(70413),C=o(56728),m=o(97209),n="__SENTRY_SUPPRESS_TRACING__";function r(B,z){const te=K();if(te.startSpan)return te.startSpan(B,z);const ue=$(B);return g.withScope(B.scope,fe=>{const he=Y(fe),le=B.onlyIfParent&&!he?new p.SentryNonRecordingSpan:x({parentSpan:he,spanContext:ue,forceTransaction:B.forceTransaction,scope:fe});return f._setSpanForScope(fe,le),_.handleCallbackErrors(()=>z(le),()=>{const{status:pe}=I.spanToJSON(le);le.isRecording()&&(!pe||pe==="ok")&&le.setStatus({code:C.SPAN_STATUS_ERROR,message:"internal_error"})},()=>le.end())})}function a(B,z){const te=K();if(te.startSpanManual)return te.startSpanManual(B,z);const ue=$(B);return g.withScope(B.scope,fe=>{const he=Y(fe),le=B.onlyIfParent&&!he?new p.SentryNonRecordingSpan:x({parentSpan:he,spanContext:ue,forceTransaction:B.forceTransaction,scope:fe});f._setSpanForScope(fe,le);function pe(){le.end()}return _.handleCallbackErrors(()=>z(le,pe),()=>{const{status:Se}=I.spanToJSON(le);le.isRecording()&&(!Se||Se==="ok")&&le.setStatus({code:C.SPAN_STATUS_ERROR,message:"internal_error"})})})}function y(B){const z=K();if(z.startInactiveSpan)return z.startInactiveSpan(B);const te=$(B),ue=B.scope||g.getCurrentScope(),fe=Y(ue);return B.onlyIfParent&&!fe?new p.SentryNonRecordingSpan:x({parentSpan:fe,spanContext:te,forceTransaction:B.forceTransaction,scope:ue})}const R=({sentryTrace:B,baggage:z},te)=>g.withScope(ue=>{const fe=i.propagationContextFromHeaders(B,z);return ue.setPropagationContext(fe),te()});function A(B,z){const te=K();return te.withActiveSpan?te.withActiveSpan(B,z):g.withScope(ue=>(f._setSpanForScope(ue,B||void 0),z(ue)))}function w(B){const z=K();return z.suppressTracing?z.suppressTracing(B):g.withScope(te=>(te.setSDKProcessingMetadata({[n]:!0}),B()))}function P(B){return g.withScope(z=>(z.setPropagationContext(i.generatePropagationContext()),T.DEBUG_BUILD&&i.logger.info(`Starting a new trace with id ${z.getPropagationContext().traceId}`),A(null,B)))}function x({parentSpan:B,spanContext:z,forceTransaction:te,scope:ue}){if(!h.hasTracingEnabled())return new p.SentryNonRecordingSpan;const fe=g.getIsolationScope();let he;if(B&&!te)he=ee(B,ue,z),I.addChildSpanToSpan(B,he);else if(B){const q=b.getDynamicSamplingContextFromSpan(B),{traceId:le,spanId:pe}=B.spanContext(),Se=I.spanIsSampled(B);he=U(H({traceId:le,parentSpanId:pe},z),ue,Se),b.freezeDscOnSpan(he,q)}else{const{traceId:q,dsc:le,parentSpanId:pe,sampled:Se}=H(H({},fe.getPropagationContext()),ue.getPropagationContext());he=U(H({traceId:q,parentSpanId:pe},z),ue,Se),le&&b.freezeDscOnSpan(he,le)}return S.logSpanStart(he),m.setCapturedScopesOnSpan(he,ue,fe),he}function $(B){const z=B.experimental||{},te=H({isStandalone:z.standalone},B);if(B.startTime){const ue=H({},te);return ue.startTimestamp=I.spanTimeInputToSeconds(B.startTime),delete ue.startTime,ue}return te}function K(){const B=l.getMainCarrier();return v.getAsyncContextStrategy(B)}function U(B,z,te){const ue=g.getClient(),fe=ue&&ue.getOptions()||{},{name:he="",attributes:q}=B,[le,pe]=z.getScopeData().sdkProcessingMetadata[n]?[!1]:d.sampleSpan(fe,{name:he,parentSampled:te,attributes:q,transactionContext:{name:he,parentSampled:te}}),Se=new u.SentrySpan(Ie(H({},B),{attributes:H({[E.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"custom"},B.attributes),sampled:le}));return pe!==void 0&&Se.setAttribute(E.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,pe),ue&&ue.emit("spanStart",Se),Se}function ee(B,z,te){const{spanId:ue,traceId:fe}=B.spanContext(),he=z.getScopeData().sdkProcessingMetadata[n]?!1:I.spanIsSampled(B),q=he?new u.SentrySpan(Ie(H({},te),{parentSpanId:ue,traceId:fe,sampled:he})):new p.SentryNonRecordingSpan({traceId:fe});I.addChildSpanToSpan(B,q);const le=g.getClient();return le&&(le.emit("spanStart",q),te.endTimestamp&&le.emit("spanEnd",q)),q}function Y(B){const z=f._getSpanForScope(B);if(!z)return;const te=g.getClient();return(te?te.getOptions():{}).parentSpanIsAlwaysRootSpan?I.getRootSpan(z):z}e.continueTrace=R,e.startInactiveSpan=y,e.startNewTrace=P,e.startSpan=r,e.startSpanManual=a,e.suppressTracing=w,e.withActiveSpan=A},97209:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l="_sentryScope",g="_sentryIsolationScope";function v(E,_,h){E&&(i.addNonEnumerableProperty(E,g,h),i.addNonEnumerableProperty(E,l,_))}function T(E){return{scope:E[l],isolationScope:E[g]}}e.stripUrlQueryAndFragment=i.stripUrlQueryAndFragment,e.getCapturedScopesOnSpan=T,e.setCapturedScopesOnSpan=v},98179:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(76335),g=64;function v(E,_,h=i.makePromiseBuffer(E.bufferSize||g)){let f={};const I=S=>h.drain(S);function b(S){const d=[];if(i.forEachEnvelopeItem(S,(m,n)=>{const r=i.envelopeItemTypeToDataCategory(n);if(i.isRateLimited(f,r)){const a=T(m,n);E.recordDroppedEvent("ratelimit_backoff",r,a)}else d.push(m)}),d.length===0)return i.resolvedSyncPromise({});const p=i.createEnvelope(S[0],d),u=m=>{i.forEachEnvelopeItem(p,(n,r)=>{const a=T(n,r);E.recordDroppedEvent(m,i.envelopeItemTypeToDataCategory(r),a)})},C=()=>_({body:i.serializeEnvelope(p)}).then(m=>(m.statusCode!==void 0&&(m.statusCode<200||m.statusCode>=300)&&l.DEBUG_BUILD&&i.logger.warn(`Sentry responded with status code ${m.statusCode} to sent event.`),f=i.updateRateLimits(f,m),m),m=>{throw u("network_error"),m});return h.add(C).then(m=>m,m=>{if(m instanceof i.SentryError)return l.DEBUG_BUILD&&i.logger.error("Skipped sending event because buffer is full."),u("queue_overflow"),i.resolvedSyncPromise({});throw m})}return{send:b,flush:I}}function T(E,_){if(!(_!=="event"&&_!=="transaction"))return Array.isArray(E)?E[1]:void 0}e.DEFAULT_TRANSPORT_BUFFER_SIZE=g,e.createTransport=v},95129:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(41385);function g(_,h){let f;return i.forEachEnvelopeItem(_,(I,b)=>(h.includes(b)&&(f=Array.isArray(I)?I[1]:void 0),!!f)),f}function v(_,h){return f=>{const I=_(f);return Ie(H({},I),{send:b=>Oe(this,null,function*(){const S=g(b,["event","transaction","profile","replay_event"]);return S&&(S.release=h),I.send(b)})})}}function T(_,h){return i.createEnvelope(h?Ie(H({},_[0]),{dsn:h}):_[0],_[1])}function E(_,h){return f=>{const I=_(f),b=new Map;function S(u,C){const m=C?`${u}:${C}`:u;let n=b.get(m);if(!n){const r=i.dsnFromString(u);if(!r)return;const a=l.getEnvelopeEndpointWithUrlEncodedAuth(r,f.tunnel);n=C?v(_,C)(Ie(H({},f),{url:a})):_(Ie(H({},f),{url:a})),b.set(m,n)}return[u,n]}function d(u){return Oe(this,null,function*(){function C(r){const a=r&&r.length?r:["event"];return g(u,a)}const m=h({envelope:u,getEvent:C}).map(r=>typeof r=="string"?S(r,void 0):S(r.dsn,r.release)).filter(r=>!!r);return m.length===0&&m.push(["",I]),(yield Promise.all(m.map(([r,a])=>a.send(T(u,r)))))[0]})}function p(u){return Oe(this,null,function*(){const C=[...b.values(),I];return(yield Promise.all(C.map(n=>n.flush(u)))).every(n=>n)})}return{send:d,flush:p}}}e.eventFromEnvelope=g,e.makeMultiplexedTransport=E},58035:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(76335),g=100,v=5e3,T=36e5;function E(_){function h(...f){l.DEBUG_BUILD&&i.logger.info("[Offline]:",...f)}return f=>{const I=_(f);if(!f.createStore)throw new Error("No `createStore` function was provided");const b=f.createStore(f);let S=v,d;function p(n,r,a){return i.envelopeContainsItemType(n,["client_report"])?!1:f.shouldStore?f.shouldStore(n,r,a):!0}function u(n){d&&clearTimeout(d),d=setTimeout(()=>Oe(this,null,function*(){d=void 0;const r=yield b.shift();r&&(h("Attempting to send previously queued event"),r[0].sent_at=new Date().toISOString(),m(r,!0).catch(a=>{h("Failed to retry sending",a)}))}),n),typeof d!="number"&&d.unref&&d.unref()}function C(){d||(u(S),S=Math.min(S*2,T))}function m(n,r=!1){return Oe(this,null,function*(){if(!r&&i.envelopeContainsItemType(n,["replay_event","replay_recording"]))return yield b.push(n),u(g),{};try{const a=yield I.send(n);let y=g;if(a){if(a.headers&&a.headers["retry-after"])y=i.parseRetryAfterHeader(a.headers["retry-after"]);else if(a.headers&&a.headers["x-sentry-rate-limits"])y=6e4;else if((a.statusCode||0)>=400)return a}return u(y),S=v,a}catch(a){if(yield p(n,a,S))return r?yield b.unshift(n):yield b.push(n),C(),h("Error sending. Event queued.",a),{};throw a}})}return f.flushAtStartup&&C(),{send:m,flush:n=>I.flush(n)}}}e.MIN_DELAY=g,e.START_DELAY=v,e.makeOfflineTransport=E},70794:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(28625),g=o(56530),v=o(14124);o(5489),o(76335);const T=o(95009),E={mechanism:{handled:!1,data:{function:"trpcMiddleware"}}};function _(h={}){return function(f){const{path:I,type:b,next:S,rawInput:d}=f,p=l.getClient(),u=p&&p.getOptions(),C={procedure_type:b};(h.attachRpcInput!==void 0?h.attachRpcInput:u&&u.sendDefaultPii)&&(C.input=i.normalize(d)),g.setContext("trpc",C);function m(n){typeof n=="object"&&n!==null&&"ok"in n&&!n.ok&&"error"in n&&g.captureException(n.error,E)}return T.startSpanManual({name:`trpc/${I}`,op:"rpc.server",attributes:{[v.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"route",[v.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.rpc.trpc"}},n=>{let r;try{r=S()}catch(a){throw g.captureException(a,E),n.end(),a}return i.isThenable(r)?r.then(a=>(m(a),n.end(),a),a=>{throw g.captureException(a,E),n.end(),a}):(m(r),n.end(),r)})}}e.trpcMiddleware=_},42408:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(93729),g=o(95542);function v(S,d){const{fingerprint:p,span:u,breadcrumbs:C,sdkProcessingMetadata:m}=d;_(S,d),u&&I(S,u),b(S,p),h(S,C),f(S,m)}function T(S,d){const{extra:p,tags:u,user:C,contexts:m,level:n,sdkProcessingMetadata:r,breadcrumbs:a,fingerprint:y,eventProcessors:R,attachments:A,propagationContext:w,transactionName:P,span:x}=d;E(S,"extra",p),E(S,"tags",u),E(S,"user",C),E(S,"contexts",m),E(S,"sdkProcessingMetadata",r),n&&(S.level=n),P&&(S.transactionName=P),x&&(S.span=x),a.length&&(S.breadcrumbs=[...S.breadcrumbs,...a]),y.length&&(S.fingerprint=[...S.fingerprint,...y]),R.length&&(S.eventProcessors=[...S.eventProcessors,...R]),A.length&&(S.attachments=[...S.attachments,...A]),S.propagationContext=H(H({},S.propagationContext),w)}function E(S,d,p){if(p&&Object.keys(p).length){S[d]=H({},S[d]);for(const u in p)Object.prototype.hasOwnProperty.call(p,u)&&(S[d][u]=p[u])}}function _(S,d){const{extra:p,tags:u,user:C,contexts:m,level:n,transactionName:r}=d,a=i.dropUndefinedKeys(p);a&&Object.keys(a).length&&(S.extra=H(H({},a),S.extra));const y=i.dropUndefinedKeys(u);y&&Object.keys(y).length&&(S.tags=H(H({},y),S.tags));const R=i.dropUndefinedKeys(C);R&&Object.keys(R).length&&(S.user=H(H({},R),S.user));const A=i.dropUndefinedKeys(m);A&&Object.keys(A).length&&(S.contexts=H(H({},A),S.contexts)),n&&(S.level=n),r&&S.type!=="transaction"&&(S.transaction=r)}function h(S,d){const p=[...S.breadcrumbs||[],...d];S.breadcrumbs=p.length?p:void 0}function f(S,d){S.sdkProcessingMetadata=H(H({},S.sdkProcessingMetadata),d)}function I(S,d){S.contexts=H({trace:g.spanToTraceContext(d)},S.contexts),S.sdkProcessingMetadata=H({dynamicSamplingContext:l.getDynamicSamplingContextFromSpan(d)},S.sdkProcessingMetadata);const p=g.getRootSpan(d),u=g.spanToJSON(p).description;u&&!S.transaction&&S.type==="transaction"&&(S.transaction=u)}function b(S,d){S.fingerprint=S.fingerprint?i.arrayify(S.fingerprint):[],d&&(S.fingerprint=S.fingerprint.concat(d)),S.fingerprint&&!S.fingerprint.length&&delete S.fingerprint}e.applyScopeDataToEvent=v,e.mergeAndOverwriteScopeData=E,e.mergeScopeData=T},80749:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077);function l(v,T,E=()=>{}){let _;try{_=v()}catch(h){throw T(h),E(),h}return g(_,T,E)}function g(v,T,E){return i.isThenable(v)?v.then(_=>(E(),_),_=>{throw T(_),E(),_}):(E(),v)}e.handleCallbackErrors=l},73844:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(28625);function l(v){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const T=v||g();return!!T&&(T.enableTracing||"tracesSampleRate"in T||"tracesSampler"in T)}function g(){const v=i.getClient();return v&&v.getOptions()}e.hasTracingEnabled=l},89922:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(v,T){const E=T&&T.getDsn(),_=T&&T.getOptions().tunnel;return l(v,E)||i(v,_)}function i(v,T){return T?g(v)===g(T):!1}function l(v,T){return T?v.includes(T.host):!1}function g(v){return v[v.length-1]==="/"?v.slice(0,-1):v}e.isSentryRequestUrl=o},73628:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(i,...l){const g=new String(String.raw(i,...l));return g.__sentry_template_string__=i.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),g.__sentry_template_values__=l,g}e.parameterize=o},2564:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(76335);function g(v){if(typeof v=="boolean")return Number(v);const T=typeof v=="string"?parseFloat(v):v;if(typeof T!="number"||isNaN(T)||T<0||T>1){l.DEBUG_BUILD&&i.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(v)} of type ${JSON.stringify(typeof v)}.`);return}return T}e.parseSampleRate=g},19730:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(41480),g=o(28625),v=o(41728),T=o(25),E=o(42408);function _(r,a,y,R,A,w){const{normalizeDepth:P=3,normalizeMaxBreadth:x=1e3}=r,$=Ie(H({},a),{event_id:a.event_id||y.event_id||i.uuid4(),timestamp:a.timestamp||i.dateTimestampInSeconds()}),K=y.integrations||r.integrations.map(ue=>ue.name);h($,r),S($,K),a.type===void 0&&I($,r.stackParser);const U=p(R,y.captureContext);y.mechanism&&i.addExceptionMechanism($,y.mechanism);const ee=A?A.getEventProcessors():[],Y=g.getGlobalScope().getScopeData();if(w){const ue=w.getScopeData();E.mergeScopeData(Y,ue)}if(U){const ue=U.getScopeData();E.mergeScopeData(Y,ue)}const B=[...y.attachments||[],...Y.attachments];B.length&&(y.attachments=B),E.applyScopeDataToEvent($,Y);const z=[...ee,...Y.eventProcessors];return v.notifyEventProcessors(z,$,y).then(ue=>(ue&&b(ue),typeof P=="number"&&P>0?d(ue,P,x):ue))}function h(r,a){const{environment:y,release:R,dist:A,maxValueLength:w=250}=a;"environment"in r||(r.environment="environment"in a?y:l.DEFAULT_ENVIRONMENT),r.release===void 0&&R!==void 0&&(r.release=R),r.dist===void 0&&A!==void 0&&(r.dist=A),r.message&&(r.message=i.truncate(r.message,w));const P=r.exception&&r.exception.values&&r.exception.values[0];P&&P.value&&(P.value=i.truncate(P.value,w));const x=r.request;x&&x.url&&(x.url=i.truncate(x.url,w))}const f=new WeakMap;function I(r,a){const y=i.GLOBAL_OBJ._sentryDebugIds;if(!y)return;let R;const A=f.get(a);A?R=A:(R=new Map,f.set(a,R));const w=Object.keys(y).reduce((P,x)=>{let $;const K=R.get(x);K?$=K:($=a(x),R.set(x,$));for(let U=$.length-1;U>=0;U--){const ee=$[U];if(ee.filename){P[ee.filename]=y[x];break}}return P},{});try{r.exception.values.forEach(P=>{P.stacktrace.frames.forEach(x=>{x.filename&&(x.debug_id=w[x.filename])})})}catch(P){}}function b(r){const a={};try{r.exception.values.forEach(R=>{R.stacktrace.frames.forEach(A=>{A.debug_id&&(A.abs_path?a[A.abs_path]=A.debug_id:A.filename&&(a[A.filename]=A.debug_id),delete A.debug_id)})})}catch(R){}if(Object.keys(a).length===0)return;r.debug_meta=r.debug_meta||{},r.debug_meta.images=r.debug_meta.images||[];const y=r.debug_meta.images;Object.keys(a).forEach(R=>{y.push({type:"sourcemap",code_file:R,debug_id:a[R]})})}function S(r,a){a.length>0&&(r.sdk=r.sdk||{},r.sdk.integrations=[...r.sdk.integrations||[],...a])}function d(r,a,y){if(!r)return null;const R=H(H(H(H(H({},r),r.breadcrumbs&&{breadcrumbs:r.breadcrumbs.map(A=>H(H({},A),A.data&&{data:i.normalize(A.data,a,y)}))}),r.user&&{user:i.normalize(r.user,a,y)}),r.contexts&&{contexts:i.normalize(r.contexts,a,y)}),r.extra&&{extra:i.normalize(r.extra,a,y)});return r.contexts&&r.contexts.trace&&R.contexts&&(R.contexts.trace=r.contexts.trace,r.contexts.trace.data&&(R.contexts.trace.data=i.normalize(r.contexts.trace.data,a,y))),r.spans&&(R.spans=r.spans.map(A=>H(H({},A),A.data&&{data:i.normalize(A.data,a,y)}))),R}function p(r,a){if(!a)return r;const y=r?r.clone():new T.Scope;return y.update(a),y}function u(r){if(r)return C(r)?{captureContext:r}:n(r)?{captureContext:r}:r}function C(r){return r instanceof T.Scope||typeof r=="function"}const m=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function n(r){return Object.keys(r).some(a=>m.includes(a))}e.applyDebugIds=I,e.applyDebugMeta=b,e.parseEventHintOrCaptureContext=u,e.prepareEvent=_},44274:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077);function l(g,v,T=[v],E="npm"){const _=g._metadata||{};_.sdk||(_.sdk={name:`sentry.javascript.${v}`,packages:T.map(h=>({name:`${E}:@sentry/${h}`,version:i.SDK_VERSION})),version:i.SDK_VERSION}),g._metadata=_}e.applySdkMetadata=l},82436:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l="_sentrySpan";function g(T,E){E?i.addNonEnumerableProperty(T,l,E):delete T[l]}function v(T){return T[l]}e._getSpanForScope=v,e._setSpanForScope=g},95542:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),l=o(82473),g=o(99909),v=o(28625),T=o(47406),E=o(14124),_=o(56728),h=o(82436),f=0,I=1;function b(U){const{spanId:ee,traceId:Y}=U.spanContext(),{data:B,op:z,parent_span_id:te,status:ue,origin:fe}=C(U);return i.dropUndefinedKeys({parent_span_id:te,span_id:ee,trace_id:Y,data:B,op:z,status:ue,origin:fe})}function S(U){const{spanId:ee,traceId:Y}=U.spanContext(),{parent_span_id:B}=C(U);return i.dropUndefinedKeys({parent_span_id:B,span_id:ee,trace_id:Y})}function d(U){const{traceId:ee,spanId:Y}=U.spanContext(),B=r(U);return i.generateSentryTraceHeader(ee,Y,B)}function p(U){return typeof U=="number"?u(U):Array.isArray(U)?U[0]+U[1]/1e9:U instanceof Date?u(U.getTime()):i.timestampInSeconds()}function u(U){return U>9999999999?U/1e3:U}function C(U){if(n(U))return U.getSpanJSON();try{const{spanId:ee,traceId:Y}=U.spanContext();if(m(U)){const{attributes:B,startTime:z,name:te,endTime:ue,parentSpanId:fe,status:he}=U;return i.dropUndefinedKeys({span_id:ee,trace_id:Y,data:B,description:te,parent_span_id:fe,start_timestamp:p(z),timestamp:p(ue)||void 0,status:a(he),op:B[E.SEMANTIC_ATTRIBUTE_SENTRY_OP],origin:B[E.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],_metrics_summary:T.getMetricSummaryJsonForSpan(U)})}return{span_id:ee,trace_id:Y}}catch(ee){return{}}}function m(U){const ee=U;return!!ee.attributes&&!!ee.startTime&&!!ee.name&&!!ee.endTime&&!!ee.status}function n(U){return typeof U.getSpanJSON=="function"}function r(U){const{traceFlags:ee}=U.spanContext();return ee===I}function a(U){if(!(!U||U.code===_.SPAN_STATUS_UNSET))return U.code===_.SPAN_STATUS_OK?"ok":U.message||"unknown_error"}const y="_sentryChildSpans",R="_sentryRootSpan";function A(U,ee){const Y=U[R]||U;i.addNonEnumerableProperty(ee,R,Y),U[y]?U[y].add(ee):i.addNonEnumerableProperty(U,y,new Set([ee]))}function w(U,ee){U[y]&&U[y].delete(ee)}function P(U){const ee=new Set;function Y(B){if(!ee.has(B)&&r(B)){ee.add(B);const z=B[y]?Array.from(B[y]):[];for(const te of z)Y(te)}}return Y(U),Array.from(ee)}function x(U){return U[R]||U}function $(){const U=g.getMainCarrier(),ee=l.getAsyncContextStrategy(U);return ee.getActiveSpan?ee.getActiveSpan():h._getSpanForScope(v.getCurrentScope())}function K(U,ee,Y,B,z,te){const ue=$();ue&&T.updateMetricSummaryOnSpan(ue,U,ee,Y,B,z,te)}e.TRACE_FLAG_NONE=f,e.TRACE_FLAG_SAMPLED=I,e.addChildSpanToSpan=A,e.getActiveSpan=$,e.getRootSpan=x,e.getSpanDescendants=P,e.getStatusMessage=a,e.removeChildSpanFromSpan=w,e.spanIsSampled=r,e.spanTimeInputToSeconds=p,e.spanToJSON=C,e.spanToTraceContext=S,e.spanToTraceHeader=d,e.spanToTransactionTraceContext=b,e.updateMetricSummaryOnActiveSpan=K},80716:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(91637),l=o(78084);function g(h,f,I=250,b,S,d,p){if(!d.exception||!d.exception.values||!p||!i.isInstanceOf(p.originalException,Error))return;const u=d.exception.values.length>0?d.exception.values[d.exception.values.length-1]:void 0;u&&(d.exception.values=_(v(h,f,S,p.originalException,b,d.exception.values,u,0),I))}function v(h,f,I,b,S,d,p,u){if(d.length>=I+1)return d;let C=[...d];if(i.isInstanceOf(b[S],Error)){T(p,u);const m=h(f,b[S]),n=C.length;E(m,S,n,u),C=v(h,f,I,b[S],S,[m,...C],m,n)}return Array.isArray(b.errors)&&b.errors.forEach((m,n)=>{if(i.isInstanceOf(m,Error)){T(p,u);const r=h(f,m),a=C.length;E(r,`errors[${n}]`,a,u),C=v(h,f,I,m,S,[r,...C],r,a)}}),C}function T(h,f){h.mechanism=h.mechanism||{type:"generic",handled:!0},h.mechanism=Ie(H(H({},h.mechanism),h.type==="AggregateError"&&{is_exception_group:!0}),{exception_id:f})}function E(h,f,I,b){h.mechanism=h.mechanism||{type:"generic",handled:!0},h.mechanism=Ie(H({},h.mechanism),{type:"chained",source:f,exception_id:I,parent_id:b})}function _(h,f){return h.map(I=>(I.value&&(I.value=l.truncate(I.value,f)),I))}e.applyAggregateErrorsToEvent=g},42810:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(13944),l=o(15142),g=o(12432);function v(E,_,h,f){const I=E();let b=!1,S=!0;return setInterval(()=>{const d=I.getTimeMs();b===!1&&d>_+h&&(b=!0,S&&f()),d<_+h&&(b=!1)},20),{poll:()=>{I.reset()},enabled:d=>{S=d}}}function T(E,_,h){const f=_?_.replace(/^file:\/\//,""):void 0,I=E.location.columnNumber?E.location.columnNumber+1:void 0,b=E.location.lineNumber?E.location.lineNumber+1:void 0;return l.dropUndefinedKeys({filename:f,module:h(f),function:E.functionName||g.UNKNOWN_FUNCTION,colno:I,lineno:b,in_app:f?i.filenameIsInApp(f):void 0})}e.callFrameToStackFrame=T,e.watchdogTimer=v},76691:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(12075),l=o(91637),g=o(3149),v="baggage",T="sentry-",E=/^sentry-/,_=8192;function h(d){const p=I(d);if(!p)return;const u=Object.entries(p).reduce((C,[m,n])=>{if(m.match(E)){const r=m.slice(T.length);C[r]=n}return C},{});if(Object.keys(u).length>0)return u}function f(d){if(!d)return;const p=Object.entries(d).reduce((u,[C,m])=>(m&&(u[`${T}${C}`]=m),u),{});return S(p)}function I(d){if(!(!d||!l.isString(d)&&!Array.isArray(d)))return Array.isArray(d)?d.reduce((p,u)=>{const C=b(u);for(const m of Object.keys(C))p[m]=C[m];return p},{}):b(d)}function b(d){return d.split(",").map(p=>p.split("=").map(u=>decodeURIComponent(u.trim()))).reduce((p,[u,C])=>(p[u]=C,p),{})}function S(d){if(Object.keys(d).length!==0)return Object.entries(d).reduce((p,[u,C],m)=>{const n=`${encodeURIComponent(u)}=${encodeURIComponent(C)}`,r=m===0?n:`${p},${n}`;return r.length>_?(i.DEBUG_BUILD&&g.logger.warn(`Not adding key: ${u} with val: ${C} to baggage header due to exceeding baggage size limits.`),p):r},"")}e.BAGGAGE_HEADER_NAME=v,e.MAX_BAGGAGE_STRING_LENGTH=_,e.SENTRY_BAGGAGE_KEY_PREFIX=T,e.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=E,e.baggageHeaderToDynamicSamplingContext=h,e.dynamicSamplingContextToSentryBaggageHeader=f,e.parseBaggageHeader=I},11749:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(91637),g=o(43174).GLOBAL_OBJ,v=80;function T(I,b={}){if(!I)return"<unknown>";try{let S=I;const d=5,p=[];let u=0,C=0;const m=" > ",n=m.length;let r;const a=Array.isArray(b)?b:b.keyAttrs,y=!Array.isArray(b)&&b.maxStringLength||v;for(;S&&u++<d&&(r=E(S,a),!(r==="html"||u>1&&C+p.length*n+r.length>=y));)p.push(r),C+=r.length,S=S.parentNode;return p.reverse().join(m)}catch(S){return"<unknown>"}}function E(I,b){const S=I,d=[];let p,u,C,m,n;if(!S||!S.tagName)return"";if(g.HTMLElement&&S instanceof HTMLElement&&S.dataset){if(S.dataset.sentryComponent)return S.dataset.sentryComponent;if(S.dataset.sentryElement)return S.dataset.sentryElement}d.push(S.tagName.toLowerCase());const r=b&&b.length?b.filter(y=>S.getAttribute(y)).map(y=>[y,S.getAttribute(y)]):null;if(r&&r.length)r.forEach(y=>{d.push(`[${y[0]}="${y[1]}"]`)});else if(S.id&&d.push(`#${S.id}`),p=S.className,p&&i.isString(p))for(u=p.split(/\s+/),n=0;n<u.length;n++)d.push(`.${u[n]}`);const a=["aria-label","type","name","title","alt"];for(n=0;n<a.length;n++)C=a[n],m=S.getAttribute(C),m&&d.push(`[${C}="${m}"]`);return d.join("")}function _(){try{return g.document.location.href}catch(I){return""}}function h(I){return g.document&&g.document.querySelector?g.document.querySelector(I):null}function f(I){if(!g.HTMLElement)return null;let b=I;const S=5;for(let d=0;d<S;d++){if(!b)return null;if(b instanceof HTMLElement){if(b.dataset.sentryComponent)return b.dataset.sentryComponent;if(b.dataset.sentryElement)return b.dataset.sentryElement}b=b.parentNode}return null}e.getComponentName=f,e.getDomElement=h,e.getLocationHref=_,e.htmlTreeAsString=T},19035:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(4663);function l(g,v){return Oe(this,null,function*(){return i._nullishCoalesce(g,v)})}e._asyncNullishCoalesce=l},60726:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(i){return Oe(this,null,function*(){let l,g=i[0],v=1;for(;v<i.length;){const T=i[v],E=i[v+1];if(v+=2,(T==="optionalAccess"||T==="optionalCall")&&g==null)return;T==="access"||T==="optionalAccess"?(l=g,g=yield E(g)):(T==="call"||T==="optionalCall")&&(g=yield E((..._)=>g.call(l,..._)),l=void 0)}return g})}e._asyncOptionalChain=o},82013:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(60726);function l(g){return Oe(this,null,function*(){const v=yield i._asyncOptionalChain(g);return v==null?!0:v})}e._asyncOptionalChainDelete=l},4663:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(i,l){return i!=null?i:l()}e._nullishCoalesce=o},46610:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(i){let l,g=i[0],v=1;for(;v<i.length;){const T=i[v],E=i[v+1];if(v+=2,(T==="optionalAccess"||T==="optionalCall")&&g==null)return;T==="access"||T==="optionalAccess"?(l=g,g=E(g)):(T==="call"||T==="optionalCall")&&(g=E((..._)=>g.call(l,..._)),l=void 0)}return g}e._optionalChain=o},95705:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(46610);function l(g){const v=i._optionalChain(g);return v==null?!0:v}e._optionalChainDelete=l},99747:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(i){let l=[],g={};return{add(v,T){for(;l.length>=i;){const E=l.shift();E!==void 0&&delete g[E]}g[v]&&this.delete(v),l.push(v),g[v]=T},clear(){g={},l=[]},get(v){return g[v]},size(){return l.length},delete(v){if(!g[v])return!1;delete g[v];for(let T=0;T<l.length;T++)if(l[T]===v){l.splice(T,1);break}return!0}}}e.makeFifoCache=o},24976:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(18313),l=o(57260);function g(v,T,E){const _=[{type:"client_report"},{timestamp:E||l.dateTimestampInSeconds(),discarded_events:v}];return i.createEnvelope(T?{dsn:T}:{},[_])}e.createClientReportEnvelope=g},467:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(i){const l={};let g=0;for(;g<i.length;){const v=i.indexOf("=",g);if(v===-1)break;let T=i.indexOf(";",g);if(T===-1)T=i.length;else if(T<v){g=i.lastIndexOf(";",v-1)+1;continue}const E=i.slice(g,v).trim();if(l[E]===void 0){let _=i.slice(v+1,T).trim();_.charCodeAt(0)===34&&(_=_.slice(1,-1));try{l[E]=_.indexOf("%")!==-1?decodeURIComponent(_):_}catch(h){l[E]=_}}g=T+1}return l}e.parseCookie=o},12075:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;e.DEBUG_BUILD=o},92152:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(12075),l=o(3149),g=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function v(I){return I==="http"||I==="https"}function T(I,b=!1){const{host:S,path:d,pass:p,port:u,projectId:C,protocol:m,publicKey:n}=I;return`${m}://${n}${b&&p?`:${p}`:""}@${S}${u?`:${u}`:""}/${d&&`${d}/`}${C}`}function E(I){const b=g.exec(I);if(!b){l.consoleSandbox(()=>{console.error(`Invalid Sentry Dsn: ${I}`)});return}const[S,d,p="",u,C="",m]=b.slice(1);let n="",r=m;const a=r.split("/");if(a.length>1&&(n=a.slice(0,-1).join("/"),r=a.pop()),r){const y=r.match(/^\d+/);y&&(r=y[0])}return _({host:u,pass:p,path:n,projectId:r,port:C,protocol:S,publicKey:d})}function _(I){return{protocol:I.protocol,publicKey:I.publicKey||"",pass:I.pass||"",host:I.host,port:I.port||"",path:I.path||"",projectId:I.projectId}}function h(I){if(!i.DEBUG_BUILD)return!0;const{port:b,projectId:S,protocol:d}=I;return["protocol","publicKey","host","projectId"].find(C=>I[C]?!1:(l.logger.error(`Invalid Sentry Dsn: ${C} missing`),!0))?!1:S.match(/^\d+$/)?v(d)?b&&isNaN(parseInt(b,10))?(l.logger.error(`Invalid Sentry Dsn: Invalid port ${b}`),!1):!0:(l.logger.error(`Invalid Sentry Dsn: Invalid protocol ${d}`),!1):(l.logger.error(`Invalid Sentry Dsn: Invalid projectId ${S}`),!1)}function f(I){const b=typeof I=="string"?E(I):_(I);if(!(!b||!h(b)))return b}e.dsnFromString=E,e.dsnToString=T,e.makeDsn=f},730:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}function i(){return"npm"}e.getSDKSource=i,e.isBrowserBundle=o},18313:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(92152),l=o(19366),g=o(15142),v=o(43174);function T(a,y=[]){return[a,y]}function E(a,y){const[R,A]=a;return[R,[...A,y]]}function _(a,y){const R=a[1];for(const A of R){const w=A[0].type;if(y(A,w))return!0}return!1}function h(a,y){return _(a,(R,A)=>y.includes(A))}function f(a){return v.GLOBAL_OBJ.__SENTRY__&&v.GLOBAL_OBJ.__SENTRY__.encodePolyfill?v.GLOBAL_OBJ.__SENTRY__.encodePolyfill(a):new TextEncoder().encode(a)}function I(a){return v.GLOBAL_OBJ.__SENTRY__&&v.GLOBAL_OBJ.__SENTRY__.decodePolyfill?v.GLOBAL_OBJ.__SENTRY__.decodePolyfill(a):new TextDecoder().decode(a)}function b(a){const[y,R]=a;let A=JSON.stringify(y);function w(P){typeof A=="string"?A=typeof P=="string"?A+P:[f(A),P]:A.push(typeof P=="string"?f(P):P)}for(const P of R){const[x,$]=P;if(w(`
${JSON.stringify(x)}
`),typeof $=="string"||$ instanceof Uint8Array)w($);else{let K;try{K=JSON.stringify($)}catch(U){K=JSON.stringify(l.normalize($))}w(K)}}return typeof A=="string"?A:S(A)}function S(a){const y=a.reduce((w,P)=>w+P.length,0),R=new Uint8Array(y);let A=0;for(const w of a)R.set(w,A),A+=w.length;return R}function d(a){let y=typeof a=="string"?f(a):a;function R(x){const $=y.subarray(0,x);return y=y.subarray(x+1),$}function A(){let x=y.indexOf(10);return x<0&&(x=y.length),JSON.parse(I(R(x)))}const w=A(),P=[];for(;y.length;){const x=A(),$=typeof x.length=="number"?x.length:void 0;P.push([x,$?R($):A()])}return[w,P]}function p(a){return[{type:"span"},a]}function u(a){const y=typeof a.data=="string"?f(a.data):a.data;return[g.dropUndefinedKeys({type:"attachment",length:y.length,filename:a.filename,content_type:a.contentType,attachment_type:a.attachmentType}),y]}const C={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function m(a){return C[a]}function n(a){if(!a||!a.sdk)return;const{name:y,version:R}=a.sdk;return{name:y,version:R}}function r(a,y,R,A){const w=a.sdkProcessingMetadata&&a.sdkProcessingMetadata.dynamicSamplingContext;return H(H(H({event_id:a.event_id,sent_at:new Date().toISOString()},y&&{sdk:y}),!!R&&A&&{dsn:i.dsnToString(A)}),w&&{trace:g.dropUndefinedKeys(H({},w))})}e.addItemToEnvelope=E,e.createAttachmentEnvelopeItem=u,e.createEnvelope=T,e.createEventEnvelopeHeaders=r,e.createSpanEnvelopeItem=p,e.envelopeContainsItemType=h,e.envelopeItemTypeToDataCategory=m,e.forEachEnvelopeItem=_,e.getSdkMetadataForEnvelopeHeader=n,e.parseEnvelope=d,e.serializeEnvelope=b},98591:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});class o extends Error{constructor(l,g="warn"){super(l),this.message=l,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=g}}e.SentryError=o},31694:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(91637),l=o(32529),g=o(19366),v=o(15142);function T(d,p){return d(p.stack||"",1)}function E(d,p){const u={type:p.name||p.constructor.name,value:p.message},C=T(d,p);return C.length&&(u.stacktrace={frames:C}),u}function _(d){for(const p in d)if(Object.prototype.hasOwnProperty.call(d,p)){const u=d[p];if(u instanceof Error)return u}}function h(d){if("name"in d&&typeof d.name=="string"){let C=`'${d.name}' captured as exception`;return"message"in d&&typeof d.message=="string"&&(C+=` with message '${d.message}'`),C}else if("message"in d&&typeof d.message=="string")return d.message;const p=v.extractExceptionKeysForMessage(d);if(i.isErrorEvent(d))return`Event \`ErrorEvent\` captured as exception with message \`${d.message}\``;const u=f(d);return`${u&&u!=="Object"?`'${u}'`:"Object"} captured as exception with keys: ${p}`}function f(d){try{const p=Object.getPrototypeOf(d);return p?p.constructor.name:void 0}catch(p){}}function I(d,p,u,C){if(i.isError(u))return[u,void 0];if(p.synthetic=!0,i.isPlainObject(u)){const n=d&&d.getOptions().normalizeDepth,r={__serialized__:g.normalizeToSize(u,n)},a=_(u);if(a)return[a,r];const y=h(u),R=C&&C.syntheticException||new Error(y);return R.message=y,[R,r]}const m=C&&C.syntheticException||new Error(u);return m.message=`${u}`,[m,void 0]}function b(d,p,u,C){const n=C&&C.data&&C.data.mechanism||{handled:!0,type:"generic"},[r,a]=I(d,n,u,C),y={exception:{values:[E(p,r)]}};return a&&(y.extra=a),l.addExceptionTypeValue(y,void 0,void 0),l.addExceptionMechanism(y,n),Ie(H({},y),{event_id:C&&C.event_id})}function S(d,p,u="info",C,m){const n={event_id:C&&C.event_id,level:u};if(m&&C&&C.syntheticException){const r=T(d,C.syntheticException);r.length&&(n.exception={values:[{value:p,stacktrace:{frames:r}}]})}if(i.isParameterizedString(p)){const{__sentry_template_string__:r,__sentry_template_values__:a}=p;return n.logentry={message:r,params:a},n}return n.message=p,n}e.eventFromMessage=S,e.eventFromUnknownInput=b,e.exceptionFromError=E,e.parseStackFrames=T},17077:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(80716),l=o(11749),g=o(92152),v=o(98591),T=o(43174),E=o(35610),_=o(65247),h=o(65252),f=o(24110),I=o(33974),b=o(91637),S=o(69857),d=o(3149),p=o(47523),u=o(32529),C=o(58813),m=o(19366),n=o(15142),r=o(30846),a=o(57350),y=o(25272),R=o(30050),A=o(12432),w=o(13944),P=o(78084),x=o(44933),$=o(90709),K=o(57260),U=o(78779),ee=o(730),Y=o(18313),B=o(24976),z=o(28428),te=o(76691),ue=o(44148),fe=o(99747),he=o(31694),q=o(42810),le=o(41080),pe=o(19035),Se=o(60726),Ae=o(82013),nt=o(4663),V=o(46610),se=o(95705),ne=o(12124),ie=o(86477),de=o(66226),ve=o(3420);e.applyAggregateErrorsToEvent=i.applyAggregateErrorsToEvent,e.getComponentName=l.getComponentName,e.getDomElement=l.getDomElement,e.getLocationHref=l.getLocationHref,e.htmlTreeAsString=l.htmlTreeAsString,e.dsnFromString=g.dsnFromString,e.dsnToString=g.dsnToString,e.makeDsn=g.makeDsn,e.SentryError=v.SentryError,e.GLOBAL_OBJ=T.GLOBAL_OBJ,e.getGlobalSingleton=T.getGlobalSingleton,e.addConsoleInstrumentationHandler=E.addConsoleInstrumentationHandler,e.addFetchInstrumentationHandler=_.addFetchInstrumentationHandler,e.addGlobalErrorInstrumentationHandler=h.addGlobalErrorInstrumentationHandler,e.addGlobalUnhandledRejectionInstrumentationHandler=f.addGlobalUnhandledRejectionInstrumentationHandler,e.addHandler=I.addHandler,e.maybeInstrument=I.maybeInstrument,e.resetInstrumentationHandlers=I.resetInstrumentationHandlers,e.triggerHandlers=I.triggerHandlers,e.isDOMError=b.isDOMError,e.isDOMException=b.isDOMException,e.isElement=b.isElement,e.isError=b.isError,e.isErrorEvent=b.isErrorEvent,e.isEvent=b.isEvent,e.isInstanceOf=b.isInstanceOf,e.isParameterizedString=b.isParameterizedString,e.isPlainObject=b.isPlainObject,e.isPrimitive=b.isPrimitive,e.isRegExp=b.isRegExp,e.isString=b.isString,e.isSyntheticEvent=b.isSyntheticEvent,e.isThenable=b.isThenable,e.isVueViewModel=b.isVueViewModel,e.isBrowser=S.isBrowser,e.CONSOLE_LEVELS=d.CONSOLE_LEVELS,e.consoleSandbox=d.consoleSandbox,e.logger=d.logger,e.originalConsoleMethods=d.originalConsoleMethods,e.memoBuilder=p.memoBuilder,e.addContextToFrame=u.addContextToFrame,e.addExceptionMechanism=u.addExceptionMechanism,e.addExceptionTypeValue=u.addExceptionTypeValue,e.arrayify=u.arrayify,e.checkOrSetAlreadyCaught=u.checkOrSetAlreadyCaught,e.getEventDescription=u.getEventDescription,e.parseSemver=u.parseSemver,e.uuid4=u.uuid4,e.dynamicRequire=C.dynamicRequire,e.isNodeEnv=C.isNodeEnv,e.loadModule=C.loadModule,e.normalize=m.normalize,e.normalizeToSize=m.normalizeToSize,e.normalizeUrlToBase=m.normalizeUrlToBase,e.addNonEnumerableProperty=n.addNonEnumerableProperty,e.convertToPlainObject=n.convertToPlainObject,e.dropUndefinedKeys=n.dropUndefinedKeys,e.extractExceptionKeysForMessage=n.extractExceptionKeysForMessage,e.fill=n.fill,e.getOriginalFunction=n.getOriginalFunction,e.markFunctionWrapped=n.markFunctionWrapped,e.objectify=n.objectify,e.urlEncode=n.urlEncode,e.basename=r.basename,e.dirname=r.dirname,e.isAbsolute=r.isAbsolute,e.join=r.join,e.normalizePath=r.normalizePath,e.relative=r.relative,e.resolve=r.resolve,e.makePromiseBuffer=a.makePromiseBuffer,e.DEFAULT_USER_INCLUDES=y.DEFAULT_USER_INCLUDES,e.addRequestDataToEvent=y.addRequestDataToEvent,e.extractPathForTransaction=y.extractPathForTransaction,e.extractRequestData=y.extractRequestData,e.winterCGHeadersToDict=y.winterCGHeadersToDict,e.winterCGRequestToRequestData=y.winterCGRequestToRequestData,e.severityLevelFromString=R.severityLevelFromString,e.validSeverityLevels=R.validSeverityLevels,e.UNKNOWN_FUNCTION=A.UNKNOWN_FUNCTION,e.createStackParser=A.createStackParser,e.getFunctionName=A.getFunctionName,e.stackParserFromStackParserOptions=A.stackParserFromStackParserOptions,e.stripSentryFramesAndReverse=A.stripSentryFramesAndReverse,e.filenameIsInApp=w.filenameIsInApp,e.node=w.node,e.nodeStackLineParser=w.nodeStackLineParser,e.isMatchingPattern=P.isMatchingPattern,e.safeJoin=P.safeJoin,e.snipLine=P.snipLine,e.stringMatchesSomePattern=P.stringMatchesSomePattern,e.truncate=P.truncate,e.isNativeFunction=x.isNativeFunction,e.supportsDOMError=x.supportsDOMError,e.supportsDOMException=x.supportsDOMException,e.supportsErrorEvent=x.supportsErrorEvent,e.supportsFetch=x.supportsFetch,e.supportsNativeFetch=x.supportsNativeFetch,e.supportsReferrerPolicy=x.supportsReferrerPolicy,e.supportsReportingObserver=x.supportsReportingObserver,e.SyncPromise=$.SyncPromise,e.rejectedSyncPromise=$.rejectedSyncPromise,e.resolvedSyncPromise=$.resolvedSyncPromise,Object.defineProperty(e,"_browserPerformanceTimeOriginMode",{enumerable:!0,get:()=>K._browserPerformanceTimeOriginMode}),e.browserPerformanceTimeOrigin=K.browserPerformanceTimeOrigin,e.dateTimestampInSeconds=K.dateTimestampInSeconds,e.timestampInSeconds=K.timestampInSeconds,e.TRACEPARENT_REGEXP=U.TRACEPARENT_REGEXP,e.extractTraceparentData=U.extractTraceparentData,e.generateSentryTraceHeader=U.generateSentryTraceHeader,e.propagationContextFromHeaders=U.propagationContextFromHeaders,e.getSDKSource=ee.getSDKSource,e.isBrowserBundle=ee.isBrowserBundle,e.addItemToEnvelope=Y.addItemToEnvelope,e.createAttachmentEnvelopeItem=Y.createAttachmentEnvelopeItem,e.createEnvelope=Y.createEnvelope,e.createEventEnvelopeHeaders=Y.createEventEnvelopeHeaders,e.createSpanEnvelopeItem=Y.createSpanEnvelopeItem,e.envelopeContainsItemType=Y.envelopeContainsItemType,e.envelopeItemTypeToDataCategory=Y.envelopeItemTypeToDataCategory,e.forEachEnvelopeItem=Y.forEachEnvelopeItem,e.getSdkMetadataForEnvelopeHeader=Y.getSdkMetadataForEnvelopeHeader,e.parseEnvelope=Y.parseEnvelope,e.serializeEnvelope=Y.serializeEnvelope,e.createClientReportEnvelope=B.createClientReportEnvelope,e.DEFAULT_RETRY_AFTER=z.DEFAULT_RETRY_AFTER,e.disabledUntil=z.disabledUntil,e.isRateLimited=z.isRateLimited,e.parseRetryAfterHeader=z.parseRetryAfterHeader,e.updateRateLimits=z.updateRateLimits,e.BAGGAGE_HEADER_NAME=te.BAGGAGE_HEADER_NAME,e.MAX_BAGGAGE_STRING_LENGTH=te.MAX_BAGGAGE_STRING_LENGTH,e.SENTRY_BAGGAGE_KEY_PREFIX=te.SENTRY_BAGGAGE_KEY_PREFIX,e.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=te.SENTRY_BAGGAGE_KEY_PREFIX_REGEX,e.baggageHeaderToDynamicSamplingContext=te.baggageHeaderToDynamicSamplingContext,e.dynamicSamplingContextToSentryBaggageHeader=te.dynamicSamplingContextToSentryBaggageHeader,e.parseBaggageHeader=te.parseBaggageHeader,e.getNumberOfUrlSegments=ue.getNumberOfUrlSegments,e.getSanitizedUrlString=ue.getSanitizedUrlString,e.parseUrl=ue.parseUrl,e.stripUrlQueryAndFragment=ue.stripUrlQueryAndFragment,e.makeFifoCache=fe.makeFifoCache,e.eventFromMessage=he.eventFromMessage,e.eventFromUnknownInput=he.eventFromUnknownInput,e.exceptionFromError=he.exceptionFromError,e.parseStackFrames=he.parseStackFrames,e.callFrameToStackFrame=q.callFrameToStackFrame,e.watchdogTimer=q.watchdogTimer,e.LRUMap=le.LRUMap,e._asyncNullishCoalesce=pe._asyncNullishCoalesce,e._asyncOptionalChain=Se._asyncOptionalChain,e._asyncOptionalChainDelete=Ae._asyncOptionalChainDelete,e._nullishCoalesce=nt._nullishCoalesce,e._optionalChain=V._optionalChain,e._optionalChainDelete=se._optionalChainDelete,e.generatePropagationContext=ne.generatePropagationContext,e.SDK_VERSION=ie.SDK_VERSION,e.escapeStringForRegex=de.escapeStringForRegex,e.supportsHistory=ve.supportsHistory},35610:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(3149),l=o(15142),g=o(43174),v=o(33974);function T(_){const h="console";v.addHandler(h,_),v.maybeInstrument(h,E)}function E(){"console"in g.GLOBAL_OBJ&&i.CONSOLE_LEVELS.forEach(function(_){_ in g.GLOBAL_OBJ.console&&l.fill(g.GLOBAL_OBJ.console,_,function(h){return i.originalConsoleMethods[_]=h,function(...f){const I={args:f,level:_};v.triggerHandlers("console",I);const b=i.originalConsoleMethods[_];b&&b.apply(g.GLOBAL_OBJ.console,f)}})})}e.addConsoleInstrumentationHandler=T},65247:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(15142),l=o(44933),g=o(57260),v=o(43174),T=o(33974);function E(b){const S="fetch";T.addHandler(S,b),T.maybeInstrument(S,_)}function _(){l.supportsNativeFetch()&&i.fill(v.GLOBAL_OBJ,"fetch",function(b){return function(...S){const{method:d,url:p}=I(S),u={args:S,fetchData:{method:d,url:p},startTimestamp:g.timestampInSeconds()*1e3};return T.triggerHandlers("fetch",H({},u)),b.apply(v.GLOBAL_OBJ,S).then(C=>{const m=Ie(H({},u),{endTimestamp:g.timestampInSeconds()*1e3,response:C});return T.triggerHandlers("fetch",m),C},C=>{const m=Ie(H({},u),{endTimestamp:g.timestampInSeconds()*1e3,error:C});throw T.triggerHandlers("fetch",m),C})}})}function h(b,S){return!!b&&typeof b=="object"&&!!b[S]}function f(b){return typeof b=="string"?b:b?h(b,"url")?b.url:b.toString?b.toString():"":""}function I(b){if(b.length===0)return{method:"GET",url:""};if(b.length===2){const[d,p]=b;return{url:f(d),method:h(p,"method")?String(p.method).toUpperCase():"GET"}}const S=b[0];return{url:f(S),method:h(S,"method")?String(S.method).toUpperCase():"GET"}}e.addFetchInstrumentationHandler=E,e.parseFetchArgs=I},65252:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(43174),l=o(33974);let g=null;function v(E){const _="error";l.addHandler(_,E),l.maybeInstrument(_,T)}function T(){g=i.GLOBAL_OBJ.onerror,i.GLOBAL_OBJ.onerror=function(E,_,h,f,I){const b={column:f,error:I,line:h,msg:E,url:_};return l.triggerHandlers("error",b),g&&!g.__SENTRY_LOADER__?g.apply(this,arguments):!1},i.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}e.addGlobalErrorInstrumentationHandler=v},24110:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(43174),l=o(33974);let g=null;function v(E){const _="unhandledrejection";l.addHandler(_,E),l.maybeInstrument(_,T)}function T(){g=i.GLOBAL_OBJ.onunhandledrejection,i.GLOBAL_OBJ.onunhandledrejection=function(E){const _=E;return l.triggerHandlers("unhandledrejection",_),g&&!g.__SENTRY_LOADER__?g.apply(this,arguments):!0},i.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}e.addGlobalUnhandledRejectionInstrumentationHandler=v},33974:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(12075),l=o(3149),g=o(12432),v={},T={};function E(I,b){v[I]=v[I]||[],v[I].push(b)}function _(){Object.keys(v).forEach(I=>{v[I]=void 0})}function h(I,b){T[I]||(b(),T[I]=!0)}function f(I,b){const S=I&&v[I];if(S)for(const d of S)try{d(b)}catch(p){i.DEBUG_BUILD&&l.logger.error(`Error while triggering instrumentation handler.
Type: ${I}
Name: ${g.getFunctionName(d)}
Error:`,p)}}e.addHandler=E,e.maybeInstrument=h,e.resetInstrumentationHandlers=_,e.triggerHandlers=f},91637:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=Object.prototype.toString;function i(m){switch(o.call(m)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return u(m,Error)}}function l(m,n){return o.call(m)===`[object ${n}]`}function g(m){return l(m,"ErrorEvent")}function v(m){return l(m,"DOMError")}function T(m){return l(m,"DOMException")}function E(m){return l(m,"String")}function _(m){return typeof m=="object"&&m!==null&&"__sentry_template_string__"in m&&"__sentry_template_values__"in m}function h(m){return m===null||_(m)||typeof m!="object"&&typeof m!="function"}function f(m){return l(m,"Object")}function I(m){return typeof Event!="undefined"&&u(m,Event)}function b(m){return typeof Element!="undefined"&&u(m,Element)}function S(m){return l(m,"RegExp")}function d(m){return!!(m&&m.then&&typeof m.then=="function")}function p(m){return f(m)&&"nativeEvent"in m&&"preventDefault"in m&&"stopPropagation"in m}function u(m,n){try{return m instanceof n}catch(r){return!1}}function C(m){return!!(typeof m=="object"&&m!==null&&(m.__isVue||m._isVue))}e.isDOMError=v,e.isDOMException=T,e.isElement=b,e.isError=i,e.isErrorEvent=g,e.isEvent=I,e.isInstanceOf=u,e.isParameterizedString=_,e.isPlainObject=f,e.isPrimitive=h,e.isRegExp=S,e.isString=E,e.isSyntheticEvent=p,e.isThenable=d,e.isVueViewModel=C},69857:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(58813),l=o(43174);function g(){return typeof window!="undefined"&&(!i.isNodeEnv()||v())}function v(){return l.GLOBAL_OBJ.process!==void 0&&l.GLOBAL_OBJ.process.type==="renderer"}e.isBrowser=g},3149:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(12075),l=o(43174),g="Sentry Logger ",v=["debug","info","warn","error","log","assert","trace"],T={};function E(f){if(!("console"in l.GLOBAL_OBJ))return f();const I=l.GLOBAL_OBJ.console,b={},S=Object.keys(T);S.forEach(d=>{const p=T[d];b[d]=I[d],I[d]=p});try{return f()}finally{S.forEach(d=>{I[d]=b[d]})}}function _(){let f=!1;const I={enable:()=>{f=!0},disable:()=>{f=!1},isEnabled:()=>f};return i.DEBUG_BUILD?v.forEach(b=>{I[b]=(...S)=>{f&&E(()=>{l.GLOBAL_OBJ.console[b](`${g}[${b}]:`,...S)})}}):v.forEach(b=>{I[b]=()=>{}}),I}const h=_();e.CONSOLE_LEVELS=v,e.consoleSandbox=E,e.logger=h,e.originalConsoleMethods=T},41080:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});class o{constructor(l){this._maxSize=l,this._cache=new Map}get size(){return this._cache.size}get(l){const g=this._cache.get(l);if(g!==void 0)return this._cache.delete(l),this._cache.set(l,g),g}set(l,g){this._cache.size>=this._maxSize&&this._cache.delete(this._cache.keys().next().value),this._cache.set(l,g)}remove(l){const g=this._cache.get(l);return g&&this._cache.delete(l),g}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){const l=[];return this._cache.forEach(g=>l.push(g)),l}}e.LRUMap=o},47523:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(){const i=typeof WeakSet=="function",l=i?new WeakSet:[];function g(T){if(i)return l.has(T)?!0:(l.add(T),!1);for(let E=0;E<l.length;E++)if(l[E]===T)return!0;return l.push(T),!1}function v(T){if(i)l.delete(T);else for(let E=0;E<l.length;E++)if(l[E]===T){l.splice(E,1);break}}return[g,v]}e.memoBuilder=o},32529:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(15142),l=o(78084),g=o(43174);function v(){const p=g.GLOBAL_OBJ,u=p.crypto||p.msCrypto;let C=()=>Math.random()*16;try{if(u&&u.randomUUID)return u.randomUUID().replace(/-/g,"");u&&u.getRandomValues&&(C=()=>{const m=new Uint8Array(1);return u.getRandomValues(m),m[0]})}catch(m){}return("10000000100040008000"+1e11).replace(/[018]/g,m=>(m^(C()&15)>>m/4).toString(16))}function T(p){return p.exception&&p.exception.values?p.exception.values[0]:void 0}function E(p){const{message:u,event_id:C}=p;if(u)return u;const m=T(p);return m?m.type&&m.value?`${m.type}: ${m.value}`:m.type||m.value||C||"<unknown>":C||"<unknown>"}function _(p,u,C){const m=p.exception=p.exception||{},n=m.values=m.values||[],r=n[0]=n[0]||{};r.value||(r.value=u||""),r.type||(r.type=C||"Error")}function h(p,u){const C=T(p);if(!C)return;const m={type:"generic",handled:!0},n=C.mechanism;if(C.mechanism=H(H(H({},m),n),u),u&&"data"in u){const r=H(H({},n&&n.data),u.data);C.mechanism.data=r}}const f=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function I(p){const u=p.match(f)||[],C=parseInt(u[1],10),m=parseInt(u[2],10),n=parseInt(u[3],10);return{buildmetadata:u[5],major:isNaN(C)?void 0:C,minor:isNaN(m)?void 0:m,patch:isNaN(n)?void 0:n,prerelease:u[4]}}function b(p,u,C=5){if(u.lineno===void 0)return;const m=p.length,n=Math.max(Math.min(m-1,u.lineno-1),0);u.pre_context=p.slice(Math.max(0,n-C),n).map(r=>l.snipLine(r,0)),u.context_line=l.snipLine(p[Math.min(m-1,n)],u.colno||0),u.post_context=p.slice(Math.min(n+1,m),n+1+C).map(r=>l.snipLine(r,0))}function S(p){if(p&&p.__sentry_captured__)return!0;try{i.addNonEnumerableProperty(p,"__sentry_captured__",!0)}catch(u){}return!1}function d(p){return Array.isArray(p)?p:[p]}e.addContextToFrame=b,e.addExceptionMechanism=h,e.addExceptionTypeValue=_,e.arrayify=d,e.checkOrSetAlreadyCaught=S,e.getEventDescription=E,e.parseSemver=I,e.uuid4=v},13944:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(12432);function l(T,E=!1){return!(E||T&&!T.startsWith("/")&&!T.match(/^[A-Z]:/)&&!T.startsWith(".")&&!T.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&T!==void 0&&!T.includes("node_modules/")}function g(T){const E=/^\s*[-]{4,}$/,_=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return h=>{const f=h.match(_);if(f){let I,b,S,d,p;if(f[1]){S=f[1];let m=S.lastIndexOf(".");if(S[m-1]==="."&&m--,m>0){I=S.slice(0,m),b=S.slice(m+1);const n=I.indexOf(".Module");n>0&&(S=S.slice(n+1),I=I.slice(0,n))}d=void 0}b&&(d=I,p=b),b==="<anonymous>"&&(p=void 0,S=void 0),S===void 0&&(p=p||i.UNKNOWN_FUNCTION,S=d?`${d}.${p}`:p);let u=f[2]&&f[2].startsWith("file://")?f[2].slice(7):f[2];const C=f[5]==="native";return u&&u.match(/\/[A-Z]:/)&&(u=u.slice(1)),!u&&f[5]&&!C&&(u=f[5]),{filename:u,module:T?T(u):void 0,function:S,lineno:parseInt(f[3],10)||void 0,colno:parseInt(f[4],10)||void 0,in_app:l(u,C)}}if(h.match(E))return{filename:h}}}function v(T){return[90,g(T)]}e.filenameIsInApp=l,e.node=g,e.nodeStackLineParser=v},58813:(j,e,o)=>{j=o.nmd(j),Object.defineProperty(e,"__esModule",{value:!0});const i=o(730);function l(){return!i.isBrowserBundle()&&Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function g(T,E){return T.require(E)}function v(T){let E;try{E=g(j,T)}catch(_){}try{const{cwd:_}=g(j,"process");E=g(j,`${_()}/node_modules/${T}`)}catch(_){}return E}e.dynamicRequire=g,e.isNodeEnv=l,e.loadModule=v},19366:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(91637),l=o(47523),g=o(15142),v=o(12432);function T(d,p=100,u=1/0){try{return _("",d,p,u)}catch(C){return{ERROR:`**non-serializable** (${C})`}}}function E(d,p=3,u=100*1024){const C=T(d,p);return b(C)>u?E(d,p-1,u):C}function _(d,p,u=1/0,C=1/0,m=l.memoBuilder()){const[n,r]=m;if(p==null||["number","boolean","string"].includes(typeof p)&&!Number.isNaN(p))return p;const a=h(d,p);if(!a.startsWith("[object "))return a;if(p.__sentry_skip_normalization__)return p;const y=typeof p.__sentry_override_normalization_depth__=="number"?p.__sentry_override_normalization_depth__:u;if(y===0)return a.replace("object ","");if(n(p))return"[Circular ~]";const R=p;if(R&&typeof R.toJSON=="function")try{const x=R.toJSON();return _("",x,y-1,C,m)}catch(x){}const A=Array.isArray(p)?[]:{};let w=0;const P=g.convertToPlainObject(p);for(const x in P){if(!Object.prototype.hasOwnProperty.call(P,x))continue;if(w>=C){A[x]="[MaxProperties ~]";break}const $=P[x];A[x]=_(x,$,y-1,C,m),w++}return r(p),A}function h(d,p){try{if(d==="domain"&&p&&typeof p=="object"&&p._events)return"[Domain]";if(d==="domainEmitter")return"[DomainEmitter]";if(typeof o.g!="undefined"&&p===o.g)return"[Global]";if(typeof window!="undefined"&&p===window)return"[Window]";if(typeof document!="undefined"&&p===document)return"[Document]";if(i.isVueViewModel(p))return"[VueViewModel]";if(i.isSyntheticEvent(p))return"[SyntheticEvent]";if(typeof p=="number"&&p!==p)return"[NaN]";if(typeof p=="function")return`[Function: ${v.getFunctionName(p)}]`;if(typeof p=="symbol")return`[${String(p)}]`;if(typeof p=="bigint")return`[BigInt: ${String(p)}]`;const u=f(p);return/^HTML(\w*)Element$/.test(u)?`[HTMLElement: ${u}]`:`[object ${u}]`}catch(u){return`**non-serializable** (${u})`}}function f(d){const p=Object.getPrototypeOf(d);return p?p.constructor.name:"null prototype"}function I(d){return~-encodeURI(d).split(/%..|./).length}function b(d){return I(JSON.stringify(d))}function S(d,p){const u=p.replace(/\\/g,"/").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");let C=d;try{C=decodeURI(d)}catch(m){}return C.replace(/\\/g,"/").replace(/webpack:\/?/g,"").replace(new RegExp(`(file://)?/*${u}/*`,"ig"),"app:///")}e.normalize=T,e.normalizeToSize=E,e.normalizeUrlToBase=S},15142:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(11749),l=o(12075),g=o(91637),v=o(3149),T=o(78084);function E(r,a,y){if(!(a in r))return;const R=r[a],A=y(R);typeof A=="function"&&h(A,R),r[a]=A}function _(r,a,y){try{Object.defineProperty(r,a,{value:y,writable:!0,configurable:!0})}catch(R){l.DEBUG_BUILD&&v.logger.log(`Failed to add non-enumerable property "${a}" to object`,r)}}function h(r,a){try{const y=a.prototype||{};r.prototype=a.prototype=y,_(r,"__sentry_original__",a)}catch(y){}}function f(r){return r.__sentry_original__}function I(r){return Object.keys(r).map(a=>`${encodeURIComponent(a)}=${encodeURIComponent(r[a])}`).join("&")}function b(r){if(g.isError(r))return H({message:r.message,name:r.name,stack:r.stack},d(r));if(g.isEvent(r)){const a=H({type:r.type,target:S(r.target),currentTarget:S(r.currentTarget)},d(r));return typeof CustomEvent!="undefined"&&g.isInstanceOf(r,CustomEvent)&&(a.detail=r.detail),a}else return r}function S(r){try{return g.isElement(r)?i.htmlTreeAsString(r):Object.prototype.toString.call(r)}catch(a){return"<unknown>"}}function d(r){if(typeof r=="object"&&r!==null){const a={};for(const y in r)Object.prototype.hasOwnProperty.call(r,y)&&(a[y]=r[y]);return a}else return{}}function p(r,a=40){const y=Object.keys(b(r));if(y.sort(),!y.length)return"[object has no keys]";if(y[0].length>=a)return T.truncate(y[0],a);for(let R=y.length;R>0;R--){const A=y.slice(0,R).join(", ");if(!(A.length>a))return R===y.length?A:T.truncate(A,a)}return""}function u(r){return C(r,new Map)}function C(r,a){if(m(r)){const y=a.get(r);if(y!==void 0)return y;const R={};a.set(r,R);for(const A of Object.keys(r))typeof r[A]!="undefined"&&(R[A]=C(r[A],a));return R}if(Array.isArray(r)){const y=a.get(r);if(y!==void 0)return y;const R=[];return a.set(r,R),r.forEach(A=>{R.push(C(A,a))}),R}return r}function m(r){if(!g.isPlainObject(r))return!1;try{const a=Object.getPrototypeOf(r).constructor.name;return!a||a==="Object"}catch(a){return!0}}function n(r){let a;switch(!0){case r==null:a=new String(r);break;case(typeof r=="symbol"||typeof r=="bigint"):a=Object(r);break;case g.isPrimitive(r):a=new r.constructor(r);break;default:a=r;break}return a}e.addNonEnumerableProperty=_,e.convertToPlainObject=b,e.dropUndefinedKeys=u,e.extractExceptionKeysForMessage=p,e.fill=E,e.getOriginalFunction=f,e.markFunctionWrapped=h,e.objectify=n,e.urlEncode=I},30846:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(b,S){let d=0;for(let p=b.length-1;p>=0;p--){const u=b[p];u==="."?b.splice(p,1):u===".."?(b.splice(p,1),d++):d&&(b.splice(p,1),d--)}if(S)for(;d--;d)b.unshift("..");return b}const i=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function l(b){const S=b.length>1024?`<truncated>${b.slice(-1024)}`:b,d=i.exec(S);return d?d.slice(1):[]}function g(...b){let S="",d=!1;for(let p=b.length-1;p>=-1&&!d;p--){const u=p>=0?b[p]:"/";u&&(S=`${u}/${S}`,d=u.charAt(0)==="/")}return S=o(S.split("/").filter(p=>!!p),!d).join("/"),(d?"/":"")+S||"."}function v(b){let S=0;for(;S<b.length&&b[S]==="";S++);let d=b.length-1;for(;d>=0&&b[d]==="";d--);return S>d?[]:b.slice(S,d-S+1)}function T(b,S){b=g(b).slice(1),S=g(S).slice(1);const d=v(b.split("/")),p=v(S.split("/")),u=Math.min(d.length,p.length);let C=u;for(let n=0;n<u;n++)if(d[n]!==p[n]){C=n;break}let m=[];for(let n=C;n<d.length;n++)m.push("..");return m=m.concat(p.slice(C)),m.join("/")}function E(b){const S=_(b),d=b.slice(-1)==="/";let p=o(b.split("/").filter(u=>!!u),!S).join("/");return!p&&!S&&(p="."),p&&d&&(p+="/"),(S?"/":"")+p}function _(b){return b.charAt(0)==="/"}function h(...b){return E(b.join("/"))}function f(b){const S=l(b),d=S[0];let p=S[1];return!d&&!p?".":(p&&(p=p.slice(0,p.length-1)),d+p)}function I(b,S){let d=l(b)[2];return S&&d.slice(S.length*-1)===S&&(d=d.slice(0,d.length-S.length)),d}e.basename=I,e.dirname=f,e.isAbsolute=_,e.join=h,e.normalizePath=E,e.relative=T,e.resolve=g},57350:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(98591),l=o(90709);function g(v){const T=[];function E(){return v===void 0||T.length<v}function _(I){return T.splice(T.indexOf(I),1)[0]}function h(I){if(!E())return l.rejectedSyncPromise(new i.SentryError("Not adding Promise because buffer limit was reached."));const b=I();return T.indexOf(b)===-1&&T.push(b),b.then(()=>_(b)).then(null,()=>_(b).then(null,()=>{})),b}function f(I){return new l.SyncPromise((b,S)=>{let d=T.length;if(!d)return b(!0);const p=setTimeout(()=>{I&&I>0&&b(!1)},I);T.forEach(u=>{l.resolvedSyncPromise(u).then(()=>{--d||(clearTimeout(p),b(!0))},S)})})}return{$:T,add:h,drain:f}}e.makePromiseBuffer=g},12124:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(32529);function l(){return{traceId:i.uuid4(),spanId:i.uuid4().substring(16)}}e.generatePropagationContext=l},28428:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=60*1e3;function i(T,E=Date.now()){const _=parseInt(`${T}`,10);if(!isNaN(_))return _*1e3;const h=Date.parse(`${T}`);return isNaN(h)?o:h-E}function l(T,E){return T[E]||T.all||0}function g(T,E,_=Date.now()){return l(T,E)>_}function v(T,{statusCode:E,headers:_},h=Date.now()){const f=H({},T),I=_&&_["x-sentry-rate-limits"],b=_&&_["retry-after"];if(I)for(const S of I.trim().split(",")){const[d,p,,,u]=S.split(":",5),C=parseInt(d,10),m=(isNaN(C)?60:C)*1e3;if(!p)f.all=h+m;else for(const n of p.split(";"))n==="metric_bucket"?(!u||u.split(";").includes("custom"))&&(f[n]=h+m):f[n]=h+m}else b?f.all=h+i(b,h):E===429&&(f.all=h+60*1e3);return f}e.DEFAULT_RETRY_AFTER=o,e.disabledUntil=l,e.isRateLimited=g,e.parseRetryAfterHeader=i,e.updateRateLimits=v},25272:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(467),l=o(12075),g=o(91637),v=o(3149),T=o(19366),E=o(44148),_={ip:!1,request:!0,transaction:!0,user:!0},h=["cookies","data","headers","method","query_string","url"],f=["id","username","email"];function I(n,r={}){const a=n.method&&n.method.toUpperCase();let y="",R="url";r.customRoute||n.route?(y=r.customRoute||`${n.baseUrl||""}${n.route&&n.route.path}`,R="route"):(n.originalUrl||n.url)&&(y=E.stripUrlQueryAndFragment(n.originalUrl||n.url||""));let A="";return r.method&&a&&(A+=a),r.method&&r.path&&(A+=" "),r.path&&y&&(A+=y),[A,R]}function b(n,r){switch(r){case"path":return I(n,{path:!0})[0];case"handler":return n.route&&n.route.stack&&n.route.stack[0]&&n.route.stack[0].name||"<anonymous>";case"methodPath":default:{const a=n._reconstructedRoute?n._reconstructedRoute:void 0;return I(n,{path:!0,method:!0,customRoute:a})[0]}}}function S(n,r){const a={};return(Array.isArray(r)?r:f).forEach(R=>{n&&R in n&&(a[R]=n[R])}),a}function d(n,r){const{include:a=h}=r||{},y={},R=n.headers||{},A=n.method,w=R.host||n.hostname||n.host||"<no host>",P=n.protocol==="https"||n.socket&&n.socket.encrypted?"https":"http",x=n.originalUrl||n.url||"",$=x.startsWith(P)?x:`${P}://${w}${x}`;return a.forEach(K=>{switch(K){case"headers":{y.headers=R,a.includes("cookies")||delete y.headers.cookie;break}case"method":{y.method=A;break}case"url":{y.url=$;break}case"cookies":{y.cookies=n.cookies||R.cookie&&i.parseCookie(R.cookie)||{};break}case"query_string":{y.query_string=u(n);break}case"data":{if(A==="GET"||A==="HEAD")break;n.body!==void 0&&(y.data=g.isString(n.body)?n.body:JSON.stringify(T.normalize(n.body)));break}default:({}).hasOwnProperty.call(n,K)&&(y[K]=n[K])}}),y}function p(n,r,a){const y=H(H({},_),a&&a.include);if(y.request){const R=Array.isArray(y.request)?d(r,{include:y.request}):d(r);n.request=H(H({},n.request),R)}if(y.user){const R=r.user&&g.isPlainObject(r.user)?S(r.user,y.user):{};Object.keys(R).length&&(n.user=H(H({},n.user),R))}if(y.ip){const R=r.ip||r.socket&&r.socket.remoteAddress;R&&(n.user=Ie(H({},n.user),{ip_address:R}))}return y.transaction&&!n.transaction&&n.type==="transaction"&&(n.transaction=b(r,y.transaction)),n}function u(n){let r=n.originalUrl||n.url||"";if(r){r.startsWith("/")&&(r=`http://dogs.are.great${r}`);try{const a=n.query||new URL(r).search.slice(1);return a.length?a:void 0}catch(a){return}}}function C(n){const r={};try{n.forEach((a,y)=>{typeof a=="string"&&(r[y]=a)})}catch(a){l.DEBUG_BUILD&&v.logger.warn("Sentry failed extracting headers from a request object. If you see this, please file an issue.")}return r}function m(n){const r=C(n.headers);return{method:n.method,url:n.url,headers:r}}e.DEFAULT_USER_INCLUDES=f,e.addRequestDataToEvent=p,e.extractPathForTransaction=I,e.extractRequestData=d,e.winterCGHeadersToDict=C,e.winterCGRequestToRequestData=m},30050:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=["fatal","error","warning","log","info","debug"];function i(l){return l==="warn"?"warning":o.includes(l)?l:"log"}e.severityLevelFromString=i,e.validSeverityLevels=o},12432:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=50,i="?",l=/\(error: (.*)\)/,g=/captureMessage|captureException/;function v(...f){const I=f.sort((b,S)=>b[0]-S[0]).map(b=>b[1]);return(b,S=0,d=0)=>{const p=[],u=b.split(`
`);for(let C=S;C<u.length;C++){const m=u[C];if(m.length>1024)continue;const n=l.test(m)?m.replace(l,"$1"):m;if(!n.match(/\S*Error: /)){for(const r of I){const a=r(n);if(a){p.push(a);break}}if(p.length>=o+d)break}}return E(p.slice(d))}}function T(f){return Array.isArray(f)?v(...f):f}function E(f){if(!f.length)return[];const I=Array.from(f);return/sentryWrapped/.test(I[I.length-1].function||"")&&I.pop(),I.reverse(),g.test(I[I.length-1].function||"")&&(I.pop(),g.test(I[I.length-1].function||"")&&I.pop()),I.slice(0,o).map(b=>Ie(H({},b),{filename:b.filename||I[I.length-1].filename,function:b.function||i}))}const _="<anonymous>";function h(f){try{return!f||typeof f!="function"?_:f.name||_}catch(I){return _}}e.UNKNOWN_FUNCTION=i,e.createStackParser=v,e.getFunctionName=h,e.stackParserFromStackParserOptions=T,e.stripSentryFramesAndReverse=E},78084:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(91637);function l(_,h=0){return typeof _!="string"||h===0||_.length<=h?_:`${_.slice(0,h)}...`}function g(_,h){let f=_;const I=f.length;if(I<=150)return f;h>I&&(h=I);let b=Math.max(h-60,0);b<5&&(b=0);let S=Math.min(b+140,I);return S>I-5&&(S=I),S===I&&(b=Math.max(S-140,0)),f=f.slice(b,S),b>0&&(f=`'{snip} ${f}`),S<I&&(f+=" {snip}"),f}function v(_,h){if(!Array.isArray(_))return"";const f=[];for(let I=0;I<_.length;I++){const b=_[I];try{i.isVueViewModel(b)?f.push("[VueViewModel]"):f.push(String(b))}catch(S){f.push("[value cannot be serialized]")}}return f.join(h)}function T(_,h,f=!1){return i.isString(_)?i.isRegExp(h)?h.test(_):i.isString(h)?f?_===h:_.includes(h):!1:!1}function E(_,h=[],f=!1){return h.some(I=>T(_,I,f))}e.isMatchingPattern=T,e.safeJoin=v,e.snipLine=g,e.stringMatchesSomePattern=E,e.truncate=l},44933:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(12075),l=o(3149),v=o(43174).GLOBAL_OBJ;function T(){try{return new ErrorEvent(""),!0}catch(d){return!1}}function E(){try{return new DOMError(""),!0}catch(d){return!1}}function _(){try{return new DOMException(""),!0}catch(d){return!1}}function h(){if(!("fetch"in v))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(d){return!1}}function f(d){return d&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(d.toString())}function I(){if(typeof EdgeRuntime=="string")return!0;if(!h())return!1;if(f(v.fetch))return!0;let d=!1;const p=v.document;if(p&&typeof p.createElement=="function")try{const u=p.createElement("iframe");u.hidden=!0,p.head.appendChild(u),u.contentWindow&&u.contentWindow.fetch&&(d=f(u.contentWindow.fetch)),p.head.removeChild(u)}catch(u){i.DEBUG_BUILD&&l.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",u)}return d}function b(){return"ReportingObserver"in v}function S(){if(!h())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(d){return!1}}e.isNativeFunction=f,e.supportsDOMError=E,e.supportsDOMException=_,e.supportsErrorEvent=T,e.supportsFetch=h,e.supportsNativeFetch=I,e.supportsReferrerPolicy=S,e.supportsReportingObserver=b},90709:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(91637);var l;(function(E){E[E.PENDING=0]="PENDING";const h=1;E[E.RESOLVED=h]="RESOLVED";const f=2;E[E.REJECTED=f]="REJECTED"})(l||(l={}));function g(E){return new T(_=>{_(E)})}function v(E){return new T((_,h)=>{h(E)})}class T{constructor(_){T.prototype.__init.call(this),T.prototype.__init2.call(this),T.prototype.__init3.call(this),T.prototype.__init4.call(this),this._state=l.PENDING,this._handlers=[];try{_(this._resolve,this._reject)}catch(h){this._reject(h)}}then(_,h){return new T((f,I)=>{this._handlers.push([!1,b=>{if(!_)f(b);else try{f(_(b))}catch(S){I(S)}},b=>{if(!h)I(b);else try{f(h(b))}catch(S){I(S)}}]),this._executeHandlers()})}catch(_){return this.then(h=>h,_)}finally(_){return new T((h,f)=>{let I,b;return this.then(S=>{b=!1,I=S,_&&_()},S=>{b=!0,I=S,_&&_()}).then(()=>{if(b){f(I);return}h(I)})})}__init(){this._resolve=_=>{this._setResult(l.RESOLVED,_)}}__init2(){this._reject=_=>{this._setResult(l.REJECTED,_)}}__init3(){this._setResult=(_,h)=>{if(this._state===l.PENDING){if(i.isThenable(h)){h.then(this._resolve,this._reject);return}this._state=_,this._value=h,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===l.PENDING)return;const _=this._handlers.slice();this._handlers=[],_.forEach(h=>{h[0]||(this._state===l.RESOLVED&&h[1](this._value),this._state===l.REJECTED&&h[2](this._value),h[0]=!0)})}}}e.SyncPromise=T,e.rejectedSyncPromise=v,e.resolvedSyncPromise=g},57260:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(43174),l=1e3;function g(){return Date.now()/l}function v(){const{performance:_}=i.GLOBAL_OBJ;if(!_||!_.now)return g;const h=Date.now()-_.now(),f=_.timeOrigin==null?h:_.timeOrigin;return()=>(f+_.now())/l}const T=v();e._browserPerformanceTimeOriginMode=void 0;const E=(()=>{const{performance:_}=i.GLOBAL_OBJ;if(!_||!_.now){e._browserPerformanceTimeOriginMode="none";return}const h=3600*1e3,f=_.now(),I=Date.now(),b=_.timeOrigin?Math.abs(_.timeOrigin+f-I):h,S=b<h,d=_.timing&&_.timing.navigationStart,u=typeof d=="number"?Math.abs(d+f-I):h,C=u<h;return S||C?b<=u?(e._browserPerformanceTimeOriginMode="timeOrigin",_.timeOrigin):(e._browserPerformanceTimeOriginMode="navigationStart",d):(e._browserPerformanceTimeOriginMode="dateNow",I)})();e.browserPerformanceTimeOrigin=E,e.dateTimestampInSeconds=g,e.timestampInSeconds=T},78779:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(76691),l=o(32529),g=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function v(_){if(!_)return;const h=_.match(g);if(!h)return;let f;return h[3]==="1"?f=!0:h[3]==="0"&&(f=!1),{traceId:h[1],parentSampled:f,parentSpanId:h[2]}}function T(_,h){const f=v(_),I=i.baggageHeaderToDynamicSamplingContext(h),{traceId:b,parentSpanId:S,parentSampled:d}=f||{};return f?{traceId:b||l.uuid4(),parentSpanId:S||l.uuid4().substring(16),spanId:l.uuid4().substring(16),sampled:d,dsc:I||{}}:{traceId:b||l.uuid4(),spanId:l.uuid4().substring(16)}}function E(_=l.uuid4(),h=l.uuid4().substring(16),f){let I="";return f!==void 0&&(I=f?"-1":"-0"),`${_}-${h}${I}`}e.TRACEPARENT_REGEXP=g,e.extractTraceparentData=v,e.generateSentryTraceHeader=E,e.propagationContextFromHeaders=T},44148:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(v){if(!v)return{};const T=v.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!T)return{};const E=T[6]||"",_=T[8]||"";return{host:T[4],path:T[5],protocol:T[2],search:E,hash:_,relative:T[5]+E+_}}function i(v){return v.split(/[\?#]/,1)[0]}function l(v){return v.split(/\\?\//).filter(T=>T.length>0&&T!==",").length}function g(v){const{protocol:T,host:E,path:_}=v,h=E&&E.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||"";return`${T?`${T}://`:""}${h}${_}`}e.getNumberOfUrlSegments=l,e.getSanitizedUrlString=g,e.parseUrl=o,e.stripUrlQueryAndFragment=i},66226:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(i){return i.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}e.escapeStringForRegex=o},3420:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const l=o(43174).GLOBAL_OBJ;function g(){const v=l.chrome,T=v&&v.app&&v.app.runtime,E="history"in l&&!!l.history.pushState&&!!l.history.replaceState;return!T&&E}e.supportsHistory=g},86477:(j,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o="8.7.0";e.SDK_VERSION=o},43174:(j,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(86477),l=globalThis;function g(v,T,E){const _=E||l,h=_.__SENTRY__=_.__SENTRY__||{},f=h[i.SDK_VERSION]=h[i.SDK_VERSION]||{};return f[v]||(f[v]=T())}e.GLOBAL_OBJ=l,e.getGlobalSingleton=g},34998:(j,e,o)=>{"use strict";var i=Object.defineProperty,l=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,T=(p,u)=>{for(var C in u)i(p,C,{get:u[C],enumerable:!0})},E=(p,u,C,m)=>{if(u&&typeof u=="object"||typeof u=="function")for(let n of g(u))!v.call(p,n)&&n!==C&&i(p,n,{get:()=>u[n],enumerable:!(m=l(u,n))||m.enumerable});return p},_=p=>E(i({},"__esModule",{value:!0}),p),h={};T(h,{AdminConnection:()=>d}),j.exports=_(h);var f=o(46089),I=o(52342);function b(p,u){if(!u)return;let C;if(u.length<700&&(u.indexOf("/")!==-1||u.indexOf("\\")!==-1))if(p.toLowerCase().includes("private"))C="private";else if(u.toLowerCase().includes("private"))C="private";else if(p.toLowerCase().includes("public"))C="public";else if(u.toLowerCase().includes("public"))C="public";else if(p.toLowerCase().includes("chain"))C="chained";else if(u.toLowerCase().includes("chain"))C="chained";else return;else C=u.substring(0,26)==="-----BEGIN RSA PRIVATE KEY"||u.substring(0,22)==="-----BEGIN PRIVATE KEY"?"private":"public",C==="public"&&u.split("-----END CERTIFICATE-----").filter(n=>n.replace(/\r\n|\r|\n/,"").trim()).length>1&&(C="chained");return{name:p,type:C}}function S(p){var u,C;const m=[{name:"[IPv4] 0.0.0.0 - Listen on all IPs",address:"0.0.0.0",family:"ipv4"}],n=[{name:"[IPv6] :: - Listen on all IPs",address:"::",family:"ipv6"}];if(!((C=(u=p.native)===null||u===void 0?void 0:u.hardware)===null||C===void 0)&&C.networkInterfaces){for(const[r,a]of Object.entries(p.native.hardware.networkInterfaces))if(a)for(const y of a)y.family!=="IPv6"?m.push({name:`[${y.family}] ${y.address} - ${r}`,address:y.address,family:"ipv4"}):n.push({name:`[${y.family}] ${y.address} - ${r}`,address:y.address,family:"ipv6"})}return{IPs4:m,IPs6:n}}class d extends f.Connection{constructor(u){super(u)}request(u){return super.request(H({requireAdmin:!0},u))}getCertificates(u){return this.request({cacheKey:"cert",forceUpdate:u,commandTimeout:!1,executor:C=>Oe(this,null,function*(){var m;const n=yield this.getObject("system.certificates");!((m=n==null?void 0:n.native)===null||m===void 0)&&m.certificates?C(Object.entries(n.native.certificates).map(([r,a])=>b(r,a)).filter(r=>!!r)):C([])})})}getLogs(u,C=200){return this.request({commandTimeout:!1,executor:m=>{this._socket.emit("sendToHost",u,"getLogs",C||200,n=>{m(n)})}})}upgradeAdapterWithWebserver(u,C){return this.request({commandTimeout:!1,executor:m=>{this._socket.emit("sendToHost",u,"upgradeAdapterWithWebserver",C,n=>{m(n)})}})}upgradeController(u,C,m){return this.request({commandTimeout:!1,executor:(n,r)=>{this._socket.emit("sendToHost",u,"upgradeController",{version:C,adminInstance:m},a=>{const y=a;y.error?r(y.error):n(y.result)})}})}updateLicenses(u,C){return this.request({commandTimeout:!1,executor:(m,n)=>{this._socket.emit("updateLicenses",u,C,(r,a)=>{r?n(r):m(a)})}})}upgradeOsPackages(u,C,m){return this.request({commandTimeout:!1,executor:n=>{this._socket.emit("sendToHost",u,"upgradeOsPackages",{packages:C,restart:!!m},r=>{n(r)})}})}getLogsFiles(u){return this.request({commandTimeout:!1,executor:(C,m)=>{this._socket.emit("readLogs",u,(n,r)=>{n&&m(n),C(r)})}})}delLogs(u){return this.request({commandTimeout:!1,executor:(C,m)=>{this._socket.emit("sendToHost",u,"delLogs",null,n=>{n&&m(n),C()})}})}deleteFile(u,C){return this.request({commandTimeout:!1,executor:(m,n)=>{this._socket.emit("deleteFile",u,C,r=>{r&&n(r),m()})}})}deleteFolder(u,C){return this.request({commandTimeout:!1,executor:(m,n)=>{this._socket.emit("deleteFolder",u,C,r=>{r&&n(r),m()})}})}rename(u,C,m){return this.request({commandTimeout:!1,executor:(n,r)=>{this._socket.emit("rename",u,C,m,a=>{a&&r(a),n()})}})}renameFile(u,C,m){return this.request({commandTimeout:!1,executor:(n,r)=>{this._socket.emit("renameFile",u,C,m,a=>{a&&r(a),n()})}})}getHosts(u){return this.request({cacheKey:"hosts",forceUpdate:u,commandTimeout:!1,executor:(C,m)=>{this._socket.emit("getObjectView","system","host",{startkey:"system.host.",endkey:"system.host.\u9999"},(n,r)=>{n?m(n):C((0,I.getObjectViewResultToArray)(r))})}})}getUsers(u){return this.request({cacheKey:"users",forceUpdate:u,commandTimeout:!1,executor:(C,m)=>{this._socket.emit("getObjectView","system","user",{startkey:"system.user.",endkey:"system.user.\u9999"},(n,r)=>{n?m(n):C((0,I.getObjectViewResultToArray)(r))})}})}renameGroup(u,C,m){return this.request({commandTimeout:!1,executor:n=>Oe(this,null,function*(){var r;const a=yield this.getGroups(!0),y=a.filter(A=>A._id.startsWith(`${u}.`));for(const A of y){const w=A._id,P=C+A._id.substring(u.length);A._id=P,yield this.setObject(P,A),yield this.delObject(w)}const R=a.find(A=>A._id===u);if(R){const A=R._id;R._id=C,m!==void 0&&((r=R.common)!==null&&r!==void 0||(R.common={}),R.common.name=m),yield this.setObject(C,R),yield this.delObject(A)}n()})})}getHostInfo(u,C,m){return u=(0,I.normalizeHostId)(u),this.request({cacheKey:`hostInfo_${u}`,forceUpdate:C,commandTimeout:m,executor:(n,r,a)=>{this._socket.emit("sendToHost",u,"getHostInfo",null,y=>{a.elapsed||(a.clearTimeout(),y===f.ERRORS.PERMISSION_ERROR?r('May not read "getHostInfo"'):y?n(y):r('Cannot read "getHostInfo"'))})}})}getHostInfoShort(u,C,m){return u=(0,I.normalizeHostId)(u),this.request({cacheKey:`hostInfoShort_${u}`,forceUpdate:C,commandTimeout:m,executor:(n,r,a)=>{this._socket.emit("sendToHost",u,"getHostInfoShort",null,y=>{a.elapsed||(a.clearTimeout(),y===f.ERRORS.PERMISSION_ERROR?r('May not read "getHostInfoShort"'):y?n(y):r('Cannot read "getHostInfoShort"'))})}})}getRepository(u,C,m,n){return this.request({cacheKey:`repository_${u}`,forceUpdate:m,commandTimeout:n,executor:(r,a,y)=>{this._socket.emit("sendToHost",u,"getRepository",C,R=>{y.elapsed||(y.clearTimeout(),R===f.ERRORS.PERMISSION_ERROR?a('May not read "getRepository"'):R?r(R):a('Cannot read "getRepository"'))})}})}getInstalled(u,C,m){return u=(0,I.normalizeHostId)(u),this.request({cacheKey:`installed_${u}`,forceUpdate:C,commandTimeout:m,executor:(n,r,a)=>{this._socket.emit("sendToHost",u,"getInstalled",null,y=>{a.elapsed||(a.clearTimeout(),y===f.ERRORS.PERMISSION_ERROR?r('May not read "getInstalled"'):y?n(y):r('Cannot read "getInstalled"'))})}})}cmdExec(u,C,m,n){return this.request({commandTimeout:n,executor:(r,a,y)=>{u=(0,I.normalizeHostId)(u),this._socket.emit("cmdExec",u,m,C,R=>{y.elapsed||(y.clearTimeout(),R&&a(R),r())})}})}readBaseSettings(u){return u=(0,I.objectIdToHostname)(u),this.request({requireFeatures:["CONTROLLER_READWRITE_BASE_SETTINGS"],executor:(C,m,n)=>{this._socket.emit("sendToHost",u,"readBaseSettings",null,r=>{n.elapsed||(n.clearTimeout(),r===f.ERRORS.PERMISSION_ERROR?m('May not read "BaseSettings"'):r?C(r):m('Cannot read "BaseSettings"'))})}})}writeBaseSettings(u,C){return u=(0,I.objectIdToHostname)(u),this.request({requireFeatures:["CONTROLLER_READWRITE_BASE_SETTINGS"],executor:(m,n,r)=>{this._socket.emit("sendToHost",u,"writeBaseSettings",C,a=>{r.elapsed||(r.clearTimeout(),a===f.ERRORS.PERMISSION_ERROR?n('May not write "BaseSettings"'):a?m(a):n('Cannot write "BaseSettings"'))})}})}restartController(u){return u=(0,I.objectIdToHostname)(u),this.request({executor:(C,m,n)=>{this._socket.emit("sendToHost",u,"restartController",null,r=>{n.elapsed||(n.clearTimeout(),r&&m(r),C(!0))})}})}getDiagData(u,C){return u=(0,I.objectIdToHostname)(u),this.request({executor:(m,n,r)=>{this._socket.emit("sendToHost",u,"getDiagData",C,a=>{r.elapsed||(r.clearTimeout(),m(a))})}})}changePassword(u,C){return this.request({executor:(m,n,r)=>{this._socket.emit("changePassword",u,C,a=>{r.elapsed||(r.clearTimeout(),a&&n(a),m())})}})}getIpAddresses(u,C){return u=(0,I.normalizeHostId)(u),this.request({cacheKey:`IPs_${u}`,forceUpdate:C,commandTimeout:!1,executor:m=>Oe(this,null,function*(){var n;const r=yield this.getObject(u);m((n=r==null?void 0:r.common.address)!==null&&n!==void 0?n:[])})})}getHostByIp(u,C){return u=(0,I.objectIdToHostname)(u),this.request({cacheKey:`rIPs_${u}`,forceUpdate:C,executor:(m,n,r)=>{this._socket.emit("getHostByIp",u,(a,y)=>{if(r.elapsed)return;r.clearTimeout();const{IPs4:R,IPs6:A}=S(y);m([...R,...A])})}})}encrypt(u){return this.request({executor:(C,m,n)=>{this._socket.emit("encrypt",u,(r,a)=>{n.elapsed||(n.clearTimeout(),r&&m(r),C(a))})}})}decrypt(u){return this.request({executor:(C,m,n)=>{this._socket.emit("decrypt",u,(r,a)=>{n.elapsed||(n.clearTimeout(),r&&m(r),C(a))})}})}chmodFile(u,C,m){return this.request({executor:(n,r,a)=>{this._socket.emit("chmodFile",u,C,m,(y,R)=>{a.elapsed||(a.clearTimeout(),y&&r(y),n(R))})}})}chownFile(u,C,m){return this.request({executor:(n,r,a)=>{this._socket.emit("chownFile",u,C,m,(y,R)=>{a.elapsed||(a.clearTimeout(),y&&r(y),n(R))})}})}getNotifications(u,C){return this.request({executor:(m,n,r)=>{this._socket.emit("sendToHost",u,"getNotifications",{category:C},a=>{r.elapsed||(r.clearTimeout(),m(a))})}})}clearNotifications(u,C){return this.request({executor:(m,n,r)=>{this._socket.emit("sendToHost",u,"clearNotifications",{category:C},a=>{r.elapsed||(r.clearTimeout(),m(a))})}})}getIsEasyModeStrict(){return this.request({executor:(u,C,m)=>{this._socket.emit("getIsEasyModeStrict",(n,r)=>{m.elapsed||(m.clearTimeout(),n&&C(n),u(!!r))})}})}getEasyMode(){return this.request({executor:(u,C,m)=>{this._socket.emit("getEasyMode",(n,r)=>{m.elapsed||(m.clearTimeout(),n&&C(n),u(r))})}})}getRatings(u){return this.request({executor:(C,m,n)=>{this._socket.emit("getRatings",!!u,(r,a)=>{n.elapsed||(n.clearTimeout(),r&&m(r),C(a))})}})}getCurrentSession(u){const C=new AbortController;return this.request({commandTimeout:u||5e3,onTimeout:()=>{C.abort()},executor:(m,n,r)=>Oe(this,null,function*(){try{const a=yield fetch("./session",{signal:C.signal});if(r.elapsed)return;r.clearTimeout(),m(a.json())}catch(a){n(`getCurrentSession: ${a}`)}})})}getCurrentInstance(){return this.request({cacheKey:"currentInstance",executor:(u,C,m)=>{this._socket.emit("getCurrentInstance",(n,r)=>{m.elapsed||(m.clearTimeout(),n&&C(n),u(r))})}})}getAdapterInstances(u,C){let m;return typeof u=="boolean"?(C=u,m=""):m=u||"",this.request({cacheKey:`instances_${m}`,forceUpdate:C,executor:(n,r,a)=>{this._socket.emit("getAdapterInstances",m,(y,R)=>{a.elapsed||(a.clearTimeout(),y&&r(y),n(R))})}})}getAdapters(u,C){let m;return typeof u=="boolean"?(C=u,m=""):m=u||"",this.request({cacheKey:`adapter_${m}`,forceUpdate:C,executor:(n,r,a)=>{this._socket.emit("getAdapters",m,(y,R)=>{a.elapsed||(a.clearTimeout(),y&&r(y),n(R))})}})}getCompactAdapters(u){return this.request({cacheKey:"compactAdapters",forceUpdate:u,executor:(C,m,n)=>{this._socket.emit("getCompactAdapters",(r,a)=>{n.elapsed||(n.clearTimeout(),r&&m(r),C(a))})}})}getAdaptersResetCache(u){u=u!=null?u:"",this.resetCache(`adapter_${u}`),this.resetCache("compactAdapters")}getCompactInstances(u){return this.request({cacheKey:"compactInstances",forceUpdate:u,executor:(C,m,n)=>{this._socket.emit("getCompactInstances",(r,a)=>{n.elapsed||(n.clearTimeout(),r&&m(r),C(a))})}})}getAdapterInstancesResetCache(u){u=u!=null?u:"",this.resetCache(`instances_${u}`),this.resetCache("compactInstances")}getCompactInstalled(u,C,m){return u=(0,I.normalizeHostId)(u),this.request({cacheKey:`installedCompact_${u}`,forceUpdate:C,commandTimeout:m,executor:(n,r,a)=>{this._socket.emit("getCompactInstalled",u,y=>{a.elapsed||(a.clearTimeout(),y===f.ERRORS.PERMISSION_ERROR?r('May not read "getCompactInstalled"'):y?n(y):r('Cannot read "getCompactInstalled"'))})}})}getInstalledResetCache(u){u?(this.resetCache(`installedCompact_${u}`),this.resetCache(`installed_${u}`)):(this.resetCache("installedCompact_",!0),this.resetCache("installed_",!0))}getCompactRepository(u,C,m){return u=(0,I.normalizeHostId)(u),this.request({cacheKey:`repositoryCompact_${u}`,forceUpdate:C,commandTimeout:m,executor:(n,r,a)=>{this._socket.emit("getCompactRepository",u,y=>{a.elapsed||(a.clearTimeout(),y===f.ERRORS.PERMISSION_ERROR?r('May not read "getCompactRepository"'):y?n(y):r('Cannot read "getCompactRepository"'))})}})}getRepositoryResetCache(u){u?(this.resetCache(`repositoryCompact_${u}`),this.resetCache(`repository_${u}`)):(this.resetCache("repositoryCompact_",!0),this.resetCache("repository_",!0))}getCompactHosts(u){return this.request({cacheKey:"hostsCompact",forceUpdate:u,executor:(C,m,n)=>{this._socket.emit("getCompactHosts",(r,a)=>{n.elapsed||(n.clearTimeout(),r&&m(r),C(a))})}})}getCompactSystemRepositories(u){return this.request({cacheKey:"repositoriesCompact",forceUpdate:u,executor:(C,m,n)=>{this._socket.emit("getCompactSystemRepositories",(r,a)=>{n.elapsed||(n.clearTimeout(),r&&m(r),C(a))})}})}}},46089:(j,e,o)=>{"use strict";var i=Object.defineProperty,l=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,T=(m,n)=>{for(var r in n)i(m,r,{get:n[r],enumerable:!0})},E=(m,n,r,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let y of g(n))!v.call(m,y)&&y!==r&&i(m,y,{get:()=>n[y],enumerable:!(a=l(n,y))||a.enumerable});return m},_=m=>E(i({},"__esModule",{value:!0}),m),h={};T(h,{Connection:()=>C,ERRORS:()=>S,NOT_CONNECTED:()=>p,PERMISSION_ERROR:()=>d,PROGRESS:()=>b}),j.exports=_(h);var f=o(40057),I=o(52342),b;(function(m){m[m.CONNECTING=0]="CONNECTING",m[m.CONNECTED=1]="CONNECTED",m[m.OBJECTS_LOADED=2]="OBJECTS_LOADED",m[m.READY=3]="READY"})(b||(b={}));var S;(function(m){m.PERMISSION_ERROR="permissionError",m.NOT_CONNECTED="notConnectedError",m.TIMEOUT="timeout",m.NOT_ADMIN="Allowed only in admin",m.NOT_SUPPORTED="Not supported"})(S||(S={}));const d=S.PERMISSION_ERROR,p=S.NOT_CONNECTED,u=["material","echarts","vis"];class C{constructor(n){this.ignoreState="",this.connected=!1,this.subscribed=!1,this.firstConnect=!0,this.waitForRestart=!1,this.loaded=!1,this.simStates={},this.statesSubscribes={},this.filesSubscribes={},this.objectsSubscribes={},this.objects={},this.states={},this.acl=null,this.isSecure=!1,this.onReadyDone=!1,this.onConnectionHandlers=[],this.onLogHandlers=[],this._waitForFirstConnectionPromise=(0,f.createDeferredPromise)(),this._instanceSubscriptions={},this._promises={},this.systemLang="en",this.props=this.applyDefaultProps(n),this.waitForSocketLib().then(()=>this.startSocket()).catch(r=>{alert(`Socket connection could not be initialized: ${r}`)})}applyDefaultProps(n){var r,a,y,R;return Ie(H({},n),{protocol:n.protocol||window.location.protocol,host:n.host||window.location.hostname,port:n.port||(window.location.port==="3000"?8081:window.location.port),ioTimeout:Math.max(n.ioTimeout||2e4,2e4),cmdTimeout:Math.max(n.cmdTimeout||5e3,5e3),admin5only:n.admin5only||!1,autoSubscribes:(r=n.autoSubscribes)!==null&&r!==void 0?r:[],autoSubscribeLog:(a=n.autoSubscribeLog)!==null&&a!==void 0?a:!1,doNotLoadACL:(y=n.doNotLoadACL)!==null&&y!==void 0?y:!0,doNotLoadAllObjects:(R=n.doNotLoadAllObjects)!==null&&R!==void 0?R:!0})}onError(n){var r;((r=this.props.onError)!==null&&r!==void 0?r:console.error)(n)}get systemConfig(){return this._systemConfig}static isWeb(){return window.socketUrl!==void 0}waitForSocketLib(){return this._waitForSocketPromise?this._waitForSocketPromise:(this._waitForSocketPromise=new Promise((n,r)=>Oe(this,null,function*(){if(typeof window.io=="undefined")if(typeof window.registerSocketOnLoad=="function")window.registerSocketOnLoad(()=>n());else{for(let a=1;a<=30;a++){if(window.io)return n();yield(0,I.wait)(100)}r(new Error("Socket library could not be loaded!"))}else n()})),this._waitForSocketPromise)}startSocket(){return Oe(this,null,function*(){if(this._socket)return;let n=this.props.host,r=this.props.port,a=this.props.protocol.replace(":",""),y=window.location.pathname;if(window.location.hostname==="iobroker.net"||window.location.hostname==="iobroker.pro")y="";else{if(window.socketUrl){const w=new URL(window.socketUrl);n=w.hostname,r=w.port,a=w.protocol.replace(":","")}const A=y.lastIndexOf("/");if(A!==-1&&(y=y.substring(0,A+1)),C.isWeb()){const w=y.split("/");w.length>2&&(w.pop(),w.pop(),u.includes(w[w.length-1])&&w.pop(),y=w.join("/"),y.endsWith("/")||(y+="/"))}}const R=r?`${a}://${n}:${r}`:`${a}://${n}`;this._socket=window.io.connect(R,{path:y.endsWith("/")?`${y}socket.io`:`${y}/socket.io`,query:"ws=true",name:this.props.name,timeout:this.props.ioTimeout,uuid:this.props.uuid,token:this.props.token}),this._socket.on("connect",A=>{this.onReadyDone=!1,A!==!0?(this.connected=!0,setTimeout(()=>this.getVersion().then(w=>{const[P,x,$]=w.version.split(".");parseInt(P,10)*1e4+parseInt(x,10)*100+parseInt($,10)<40102?(this._authTimer=null,this.onPreConnect(!1,!1)):this._socket.emit("authenticate",(U,ee)=>this.onPreConnect(U,ee))}).catch(w=>this.onError({message:w.toString(),operation:"getVersion"})),500)):this._socket.emit("authenticate",(w,P)=>{this.onPreConnect(w,P)})}),this._socket.on("reconnect",()=>{var A,w;this.onReadyDone=!1,(w=(A=this.props).onProgress)===null||w===void 0||w.call(A,b.READY),this.connected=!0,this.waitForRestart?window.location.reload():(this._subscribe(!0),this.onConnectionHandlers.forEach(P=>P(!0)))}),this._socket.on("disconnect",()=>{var A,w;this.onReadyDone=!1,this.connected=!1,this.subscribed=!1,(w=(A=this.props).onProgress)===null||w===void 0||w.call(A,b.CONNECTING),this.onConnectionHandlers.forEach(P=>P(!1))}),this._socket.on("reauthenticate",()=>this.authenticate()),this._socket.on("log",A=>{var w,P;(P=(w=this.props).onLog)===null||P===void 0||P.call(w,A),this.onLogHandlers.forEach(x=>x(A))}),this._socket.on("error",A=>{let w;A==null?w="":typeof A.toString=="function"?w=A.toString():(w=JSON.stringify(A),console.error(`Received strange error: ${w}`)),w.includes("User not authorized")?this.authenticate():w.includes("websocket error")?(console.error(`Socket Error => reload: ${A}`),window.location.reload()):console.error(`Socket Error: ${A}`)}),this._socket.on("connect_error",A=>console.error(`Connect error: ${A}`)),this._socket.on("permissionError",A=>this.onError({message:"no permission",operation:A.operation,type:A.type,id:A.id||""})),this._socket.on("objectChange",(A,w)=>{setTimeout(()=>this.objectChange(A,w),0)}),this._socket.on("stateChange",(A,w)=>{setTimeout(()=>this.stateChange(A,w),0)}),this._socket.on("im",(A,w,P)=>{setTimeout(()=>this.instanceMessage(A,w,P),0)}),this._socket.on("fileChange",(A,w,P)=>{setTimeout(()=>this.fileChange(A,w,P),0)}),this._socket.on("cmdStdout",(A,w)=>{var P;(P=this.onCmdStdoutHandler)===null||P===void 0||P.call(this,A,w)}),this._socket.on("cmdStderr",(A,w)=>{var P;(P=this.onCmdStderrHandler)===null||P===void 0||P.call(this,A,w)}),this._socket.on("cmdExit",(A,w)=>{var P;(P=this.onCmdExitHandler)===null||P===void 0||P.call(this,A,w)})})}onPreConnect(n,r){var a,y;this._authTimer&&(clearTimeout(this._authTimer),this._authTimer=null),this.connected=!0,this.isSecure=r,this.waitForRestart?window.location.reload():(this.firstConnect?this.loadData():(y=(a=this.props).onProgress)===null||y===void 0||y.call(a,b.READY),this._subscribe(!0),this.onConnectionHandlers.forEach(R=>R(!0))),this._waitForFirstConnectionPromise.resolve()}static isCloud(){return window.location.hostname.includes("amazonaws.com")||window.location.hostname.includes("iobroker.in")?!0:typeof window.socketUrl=="undefined"?!1:window.socketUrl.includes("iobroker.in")||window.socketUrl.includes("amazonaws")}isConnected(){return this.connected}waitForFirstConnection(){return this._waitForFirstConnectionPromise}getUserPermissions(){return Oe(this,null,function*(){return this.request({commandTimeout:!1,executor:(n,r)=>{this._socket.emit("getUserPermissions",(a,y)=>{a?r(a):n(y)})}})})}loadData(){return Oe(this,null,function*(){if(this.loaded)return;const n=10;for(let r=1;r<=n;r++){if(this.doLoadData(),this.loaded)return;yield(0,I.wait)(C.isCloud()?5e3:1e3)}})}doLoadData(){return Oe(this,null,function*(){var n,r,a,y,R,A,w,P,x;if(!this.loaded){if(!this.props.doNotLoadACL)try{this.acl=yield this.getUserPermissions()}catch($){this.onError(`Cannot read user permissions: ${$}`);return}try{this.props.admin5only&&!C.isWeb()&&(!window.vendorPrefix||window.vendorPrefix==="@@vendorPrefix@@")?this._systemConfig=yield this.getCompactSystemConfig():this._systemConfig=yield this.getSystemConfig()}catch($){this.onError(`Cannot read system config: ${$}`);return}this._systemConfig&&(this.systemLang=(n=this._systemConfig.common)===null||n===void 0?void 0:n.language,this.systemLang||(this.systemLang=window.navigator.userLanguage||window.navigator.language,/^(en|de|ru|pt|nl|fr|it|es|pl|uk)-?/.test(this.systemLang)?this.systemLang=this.systemLang.substr(0,2):/^(en|de|ru|pt|nl|fr|it|es|pl|uk|zh-cn)$/.test(this.systemLang)||(this.systemLang="en"),this._systemConfig.common.language=this.systemLang)),(a=(r=this.props).onLanguage)===null||a===void 0||a.call(r,this.systemLang),this.loaded=!0,(R=(y=this.props).onProgress)===null||R===void 0||R.call(y,b.CONNECTED),this.firstConnect=!1,this.props.doNotLoadAllObjects?this.props.admin5only?this.objects={}:this.objects={"system.config":this._systemConfig}:this.objects=yield this.getObjects(),(w=(A=this.props).onProgress)===null||w===void 0||w.call(A,b.READY),this.onReadyDone||(this.onReadyDone=!0,(x=(P=this.props).onReady)===null||x===void 0||x.call(P,this.objects))}})}authenticate(){window.location.search.includes("&href=")?window.location.href=`${window.location.protocol}//${window.location.host}${window.location.pathname}${window.location.search}${window.location.hash}`:window.location.href=`${window.location.protocol}//${window.location.host}${window.location.pathname}?login&href=${window.location.search}${window.location.hash}`}subscribeState(...n){return Oe(this,null,function*(){let r,a,y;n.length===3?[r,a,y]=n:([r,y]=n,a=!1);let R;if(Array.isArray(r)?R=r:R=[r],typeof y!="function")throw new Error("The state change handler must be a function!");const A=[];for(let w=0;w<R.length;w++){const P=R[w];this.statesSubscribes[P]?!this.statesSubscribes[P].cbs.includes(y)&&this.statesSubscribes[P].cbs.push(y):(this.statesSubscribes[P]={reg:new RegExp((0,I.pattern2RegEx)(P)),cbs:[y]},r!==this.ignoreState&&A.push(P))}if(this.connected)if(A.length&&this._socket.emit("subscribe",A),a){let w;for(let P=0;P<R.length;P++){try{w=yield this.getBinaryState(R[P])}catch(x){console.error(`Cannot getBinaryState "${R[P]}": ${JSON.stringify(x)}`)}w!=null&&y(R[P],w)}}else if(R.find(w=>w.includes("*"))){let w;for(let P=0;P<R.length;P++){try{w=yield this.getForeignStates(R[P])}catch(x){console.error(`Cannot getForeignStates "${R[P]}": ${JSON.stringify(x)}`);return}if(w)for(const[x,$]of Object.entries(w))y(x,$)}}else try{const w=yield C.isWeb()?this.getStates(R):this.getForeignStates(R);if(w)for(const[P,x]of Object.entries(w))y(P,x)}catch(w){console.error(`Cannot getState "${R.join(", ")}": ${w.message}`);return}})}subscribeStateAsync(n,r){return Oe(this,null,function*(){return this.subscribeState(n,r)})}unsubscribeState(n,r){var a;let y;Array.isArray(n)?y=n:y=[n];const R=[];for(let A=0;A<y.length;A++){const w=y[A];if(this.statesSubscribes[w]){const P=this.statesSubscribes[w];if(r){const x=P.cbs.indexOf(r);x!==-1&&P.cbs.splice(x,1)}else P.cbs=[];!((a=P.cbs)===null||a===void 0)&&a.length||(delete this.statesSubscribes[w],w!==this.ignoreState&&R.push(w))}}this.connected&&R.length&&this._socket.emit("unsubscribe",y)}subscribeObject(n,r){let a;if(Array.isArray(n)?a=n:a=[n],typeof r!="function")throw new Error("The object change handler must be a function!");const y=[];for(let R=0;R<a.length;R++){const A=a[R];this.objectsSubscribes[A]?!this.objectsSubscribes[A].cbs.includes(r)&&this.objectsSubscribes[A].cbs.push(r):(this.objectsSubscribes[A]={reg:new RegExp((0,I.pattern2RegEx)(A)),cbs:[r]},y.push(A))}return this.connected&&y.length&&this._socket.emit("subscribeObjects",y),Promise.resolve()}unsubscribeObject(n,r){var a;let y;Array.isArray(n)?y=n:y=[n];const R=[];for(let A=0;A<y.length;A++){const w=y[A];if(this.objectsSubscribes[w]){const P=this.objectsSubscribes[w];if(r){const x=P.cbs.indexOf(r);x!==-1&&P.cbs.splice(x,1)}else P.cbs=[];!((a=P.cbs)===null||a===void 0)&&a.length||(delete this.objectsSubscribes[w],R.push(w))}}return this.connected&&R.length&&this._socket.emit("unsubscribeObjects",R),Promise.resolve()}objectChange(n,r){var a,y;let R;this.objects[n]&&(R={_id:n,type:this.objects[n].type});let A=!1;r?(r._rev&&this.objects[n]&&(this.objects[n]._rev=r._rev),(!this.objects[n]||JSON.stringify(this.objects[n])!==JSON.stringify(r))&&(this.objects[n]=r,A=!0)):this.objects[n]&&(delete this.objects[n],A=!0);for(const[w,P]of Object.entries(this.objectsSubscribes))(w===n||P.reg.test(n))&&P.cbs.forEach(x=>{try{x(n,r,R)}catch($){console.error(`Error by callback of objectChange: ${$}`)}});A&&((y=(a=this.props).onObjectChange)===null||y===void 0||y.call(a,n,r))}stateChange(n,r){for(const a of Object.values(this.statesSubscribes))if(a.reg.test(n))for(const y of a.cbs)try{y(n,r!=null?r:null)}catch(R){console.error(`Error by callback of stateChanged: ${R}`)}}instanceMessage(n,r,a){var y;(y=this._instanceSubscriptions[r])===null||y===void 0||y.forEach(R=>{R.messageType===n&&R.callback(a,r,n)})}fileChange(n,r,a){for(const y of Object.values(this.filesSubscribes))if(y.regId.test(n)&&y.regFilePattern.test(r))for(const R of y.cbs)try{R(n,r,a)}catch(A){console.error(`Error by callback of fileChange: ${A}`)}}subscribeFiles(n,r,a){return Oe(this,null,function*(){if(typeof a!="function")throw new Error("The state change handler must be a function!");let y;Array.isArray(r)?y=r:y=[r];const R=[];for(let A=0;A<y.length;A++){const w=y[A],P=`${n}$%$${w}`;this.filesSubscribes[P]?!this.filesSubscribes[P].cbs.includes(a)&&this.filesSubscribes[P].cbs.push(a):(this.filesSubscribes[P]={regId:new RegExp((0,I.pattern2RegEx)(n)),regFilePattern:new RegExp((0,I.pattern2RegEx)(w)),cbs:[a]},R.push(w))}this.connected&&R.length&&this._socket.emit("subscribeFiles",n,R)})}unsubscribeFiles(n,r,a){var y;let R;Array.isArray(r)?R=r:R=[r];const A=[];for(let w=0;w<R.length;w++){const P=R[w],x=`${n}$%$${P}`;if(this.filesSubscribes[x]){const $=this.filesSubscribes[x];if(a){const K=$.cbs.indexOf(a);K!==-1&&$.cbs.splice(K,1)}else $.cbs=[];!((y=$.cbs)===null||y===void 0)&&y.length||(delete this.filesSubscribes[x],A.push(P))}}this.connected&&A.length&&this._socket.emit("unsubscribeFiles",n,A)}request(P){return Oe(this,arguments,function*({cacheKey:n,forceUpdate:r,commandTimeout:a,onTimeout:y,requireAdmin:R,requireFeatures:A,executor:w}){if(R&&C.isWeb())return Promise.reject(S.NOT_ADMIN);if(n&&!r&&n in this._promises)return this._promises[n];if(!this.connected)return Promise.reject(S.NOT_CONNECTED);if(A!=null&&A.length){for(const $ of A)if(!(yield this.checkFeatureSupported($)))throw S.NOT_SUPPORTED}const x=new Promise(($,K)=>Oe(this,null,function*(){const U={elapsed:!1,clearTimeout:()=>{}};let ee;a!==!1&&(ee=setTimeout(()=>{U.elapsed=!0,y==null||y(),K(S.TIMEOUT)},a!=null?a:this.props.cmdTimeout),U.clearTimeout=()=>{clearTimeout(ee)});try{yield w($,K,U)}catch(Y){K(Y)}}));return n&&(this._promises[n]=x),x})}resetCache(n,r){r?Object.keys(this._promises).filter(a=>a.startsWith(n)).forEach(a=>{delete this._promises[a]}):delete this._promises[n]}getStates(n){return this.request({commandTimeout:!1,executor:(r,a)=>{this._socket.emit("getStates",n,(y,R)=>{this.states=R!=null?R:{},y?a(y):r(this.states)})}})}getState(n){return this.request({commandTimeout:!1,executor:(r,a)=>{if(n&&n===this.ignoreState){r(this.simStates[n]||{val:null,ack:!0});return}this._socket.emit("getState",n,(y,R)=>{y?a(y):r(R)})}})}getBinaryState(n){return this.request({commandTimeout:!1,executor:(r,a)=>{this._socket.emit("getBinaryState",n,(y,R)=>{y?a(y):r(R)})}})}setBinaryState(n,r){return this.request({commandTimeout:!1,executor:(a,y)=>{this._socket.emit("setBinaryState",n,r,R=>{R?y(R):a()})}})}setState(n,r,a){return typeof a=="boolean"&&(r={val:r,ack:a}),this.request({commandTimeout:!1,executor:(y,R)=>{if(n&&n===this.ignoreState){let A;if(typeof a=="boolean"||typeof r=="object"&&r.val!==void 0?A=r:A={val:r,ack:!1,ts:Date.now(),lc:Date.now(),from:"system.adapter.vis.0"},this.simStates[n]=A,this.statesSubscribes[n])for(const w of this.statesSubscribes[n].cbs)try{w(n,A)}catch(P){console.error(`Error by callback of stateChanged: ${P}`)}y();return}this._socket.emit("setState",n,r,A=>{A?R(A):y()})}})}getObjects(n,r){return this.request({commandTimeout:!1,executor:(a,y)=>{if(!n&&this.objects){a(this.objects);return}this._socket.emit(C.isWeb()?"getObjects":"getAllObjects",(R,A)=>{var w,P;r||(P=(w=this.props).onProgress)===null||P===void 0||P.call(w,b.OBJECTS_LOADED),R?y(R):(this.objects=A!=null?A:{},a(this.objects))})}})}getObjectsById(n){return this.request({commandTimeout:!1,executor:(r,a)=>{this._socket.emit("getObjects",n,(y,R)=>{y?a(y):r(R)})}})}_subscribe(n){var r,a;if(n&&!this.subscribed){this.subscribed=!0,!((r=this.props.autoSubscribes)===null||r===void 0)&&r.length&&this._socket.emit("subscribeObjects",this.props.autoSubscribes);const y=Object.keys(this.objectsSubscribes);y.length&&this._socket.emit("subscribeObjects",y),Object.keys(this.objectsSubscribes).forEach(R=>this._socket.emit("subscribeObjects",R)),this.props.autoSubscribeLog&&this._socket.emit("requireLog",!0),Object.keys(this.statesSubscribes).forEach(R=>this._socket.emit("subscribe",R)),Object.keys(this.filesSubscribes).forEach(R=>{const[A,w]=R.split("$%$");this._socket.emit("subscribeFiles",A,w)})}else if(!n&&this.subscribed){this.subscribed=!1,!((a=this.props.autoSubscribes)===null||a===void 0)&&a.length&&this._socket.emit("unsubscribeObjects",this.props.autoSubscribes);const y=Object.keys(this.objectsSubscribes);y.length&&this._socket.emit("unsubscribeObjects",y),this.props.autoSubscribeLog&&this._socket.emit("requireLog",!1),Object.keys(this.statesSubscribes).forEach(R=>this._socket.emit("unsubscribe",R)),Object.keys(this.filesSubscribes).forEach(R=>{const[A,w]=R.split("$%$");this._socket.emit("unsubscribeFiles",A,w)})}}requireLog(n){return this.request({commandTimeout:!1,executor:(r,a)=>{this._socket.emit("requireLog",n,y=>{y?a(y):r()})}})}delObject(n,r=!1){return this.request({commandTimeout:!1,executor:(a,y)=>{this._socket.emit("delObject",n,{maintenance:r},R=>{R?y(R):a()})}})}delObjects(n,r){return this.request({commandTimeout:!1,executor:(a,y)=>{this._socket.emit("delObjects",n,{maintenance:r},R=>{R?y(R):a()})}})}setObject(n,r){return r?(r=JSON.parse(JSON.stringify(r)),delete r.from,delete r.user,delete r.ts,this.request({commandTimeout:!1,executor:(a,y)=>{this._socket.emit("setObject",n,r,R=>{R?y(R):a()})}})):Promise.reject("Null object is not allowed")}getObject(n){return this.request({commandTimeout:!1,executor:(r,a)=>{if(n&&n===this.ignoreState){r({_id:this.ignoreState,type:"state",common:{name:"ignored state",type:"mixed"}});return}this._socket.emit("getObject",n,(y,R)=>{y?a(y):r(R)})}})}sendTo(n,r,a){return this.request({commandTimeout:!1,executor:y=>{this._socket.emit("sendTo",n,r,a,R=>{y(R)})}})}extendObject(n,r){return r?(r=JSON.parse(JSON.stringify(r)),delete r.from,delete r.user,delete r.ts,this.request({commandTimeout:!1,executor:(a,y)=>{this._socket.emit("extendObject",n,r,R=>{R?y(R):a()})}})):Promise.reject("Null object is not allowed")}registerLogHandler(n){this.onLogHandlers.includes(n)||this.onLogHandlers.push(n)}unregisterLogHandler(n){const r=this.onLogHandlers.indexOf(n);r!==-1&&this.onLogHandlers.splice(r,1)}registerConnectionHandler(n){this.onConnectionHandlers.includes(n)||this.onConnectionHandlers.push(n)}unregisterConnectionHandler(n){const r=this.onConnectionHandlers.indexOf(n);r!==-1&&this.onConnectionHandlers.splice(r,1)}registerCmdStdoutHandler(n){this.onCmdStdoutHandler=n}unregisterCmdStdoutHandler(){this.onCmdStdoutHandler=void 0}registerCmdStderrHandler(n){this.onCmdStderrHandler=n}unregisterCmdStderrHandler(){this.onCmdStderrHandler=void 0}registerCmdExitHandler(n){this.onCmdExitHandler=n}unregisterCmdExitHandler(){this.onCmdExitHandler=void 0}getEnums(n,r){return this.request({cacheKey:`enums_${n||"all"}`,forceUpdate:r,commandTimeout:!1,executor:(a,y)=>{this._socket.emit("getObjectView","system","enum",{startkey:`enum.${n||""}`,endkey:n?`enum.${n}.\u9999`:"enum.\u9999"},(R,A)=>{if(R)y(R);else{const w={};if(A)for(let P=0;P<A.rows.length;P++)n&&A.rows[P].id===`enum.${n}`||(w[A.rows[P].id]=A.rows[P].value);a(w)}})}})}getObjectView(n,r,a){return this.getObjectViewCustom("system",a,n,r)}getObjectViewSystem(n,r,a){return this.getObjectViewCustom("system",n,r,a)}getObjectViewCustom(n,r,a,y){return this.request({commandTimeout:!1,executor:(R,A)=>{a=a||"",y=y||"\u9999",this._socket.emit("getObjectView",n,r,{startkey:a,endkey:y},(w,P)=>{if(w)A(w);else{const x={};if(P&&P.rows)for(let $=0;$<P.rows.length;$++)x[P.rows[$].id]=P.rows[$].value;R(x)}})}})}readMetaItems(){return this.request({commandTimeout:!1,executor:(n,r)=>{this._socket.emit("getObjectView","system","meta",{startkey:"",endkey:"\u9999"},(a,y)=>{var R;a?r(a):n((R=y.rows)===null||R===void 0?void 0:R.map(A=>A.value).filter(A=>!!A))})}})}readDir(n,r){return this.request({commandTimeout:!1,executor:(a,y)=>{this._socket.emit("readDir",n,r,(R,A)=>{R?y(R):a(A)})}})}readFile(n,r,a){return this.request({commandTimeout:!1,executor:(y,R)=>{this._socket.emit(a?"readFile64":"readFile",n,r,(A,w,P)=>{A?R(A):y({file:w,mimeType:P})})}})}writeFile64(n,r,a){return this.request({commandTimeout:!1,executor:(y,R)=>{if(typeof a=="string")this._socket.emit("writeFile",n,r,a,A=>{A?R(A):y()});else{const A=btoa(new Uint8Array(a).reduce((w,P)=>w+String.fromCharCode(P),""));this._socket.emit("writeFile64",n,r,A,w=>{w?R(w):y()})}}})}deleteFile(n,r){return this.request({commandTimeout:!1,executor:(a,y)=>{this._socket.emit("deleteFile",n,r,R=>{R?y(R):a()})}})}deleteFolder(n,r){return this.request({commandTimeout:!1,executor:(a,y)=>{this._socket.emit("deleteFolder",n,r,R=>{R?y(R):a()})}})}rename(n,r,a){return this.request({commandTimeout:!1,executor:(y,R)=>{this._socket.emit("rename",n,r,a,A=>{A?R(A):y()})}})}renameFile(n,r,a){return this.request({commandTimeout:!1,executor:(y,R)=>{this._socket.emit("renameFile",n,r,a,A=>{A?R(A):y()})}})}cmdExec(n,r,a,y){return this.request({commandTimeout:y,executor:(R,A,w)=>{n=(0,I.normalizeHostId)(n),this._socket.emit("cmdExec",n,a,r,P=>{w.elapsed||(w.clearTimeout(),P?A(P):R())})}})}getSystemConfig(n){return this.request({cacheKey:"systemConfig",forceUpdate:n,commandTimeout:!1,executor:r=>Oe(this,null,function*(){var a,y,R,A,w;let P=yield this.getObject("system.config");(a=P)!==null&&a!==void 0||(P={}),(y=(A=P).common)!==null&&y!==void 0||(A.common={}),(R=(w=P).native)!==null&&R!==void 0||(w.native={}),r(P)})})}getCompactSystemConfig(n){return this.request({cacheKey:"systemConfigCommon",forceUpdate:n,commandTimeout:!1,requireAdmin:!0,executor:(r,a)=>{this._socket.emit("getCompactSystemConfig",(y,R)=>{var A,w,P,x,$;y?a(y):((A=R)!==null&&A!==void 0||(R={}),(w=(x=R).common)!==null&&w!==void 0||(x.common={}),(P=($=R).native)!==null&&P!==void 0||($.native={}),r(R))})}})}getForeignStates(n){return this.request({commandTimeout:!1,executor:(r,a)=>{this._socket.emit("getForeignStates",n||"*",(y,R)=>{y?a(y):r(R!=null?R:{})})}})}getForeignObjects(n,r){return this.request({commandTimeout:!1,executor:(a,y)=>{this._socket.emit("getForeignObjects",n||"*",r,(R,A)=>{R?y(R):a(A)})}})}setSystemConfig(n){return this.setObject("system.config",n)}getRawSocket(){return this._socket}getHistory(n,r){return this.request({commandTimeout:!1,executor:(a,y)=>{this._socket.emit("getHistory",n,r,(R,A)=>{R?y(R):a(A)})}})}getHistoryEx(n,r){return this.request({commandTimeout:!1,executor:(a,y)=>{this._socket.emit("getHistory",n,r,(R,A,w,P)=>{R?y(R):a({values:A,sessionId:P,stepIgnore:w})})}})}getIpAddresses(n,r){return n=(0,I.normalizeHostId)(n),this.request({cacheKey:`IPs_${n}`,forceUpdate:r,commandTimeout:!1,executor:a=>Oe(this,null,function*(){var y;const R=yield this.getObject(n);a((y=R==null?void 0:R.common.address)!==null&&y!==void 0?y:[])})})}getVersion(n){return this.request({cacheKey:"version",forceUpdate:n,commandTimeout:!1,executor:(r,a)=>{this._socket.emit("getVersion",(y,R,A)=>{y&&!R&&typeof y=="string"&&y.match(/\d+\.\d+\.\d+/)?r({version:y,serverName:"socketio"}):y?a(y):r({version:R,serverName:A})})}})}getWebServerName(){return this.request({cacheKey:"webName",commandTimeout:!1,executor:(n,r)=>{this._socket.emit("getAdapterName",(a,y)=>{a?r(a):n(y)})}})}fileExists(n,r){return this.request({commandTimeout:!1,executor:(a,y)=>{this._socket.emit("fileExists",n,r,(R,A)=>{R?y(R):a(!!A)})}})}getCurrentUser(){return this.request({commandTimeout:!1,executor:n=>{this._socket.emit("authEnabled",(r,a)=>{n(a)})}})}getUuid(){return this.request({cacheKey:"uuid",commandTimeout:!1,executor:n=>Oe(this,null,function*(){var r;const a=yield this.getObject("system.meta.uuid");n((r=a==null?void 0:a.native)===null||r===void 0?void 0:r.uuid)})})}checkFeatureSupported(n,r){return this.request({cacheKey:`supportedFeatures_${n}`,forceUpdate:r,commandTimeout:!1,executor:(a,y)=>{this._socket.emit("checkFeatureSupported",n,(R,A)=>{R?y(R):a(A)})}})}getAdapterInstances(n,r){return typeof n=="boolean"&&(r=n,n=""),n=n||"",this.request({cacheKey:`instances_${n}`,forceUpdate:r,commandTimeout:!1,executor:a=>Oe(this,null,function*(){const y=n?`system.adapter.${n}.`:"system.adapter.",R=`${y}\u9999`,A=yield this.getObjectViewSystem("instance",y,R),w=Object.values(A);a(n?w.filter(P=>P.common.name===n):w)})})}getAdapters(n,r){return typeof n=="boolean"&&(r=n,n=""),n=n||"",this.request({cacheKey:`adapter_${n}`,forceUpdate:r,commandTimeout:!1,executor:a=>Oe(this,null,function*(){const y=yield this.getObjectViewSystem("adapter",`system.adapter.${n||""}`,`system.adapter.${n||"\u9999"}`),R=Object.values(y);a(n?R.filter(A=>A.common.name===n):R)})})}getGroups(n){return this.request({cacheKey:"groups",forceUpdate:n,commandTimeout:!1,executor:(r,a)=>{this._socket.emit("getObjectView","system","group",{startkey:"system.group.",endkey:"system.group.\u9999"},(y,R)=>{y?a(y):r((0,I.getObjectViewResultToArray)(R))})}})}logout(){return this.request({commandTimeout:!1,executor:(n,r)=>{this._socket.emit("logout",a=>{a?r(a):n(null)})}})}subscribeOnInstance(n,r,a,y){return this.request({commandTimeout:!1,executor:(R,A)=>{this._socket.emit("clientSubscribe",n,r,a,(w,P)=>{w?A(w):P&&(P.error?A(P.error):(n.startsWith("system.adapter.")||(n=`system.adapter.${n}`),this._instanceSubscriptions[n]=this._instanceSubscriptions[n]||[],this._instanceSubscriptions[n].find(x=>x.messageType===r&&x.callback===y)||this._instanceSubscriptions[n].push({messageType:r,callback:y}),R(P)))})}})}unsubscribeFromInstance(n,r,a){var y;n.startsWith("system.adapter.")||(n=`system.adapter.${n}`);let R;const A=[];do{R=!1;const w=(y=this._instanceSubscriptions[n])===null||y===void 0?void 0:y.findIndex(P=>(!r||P.messageType===r)&&(!a||P.callback===a));if(w!=null&&w!==-1){R=!0;const P=this._instanceSubscriptions[n][w].messageType;this._instanceSubscriptions[n].splice(w,1),this._instanceSubscriptions[n].length||delete this._instanceSubscriptions[n],this._instanceSubscriptions[n]&&this._instanceSubscriptions[n].find($=>$.messageType===P)||A.push(this.request({commandTimeout:!1,executor:($,K)=>{this._socket.emit("clientUnsubscribe",n,r,(U,ee)=>U?K(U):$(ee))}}))}}while(R&&(!a||!r));return A.length?Promise.all(A).then(w=>!!w.find(P=>P)):Promise.resolve(!1)}log(n,r){return n?this.request({commandTimeout:!1,executor:a=>(this._socket.emit("log",n,r),a(null))}):Promise.resolve(null)}setStateToIgnore(n){this.ignoreState=n}}},26235:j=>{"use strict";var e=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,l=Object.prototype.hasOwnProperty,g=(E,_,h,f)=>{if(_&&typeof _=="object"||typeof _=="function")for(let I of i(_))!l.call(E,I)&&I!==h&&e(E,I,{get:()=>_[I],enumerable:!(f=o(_,I))||f.enumerable});return E},v=E=>g(e({},"__esModule",{value:!0}),E),T={};j.exports=v(T)},40057:j=>{"use strict";var e=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,l=Object.prototype.hasOwnProperty,g=(h,f)=>{for(var I in f)e(h,I,{get:f[I],enumerable:!0})},v=(h,f,I,b)=>{if(f&&typeof f=="object"||typeof f=="function")for(let S of i(f))!l.call(h,S)&&S!==I&&e(h,S,{get:()=>f[S],enumerable:!(b=o(f,S))||b.enumerable});return h},T=h=>v(e({},"__esModule",{value:!0}),h),E={};g(E,{createDeferredPromise:()=>_}),j.exports=T(E);function _(){let h,f;const I=new Promise((b,S)=>{h=b,f=S});return I.resolve=h,I.reject=f,I}},4817:(j,e,o)=>{"use strict";var i=Object.defineProperty,l=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,T=(d,p)=>{for(var u in p)i(d,u,{get:p[u],enumerable:!0})},E=(d,p,u,C)=>{if(p&&typeof p=="object"||typeof p=="function")for(let m of g(p))!v.call(d,m)&&m!==u&&i(d,m,{get:()=>p[m],enumerable:!(C=l(p,m))||C.enumerable});return d},_=(d,p,u)=>(E(d,p,"default"),u&&E(u,p,"default")),h=d=>E(i({},"__esModule",{value:!0}),d),f={};T(f,{AdminConnection:()=>I.AdminConnection,Connection:()=>b.Connection,ERRORS:()=>b.ERRORS,PROGRESS:()=>b.PROGRESS}),j.exports=h(f),_(f,o(34998),j.exports);var I=o(34998);_(f,o(46089),j.exports);var b=o(46089);_(f,o(26235),j.exports);var S=o(26235)},52342:j=>{"use strict";var e=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,l=Object.prototype.hasOwnProperty,g=(S,d)=>{for(var p in d)e(S,p,{get:d[p],enumerable:!0})},v=(S,d,p,u)=>{if(d&&typeof d=="object"||typeof d=="function")for(let C of i(d))!l.call(S,C)&&C!==p&&e(S,C,{get:()=>d[C],enumerable:!(u=o(d,C))||u.enumerable});return S},T=S=>v(e({},"__esModule",{value:!0}),S),E={};g(E,{getObjectViewResultToArray:()=>_,normalizeHostId:()=>h,objectIdToHostname:()=>f,pattern2RegEx:()=>b,wait:()=>I}),j.exports=T(E);function _(S){var d;return(d=S==null?void 0:S.rows.map(p=>p.value).filter(p=>!!p))!==null&&d!==void 0?d:[]}function h(S){return S!=null&&S.startsWith("system.host.")||(S=`system.host.${S}`),S}function f(S){return S!=null&&S.startsWith("system.host.")&&(S=S.substr(12)),S}function I(S){return new Promise(d=>{setTimeout(d,S)})}function b(S){S=(S||"").toString();const d=S[0]==="*",p=S[S.length-1]==="*";return S=S.replace(/[-/\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*"),(d?"":"^")+S+(p?"":"$")}}}]);

//# sourceMappingURL=vendors-node_modules_sentry_browser_cjs_index_js-node_modules_iobroker_socket-client_dist_cjs-6a932d.2cc00a81.chunk.js.map