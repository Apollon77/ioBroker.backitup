var um=Object.defineProperty,dm=Object.defineProperties;var pm=Object.getOwnPropertyDescriptors;var ga=Object.getOwnPropertySymbols,hm=Object.getPrototypeOf,mm=Object.prototype.hasOwnProperty,fm=Object.prototype.propertyIsEnumerable,gm=Reflect.get;var Qt=Math.pow,Ar=(se,Ce,$)=>Ce in se?um(se,Ce,{enumerable:!0,configurable:!0,writable:!0,value:$}):se[Ce]=$,ut=(se,Ce)=>{for(var $ in Ce||(Ce={}))mm.call(Ce,$)&&Ar(se,$,Ce[$]);if(ga)for(var $ of ga(Ce))fm.call(Ce,$)&&Ar(se,$,Ce[$]);return se},Ht=(se,Ce)=>dm(se,pm(Ce));var je=(se,Ce,$)=>(Ar(se,typeof Ce!="symbol"?Ce+"":Ce,$),$);var Wt=(se,Ce,$)=>gm(hm(se),$,Ce);var dt=(se,Ce,$)=>new Promise((V,l)=>{var b=F=>{try{T($.next(F))}catch(I){l(I)}},A=F=>{try{T($.throw(F))}catch(I){l(I)}},T=F=>F.done?V(F.value):Promise.resolve(F.value).then(b,A);T(($=$.apply(se,Ce)).next())});(self.webpackChunkiobroker_admin_component_backitup=self.webpackChunkiobroker_admin_component_backitup||[]).push([["vendors-node_modules_iobroker_json-config_build_index_js-node_modules_iobroker_json-config_no-675983","node_modules_iobroker_json-config_node_modules_mui_material_colors_blue_js-node_modules_iobro-38fd82","node_modules_iobroker_json-config_node_modules_react_jsx-runtime_js"],{49689:(se,Ce,$)=>{"use strict";$.r(Ce),$.d(Ce,{ConfigGeneric:()=>y,ConfigPanel:()=>bs,JsonConfig:()=>om,JsonConfigComponent:()=>Us,JsonConfigComponentClass:()=>pa});var V=$(10590),l=$.n(V),b=$(97110),A=$(85589),T=$.n(A),F=$(91778),I=$.n(F),u=$(56630),D=$(21839),h=$(46768);const J="material",le=["Su","Mo","Tu","We","Th","Fr","Sa"],Se=["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],re={0:"0x00 - good",1:"0x01 - general problem",2:"0x02 - no connection problem",16:"0x10 - substitute value from controller",32:"0x20 - substitute initial value",64:"0x40 - substitute value from device or instance",128:"0x80 - substitute value from sensor",17:"0x11 - general problem by instance",65:"0x41 - general problem by device",129:"0x81 - general problem by sensor",18:"0x12 - instance not connected",66:"0x42 - device not connected",130:"0x82 - sensor not connected",68:"0x44 - device reports error",132:"0x84 - sensor reports error"},pe={JVBERi0:"pdf",R0lGODdh:"gif",R0lGODlh:"gif",iVBORw0KGgo:"png","/9j/":"jpg",PHN2Zw:"svg",Qk1:"bmp",AAABAA:"ico"},wt=class wt{static CapitalWords(e){return(e||"").split(/[\s_]/).filter(t=>t).map(t=>t?t[0].toUpperCase()+t.substring(1).toLowerCase():"").join(" ")}static formatSeconds(e){const t=Math.floor(e/86400);e%=3600*24;let n=Math.floor(e/3600);n<10&&(n=`0${n}`),e%=3600;let s=Math.floor(e/60);s<10&&(s=`0${s}`),e%=60,e=Math.floor(e),e<10&&(e=`0${e}`);let o="";return t&&(o+=`${t} ${h.I18n.t("ra_daysShortText")} `),o+=`${n}:${s}:${e}`,o}static getObjectName(e,t,n,s,o){const a=e[t];let i;const c=o?"desc":"name";if(typeof n=="string"&&!s&&(s={language:n},n=null),s=s||{},s.language||(s.language=e["system.config"]&&e["system.config"].common&&e["system.config"].common.language||window.sysLang||"en"),n&&n.name)i=n.name,typeof i=="object"&&(i=i[s.language]||i.en);else if(a&&a.common&&a.common[c])i=a.common[c],c!=="desc"&&!i&&a.common.desc&&(i=a.common.desc),typeof i=="object"&&(i=i[s.language]||i.en||i.de||i.ru||""),i=(i||"").toString().replace(/[_.]/g," "),i===i.toUpperCase()&&(i=i[0]+i.substring(1).toLowerCase());else{const p=t.lastIndexOf(".");i=t.substring(p+1).replace(/[_.]/g," "),i=wt.CapitalWords(i)}return i.trim()}static getObjectNameFromObj(e,t,n,s,o){const a=e;let i=e&&e._id||"";const c=s?"desc":"name";return typeof t=="string"&&!n&&(n={language:t},t=null),n=n||{},t&&t.name?(i=t.name,typeof i=="object"&&(i=i[n.language]||i.en)):a&&a.common&&a.common[c]&&(i=a.common[c],c!=="desc"&&!i&&a.common.desc&&(i=a.common.desc),typeof i=="object"&&(i=i[n.language]||i.en),i=(i||"").toString().replace(/[_.]/g," "),i===i.toUpperCase()&&(i=i[0]+i.substring(1).toLowerCase())),o?i:i.trim()}static getSettingsOrder(e,t,n){e&&Object.prototype.hasOwnProperty.call(e,"common")&&(e=e.common);let s;if(e&&e.custom){s=(e.custom||{})[J];const o=n.user||"admin";if(s&&s[o]){if(t){if(s[o].subOrder&&s[o].subOrder[t])return JSON.parse(JSON.stringify(s[o].subOrder[t]))}else if(s[o].order)return JSON.parse(JSON.stringify(s[o].order))}}return null}static getSettingsCustomURLs(e,t,n){e&&Object.prototype.hasOwnProperty.call(e,"common")&&(e=e.common);let s;if(e&&e.custom){s=(e.custom||{})[J];const o=n.user||"admin";if(s&&s[o]){if(t){if(s[o].subURLs&&s[o].subURLs[t])return JSON.parse(JSON.stringify(s[o].subURLs[t]))}else if(s[o].URLs)return JSON.parse(JSON.stringify(s[o].URLs))}}return null}static reorder(e,t,n){const s=Array.from(e),[o]=s.splice(t,1);return s.splice(n,0,o),s}static getSettings(e,t,n){let s;const o=e&&e._id||t&&t.id;if(e&&Object.prototype.hasOwnProperty.call(e,"common")&&(e=e.common),e!=null&&e.custom?(s=e.custom,s=s[J]&&s[J][t.user||"admin"]?JSON.parse(JSON.stringify(s[J][t.user||"admin"])):{enabled:!0}):s={enabled:n===void 0?!0:n,useCustom:!1},Object.prototype.hasOwnProperty.call(s,"enabled")||(s.enabled=n===void 0?!0:n),t&&(!s.name&&t.name&&(s.name=t.name),!s.icon&&t.icon&&(s.icon=t.icon),!s.color&&t.color&&(s.color=t.color)),e&&(!s.color&&e.color&&(s.color=e.color),!s.icon&&e.icon&&(s.icon=e.icon),!s.name&&e.name&&(s.name=e.name)),typeof s.name=="object"&&(s.name=s.name[t.language]||s.name.en,s.name=(s.name||"").toString().replace(/_/g," "),s.name===s.name.toUpperCase()&&(s.name=s.name[0]+s.name.substring(1).toLowerCase())),!s.name&&o){const a=o.lastIndexOf(".");s.name=o.substring(a+1).replace(/[_.]/g," "),s.name=(s.name||"").toString().replace(/_/g," "),s.name=wt.CapitalWords(s.name)}return s}static setSettings(e,t,n){if(e){e.common=e.common||{},e.common.custom=e.common.custom||{},e.common.custom[J]=e.common.custom[J]||{},e.common.custom[J][n.user||"admin"]=t;const s=e.common.custom[J][n.user||"admin"];return s.useCommon&&(s.color!==void 0&&(e.common.color=s.color,delete s.color),s.icon!==void 0&&(e.common.icon=s.icon,delete s.icon),s.name!==void 0&&(typeof e.common.name!="object"&&(e.common.name={}),e.common.name[n.language]=s.name,delete s.name)),!0}return!1}static getIcon(e,t){return e&&e.icon?e.icon.length<=2?l().createElement("span",{style:t||{}},e.icon):e.icon.startsWith("data:image")?l().createElement("img",{alt:e.name,src:e.icon,style:t||{}}):l().createElement("img",{alt:e.name,src:(e.prefix||"")+e.icon,style:t||{}}):null}static getObjectIcon(e,t){if(typeof e=="object"&&(t=e,e=t._id),t&&t.common&&t.common.icon){let n=t.common.icon;if(typeof n=="string"&&n.length<=2||n.startsWith("data:image"))return n;const s=e.split(".");return s[0]==="system"?n=`adapter/${s[2]}${n.startsWith("/")?"":"/"}${n}`:n=`adapter/${s[0]}${n.startsWith("/")?"":"/"}${n}`,window.location.pathname.match(/adapter\/[^/]+\/[^/]+\.html/)?n=`../../${n}`:window.location.pathname.match(/material\/[.\d]+/)?n=`../../${n}`:window.location.pathname.match(/material\//)&&(n=`../${n}`),n}return null}static splitCamelCase(e){return wt.CapitalWords(e)}static isUseBright(e,t){if(e==null||e==="")return t===void 0?!0:t;e=e.toString(),e.startsWith("#")&&(e=e.slice(1));let n,s,o;const a=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);if(a&&a.length===4)n=parseInt(a[1],10),s=parseInt(a[2],10),o=parseInt(a[3],10);else{if(e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),e.length===8)e=e.substring(0,6);else if(e.length!==6)return!1;n=parseInt(e.slice(0,2),16),s=parseInt(e.slice(2,4),16),o=parseInt(e.slice(4,6),16)}return n*.299+s*.587+o*.114<=186}static getTimeString(e){if(e=parseFloat(e),Number.isNaN(e))return"--:--";const t=Math.floor(e/3600);let n=Math.floor(e%3600/60),s=e%60;return t?(n<10&&(n=`0${n}`),s<10&&(s=`0${s}`),`${t}:${n}:${s}`):(s<10&&(s=`0${s}`),`${n}:${s}`)}static getWindDirection(e){return e>=0&&e<11.25?"N":e>=11.25&&e<33.75?"NNE":e>=33.75&&e<56.25?"NE":e>=56.25&&e<78.75?"ENE":e>=78.75&&e<101.25?"E":e>=101.25&&e<123.75?"ESE":e>=123.75&&e<146.25?"SE":e>=146.25&&e<168.75?"SSE":e>=168.75&&e<191.25?"S":e>=191.25&&e<213.75?"SSW":e>=213.75&&e<236.25?"SW":e>=236.25&&e<258.75?"WSW":e>=258.75&&e<281.25?"W":e>=281.25&&e<303.75?"WNW":e>=303.75&&e<326.25?"NW":e>=326.25&&e<348.75?"NNW":"N"}static padding(e){return typeof e=="string"?e.length<2?`0${e}`:e:e<10?`0${e}`:e}static setDataFormat(e){e&&(wt.dateFormat=e.toUpperCase().split(/[.-/]/),wt.dateFormat.splice(wt.dateFormat.indexOf("YYYY"),1))}static date2string(e){if(typeof e=="string"){if(e=e.trim(),!e)return"";if(e.match(/^[\w\s]+$/))return e;const n=e.match(/(\d{1,4})[-./](\d{1,2})[-./](\d{1,4})/);if(n){const s=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)],o=s.find(i=>i>31);s.splice(s.indexOf(o),1);const a=s.find(i=>i>12);a?(s.splice(s.indexOf(a),1),e=new Date(o,s[0]-1,a)):wt.dateFormat[0][0]==="M"&&wt.dateFormat[1][0]==="D"?(e=new Date(o,s[0]-1,s[1]),Math.abs(e.getTime-Date.now())>36e5*24*10&&(e=new Date(o,s[1]-1,s[0]))):wt.dateFormat[0][0]==="D"&&wt.dateFormat[1][0]==="M"?(e=new Date(o,s[1]-1,s[0]),Math.abs(e.getTime-Date.now())>36e5*24*10&&(e=new Date(o,s[0]-1,s[1]))):e=new Date(e)}else e=new Date(e)}else e=new Date(e);let t=h.I18n.t(`ra_dow_${le[e.getDay()]}`).replace("ra_dow_","");return t+=`. ${e.getDate()} ${h.I18n.t(`ra_month_${Se[e.getMonth()]}`).replace("ra_month_","")}`,t}static renderTextWithA(e){let t=e.match(/<a [^<]+<\/a>|<br\/?>|<b>[^<]+<\/b>|<i>[^<]+<\/i>/);if(t){const n=[];let s=1;do{const o=e.substring(0,t.index);if(e=e.substring(t.index+t[0].length),o&&n.push(l().createElement("span",{key:`a${s++}`},o)),t[0].startsWith("<b>"))n.push(l().createElement("b",{key:`a${s++}`},t[0].substring(3,t[0].length-4)));else if(t[0].startsWith("<i>"))n.push(l().createElement("i",{key:`a${s++}`},t[0].substring(3,t[0].length-4)));else if(t[0].startsWith("<br"))n.push(l().createElement("br",{key:`a${s++}`}));else{const a=t[0].match(/href="([^"]+)"/)||t[0].match(/href='([^']+)'/),i=t[0].match(/target="([^"]+)"/)||t[0].match(/target='([^']+)'/),c=t[0].match(/rel="([^"]+)"/)||t[0].match(/rel='([^']+)'/),p=t[0].match(/>([^<]*)</);n.push(l().createElement("a",{key:`a${s++}`,href:a?a[1]:"",target:i?i[1]:"_blank",rel:c?c[1]:"",style:{color:"inherit"}},p?p[1]:""))}t=e&&e.match(/<a [^<]+<\/a>|<br\/?>|<b>[^<]+<\/b>|<i>[^<]+<\/i>/),t||e&&n.push(l().createElement("span",{key:`a${s++}`},e))}while(t);return n}return e}static getSmartName(e,t,n,s){var o,a;return t?s?e[t]&&((a=e[t].common)!=null&&a.custom)&&e[t].common.custom[n]&&e[t].common.custom[n].smartName||null:e[t].common.smartName:s?e&&!e.common?e.smartName:(o=e==null?void 0:e.common)!=null&&o.custom&&e.common.custom[n]?e.common.custom[n].smartName:void 0:!e.common||e&&!e.common?e.smartName:e.common.smartName}static getSmartNameFromObj(e,t,n){var s;return n?e&&!e.common?e.smartName:(s=e==null?void 0:e.common)!=null&&s.custom&&e.common.custom[t]?e.common.custom[t].smartName:void 0:!e.common||e&&!e.common?e.smartName:e.common.smartName}static enableSmartName(e,t,n){n?(e.common.custom=e.common.custom||{},e.common.custom[t]=e.common.custom[t]||{},e.common.custom[t].smartName={}):e.common.smartName={}}static removeSmartName(e,t,n){n?e.common&&e.common.custom&&e.common.custom[t]&&(e.common.custom[t]=null):e.common.smartName=null}static updateSmartName(e,t,n,s,o,a){const i=h.I18n.getLanguage();if(typeof e.common.smartName=="string"){const c=e.common.smartName;e.common.smartName={},e.common.smartName[i]=c}if(e.native&&e.native.byON){delete e.native.byON;let c=e.common.smartName;(!c||typeof c!="object")&&(c={en:c},c[i]=c.en),e.common.smartName=c}if(s!==void 0&&(a?(e.common.custom=e.common.custom||{},e.common.custom[o]=e.common.custom[o]||{},e.common.custom[o].smartName=e.common.custom[o].smartName||{},s?e.common.custom[o].smartName.smartType=s:delete e.common.custom[o].smartName.smartType):(e.common.smartName=e.common.smartName||{},s?e.common.smartName.smartType=s:delete e.common.smartName.smartType)),n!==void 0&&(a?(e.common.custom=e.common.custom||{},e.common.custom[o]=e.common.custom[o]||{},e.common.custom[o].smartName=e.common.custom[o].smartName||{},e.common.custom[o].smartName.byON=n):(e.common.smartName=e.common.smartName||{},e.common.smartName.byON=n)),t!==void 0){let c;if(a?(e.common.custom=e.common.custom||{},e.common.custom[o]=e.common.custom[o]||{},e.common.custom[o].smartName=e.common.custom[o].smartName||{},c=e.common.custom[o].smartName):(e.common.smartName=e.common.smartName||{},c=e.common.smartName),c[i]=t,c&&(!c[i]||c[i]===e.common.name&&(!e.common.role||e.common.role.includes("button")))){delete c[i];let p=!0;for(const f in c)if(Object.prototype.hasOwnProperty.call(c,f)){p=!1;break}p&&(a?e.common.custom[o].smartName.byON===void 0?delete e.common.custom[o]:(delete e.common.custom[o].en,delete e.common.custom[o].de,delete e.common.custom[o].ru,delete e.common.custom[o].nl,delete e.common.custom[o].pl,delete e.common.custom[o].it,delete e.common.custom[o].fr,delete e.common.custom[o].pt,delete e.common.custom[o].es,delete e.common.custom[o].uk,delete e.common.custom[o]["zh-cn"]):e.common.smartName.byON!==void 0?(delete e.common.smartName.en,delete e.common.smartName.de,delete e.common.smartName.ru,delete e.common.smartName.nl,delete e.common.smartName.pl,delete e.common.smartName.it,delete e.common.smartName.fr,delete e.common.smartName.pt,delete e.common.smartName.es,delete e.common.smartName.uk,delete e.common.smartName["zh-cn"]):e.common.smartName=null)}}}static disableSmartName(e,t,n){n?(e.common.custom=e.common.custom||{},e.common.custom[t]=e.common.custom[t]||{},e.common.custom[t].smartName=!1):e.common.smartName=!1}static copyToClipboard(e,t){return t&&t.stopPropagation(),t&&t.preventDefault(),h.Utils.copyToClipboard(e)}static getFileExtension(e){const t=(e||"").lastIndexOf(".");return t!==-1?e.substring(t+1).toLowerCase():null}static formatBytes(e){if(Math.abs(e)<1024)return`${e} B`;const t=["KB","MB","GB"];let n=-1;do e/=1024,++n;while(Math.abs(e)>=1024&&n<t.length-1);return`${e.toFixed(1)} ${t[n]}`}static getInvertedColor(e,t,n){if(!e)return;const s=wt.invertColor(e,!0);if(s==="#FFFFFF"&&(t==="dark"||n&&t==="light"))return"#DDD";if(s==="#000000"&&(t==="light"||n&&t==="dark"))return"#222"}static invertColor(e,t){if(e==null||e===""||typeof e!="string")return"";if(e.startsWith("rgba")){const i=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/);i&&(e=parseInt(i[1],10).toString(16).padStart(2,"0")+parseInt(i[2],10).toString(16).padStart(2,"0")+parseInt(i[2],10).toString(16).padStart(2,"0"))}else if(e.startsWith("rgb")){const i=e.match(/rgb?\((\d+),\s*(\d+),\s*(\d+)\)/);i&&(e=parseInt(i[1],10).toString(16).padStart(2,"0")+parseInt(i[2],10).toString(16).padStart(2,"0")+parseInt(i[2],10).toString(16).padStart(2,"0"))}else e.startsWith("#")&&(e=e.slice(1));e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);let n=null;if(e.length===8)n=e.substring(6,8),e=e.substring(0,6);else if(e.length!==6)return console.warn(`Cannot invert color: ${e}`),e;let s=parseInt(e.slice(0,2),16),o=parseInt(e.slice(2,4),16),a=parseInt(e.slice(4,6),16);return t?s*.299+o*.587+a*.114>186?`#000000${n||""}`:`#FFFFFF${n||""}`:(s=(255-s).toString(16),o=(255-o).toString(16),a=(255-a).toString(16),`#${s.padStart(2,"0")}${o.padStart(2,"0")}${a.padStart(2,"0")}${n||""}`)}static color2rgb(e){if(e==null||e===""||typeof e!="string")return"";if(e.startsWith("rgba")){const t=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/);t&&(e=parseInt(t[1],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0"))}else if(e.startsWith("rgb")){const t=e.match(/rgb?\((\d+),\s*(\d+),\s*(\d+)\)/);t&&(e=parseInt(t[1],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0")+parseInt(t[2],10).toString(16).padStart(2,"0"))}else e.startsWith("#")&&(e=e.slice(1));return e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),e.length!==6&&e.length!==8?(console.warn(`Cannot invert color: ${e}`),!1):[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}static rgb2lab(e){let t=e[0]/255,n=e[1]/255,s=e[2]/255;t=t>.04045?Qt((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Qt((n+.055)/1.055,2.4):n/12.92,s=s>.04045?Qt((s+.055)/1.055,2.4):s/12.92;let o=(t*.4124+n*.3576+s*.1805)/.95047,a=t*.2126+n*.7152+s*.0722,i=(t*.0193+n*.1192+s*.9505)/1.08883;return o=o>.008856?Qt(o,.33333333):7.787*o+.137931,a=a>.008856?Qt(a,.33333333):7.787*a+.137931,i=i>.008856?Qt(i,.33333333):7.787*i+.137931,[116*a-16,500*(o-a),200*(a-i)]}static colorDistance(e,t){const n=wt.rgb2lab(wt.color2rgb(e)),s=wt.rgb2lab(wt.color2rgb(t)),o=n[0]-s[0],a=n[1]-s[1],i=n[2]-s[2],c=Math.sqrt(n[1]*n[1]+n[2]*n[2]),p=Math.sqrt(s[1]*s[1]+s[2]*s[2]),f=c-p;let C=a*a+i*i-f*f;C=C<0?0:Math.sqrt(C);const v=1+.045*c,P=1+.015*c,S=o,k=f/v,O=C/P,_=S*S+k*k+O*O;return _<0?0:_}static _toVal(e){let t,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]&&(t=wt._toVal(e[s]),t&&(n&&(n+=" "),n+=t));else for(const s in e)e[s]&&(n&&(n+=" "),n+=s);return n}static clsx(){let e=0,t,n,s="";for(;e<arguments.length;)t=arguments[e++],t&&(n=wt._toVal(t),n&&(s&&(s+=" "),s+=n));return s}static getThemeName(e=""){return window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"?window.vendorPrefix:e||((window._localStorage||window.localStorage).getItem("App.themeName")?(window._localStorage||window.localStorage).getItem("App.themeName"):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"colored")}static getThemeType(e=""){return window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"?"light":(e=e||(window._localStorage||window.localStorage).getItem("App.themeName"),e==="dark"||e==="blue"?"dark":"light")}static setThemeName(e){window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"||((window._localStorage||window.localStorage).setItem("App.themeName",e),(window._localStorage||window.localStorage).setItem("App.theme",e==="dark"||e==="blue"?"dark":"light"))}static toggleTheme(e){if(window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@")return window.vendorPrefix;e=e||(window._localStorage||window.localStorage).getItem("App.themeName");const t=wt.getThemeNames(),n=t.indexOf(e);let s;return n!==-1?s=t[(n+1)%t.length]:s=t[0],wt.setThemeName(s),s}static getThemeNames(){return window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"?[window.vendorPrefix]:["light","dark","blue","colored"]}static parseQuery(e){e=(e||"").toString().replace(/^\?/,"");const t={};return e.split("&").forEach(n=>{if(n=n.trim(),n){const s=n.split("="),o=decodeURIComponent(s[0]).trim();if(s.length>1)if(t[o]=decodeURIComponent(s[1]),t[o]==="true")t[o]=!0;else if(t[o]==="false")t[o]=!1;else{const a=parseFloat(t[o]);a.toString()===t[o]&&(t[o]=a)}else t[o]=!0}}),t}static getParentId(e){const t=(e||"").toString().split(".");return t.length>1?(t.pop(),t.join(".")):null}static formatDate(e,t){if(!e)return"";let n,s=e.getMonth()+1;s<10&&(s=`0${s}`);let o=e.getDate();o<10&&(o=`0${o}`),t==="MM/DD/YYYY"?n=`${s}/${o}/${e.getFullYear()}`:n=`${e.getFullYear()}-${s}-${o}`;let a=e.getHours();return a<10?n+=` 0${a}`:n+=` ${a}`,a=e.getMinutes(),a<10?n+=`:0${a}`:n+=`:${a}`,a=e.getSeconds(),a<10?n+=`:0${a}`:n+=`:${a}`,a=e.getMilliseconds(),a<10?n+=`.00${a}`:a<100?n+=`.0${a}`:n+=`.${a}`,n}static formatTime(e){if(e){e=Math.round(e);const t=Math.floor(e/(3600*24)),n=Math.floor(e%(3600*24)/3600),s=Math.floor(e%3600/60),o=e%60;return t?`${t}.${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`:n?`${n}:${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`:`0:${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}return"0:00:00"}static MDtext2link(e){const t=e.match(/\d+\.\)\s/);return t&&(e=e.replace(t[0],t[0].replace(/\s/,"&nbsp;"))),e.replace(/[^a-zA-Zа-яА-Я0-9]/g,"").trim().replace(/\s/g,"").toLowerCase()}static openLink(e,t){e=e.replace(/\/\/([0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*)(:\d+)?\//i,"//[$1]$2/"),t==="this"?window.location=e:window.open(e,t||"_blank")}static MDgetTitle(e){const t=wt.extractHeader(e),n=t.header;let s=t.body;if(!n.title){s=s.replace(/{[^}]*}/g,""),s=s.trim();const o=s.replace(/\r/g,"").split(`
`);for(let a=0;a<o.length;a++)if(o[a].startsWith("# "))return o[a].substring(2).trim();return""}return n.title}static MDextractHeader(e){const t={};if(e.substring(0,3)==="---"){const n=e.substring(3).indexOf(`
---`);n!==-1&&(e.substring(3,n+3).replace(/\r/g,"").split(`
`).forEach(a=>{if(!a.trim())return;const i=a.indexOf(":");if(i!==-1){const c=a.substring(0,i).trim();t[c]=a.substring(i+1).trim(),t[c]=t[c].replace(/^['"]|['"]$/g,""),t[c]==="true"?t[c]=!0:t[c]==="false"?t[c]=!1:parseFloat(t[c]).toString()===t[c]&&(t[c]=parseFloat(t[c]))}else t[a.trim()]=!0}),e=e.substring(n+7))}return{header:t,body:e}}static MDremoveDocsify(e){const t=e.match(/{docsify-[^}]*}/g);return t&&t.forEach(n=>e=e.replace(n,"")),e}static generateFile(e,t){const n=document.createElement("a");n.setAttribute("href",`data:application/json;charset=utf-8,${encodeURIComponent(JSON.stringify(t,null,2))}`),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}static quality2text(e){const t=e&4294901760,n=re[e];let s;return n?s=[n]:e&1?s=[re[1],`0x${(e&65534).toString(16)}`]:e&2?s=[re[2],`0x${(e&65533).toString(16)}`]:s=[`0x${e.toString(16)}`],t&&s.push(`0x${(t>>16).toString(16).toUpperCase()}`),s}static clone(e){return JSON.parse(JSON.stringify(e))}static getStates(e){var n;let t=(n=e==null?void 0:e.common)==null?void 0:n.states;if(t){if(typeof t=="string"&&t[0]==="{")try{t=JSON.parse(t)}catch(s){console.error(`Cannot parse states: ${t}`),t=null}else if(typeof t=="string"){const s=t.split(";");t={};for(let o=0;o<s.length;o++){const a=s[o].split(":");t[a[0]]=a[1]}}else if(Array.isArray(t)){const s={};return e.common.type==="number"?t.forEach((o,a)=>s[a]=o):e.common.type==="string"?t.forEach(o=>s[o]=o):e.common.type==="boolean"&&(s.false=t[0],s.true=t[1]),s}}return t}static getSvg(e){return fetch(e).then(t=>t.blob()).then(t=>new Promise(n=>{const s=new FileReader;s.onload=function(){n(this.result)},s.readAsDataURL(t)}))}static detectMimeType(e){const t=Object.keys(pe).find(n=>e.startsWith(n));return t?pe[t]:null}static isStableRepository(e){return!!(typeof e=="string"&&e.toLowerCase().startsWith("stable")||e&&typeof e!="string"&&e.find(t=>t.toLowerCase().startsWith("stable")))}static isStringInteger(e){return parseInt(e).toString()===e}static isValidDate(e){return e instanceof Date&&!isNaN(e)}};je(wt,"namespace",J),je(wt,"INSTANCES","instances"),je(wt,"dateFormat",["DD","MM"]),je(wt,"FORBIDDEN_CHARS",/[^._\-/ :!#$%&()+=@^{}|~\p{Ll}\p{Lu}\p{Nd}]+/gu);let Oe=wt;const Je=Oe;function oe(r){return Object.prototype.toString.call(r)==="[object Object]"}const St=class St extends V.Component{constructor(t){super(t);je(this,"defaultValue");je(this,"isError");je(this,"lang");je(this,"defaultSendToDone");je(this,"sendToTimeout");je(this,"noPlaceRequired");je(this,"onUpdate",t=>{const n=St.getValue(t||this.props.data,this.props.attr)||"";this.state.value!==n?this.setState({value:n}):this.forceUpdate()});this.state={confirmDialog:!1,confirmNewValue:null,confirmAttr:null,confirmData:null},this.isError={},t.schema&&(t.custom?this.defaultValue=t.schema.defaultFunc?this.executeCustom(t.schema.defaultFunc,t.data,t.customObj,t.instanceObj,t.arrayIndex,t.globalData):t.schema.default:this.defaultValue=t.schema.defaultFunc?this.execute(t.schema.defaultFunc,t.schema.default,t.data,t.arrayIndex,t.globalData):t.schema.default),this.lang=h.I18n.getLanguage()}componentDidMount(){this.props.registerOnForceUpdate&&this.props.registerOnForceUpdate(this.props.attr,this.onUpdate);const t=["select","autocomplete","autocompleteSendTo"];if(this.defaultValue!==void 0){const n=St.getValue(this.props.data,this.props.attr);(n===void 0||t.includes(this.props.schema.type)&&(n===""||n===null))&&setTimeout(()=>{this.props.custom?this.props.onChange(this.props.attr,this.defaultValue,()=>setTimeout(()=>this.props.forceUpdate([this.props.attr],this.props.data),100)):(St.setValue(this.props.data,this.props.attr,this.defaultValue),this.props.onChange(this.props.data,void 0,()=>this.props.forceUpdate([this.props.attr],this.props.data)))},100)}else this.props.schema.defaultSendTo&&this.sendTo()}sendTo(){if(this.props.alive){this.defaultSendToDone=!0;let t=this.props.schema.data;if(t===void 0&&this.props.schema.jsonData){const n=this.getPattern(this.props.schema.jsonData);try{t=JSON.parse(n)}catch(s){console.error(`Cannot parse json data: ${n}`)}}else t={attr:this.props.attr,value:St.getValue(this.props.data,this.props.attr)};t===void 0&&(t=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.defaultSendTo,t).then(n=>{n!=null&&(this.props.custom?this.props.onChange(this.props.attr,n,()=>this.props.forceUpdate([this.props.attr],this.props.data)):(St.setValue(this.props.data,this.props.attr,n),this.props.onChange(this.props.data,void 0,()=>this.props.forceUpdate([this.props.attr],this.props.data))))})}else this.defaultSendToDone=!1,this.onError(this.props.attr,h.I18n.t("ra_Instance %s is not alive",this.props.instance.toString()))}componentWillUnmount(){this.props.registerOnForceUpdate&&this.props.registerOnForceUpdate(this.props.attr),this.sendToTimeout&&(clearTimeout(this.sendToTimeout),this.sendToTimeout=null)}static getValue(t,n){if(typeof n=="string")return St.getValue(t,n.split("."));if(n.length===1)return t[n[0]];const s=n.shift();return typeof s=="string"&&typeof t[s]=="object"?St.getValue(t[s],n):null}static setValue(t,n,s){if(typeof n=="string"){St.setValue(t,n.split("."),s);return}if(n.length===1)s===null?delete t[n[0]]:t[n[0]]=s;else{const o=n.shift();if(typeof o!="string")return;(!t[o]||typeof t[o]=="object")&&(t[o]=t[o]||{}),St.setValue(t[o],n,s)}}getText(t,n){if(!t)return"";if(typeof t=="string"){const s=n?t:h.I18n.t(t);return s.includes("${")?this.getPattern(s):s}return oe(t)?t.func?typeof t.func=="object"?this.getPattern(t.func[this.lang]||t.func.en||""):this.getPattern(t.func):t[this.lang]||t.en||"":t.toString()}renderConfirmDialog(){if(!this.state.confirmDialog)return null;const t=this.state.confirmData||this.props.schema.confirm;let n=null;return t.type==="warning"?n=l().createElement(D.Warning,null):t.type==="error"?n=l().createElement(D.Error,null):t.type==="info"&&(n=l().createElement(D.Info,null)),l().createElement(h.Confirm,{title:this.getText(t.title)||h.I18n.t("ra_Please confirm"),text:this.getText(t.text),ok:this.getText(t.ok)||h.I18n.t("ra_Ok"),cancel:this.getText(t.cancel)||h.I18n.t("ra_Cancel"),icon:n||void 0,onClose:s=>this.setState({confirmDialog:!1},()=>{if(s){const o=JSON.parse(JSON.stringify(this.props.data));this.state.confirmDepAttr&&St.setValue(o,this.state.confirmDepAttr,this.state.confirmDepNewValue),St.setValue(o,this.state.confirmAttr,this.state.confirmNewValue),this.setState({confirmDialog:!1,confirmDepAttr:null,confirmDepNewValue:null,confirmNewValue:null,confirmAttr:null,confirmData:null},()=>this.props.onChange(o))}else this.setState({confirmDialog:!1,confirmDepAttr:null,confirmDepNewValue:null,confirmNewValue:null,confirmAttr:null,confirmData:null})})})}getIcon(t){t=t||this.props.schema.icon;let n=null;return t==="auth"?n=l().createElement(D.Key,null):t==="send"?n=l().createElement(D.Send,null):t==="web"?n=l().createElement(D.Public,null):t==="warning"?n=l().createElement(D.Warning,null):t==="error"?n=l().createElement(D.Error,null):t==="info"?n=l().createElement(D.Info,null):t==="search"?n=l().createElement(D.Search,null):t==="book"?n=l().createElement(D.MenuBook,null):t==="help"?n=l().createElement(D.Help,null):t==="upload"?n=l().createElement(D.UploadFile,null):t&&((t.endsWith(".png")||t.endsWith(".svg")||t.endsWith(".jpg"))&&!t.startsWith("http://")&&!t.startsWith("https://")&&(t=`./adapter/${this.props.adapterName}/${t}`),n=l().createElement(h.Icon,{src:t,style:{width:22,height:22}})),n}onChangeAsync(t,n){return new Promise(s=>{this.onChange(t,n,s)})}onChange(t,n,s){const o=JSON.parse(JSON.stringify(this.props.data));if(St.setValue(o,t,n),this.props.schema.confirm&&this.execute(this.props.schema.confirm.condition,!1,o,this.props.arrayIndex,this.props.globalData))return new Promise(i=>{this.setState({confirmDialog:!0,confirmNewValue:n,confirmAttr:t,confirmData:null},()=>{typeof s=="function"?s():i()})});if(this.props.schema.confirmDependsOn)for(let i=0;i<this.props.schema.confirmDependsOn.length;i++){const c=this.props.schema.confirmDependsOn[i];if(c.confirm){const p=St.getValue(o,c.attr);if(this.execute(c.confirm.condition,!1,o,this.props.arrayIndex,this.props.globalData))return new Promise(f=>{this.setState({confirmDialog:!0,confirmNewValue:n,confirmAttr:t,confirmDepNewValue:p,confirmDepAttr:c.attr,confirmData:c.confirm},()=>{typeof s=="function"?s():f()})})}}const a=[];if(this.props.schema.onChangeDependsOn)for(let i=0;i<this.props.schema.onChangeDependsOn.length;i++){const c=this.props.schema.onChangeDependsOn[i];if(c.onChange){const p=St.getValue(o,c.attr);let f;this.props.custom?f=this.executeCustom(c.onChange.calculateFunc,o,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):f=this.execute(c.onChange.calculateFunc,p,o,this.props.arrayIndex,this.props.globalData),f!==p&&(St.setValue(o,c.attr,f),a.push(c.attr))}}if(this.props.schema.hiddenDependsOn)for(let i=0;i<this.props.schema.hiddenDependsOn.length;i++){const c=this.props.schema.hiddenDependsOn[i];c.hidden&&a.push(c.attr)}if(this.props.schema.labelDependsOn)for(let i=0;i<this.props.schema.labelDependsOn.length;i++){const c=this.props.schema.labelDependsOn[i];c.hidden&&a.push(c.attr)}if(this.props.schema.helpDependsOn)for(let i=0;i<this.props.schema.helpDependsOn.length;i++){const c=this.props.schema.helpDependsOn[i];c.hidden&&a.push(c.attr)}if(this.props.schema.onChange&&!this.props.schema.onChange.ignoreOwnChanges){const i=St.getValue(o,this.props.attr),c=this.props.custom?this.executeCustom(this.props.schema.onChange.calculateFunc,o,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):this.execute(this.props.schema.onChange.calculateFunc,i,o,this.props.arrayIndex,this.props.globalData);c!==i&&St.setValue(o,this.props.attr,c)}return this.props.custom?(this.props.onChange(t,n,()=>s&&s()),a&&a.length&&a.forEach((i,c)=>setTimeout(()=>this.props.onChange(i,St.getValue(o,i)),c*50))):this.props.onChange(o,void 0,()=>{a.length&&this.props.forceUpdate(a,o),s&&s()}),Promise.resolve()}execute(t,n,s,o,a){let i;if(oe(t))i=t.func;else if(typeof t=="string")i=t;else return t;if(!i)return n;try{return new Function("data","originalData","_system","_alive","_common","_socket","_instance","arrayIndex","globalData","_changed",i.includes("return")?i:`return ${i}`)(s||this.props.data,this.props.originalData,this.props.systemConfig,this.props.alive,this.props.common,this.props.socket,this.props.instance,o,a,this.props.changed)}catch(c){return console.error(`Cannot execute ${t}: ${c}`),n}}executeCustom(t,n,s,o,a,i){let c;if(oe(t))c=t.func;else if(typeof t=="string")c=t;else return t;if(!c)return null;try{return new Function("data","originalData","_system","instanceObj","customObj","_socket","arrayIndex","globalData","_changed",c.includes("return")?c:`return ${c}`)(n||this.props.data,this.props.originalData,this.props.systemConfig,o,s,this.props.socket,a,i,this.props.changed)}catch(p){return console.error(`Cannot execute ${c}: ${p}`),null}}calculate(t){let n,s,o,a;return this.props.custom?(n=t.validator?!this.executeCustom(t.validator,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!1,s=t.disabled?this.executeCustom(t.disabled,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!1,o=t.hidden?this.executeCustom(t.hidden,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!1,a=t.defaultFunc?this.executeCustom(t.defaultFunc,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):t.default):(n=t.validator?!this.execute(t.validator,!1,this.props.data,this.props.arrayIndex,this.props.globalData):!1,s=t.disabled?this.execute(t.disabled,!1,this.props.data,this.props.arrayIndex,this.props.globalData):!1,o=t.hidden?this.execute(t.hidden,!1,this.props.data,this.props.arrayIndex,this.props.globalData):!1,a=t.defaultFunc?this.execute(t.defaultFunc,t.default,this.props.data,this.props.arrayIndex,this.props.globalData):t.default),{error:n,disabled:s,hidden:o,defaultValue:a}}onError(t,n){n?this.isError[t]=n:delete this.isError[t],this.props.onError&&this.props.onError(t,n)}renderItem(t,n,s){return this.getText(this.props.schema.label)||this.getText(this.props.schema.text)}renderHelp(t,n,s){return n?l().createElement("a",{href:n,target:"_blank",rel:"noreferrer",style:{color:this.props.themeType==="dark"?"#a147ff":"#5b238f",textDecoration:"underline"}},this.getText(t,s)):(t=this.getText(t,s)||"",t&&(t.includes("<a ")||t.includes("<br")||t.includes("<b>")||t.includes("<i>"))?h.Utils.renderTextWithA(t):t)}getPattern(t,n){if(n=n||this.props.data,!t)return"";let s;typeof t=="object"?t.func?s=t.func:(console.log(`Object must be stringified: ${JSON.stringify(t)}`),s=JSON.stringify(t)):s=t;try{return this.props.custom?new Function("data","originalData","arrayIndex","globalData","_system","instanceObj","customObj","_socket","_changed",`return \`${s.replace(/`/g,"\\`")}\``)(n,this.props.originalData,this.props.arrayIndex,this.props.globalData,this.props.systemConfig,this.props.instanceObj,this.props.customObj,this.props.socket,this.props.changed):new Function("data","originalData","arrayIndex","globalData","_system","_alive","_common","_socket","_changed",`return \`${s.replace(/`/g,"\\`")}\``)(n,this.props.originalData,this.props.arrayIndex,this.props.globalData,this.props.systemConfig,this.props.alive,this.props.common,this.props.socket,this.props.changed)}catch(o){return console.error(`Cannot execute ${s}: ${o}`),s}}render(){const t=this.props.schema;if(!t)return null;this.props.alive&&this.defaultSendToDone===!1&&(this.sendToTimeout=setTimeout(()=>{this.sendToTimeout=null,this.sendTo()},200));const{error:n,disabled:s,hidden:o,defaultValue:a}=this.calculate(t);if(o){if(Object.keys(this.isError).length&&(setTimeout(p=>Object.keys(p).forEach(f=>this.props.onError(f)),100,JSON.parse(JSON.stringify(this.isError))),this.isError={}),t.hideOnlyControl){const p=l().createElement(u.Grid,{item:!0,xs:t.xs||void 0,lg:t.lg||void 0,md:t.md||void 0,sm:t.sm||void 0,style:ut(ut({marginBottom:0,textAlign:"left"},t.style),this.props.themeType==="dark"?t.darkStyle:{})});return t.newLine?l().createElement(l().Fragment,null,l().createElement("div",{style:{flexBasis:"100%",height:0}}),p):p}return null}t.validatorNoSaveOnError&&(n&&!Object.keys(this.isError).length?(this.isError={[this.props.attr]:t.validatorErrorText?h.I18n.t(t.validatorErrorText):!0},setTimeout(p=>Object.keys(p).forEach(f=>this.props.onError(f,p[f])),100,JSON.parse(JSON.stringify(this.isError)))):!n&&Object.keys(this.isError).length&&(setTimeout(p=>Object.keys(p).forEach(f=>this.props.onError(f)),100,JSON.parse(JSON.stringify(this.isError))),this.isError={}));const i=this.renderItem(n,s||this.props.commandRunning||this.props.disabled,a);if(this.noPlaceRequired)return i;const c=l().createElement(u.Grid,{item:!0,title:this.getText(t.tooltip),xs:t.xs||void 0,lg:t.lg||void 0,md:t.md||void 0,sm:t.sm||void 0,style:ut(ut({marginBottom:0,textAlign:"left",width:t.type==="divider"||t.type==="header"?t.width||"100%":void 0},t.style),this.props.themeType==="dark"?t.darkStyle:{})},this.props.schema.defaultSendTo&&this.props.schema.button?l().createElement(u.Grid,{container:!0,style:{width:"100%"}},l().createElement(u.Grid,{item:!0,flex:1},i),l().createElement(u.Grid,{item:!0},l().createElement(u.Button,{variant:"outlined",onClick:()=>this.sendTo(),title:this.props.schema.buttonTooltip?this.getText(this.props.schema.buttonTooltip,this.props.schema.buttonTooltipNoTranslation):h.I18n.t("ra_Request data by instance")},this.getText(this.props.schema.button)))):i);return t.newLine?l().createElement(l().Fragment,null,l().createElement("div",{style:{flexBasis:"100%",height:0}}),this.renderConfirmDialog(),c):this.state.confirmDialog?l().createElement(l().Fragment,null,this.renderConfirmDialog(),c):c}};je(St,"DIFFERENT_VALUE","__different__"),je(St,"DIFFERENT_LABEL","ra___different__"),je(St,"NONE_VALUE",""),je(St,"NONE_LABEL","ra_none");let y=St;const N=r=>({fullWidth:{width:"100%"},accordionSummary:{backgroundColor:r.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.08)"},accordionTitle:{},toolbar:{backgroundColor:r.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.08)",borderRadius:3}});class g extends y{constructor(t){super(t);je(this,"typingTimer",null);je(this,"onDelete",t=>()=>{const n=JSON.parse(JSON.stringify(this.state.value));n.splice(t,1),this.setState({value:n,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(n))});je(this,"onClone",t=>()=>{const n=JSON.parse(JSON.stringify(this.state.value)),s=JSON.parse(JSON.stringify(n[t]));if(typeof this.props.schema.clone=="string"&&typeof s[this.props.schema.clone]=="string"){let o=1,a=s[this.props.schema.clone];const i=a.match(/(\d+)$/);for(i?(a=a.replace(i[0],""),o=parseInt(i[0],10)+1):a+="_";n.find(c=>c[this.props.schema.clone]===a+o.toString());)o++;s[this.props.schema.clone]=`${s[this.props.schema.clone]}_${o}`}n.splice(t,0,s),this.setState({value:n,activeIndex:-1,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(n))});je(this,"onChangeWrapper",t=>{this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=setTimeout(n=>{this.typingTimer=null,this.onChange(this.props.attr,n)},300,t)});je(this,"onAdd",()=>{const{schema:t}=this.props,n=JSON.parse(JSON.stringify(this.state.value)),s=t.items&&t.items.reduce((o,a)=>{let i;return a.defaultFunc?this.props.custom?i=a.defaultFunc?this.executeCustom(a.defaultFunc,this.props.data,this.props.customObj,this.props.instanceObj,n.length,this.props.data):this.props.schema.default:i=a.defaultFunc?this.execute(a.defaultFunc,this.props.schema.default,this.props.data,n.length,this.props.data):this.props.schema.default:i=a.default===void 0?null:a.default,o[a.attr]=i,o},{});n.push(s),this.setState({value:n,activeIndex:n.length-1},()=>this.onChangeWrapper(n))});this.props.schema.items=this.props.schema.items||[]}componentDidMount(){return dt(this,null,function*(){Wt(g.prototype,this,"componentDidMount").call(this);let t=y.getValue(this.props.data,this.props.attr)||[];Array.isArray(t)||(t=[]),this.setState({value:t,activeIndex:-1,iteration:0})})}componentWillUnmount(){this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=null,super.componentWillUnmount()}itemAccordion(t,n){const{value:s}=this.state,{schema:o}=this.props,a={type:"panel",items:o.items.reduce((i,c)=>(i[c.attr]=c,i),{}),style:{marginLeft:-8,marginTop:10,marginBottom:10}};return l().createElement(bs,{index:n+this.state.iteration,arrayIndex:n,changed:this.props.changed,globalData:this.props.data,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,alive:this.props.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:t,custom:!0,schema:a,systemConfig:this.props.systemConfig,originalData:this.props.originalData,customs:this.props.customs,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,forceUpdate:this.props.forceUpdate,imagePrefix:this.props.imagePrefix,onCommandRunning:this.props.onCommandRunning,onChange:(i,c)=>{const p=JSON.parse(JSON.stringify(s));p[n][i]=c,this.setState({value:p},()=>this.onChangeWrapper(p))},onError:(i,c)=>this.onError(i,c),table:this.props.table})}onMoveUp(t){const n=JSON.parse(JSON.stringify(this.state.value)),s=n[t];n.splice(t,1),n.splice(t-1,0,s);const o=this.state.activeIndex-1;this.setState({value:n,activeIndex:o,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(n))}onMoveDown(t){const n=JSON.parse(JSON.stringify(this.state.value)),s=n[t];n.splice(t,1),n.splice(t+1,0,s);const o=this.state.activeIndex+1;this.setState({value:n,activeIndex:o,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(n))}renderItem(){const{classes:t,schema:n}=this.props,{value:s}=this.state;return s?l().createElement(u.Paper,null,n.label||!n.noDelete?l().createElement(u.Toolbar,{variant:"dense"},n.label?l().createElement(u.Typography,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},this.getText(n.label)):null,n.noDelete?null:l().createElement(u.IconButton,{size:"small",color:"primary",onClick:this.onAdd},l().createElement(D.Add,null))):null,s.map((o,a)=>l().createElement(u.Accordion,{key:`${o}_${a}`,expanded:this.state.activeIndex===a,onChange:(i,c)=>{this.setState({activeIndex:c?a:-1})}},l().createElement(u.AccordionSummary,{expandIcon:l().createElement(D.ExpandMore,null),className:h.Utils.clsx(t.fullWidth,t.accordionSummary)},l().createElement(u.Typography,{className:t.accordionTitle},o[n.titleAttr])),l().createElement(u.AccordionDetails,{style:ut(ut({},n.style),this.props.themeType?n.darkStyle:{})},this.itemAccordion(s[a],a),l().createElement(u.Toolbar,{className:t.toolbar},a?l().createElement(u.Tooltip,{title:h.I18n.t("ra_Move up")},l().createElement(u.IconButton,{size:"small",onClick:()=>this.onMoveUp(a)},l().createElement(D.ArrowUpward,null))):l().createElement("div",{className:t.buttonEmpty}),a<s.length-1?l().createElement(u.Tooltip,{title:h.I18n.t("ra_Move down")},l().createElement(u.IconButton,{size:"small",onClick:()=>this.onMoveDown(a)},l().createElement(D.ArrowDownward,null))):l().createElement("div",{className:t.buttonEmpty}),n.noDelete?null:l().createElement(u.Tooltip,{title:h.I18n.t("ra_Delete current row")},l().createElement(u.IconButton,{size:"small",onClick:this.onDelete(a)},l().createElement(D.Delete,null))),n.clone?l().createElement(u.Tooltip,{title:h.I18n.t("ra_Clone current row")},l().createElement(u.IconButton,{size:"small",onClick:this.onClone(a)},l().createElement(D.ContentCopy,null))):null)))),!n.noDelete&&s.length>0?l().createElement(u.Toolbar,{variant:"dense",className:t.rootTool},l().createElement(u.IconButton,{size:"small",color:"primary",onClick:this.onAdd},l().createElement(D.Add,null))):null,n.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null):null}}const w=(0,b.withStyles)(N)(g),m={root:{width:"100%"},notAlive:{color:"#a30000"}};class x extends y{componentDidMount(){super.componentDidMount();const e=this.getInstance();this.props.socket.getState(`${e}.alive`).then(t=>this.setState({alive:!!(t&&t.val),instance:e}))}getInstance(){let e=this.props.schema.instance||`${this.props.adapterName}.${this.props.instance}`;return e.includes("${")&&(e=this.getPattern(e)),e&&!e.startsWith("system.adapter.")&&(e=`system.adapter.${e}`),e}renderItem(){if(this.getInstance()!==this.state.instance&&setTimeout(()=>{const t=this.getInstance();t?this.props.socket.getState(`${t}.alive`).then(n=>this.setState({alive:!!(n&&n.val),instance:t})):this.setState({alive:null,instance:t})},200),this.state.alive!==!1&&this.state.alive!==!0)return null;const e=this.state.instance.replace(/^system.adapter./,"");return l().createElement("div",{className:h.Utils.clsx(this.props.classes.root,!this.state.alive&&this.props.classes.notAlive)},this.state.alive?this.props.schema.textAlive!==void 0?this.props.schema.textAlive?h.I18n.t(this.props.schema.textAlive,e):"":h.I18n.t("ra_Instance %s is alive",e):this.props.schema.textNotAlive!==void 0?this.props.schema.textNotAlive?h.I18n.t(this.props.schema.textNotAlive,e):"":h.I18n.t("ra_Instance %s is not alive",e))}}const E=(0,b.withStyles)(m)(x),B={fullWidth:{width:"100%"}};class Y extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr),t=this.props.schema.options.map(n=>typeof n=="string"?{label:n,value:n}:JSON.parse(JSON.stringify(n)));Array.isArray(e)?(t.unshift({label:h.I18n.t(y.DIFFERENT_LABEL),value:y.DIFFERENT_VALUE}),this.setState({value:y.DIFFERENT_VALUE,selectOptions:t})):this.setState({value:e,selectOptions:t})}renderItem(e,t){if(!this.state.selectOptions)return null;let n;const s=JSON.parse(JSON.stringify(this.state.selectOptions));return Array.isArray(this.state.value)||this.state.value===y.DIFFERENT_VALUE?([...this.state.value].filter(a=>!s.find(i=>typeof i=="object"?i.value===a:i===a)).forEach(a=>s.push({label:a.toString(),value:a})),n={label:h.I18n.t(y.DIFFERENT_LABEL),value:y.DIFFERENT_VALUE},s.unshift(n)):(n=this.state.value!==null&&this.state.value!==void 0&&s.find(a=>typeof a=="object"?a.value==this.state.value:a==this.state.value),this.state.value!==null&&this.state.value!==void 0&&!n&&this.props.schema.freeSolo&&(n={value:this.state.value,label:this.state.value},s.push(n))),l().createElement(u.Autocomplete,{className:this.props.classes.indeterminate,fullWidth:!0,freeSolo:!!this.props.schema.freeSolo,value:n,options:s,onInputChange:a=>{if(!a||!this.props.schema.freeSolo)return;const i=a.target.value;i!==this.state.value&&this.setState({value:i},()=>this.onChange(this.props.attr,i))},onChange:(a,i)=>{const c=typeof i=="object"?i?i.value:"":i;c!==this.state.value&&this.setState({value:c},()=>this.onChange(this.props.attr,c))},getOptionLabel:a=>{var i;return typeof a=="object"&&(i=a==null?void 0:a.label)!=null?i:""},renderInput:a=>l().createElement(u.TextField,Ht(ut({variant:"standard"},a),{error:!!e,placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:t}))})}}const z=(0,b.withStyles)(B)(Y),U={fullWidth:{width:"100%"}};class H extends y{componentDidMount(){super.componentDidMount(),this.askInstance()}askInstance(){const e=y.getValue(this.props.data,this.props.attr),t=this.props.schema.options?this.props.schema.options.map(n=>typeof n=="string"?{label:n,value:n}:JSON.parse(JSON.stringify(n))):[];if(this.props.alive){let n=this.props.schema.data;if(n===void 0&&this.props.schema.jsonData){n=this.getPattern(this.props.schema.jsonData);try{typeof n=="string"&&(n=JSON.parse(n))}catch(s){console.error(`Cannot parse json data: ${n}`)}}n===void 0&&(n=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",n).then(s=>{s&&Array.isArray(s)&&s.forEach(o=>t.push(typeof o=="string"?{label:o,value:o}:JSON.parse(JSON.stringify(o)))),Array.isArray(e)?(t.unshift({label:h.I18n.t(y.DIFFERENT_LABEL),value:y.DIFFERENT_VALUE}),this.setState({value:y.DIFFERENT_VALUE,selectOptions:t,context:this.getContext()})):this.setState({value:e,selectOptions:t,context:this.getContext()})})}else Array.isArray(e)?(t.unshift({label:h.I18n.t(y.DIFFERENT_LABEL),value:y.DIFFERENT_VALUE}),this.setState({value:y.DIFFERENT_VALUE,selectOptions:t})):this.setState({value:e,selectOptions:t})}getContext(){const e={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(t=>e[t]=y.getValue(this.props.data,t)),JSON.stringify(e)}renderItem(e,t){if(!this.state.selectOptions)return null;this.props.alive&&this.getContext()!==this.state.context&&setTimeout(()=>this.askInstance(),300);let n;const s=JSON.parse(JSON.stringify(this.state.selectOptions));return Array.isArray(this.state.value)||this.state.value===y.DIFFERENT_LABEL?([...this.state.value].filter(a=>!s.find(i=>i.value===a)).forEach(a=>s.push({label:a.toString(),value:a})),n={label:h.I18n.t(y.DIFFERENT_LABEL),value:y.DIFFERENT_VALUE},s.unshift(n)):(n=this.state.value!==null&&this.state.value!==void 0&&s.find(a=>a.value==this.state.value),this.state.value!==null&&this.state.value!==void 0&&!n&&this.props.schema.freeSolo&&(n={value:this.state.value,label:this.state.value},s.push(n)),n=n||null),s.length?l().createElement(u.Autocomplete,{value:n,fullWidth:!0,freeSolo:!!this.props.schema.freeSolo,options:s,getOptionLabel:a=>{var i;return(i=a==null?void 0:a.label)!=null?i:""},className:this.props.classes.indeterminate,onInputChange:a=>{if(!a||!this.props.schema.freeSolo)return;const i=a.target.value;i!==this.state.value&&this.setState({value:i},()=>this.onChange(this.props.attr,i))},onChange:(a,i)=>{const c=typeof i=="object"?i?i.value:"":i;c!==this.state.value&&this.setState({value:c},()=>this.onChange(this.props.attr,c))},renderInput:a=>l().createElement(u.TextField,Ht(ut({variant:"standard"},a),{error:!!e,placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:t}))}):l().createElement(u.TextField,{variant:"standard",fullWidth:!0,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!e,disabled:t,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0},onChange:a=>{const i=a.target.value;this.setState({value:i},()=>this.onChange(this.props.attr,(i||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const ce=(0,b.withStyles)(U)(H);var Ke=$(95973),d=$.n(Ke);const rt=()=>({fullWidth:{width:"100%"},flex:{display:"flex"},button:{height:48,marginLeft:4,minWidth:48}});class nt extends y{componentDidMount(){return dt(this,null,function*(){Wt(nt.prototype,this,"componentDidMount").call(this);const{data:e,attr:t}=this.props,n=y.getValue(e,t)||"";this.setState({value:n,showDialog:!1})})}renderItem(e,t){const{classes:n,schema:s,attr:o}=this.props,{value:a,showDialog:i}=this.state;return l().createElement(u.FormControl,{className:n.fullWidth,variant:"standard"},s.label?l().createElement(u.InputLabel,{shrink:!0},this.getText(s.label)):null,l().createElement("div",{className:n.flex},l().createElement(u.TextField,{variant:"standard",fullWidth:!0,value:a!=null?a:"",error:!!e,disabled:t,placeholder:this.getText(s.placeholder),label:this.getText(s.label),helperText:this.renderHelp(s.help,s.helpLink,s.noTranslation),onChange:c=>{const p=c.target.value;this.setState({value:p},()=>this.onChange(o,p))}}),l().createElement(u.Button,{color:"grey",className:this.props.classes.button,size:"small",variant:"outlined",onClick:()=>this.setState({showDialog:!0})},"...")),i?l().createElement(h.Cron,{title:h.I18n.t("ra_Define schedule"),simple:s.simple,complex:s.complex,cron:a,language:h.I18n.getLanguage(),onClose:()=>this.setState({showDialog:!1}),cancel:h.I18n.t("ra_Cancel"),ok:h.I18n.t("ra_Ok"),onOk:c=>this.setState({showDialog:!1,value:c},()=>this.onChange(o,c))}):null)}}nt.propTypes={themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func,dateFormat:d().string,isFloatComma:d().bool};const de=(0,b.withStyles)(rt)(nt),ve={fullWidth:{width:"100%"}};class ye extends y{componentDidMount(){return dt(this,null,function*(){Wt(ye.prototype,this,"componentDidMount").call(this);const e=y.getValue(this.props.data,this.props.attr),n=(yield this.props.socket.getCertificates()).filter(s=>{const o=this.props.attr.toLowerCase();return o.includes(s.type)||s.type==="public"&&o.includes("cert")||s.type==="private"&&(o.includes("priv")||o.includes("key"))?!0:!!(s.type==="chained"&&(o.includes("chain")||o.includes("ca")))}).map(s=>({label:s.name,value:s.name}));n.unshift({label:h.I18n.t(y.NONE_LABEL),value:y.NONE_VALUE}),this.setState({value:e,selectOptions:n})})}renderItem(e,t){var s,o;if(!this.state.selectOptions)return null;const n=(s=this.state.selectOptions)==null?void 0:s.find(a=>a.value===this.state.value);return l().createElement(u.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},this.props.schema.label?l().createElement(u.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!t,value:this.state.value,renderValue:()=>this.getText(n==null?void 0:n.label,this.props.schema.noTranslation!==!1),onChange:a=>this.setState({value:a.target.value},()=>this.onChange(this.props.attr,this.state.value))},(o=this.state.selectOptions)==null?void 0:o.map(a=>l().createElement(u.MenuItem,{key:a.value,value:a.value,style:a.value===y.NONE_VALUE?{opacity:.5}:{}},this.getText(a.label,this.props.schema.noTranslation!==!1)))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const Ae=(0,b.withStyles)(ve)(ye),zt={fullWidth:{width:"100%"},leWidth:{width:620,marginBottom:10},certWidth:{width:200,marginRight:10}};class it extends y{componentDidMount(){return dt(this,null,function*(){var i;Wt(it.prototype,this,"componentDidMount").call(this);const e=yield this.props.socket.getCertificates(),t=[],n=[],s=[];let o=[];const a=yield this.props.socket.getObject("system.certificates");(i=a==null?void 0:a.native)!=null&&i.collections?o=Object.keys(a.native.collections):o=null,e.forEach(c=>{c.type==="public"?t.push({label:c.name,value:c.name}):c.type==="private"?n.push({label:c.name,value:c.name}):c.type==="chained"?s.push({label:c.name,value:c.name}):(t.push({label:c.name,value:c.name}),n.push({label:c.name,value:c.name}),s.push({label:c.name,value:c.name}))}),t.unshift({label:h.I18n.t(y.NONE_LABEL),value:y.NONE_VALUE}),n.unshift({label:h.I18n.t(y.NONE_LABEL),value:y.NONE_VALUE}),s.unshift({label:h.I18n.t(y.NONE_LABEL),value:y.NONE_VALUE}),this.setState({certsPublicOptions:t,certsChainOptions:s,certsPrivateOptions:n,collectionsOptions:o})})}renderItem(e,t){var f,C,v,P,S,k,O;if(!this.state.certsPublicOptions||!this.state.certsPrivateOptions||!this.state.certsChainOptions)return null;const n=(y.getValue(this.props.data,this.props.schema.leCollectionName||"leCollection")||"false").toString(),s=y.getValue(this.props.data,this.props.schema.certPublicName||"certPublic"),o=y.getValue(this.props.data,this.props.schema.certPrivateName||"certPrivate"),a=y.getValue(this.props.data,this.props.schema.certChainedName||"certChained"),i=(f=this.state.certsPublicOptions)==null?void 0:f.find(_=>_.value===s),c=(C=this.state.certsPrivateOptions)==null?void 0:C.find(_=>_.value===o),p=(v=this.state.certsChainOptions)==null?void 0:v.find(_=>_.value===a);return l().createElement("div",{className:this.props.classes.fullWidth},this.state.collectionsOptions?l().createElement(u.FormControl,{className:this.props.classes.leWidth,variant:"standard"},l().createElement(u.InputLabel,{shrink:!0},"Let's encrypt"),l().createElement(u.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!t,value:n,onChange:_=>this.onChange(this.props.schema.leCollectionName||"leCollection",_.target.value==="false"?!1:_.target.value==="true"?!0:_.target.value)},l().createElement(u.MenuItem,{key:"_false",value:"false",style:{fontWeight:"bold"}},h.I18n.t("ra_Do not use let's encrypt")),l().createElement(u.MenuItem,{key:"_true",value:"true",style:{fontWeight:"bold"}},h.I18n.t("ra_Use all available let's encrypt certificates")),(P=this.state.collectionsOptions)==null?void 0:P.map(_=>l().createElement(u.MenuItem,{key:_,value:_},_)))):null,this.state.collectionsOptions?l().createElement("br",null):null,this.state.collectionsOptions&&n!=="false"?l().createElement("div",null,h.I18n.t("ra_Fallback custom certificates")):null,l().createElement(u.FormControl,{className:this.props.classes.certWidth,variant:"standard"},l().createElement(u.InputLabel,{shrink:!0},h.I18n.t("ra_Public certificate")),l().createElement(u.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!t,value:s||"",renderValue:()=>this.getText(i==null?void 0:i.label),onChange:_=>this.onChange(this.props.schema.certPublicName||"certPublic",_.target.value)},(S=this.state.certsPublicOptions)==null?void 0:S.map((_,L)=>l().createElement(u.MenuItem,{key:`${_.value}_${L}`,value:_.value,style:_.value===y.NONE_VALUE?{opacity:.5}:{}},this.getText(_.label))))),l().createElement(u.FormControl,{className:this.props.classes.certWidth,variant:"standard"},l().createElement(u.InputLabel,{shrink:!0},h.I18n.t("ra_Private certificate")),l().createElement(u.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!t,value:o||"",renderValue:()=>this.getText(c==null?void 0:c.label),onChange:_=>this.onChange(this.props.schema.certPrivateName||"certPrivate",_.target.value)},(k=this.state.certsPrivateOptions)==null?void 0:k.map((_,L)=>l().createElement(u.MenuItem,{key:`${_.value}_${L}`,value:_.value,style:_.value===y.NONE_VALUE?{opacity:.5}:{}},this.getText(_.label))))),l().createElement(u.FormControl,{className:this.props.classes.certWidth,variant:"standard"},l().createElement(u.InputLabel,{shrink:!0},h.I18n.t("ra_Chained certificate")),l().createElement(u.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!t,value:a||"",renderValue:()=>this.getText(p==null?void 0:p.label),onChange:_=>this.onChange(this.props.schema.certChainedName||"certChained",_.target.value)},(O=this.state.certsChainOptions)==null?void 0:O.map((_,L)=>l().createElement(u.MenuItem,{key:`${_.value}_${L}`,value:_.value,style:_.value===y.NONE_VALUE?{opacity:.5}:{}},this.getText(_.label))))))}}const kt=(0,b.withStyles)(zt)(it),Xt={fullWidth:{width:"100%"}};class vt extends y{componentDidMount(){return dt(this,null,function*(){var n;Wt(vt.prototype,this,"componentDidMount").call(this);let e;const t=yield this.props.socket.getObject("system.certificates");(n=t==null?void 0:t.native)!=null&&n.collections?e=Object.keys(t.native.collections):e=[],this.setState({collectionsOptions:e})})}renderItem(e,t){var s;if(!this.state.collectionsOptions)return null;const n=(y.getValue(this.props.data,this.props.schema.leCollectionName||"leCollection")||"false").toString();return l().createElement(u.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},this.props.schema.label?l().createElement(u.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!t,value:n,onChange:o=>this.onChange(this.props.schema.leCollectionName||"leCollection",o.target.value==="false"?!1:o.target.value==="true"?!0:o.target.value)},l().createElement(u.MenuItem,{key:"_false",value:"false",style:{fontWeight:"bold"}},h.I18n.t("ra_Do not use let's encrypt")),l().createElement(u.MenuItem,{key:"_true",value:"true",style:{fontWeight:"bold"}},h.I18n.t("ra_Use all available let's encrypt certificates")),(s=this.state.collectionsOptions)==null?void 0:s.map(o=>l().createElement(u.MenuItem,{key:o,value:o},o))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const En=(0,b.withStyles)(Xt)(vt),Sn=r=>({fullWidth:{width:"100%"},icon:{width:24,height:24,marginRight:4},licLabel:{fontWeight:"bold",minWidth:100,marginRight:10,textTransform:"capitalize",display:"inline-block"},licValue:{fontWeight:"normal"},errorTitle:{color:r.palette.mode==="dark"?"#e39191":"#b62020"},okTitle:{color:r.palette.mode==="dark"?"#6fd56f":"#007c00"},errorText:{color:r.palette.mode==="dark"?"#e39191":"#b62020",marginBottom:30}});class Ut extends y{componentDidMount(){return dt(this,null,function*(){Wt(Ut.prototype,this,"componentDidMount").call(this),this.setState({_error:"",running:!1,showLicenseData:null,foundSuitableLicense:!1,licenseOfflineCheck:!1,result:null,allLicenses:null,askForUpdate:!1,showLinkToProfile:!1})})}renderErrorDialog(){if(this.state._error&&!this.state.showLicenseData){let e=this.state._error;return this.state.allLicenses&&(e=[l().createElement("div",{key:"error"},e)],e.push(l().createElement(u.Button,{key:"button",variant:"contained",onClick:()=>window.open("https://iobroker.net/www/account/licenses","_blank")},h.I18n.t("iobroker.net"))),this.state.allLicenses.length?e.push(l().createElement(u.TableContainer,{key:"table"},l().createElement(u.Table,{size:"small"},l().createElement(u.TableHead,null,l().createElement(u.TableRow,null,l().createElement(u.TableCell,null,h.I18n.t("ra_Product")),l().createElement(u.TableCell,null,h.I18n.t("ra_Version")),l().createElement(u.TableCell,null,"UUID"),l().createElement(u.TableCell,null,h.I18n.t("ra_ValidTill")),l().createElement(u.TableCell,null,h.I18n.t("ra_Commercial")),l().createElement(u.TableCell,null,"ID"))),l().createElement(u.TableBody,null,this.state.allLicenses.map(t=>l().createElement(u.TableRow,{key:t.id},l().createElement(u.TableCell,{className:t.validName?"":this.props.classes.errorText},t.license.product),l().createElement(u.TableCell,{className:t.validVersion?"":this.props.classes.errorText},t.license.version),l().createElement(u.TableCell,{className:t.validUuid?"":this.props.classes.errorText},t.license.uuid||"--"),l().createElement(u.TableCell,{className:t.validTill?"":this.props.classes.errorText},t.license.validTill&&t.license.validTill!=="0000-00-00 00:00:00"?new Date(t.license.validTill).toLocaleDateString():"--"),l().createElement(u.TableCell,null,t.license.invoice!=="free"?t.license.invoice==="MANUALLY_CREATED"?"\u2713":t.license.invoice:"-"),l().createElement(u.TableCell,null,t.id))))))):(e.push(l().createElement("div",{key:"text1"},h.I18n.t("ra_No one license found in license manager"))),e.push(l().createElement("div",{key:"text2"},h.I18n.t("ra_Please create license"))))),l().createElement(u.Dialog,{open:!0,maxWidth:"xl",fullWidth:this.props.fullWidth!==void 0?this.props.fullWidth:!0,onClick:()=>this.setState({_error:"",allLicenses:null})},l().createElement(u.DialogTitle,null,h.I18n.t("ra_Error")),l().createElement(u.DialogContent,null,l().createElement(u.DialogContentText,null,e)),l().createElement(u.DialogActions,null,l().createElement(u.Button,{variant:"contained",onClick:()=>this.setState({_error:"",allLicenses:null}),color:"primary",autoFocus:!0,startIcon:l().createElement(D.Check,null)},h.I18n.t("ra_Ok"))))}return null}renderMessageDialog(){if(this.state.showLicenseData){const e=[],t=this.state.showLicenseData;return Object.keys(t).forEach(n=>{if(!(t[n]===null||t[n]===void 0))if(typeof t[n]=="object"){const s=t[n];Object.keys(s).forEach(o=>{s[o]!==null&&s[o]!==void 0&&(typeof s[o]=="object"?e.push(l().createElement("div",{key:o},l().createElement("div",{className:this.props.classes.licLabel},o,":"),JSON.stringify(s[o],null,2))):e.push(l().createElement("div",{key:o},l().createElement("div",{className:this.props.classes.licLabel},n," ","-",o,":"),s[o].toString())))})}else e.push(l().createElement("div",{key:n},l().createElement("div",{className:this.props.classes.licLabel},n.replace(/_/g," "),":"),t[n].toString()))}),e.push(l().createElement("div",{key:"checked"},l().createElement("div",{className:this.props.classes.licLabel},h.I18n.t("ra_Checked"),":"),this.state.licenseOfflineCheck?h.I18n.t("ra_locally"):h.I18n.t("ra_via internet"))),l().createElement(u.Dialog,{open:!0,onClose:()=>this.setState({showLicenseData:null})},l().createElement(u.DialogTitle,null,l().createElement("span",{className:this.state.result?this.props.classes.okTitle:this.props.classes.errorTitle},h.I18n.t("ra_License %s",this.state.result?"OK":"INVALID"))),l().createElement(u.DialogContent,null,this.state.showLinkToProfile?l().createElement(u.Button,{variant:"contained",onClick:()=>window.open("https://iobroker.net/www/account/licenses","_blank")},"https://iobroker.net"):null,this.state._error?l().createElement("div",{className:this.props.classes.errorText},this.state._error):null,e),l().createElement(u.DialogActions,null,l().createElement(u.Button,{onClick:()=>this.setState({showLicenseData:null,_error:""}),color:"primary",variant:"contained"},h.I18n.t("ra_Close"))))}return null}static parseJwt(e){const n=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(n).split("").map(o=>`%${`00${o.charCodeAt(0).toString(16)}`.slice(-2)}`).join(""));try{return JSON.parse(s)}catch(o){return null}}static isVersionValid(e,t,n,s){if(!t||!e)return!0;let o=!0;const[a]=e.split(".");return t.startsWith(">=")?o=parseInt(a,10)>=parseInt(t.substring(2,10)):t.startsWith("<=")?o=parseInt(a,10)<=parseInt(t.substring(2,10)):t.startsWith(">")?o=parseInt(a,10)>parseInt(t.substring(1,10)):t.startsWith("<")?o=parseInt(a,10)<parseInt(t.substring(1,10)):t.startsWith("=")?o=parseInt(a,10)===parseInt(t.substring(1,10)):t.startsWith("==")?o=parseInt(a,10)===parseInt(t.substring(2,10)):t.startsWith("===")&&(o=parseInt(a,10)===parseInt(t.substring(3,10))),!0}findInLicenseManager(e){return dt(this,null,function*(){var s,o,a,i;const t=yield this.props.socket.getObject("system.licenses"),n=[];if((o=(s=t==null?void 0:t.native)==null?void 0:s.licenses)!=null&&o.length){let c=null;const p=Date.now();let f;if(this.props.schema.uuid){const v=yield this.props.socket.getObject("system.meta.uuid");f=(a=v==null?void 0:v.native)==null?void 0:a.uuid}let C;if(this.props.schema.version){const v=yield this.props.socket.getObject(`system.adapter.${e}`);C=(i=v==null?void 0:v.common)==null?void 0:i.version}t.native.licenses.forEach(v=>{const P=!v.validTill||v.validTill==="0000-00-00 00:00:00"||new Date(v.validTill).getTime()>p,S=(v.product||"").split("."),k=S[1]===e||e==="vis-2"&&S[1]==="vis",O=!f||!v.uuid||v.uuid===f,_=Ut.isVersionValid(C,v.version,v.invoice,e);(!c||v.invoice!=="free")&&P&&k&&O&&_&&(c=v),n.push({id:v.id,validName:k,validUuid:O,validVersion:_,validTill:P,license:v})}),c&&(n.find(v=>v.id===c.id).used=!0)}return n})}checkLicense(e,t){return dt(this,null,function*(){var i,c,p;let n;if(this.props.schema.uuid){const f=yield this.props.socket.getObject("system.meta.uuid");n=(i=f==null?void 0:f.native)==null?void 0:i.uuid}let s;if(this.props.schema.version){const f=yield this.props.socket.getObject(`system.adapter.${t}`);s=(c=f==null?void 0:f.common)==null?void 0:c.version}const o=new AbortController;let a=setTimeout(()=>{a=null,o.abort()},5e3);try{const f=yield window.fetch("https://iobroker.net/api/v1/public/cert/",{method:"POST",body:JSON.stringify({json:e,uuid:n}),headers:{"Content-Type":"text/plain"},signal:o.signal});a&&clearTimeout(a);const C=yield f.text();let v;try{v=JSON.parse(C)}catch(P){}if(v!=null&&v.error)try{const P=Ut.parseJwt(e),S=h.I18n.t(`ra_${P.error||v.error||"Unknown error"}`).replace(/^ra_/,"");return this.setState({_error:S,licenseOfflineCheck:!1,showLicenseData:P,result:!1,running:!1})}catch(P){return console.log("Cannot parse license"),this.setState({_error:v.error,result:!1,running:!1})}else{let P=null;try{P=Ut.parseJwt(e)}catch(S){}if(v){const S=v.validTill||v.valid_till;if(S&&S!=="0000-00-00 00:00:00"&&new Date(S).getTime()<Date.now())return this.setState({_error:h.I18n.t("ra_License expired on %s",new Date(S).toLocaleString()),licenseOfflineCheck:!1,showLicenseData:P,result:!1,running:!1});const k=(v.name||"").split(".");return k[1]===t||k[1]==="vis"&&t==="vis-2"?n&&!v.uuid&&t==="vis-2"?this.setState({_error:h.I18n.t("ra_License must be converted",v.uuid),showLinkToProfile:!0,licenseOfflineCheck:!1,showLicenseData:P,result:!1,running:!1}):n&&v.uuid&&v.uuid!==n?this.setState({_error:h.I18n.t('ra_Serial number (UUID) "%s" in license is for other device.',v.uuid),licenseOfflineCheck:!1,showLicenseData:P,result:!1,running:!1}):Ut.isVersionValid(s,v.version,v.invoice,t)?this.setState({licenseOfflineCheck:!1,showLicenseData:P,result:!0,running:!1}):this.setState({_error:h.I18n.t("ra_License is for version %s, but required version is %s",v.version,this.props.schema.version),licenseOfflineCheck:!1,showLicenseData:P,result:!1,running:!1}):this.setState({_error:h.I18n.t('ra_License for other product "%s"',v.name),licenseOfflineCheck:!1,showLicenseData:P,result:!1,running:!1})}throw new Error("ra_Invalid answer from server")}}catch(f){if(((p=f==null?void 0:f.response)==null?void 0:p.status)===404)return this.setState({_error:h.I18n.t("ra_License does not exist"),result:!1,running:!1});try{const C=Ut.parseJwt(e),v=(C.name||"").split(".");return C.valid_till&&C.valid_till!=="0000-00-00 00:00:00"&&new Date(C.valid_till).getTime()<Date.now()?this.setState({_error:h.I18n.t("ra_License expired on %s",new Date(C.valid_till).toLocaleString()),showLicenseData:C,licenseOfflineCheck:!0,running:!1,result:!1}):v[1]===t?n&&C.uuid&&C.uuid!==n?this.setState({_error:h.I18n.t('ra_Serial number (UUID) "%s" in license is for other device.',C.uuid),showLicenseData:C,licenseOfflineCheck:!0,result:!1,running:!1}):Ut.isVersionValid(s,C.version,C.invoice,t)?this.setState({running:!1,result:!0,licenseOfflineCheck:!0,showLicenseData:C}):this.setState({_error:h.I18n.t("ra_License is for version %s, but required version is %s",C.version,this.props.schema.version),licenseOfflineCheck:!0,showLicenseData:C,result:!1,running:!1}):this.setState({_error:h.I18n.t('ra_License for other product "%s"',C.name),licenseOfflineCheck:!0,showLicenseData:C,result:!1,running:!1})}catch(C){return this.setState({_error:h.I18n.t("ra_Cannot decode license"),result:!1,licenseOfflineCheck:!0,running:!1})}}})}renderAskForUpdate(){return this.state.askForUpdate?l().createElement(h.Confirm,{text:h.I18n.t("ra_License not found in license manager. Do you want to read licenses from iobroker.net?"),ok:h.I18n.t("ra_Yes"),onClose:e=>dt(this,null,function*(){if(e){this.setState({askForUpdate:!1});try{yield this.props.socket.updateLicenses(null,null)}catch(t){window.alert(h.I18n.t("ra_Cannot read licenses: %s",t));return}yield this._onClick(!0)}else this.setState({askForUpdate:!1,running:!1})})}):null}_onClick(e){return dt(this,null,function*(){const t=this.props.adapterName==="vis-2"?"vis":this.props.adapterName;this.setState({running:!0});let n,s;if(this.props.data.useLicenseManager){if(s=yield this.findInLicenseManager(t),n=s.find(o=>o.used),n&&(n=n.license.json),!n&&!e){this.setState({askForUpdate:!0});return}}else n=this.props.data.license;n?yield this.checkLicense(n,t):this.props.data.useLicenseManager?this.setState({_error:h.I18n.t("ra_Suitable license not found in license manager"),result:!1,running:!1,allLicenses:s}):this.setState({_error:h.I18n.t("ra_Please enter the license"),result:!1,running:!1})})}renderItem(){return l().createElement("div",{className:this.props.classes.fullWidth},l().createElement(u.Button,{variant:this.props.schema.variant||"outlined",color:this.props.schema.color||"primary",className:this.props.classes.fullWidth,disabled:!this.props.data.license&&!this.props.data.useLicenseManager||this.state.running,startIcon:l().createElement(D.Send,null),onClick:()=>this._onClick()},this.state.running?l().createElement(u.CircularProgress,{size:20,style:{marginRight:8}}):null,this.getText(this.props.schema.label||"ra_Check license",this.props.schema.noTranslation)),this.renderMessageDialog(),this.renderErrorDialog(),this.renderAskForUpdate())}}const Et=(0,b.withStyles)(Sn)(Ut),is={error:{color:"red"}};class Rt extends y{renderItem(e,t){const n=y.getValue(this.props.data,this.props.attr),s=Array.isArray(n);return l().createElement(u.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},l().createElement(u.FormControlLabel,{onClick:o=>{o.preventDefault(),o.stopPropagation(),t||this.onChange(this.props.attr,!n)},control:l().createElement(u.Checkbox,{indeterminate:s,checked:!!n,onChange:o=>{s?this.onChange(this.props.attr,!0):this.onChange(this.props.attr,o.target.checked)},disabled:t}),label:this.getText(this.props.schema.label)}),l().createElement(u.FormHelperText,{className:this.props.classes.error},e?this.props.schema.validatorErrorText?h.I18n.t(this.props.schema.validatorErrorText):h.I18n.t("ra_Error"):null),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const ln=(0,b.withStyles)(is)(Rt);var Hn=$(23479),mn=$.n(Hn),Gt=$(54064),It=$(68114);const ls={standard:u.Input,filled:Gt.A,outlined:u.OutlinedInput},Mn=r=>{const e=r.palette.type==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{},inputRoot:{display:"inline-flex",flexWrap:"wrap",flex:1,marginTop:0,minWidth:70,"&$outlined,&$filled":{boxSizing:"border-box"},"&$outlined":{paddingTop:14},"&$filled":{paddingTop:28}},input:{display:"inline-block",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",appearance:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",float:"left",flex:1},chipContainer:{display:"flex",flexFlow:"row wrap",cursor:"text",marginBottom:-2,minHeight:40,"&$labeled&$standard":{marginTop:18}},outlined:{"& input":{height:16,paddingTop:4,paddingBottom:12,marginTop:4,marginBottom:4}},standard:{},filled:{"& input":{height:22,marginBottom:4,marginTop:4,paddingTop:0},"$marginDense & input":{height:26}},labeled:{},label:{top:4,"&$outlined&:not($labelShrink)":{top:2,"$marginDense &":{top:5}},"&$filled&:not($labelShrink)":{top:15,"$marginDense &":{top:20}}},labelShrink:{top:0},helperText:{marginBottom:-20},focused:{},disabled:{},underline:{"&:after":{borderBottom:`2px solid ${r.palette.primary[e?"dark":"light"]}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:r.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):not($focused):not($error):before":{borderBottom:`2px solid ${r.palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{"&:after":{backgroundColor:r.palette.error.main,transform:"scaleX(1)"}},chip:{margin:"0 8px 8px 0",float:"left"},marginDense:{}}},zn={BACKSPACE:8,DELETE:46,LEFT_ARROW:37,RIGHT_ARROW:39},cs=({value:r,isFocused:e,isDisabled:t,isReadOnly:n,handleClick:s,handleDelete:o,className:a},i)=>l().createElement(u.Chip,{key:i,className:a,style:{pointerEvents:t||n?"none":void 0,backgroundColor:e?It.A[300]:void 0},onClick:s,onDelete:o,label:r});class lt extends l().Component{constructor(t){super(t);je(this,"labelRef");je(this,"labelNode",null);je(this,"input");je(this,"newChipKeyCodes");je(this,"newChipKeys");je(this,"actualInput",null);je(this,"inputBlurTimeout",null);je(this,"_keyPressed");je(this,"_preventChipCreation");je(this,"focus",()=>{var t;(t=this.actualInput)==null||t.focus(),this.state.focusedChip&&this.setState({focusedChip:null})});je(this,"handleInputBlur",t=>{this.props.onBlur&&this.props.onBlur(t),this.setState({isFocused:!1}),this.state.focusedChip&&this.setState({focusedChip:null});const n=t.target.value;let s;switch(this.props.blurBehavior||"clear"){case"add-or-clear":s={clearInputOnFail:!0};case"add":if(this.props.delayBeforeAdd){const o=(this.props.value||this.state.chips).length;this.inputBlurTimeout=setTimeout(()=>{const a=(this.props.value||this.state.chips).length;o===a?this.handleAddChip(n,s):this.clearInput()},150)}else this.handleAddChip(n,s);break;case"clear":this.clearInput();break;default:break}});je(this,"handleInputFocus",t=>{this.setState({isFocused:!0}),this.props.onFocus&&this.props.onFocus(t)});je(this,"handleKeyDown",t=>{const{focusedChip:n}=this.state;if(this._keyPressed=!1,this._preventChipCreation=!1,this.props.onKeyDown&&(this.props.onKeyDown(t),t.isDefaultPrevented()))return;const s=this.props.value||this.state.chips;if(this.newChipKeyCodes.includes(t.keyCode)||this.newChipKeys.includes(t.key)){this.handleAddChip(t.target.value)!==!1&&t.preventDefault();return}switch(t.keyCode){case zn.BACKSPACE:t.target.value===""&&(n?(this.handleDeleteChip(s[n],n),n&&this.setState({focusedChip:n-1})):this.setState({focusedChip:s.length-1}));break;case zn.DELETE:t.target.value===""&&n&&(this.handleDeleteChip(s[n],n),n<=s.length-1&&this.setState({focusedChip:n}));break;case zn.LEFT_ARROW:n===null&&t.target.value===""&&s.length?this.setState({focusedChip:s.length-1}):n!==null&&n>0&&this.setState({focusedChip:n-1});break;case zn.RIGHT_ARROW:n!==null&&n<s.length-1?this.setState({focusedChip:n+1}):this.setState({focusedChip:null});break;default:this.setState({focusedChip:null});break}});je(this,"handleKeyUp",t=>{!this._preventChipCreation&&(this.newChipKeyCodes.includes(t.keyCode)||this.newChipKeys.includes(t.key))&&this._keyPressed?this.clearInput():this.updateInput(t.target.value),this.props.onKeyUp&&this.props.onKeyUp(t)});je(this,"handleKeyPress",t=>{this._keyPressed=!0,this.props.onKeyPress&&this.props.onKeyPress(t)});je(this,"handleUpdateInput",t=>{(this.props.inputValue===null||this.props.inputValue===void 0)&&this.updateInput(t.target.value),this.props.onUpdateInput&&this.props.onUpdateInput(t)});je(this,"setActualInputRef",t=>{this.actualInput=t,this.props.inputRef&&this.props.inputRef(t)});this.state={chips:t.defaultValue||[],focusedChip:null,inputValue:"",isFocused:!1,chipsUpdated:!1,prevPropsValue:[],variant:this.props.variant||"standard"},this.newChipKeyCodes=t.newChipKeyCodes||[13],this.newChipKeys=t.newChipKeys||["Enter"],this.labelRef=l().createRef(),this.input=l().createRef()}componentDidMount(){this.state.variant==="outlined"&&(this.labelNode=mn().findDOMNode(this.labelRef.current),this.forceUpdate())}componentWillUnmount(){this.inputBlurTimeout&&clearTimeout(this.inputBlurTimeout)}static getDerivedStateFromProps(t,n){let s=null;return t.value&&t.value.length!==n.prevPropsValue.length&&(s={prevPropsValue:t.value},t.clearInputValueOnChange&&(s.inputValue="")),t.clearInputValueOnChange&&t.value&&t.value.length!==n.prevPropsValue.length&&(s={prevPropsValue:t.value,inputValue:""}),t.disabled&&(s=Ht(ut({},s),{focusedChip:null})),!n.chipsUpdated&&t.defaultValue&&(s=Ht(ut({},s),{chips:t.defaultValue})),s}handleAddChip(t,n){if(this.props.onBeforeAdd&&!this.props.onBeforeAdd(t))return this._preventChipCreation=!0,n&&n.clearInputOnFail&&this.clearInput(),!1;this.clearInput();const s=this.props.value||this.state.chips;return t.trim().length?((this.props.allowDuplicates||!s.includes(t))&&(this.props.value&&this.props.onAdd?this.props.onAdd(t):this.updateChips([...this.state.chips,t])),!0):!1}handleDeleteChip(t,n){if(this.props.value)this.props.onDelete&&this.props.onDelete(t,n);else{const s=this.state.chips.slice();if(s.splice(n,1)){let a=this.state.focusedChip;this.state.focusedChip===n?a=null:this.state.focusedChip>n&&(a=this.state.focusedChip-1),this.updateChips(s,{focusedChip:a})}}}updateChips(t,n={}){this.setState(ut({chips:t,chipsUpdated:!0},n)),this.props.onChange&&this.props.onChange(t)}clearInput(){this.updateInput("")}updateInput(t){this.setState({inputValue:t})}render(){const{alwaysShowPlaceholder:t,chipRenderer:n=cs,classes:s,className:o,disabled:a,disableUnderline:i,error:c,FormHelperTextProps:p,fullWidth:f,fullWidthInput:C,helperText:v,id:P,InputProps:S={},InputLabelProps:k={},inputValue:O,label:_,placeholder:L,readOnly:q,required:G,rootRef:X,value:Q,margin:ee}=this.props,K=this.state.variant;let De=Q||this.state.chips||[];Array.isArray(De)||(De=(De||"").toString().split(/[,\s]+/).map(Te=>Te.trim()));const te=O!=null?O:this.state.inputValue,fe=(this.props.value||te).length||te.length,Fe=typeof k.shrink=="boolean"?k.shrink:_!==null&&(fe||this.state.isFocused||De.length),ge=De.map((Te,Re)=>n({value:Te,isDisabled:!!a,isReadOnly:q,isFocused:this.state.focusedChip===Re,handleClick:()=>this.setState({focusedChip:Re}),handleDelete:()=>this.handleDeleteChip(Te,Re),className:s.chip},Re.toString())),xe={};K==="outlined"&&(xe.notched=!!Fe,xe.labelWidth=Fe&&this.labelNode&&this.labelNode.offsetWidth||0),K!=="standard"?xe.startAdornment=ge:S.disableUnderline=!0;const ue=ls[K];return l().createElement(u.FormControl,{ref:X,fullWidth:f,className:Je.clsx(o,s.root,ee==="dense"&&s.marginDense),error:c,required:De.length>0?void 0:G,onClick:this.focus,disabled:a,variant:K,component:"div",margin:ee},_&&l().createElement(u.InputLabel,ut({htmlFor:P,classes:{root:Je.clsx(s[K],s.label),shrink:s.labelShrink},shrink:!!Fe,focused:this.state.isFocused,variant:K,ref:this.labelRef,required:G,component:"label"},k),_),l().createElement("div",{className:Je.clsx(s[K],s.chipContainer,this.state.isFocused&&s.focused,!i&&K==="standard"&&s.underline,a&&s.disabled,_&&s.labeled,c&&s.error)},K==="standard"&&ge,l().createElement(ue,ut(ut({ref:this.input,classes:{input:Je.clsx(s.input,s[K]),root:Je.clsx(s.inputRoot,s[K])},id:P,value:te,onChange:this.handleUpdateInput,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,onKeyUp:this.handleKeyUp,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,inputRef:this.setActualInputRef,disabled:a,fullWidth:C,placeholder:!fe&&(Fe||_===null||_===void 0)||t?L:null,readOnly:q},S),xe))),v&&l().createElement(u.FormHelperText,Ht(ut({},p),{className:p?Je.clsx(p.className,s.helperText):s.helperText}),v))}}const at=(0,b.withStyles)(Mn,{name:"WAMuiChipInput"})(lt),Nn=()=>({fullWidth:{width:"100%"}});class Zt extends y{componentDidMount(){super.componentDidMount();const{data:e,attr:t}=this.props,n=y.getValue(e,t);if(this.props.schema.delimiter&&typeof n=="string"){const s=n.split(this.props.schema.delimiter).map(o=>o.trim()).filter(o=>o);this.setState({value:s})}else this.setState({value:n||[]})}renderItem(e,t){const{attr:n,schema:s}=this.props,{value:o}=this.state;return l().createElement(u.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},l().createElement(at,{value:o,disabled:!!t,label:this.getText(s.label),error:!!e,onAdd:a=>{const i=JSON.parse(JSON.stringify(o));i.push(a),this.setState({value:i,prevValue:""},()=>{this.props.schema.delimiter?this.onChange(n,i.join(`${this.props.schema.delimiter} `)):this.onChange(n,i)})},onDelete:(a,i)=>{const c=JSON.parse(JSON.stringify(o));c.splice(i,1),this.setState({value:c,prevValue:""},()=>{this.props.schema.delimiter?this.onChange(n,c.join(`${this.props.schema.delimiter} `)):this.onChange(n,c)})}}),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}Zt.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const pt=(0,b.withStyles)(Nn)(Zt);var Hs=$(55385);class cn extends y{renderColorDialog(){return!!this.state.showColorDialog&&l().createElement(u.Dialog,{onClose:()=>this.setState({showColorDialog:!1}),open:this.state.showColorDialog},l().createElement(Hs.ChromePicker,{color:this.state.colorDialogValue,onChange:e=>this.setState({colorDialogValue:e.hex},()=>this.onChange(this.props.attr,this.state.colorDialogValue))}))}renderItem(e,t){const n=y.getValue(this.props.data,this.props.attr);let s=h.Utils.isUseBright(n,null);return s===null&&(s=void 0),l().createElement(l().Fragment,null,this.renderColorDialog(),l().createElement(u.TextField,{variant:"standard",disabled:!!t,style:{minWidth:100,width:"calc(100% - 8px)"},label:this.getText(this.props.schema.label),value:n||"",onClick:()=>!this.props.schema.readOnly&&this.setState({showColorDialog:!0,colorDialogValue:n||""}),onChange:o=>{const a=o.target.value;this.onChange(this.props.attr,a)},inputProps:{style:{backgroundColor:n,color:s?"#FFF":"#000"},readOnly:this.props.schema.readOnly||!1},InputProps:{endAdornment:n&&!this.props.schema.noClearButton?l().createElement(u.IconButton,{size:"small",onClick:o=>{o.stopPropagation(),this.onChange(this.props.attr,"")}},l().createElement(D.Close,null)):void 0},InputLabelProps:{shrink:!0}}))}}const he=cn,xs={width:{width:"calc(100% - 85px)"},width50:{width:120,marginRight:5}};class At extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr);this.setState({value:e});const t={};this.props.schema.useSystemName&&(t.useSystem=!!y.getValue(this.props.data,this.props.schema.useSystemName)),this.props.schema.longitudeName&&this.props.schema.latitudeName?(t.longitude=y.getValue(this.props.data,this.props.schema.longitudeName),t.latitude=y.getValue(this.props.data,this.props.schema.latitudeName),!t.longitude&&!t.latitude&&this.props.schema.autoInit&&setTimeout(()=>this.getCoordinates(),300)):!y.getValue(this.props.data,this.props.attr)&&this.props.schema.autoInit&&setTimeout(()=>this.getCoordinates(),300),Object.keys(t).length&&setTimeout(()=>this.setState(t),50)}getSystemCoordinates(){return dt(this,null,function*(){const e=yield this.props.socket.getCompactSystemConfig();if(e!=null&&e.common&&(e.common.longitude||e.common.latitude))if(window.alert(h.I18n.t("ra_Used system settings")),this.props.schema.longitudeName&&this.props.schema.latitudeName)this.setState({longitude:e.common.longitude,latitude:e.common.latitude},()=>dt(this,null,function*(){yield this.onChange(this.props.schema.longitudeName,(e.common.longitude||"").trim()),yield this.onChange(this.props.schema.latitudeName,(e.common.latitude||"").trim())}));else{const t=e.common.latitude+(this.props.schema.divider||",")+e.common.longitude;this.setState({value:t},()=>{this.onChange(this.props.attr,t)})}else window.alert(h.I18n.t("ra_Cannot determine position: System settings are empty and GPS detection is disabled in browser"))})}getCoordinates(){navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{if(e!=null&&e.coords)if(this.props.schema.longitudeName&&this.props.schema.latitudeName)this.setState({longitude:e.coords.longitude,latitude:e.coords.latitude},()=>dt(this,null,function*(){yield this.onChange(this.props.schema.longitudeName,e.coords.longitude||""),yield this.onChange(this.props.schema.latitudeName,e.coords.latitude||"")}));else{const t=e.coords.latitude+(this.props.schema.divider||",")+e.coords.longitude;this.setState({value:t},()=>{this.onChange(this.props.attr,t)})}else this.getSystemCoordinates()},e=>{console.error(`Cannot determine coordinates from browser: ${e}`),this.getSystemCoordinates()}):this.getSystemCoordinates()}renderItem(e,t){var n,s;return l().createElement(l().Fragment,null,this.props.schema.useSystemName?l().createElement(u.FormControlLabel,{control:l().createElement(u.Checkbox,{checked:!!this.state.useSystem,onChange:o=>{const a=o.target.checked;a&&this.getSystemCoordinates(),this.setState({useSystem:a},()=>this.onChange(this.props.schema.useSystemName,a))}}),label:h.I18n.t("ra_Use system settings for position")}):null,this.props.schema.longitudeName&&this.props.schema.latitudeName?l().createElement(u.TextField,{variant:"standard",className:this.props.classes.width50,value:(n=this.state.longitude)!=null?n:"",error:!!e,disabled:this.state.useSystem||!!t,onChange:o=>{const a=o.target.value;this.setState({longitude:a},()=>{this.onChange(this.props.schema.longitudeName,(a||"").trim())})},label:h.I18n.t("ra_Longitude")}):null,this.props.schema.longitudeName&&this.props.schema.latitudeName?l().createElement(u.TextField,{variant:"standard",className:this.props.classes.width50,value:(s=this.state.latitude)!=null?s:"",error:!!e,disabled:this.state.useSystem||!!t,onChange:o=>{const a=o.target.value;this.setState({latitude:a},()=>this.onChange(this.props.schema.latitudeName,(a||"").trim()))},label:h.I18n.t("ra_Latitude")}):null,!this.props.schema.longitudeName||!this.props.schema.latitudeName?l().createElement(u.TextField,{variant:"standard",className:this.props.classes.width,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!e,disabled:!!t,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:this.state.useSystem},onChange:o=>{const a=o.target.value;this.setState({value:a},()=>this.onChange(this.props.attr,(a||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}):null,this.state.useSystem?null:l().createElement(u.Fab,{size:"small",onClick:()=>this.getCoordinates(),title:h.I18n.t("ra_Take browser position"),style:{marginRight:4}},l().createElement(D.LocationOn,null)),this.state.useSystem?null:l().createElement(u.Fab,{size:"small",onClick:()=>this.getSystemCoordinates(),title:h.I18n.t("ra_Take position from system settings")},l().createElement(D.GpsFixed,null)))}}const Dn=(0,b.withStyles)(xs)(At),zs=(r,e,t)=>new Promise((n,s)=>{if(window[r])n(window[r]);else{const o=document.querySelector(`script[data-webpack="${r}"]`),a=()=>dt(this,null,function*(){if(window[r])window[r].__initialized||(yield window[r].init($.S[e]),window[r].__initialized=!0);else{console.error(`Cannot load ${r}`),s(new Error(`Cannot load ${r}`));return}n(window[r])});if(o)o.onload=a,o.onerror=s;else if(t){const i=document,c=i.createElement("script");c.type="text/javascript",c.setAttribute("data-webpack",`${r}`),c.async=!0,c.onerror=s,c.onload=a,c.src=t,i.getElementsByTagName("head")[0].appendChild(c)}else s(new Error(`Cannot Find Remote ${r} to inject`))}});function Js(r,e,t,n){return()=>dt(this,null,function*(){return(yield(yield zs(r,e,n)).get(t))()})}const vs=class vs extends V.Component{constructor(e){super(e),this.state={Component:null,error:""}}componentDidMount(){return dt(this,null,function*(){if(!this.props.schema.url){console.error("URL is empty. Cannot load custom component!"),this.setState({error:"URL is empty. Cannot load custom component!"});return}let e;this.props.schema.url.startsWith("./")?e=`${window.location.protocol}//${window.location.host}${this.props.schema.url.replace(/^\./,"")}`:e=`${window.location.protocol}//${window.location.host}/adapter/${this.props.adapterName}/${this.props.schema.url}`;const[t,n,...s]=this.props.schema.name.split("/"),o=s.join("/");if(!e){console.error('Cannot find URL for custom component! Please define "url" as "custom/customComponents.js" in the schema');return}if(!t||!n||!o){console.error('Invalid format of "name"! Please define "name" as "ConfigCustomBackItUpSet/Components/AdapterExist" in the schema');return}let a=vs.runningLoads[`${e}!${n}`];if(!a){let i;if(this.props.schema.i18n===!0){const c=e.lastIndexOf("/");let p;c!==-1?p=e.substring(0,c):p=e;const f=h.I18n.getLanguage(),C=`${p}/i18n/${f}.json`;i=fetch(C).then(v=>v.json()).then(v=>h.I18n.extendTranslations(v,f)).catch(v=>{if(f!=="en"){fetch(`${p}/i18n/en.json`).then(P=>P.json()).then(P=>h.I18n.extendTranslations(P,f)).catch(P=>console.log(`Cannot load i18n "${C}": ${P}`));return}console.log(`Cannot load i18n "${C}": ${v}`)})}else if(this.props.schema.i18n&&typeof this.props.schema.i18n=="object")try{h.I18n.extendTranslations(this.props.schema.i18n)}catch(c){console.error(`Cannot import i18n: ${c}`)}try{console.log(t,n,o),a=Js(t,"default",`./${n}`,e)(),i&&(a=Promise.all([a,i]).then(c=>c[0])),vs.runningLoads[`${e}!${n}`]=a}catch(c){this.setState({error:`Cannot import from ${this.props.schema.url}: ${c}`})}}try{const i=(yield a).default;if(i!=null&&i[o])this.setState({Component:i[o]});else{const c=Object.keys(i||{});console.error("URL is empty. Cannot load custom component!"),this.setState({error:`Component ${this.props.schema.name} not found in ${this.props.schema.url}. Found: ${c.join(", ")}`})}}catch(i){this.setState({error:`Cannot import from ${this.props.schema.url}: ${i}`})}})}render(){const e=this.state.Component;if(!e){if(this.state.error)return null;const t=this.props.schema||{},n=l().createElement(u.Grid,{item:!0,xs:t.xs||void 0,lg:t.lg||void 0,md:t.md||void 0,sm:t.sm||void 0,style:ut(ut({marginBottom:0,textAlign:"left"},t.style),this.props.themeType==="dark"?t.darkStyle:{})},this.state.error?l().createElement("div",null,this.state.error):l().createElement(u.LinearProgress,null));return t.newLine?l().createElement(l().Fragment,null,l().createElement("div",{style:{flexBasis:"100%",height:0}}),n):n}return l().createElement(e,ut({},this.props))}};je(vs,"runningLoads",{});let Fn=vs;var M=$(58168),qe=$(98587),R=$(28437),bt=$.n(R),un=$(5033),Z=$(17913),Jn=$(271);const Cn=d().oneOfType([d().func,d().object]),en=(r,e)=>r.length!==e.length?!1:e.every(t=>r.includes(t)),ws=({openTo:r,defaultOpenTo:e,views:t,defaultViews:n})=>{const s=t!=null?t:n;let o;if(r!=null)o=r;else if(s.includes(e))o=e;else if(s.length>0)o=s[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:s,openTo:o}},Yn=(r,e,t)=>{let n=e;return n=r.setHours(n,r.getHours(t)),n=r.setMinutes(n,r.getMinutes(t)),n=r.setSeconds(n,r.getSeconds(t)),n},On=({date:r,disableFuture:e,disablePast:t,maxDate:n,minDate:s,isDateDisabled:o,utils:a,timezone:i})=>{const c=Yn(a,a.date(void 0,i),r);t&&a.isBefore(s,c)&&(s=c),e&&a.isAfter(n,c)&&(n=c);let p=r,f=r;for(a.isBefore(r,s)&&(p=s,f=null),a.isAfter(r,n)&&(f&&(f=n),p=null);p||f;){if(p&&a.isAfter(p,n)&&(p=null),f&&a.isBefore(f,s)&&(f=null),p){if(!o(p))return p;p=a.addDays(p,1)}if(f){if(!o(f))return f;f=a.addDays(f,-1)}}return null},j=(r,e)=>e==null||!r.isValid(e)?null:e,ne=(r,e,t)=>e==null||!r.isValid(e)?t:e,He=(r,e,t)=>!r.isValid(e)&&e!=null&&!r.isValid(t)&&t!=null?!0:r.isEqual(e,t),$e=(r,e)=>{const n=[r.startOfYear(e)];for(;n.length<12;){const s=n[n.length-1];n.push(r.addMonths(s,1))}return n},Xe=(r,e,t)=>t==="date"?r.startOfDay(r.date(void 0,e)):r.date(void 0,e),ot=(r,e)=>{const t=r.setHours(r.date(),e==="am"?2:14);return r.format(t,"meridiem")},mt=["year","month","day"],Nt=r=>mt.includes(r),Ft=(r,{format:e,views:t},n)=>{if(e!=null)return e;const s=r.formats;return en(t,["year"])?s.year:en(t,["month"])?s.month:en(t,["day"])?s.dayOfMonth:en(t,["month","year"])?`${s.month} ${s.year}`:en(t,["day","month"])?`${s.month} ${s.dayOfMonth}`:n?/en/.test(r.getCurrentLocaleCode())?s.normalDateWithWeekday:s.normalDate:s.keyboardDate},bn=(r,e)=>{const t=r.startOfWeek(e);return[0,1,2,3,4,5,6].map(n=>r.addDays(t,n))},vn=["hours","minutes","seconds"],Lt=r=>vn.includes(r),tn=r=>vn.includes(r)||r==="meridiem",Bt=(r,e)=>r?e.getHours(r)>=12?"pm":"am":null,nn=(r,e,t)=>t&&(r>=12?"pm":"am")!==e?e==="am"?r-12:r+12:r,Kn=(r,e,t,n)=>{const s=nn(n.getHours(r),e,t);return n.setHours(r,s)},Es=(r,e)=>e.getHours(r)*3600+e.getMinutes(r)*60+e.getSeconds(r),_n=(r,e)=>(t,n)=>r?e.isAfter(t,n):Es(t,e)>Es(n,e),Ss=(r,{format:e,views:t,ampm:n})=>{if(e!=null)return e;const s=r.formats;return en(t,["hours"])?n?`${s.hours12h} ${s.meridiem}`:s.hours24h:en(t,["minutes"])?s.minutes:en(t,["seconds"])?s.seconds:en(t,["minutes","seconds"])?`${s.minutes}:${s.seconds}`:en(t,["hours","minutes","seconds"])?n?`${s.hours12h}:${s.minutes}:${s.seconds} ${s.meridiem}`:`${s.hours24h}:${s.minutes}:${s.seconds}`:n?`${s.hours12h}:${s.minutes} ${s.meridiem}`:`${s.hours24h}:${s.minutes}`},ht={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},Ot=r=>Math.max(...r.map(e=>{var t;return(t=ht[e.type])!=null?t:1})),st=(r,e,t)=>{if(e===ht.year)return r.startOfYear(t);if(e===ht.month)return r.startOfMonth(t);if(e===ht.day)return r.startOfDay(t);let n=t;return e<ht.minutes&&(n=r.setMinutes(n,0)),e<ht.seconds&&(n=r.setSeconds(n,0)),e<ht.milliseconds&&(n=r.setMilliseconds(n,0)),n},Mt=({props:r,utils:e,granularity:t,timezone:n,getTodayDate:s})=>{var i;let o=s?s():st(e,t,Xe(e,n));r.minDate!=null&&e.isAfterDay(r.minDate,o)&&(o=st(e,t,r.minDate)),r.maxDate!=null&&e.isBeforeDay(r.maxDate,o)&&(o=st(e,t,r.maxDate));const a=_n((i=r.disableIgnoringDatePartForTimeValidation)!=null?i:!1,e);return r.minTime!=null&&a(r.minTime,o)&&(o=st(e,t,r.disableIgnoringDatePartForTimeValidation?r.minTime:Yn(e,o,r.minTime))),r.maxTime!=null&&a(o,r.maxTime)&&(o=st(e,t,r.disableIgnoringDatePartForTimeValidation?r.maxTime:Yn(e,o,r.maxTime))),o},Jt=(r,e)=>{const t=r.formatTokenMap[e];if(t==null)throw new Error([`MUI X: The token "${e}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof t=="string"?{type:t,contentType:t==="meridiem"?"letter":"digit",maxLength:void 0}:{type:t.sectionType,contentType:t.contentType,maxLength:t.maxLength}},_t=r=>{switch(r){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},sn=(r,e,t)=>{const n=[],s=r.date(void 0,e),o=r.startOfWeek(s),a=r.endOfWeek(s);let i=o;for(;r.isBefore(i,a);)n.push(i),i=r.addDays(i,1);return n.map(c=>r.formatByString(c,t))},rn=(r,e,t,n)=>{switch(t){case"month":return $e(r,r.date(void 0,e)).map(s=>r.formatByString(s,n));case"weekDay":return sn(r,e,n);case"meridiem":{const s=r.date(void 0,e);return[r.startOfDay(s),r.endOfDay(s)].map(o=>r.formatByString(o,n))}default:return[]}},dn="s",An=["0","1","2","3","4","5","6","7","8","9"],Gn=r=>{const e=r.date(void 0);return r.formatByString(r.setSeconds(e,0),dn)==="0"?An:Array.from({length:10}).map((n,s)=>r.formatByString(r.setSeconds(e,s),dn))},xn=(r,e)=>{if(e[0]==="0")return r;const t=[];let n="";for(let s=0;s<r.length;s+=1){n+=r[s];const o=e.indexOf(n);o>-1&&(t.push(o.toString()),n="")}return t.join("")},Ks=(r,e)=>e[0]==="0"?r:r.split("").map(t=>e[Number(t)]).join(""),xr=(r,e)=>{const t=xn(r,e);return t!==" "&&!Number.isNaN(Number(t))},wr=(r,e)=>{let t=r;for(t=Number(t).toString();t.length<e;)t=`0${t}`;return t},Er=(r,e,t,n,s)=>{if(s.type==="day"&&s.contentType==="digit-with-letter"){const a=r.setDate(t.longestMonth,e);return r.formatByString(a,s.format)}let o=e.toString();return s.hasLeadingZerosInInput&&(o=wr(o,s.maxLength)),Ks(o,n)},ya=(r,e,t,n,s,o,a,i)=>{const c=_t(n),p=n==="Home",f=n==="End",C=t.value===""||p||f,v=()=>{const S=s[t.type]({currentDate:a,format:t.format,contentType:t.contentType}),k=q=>Er(r,q,S,o,t),O=t.type==="minutes"&&(i!=null&&i.minutesStep)?i.minutesStep:1;let L=parseInt(xn(t.value,o),10)+c*O;if(C){if(t.type==="year"&&!f&&!p)return r.formatByString(r.date(void 0,e),t.format);c>0||p?L=S.minimum:L=S.maximum}return L%O!==0&&((c<0||p)&&(L+=O-(O+L)%O),(c>0||f)&&(L-=L%O)),L>S.maximum?k(S.minimum+(L-S.maximum-1)%(S.maximum-S.minimum+1)):L<S.minimum?k(S.maximum-(S.minimum-L-1)%(S.maximum-S.minimum+1)):k(L)},P=()=>{const S=rn(r,e,t.type,t.format);if(S.length===0)return t.value;if(C)return c>0||p?S[0]:S[S.length-1];const _=((S.indexOf(t.value)+c)%S.length+S.length)%S.length;return S[_]};return t.contentType==="digit"||t.contentType==="digit-with-letter"?v():P()},Gs=(r,e,t)=>{let n=r.value||r.placeholder;const s=e==="non-input"?r.hasLeadingZerosInFormat:r.hasLeadingZerosInInput;return e==="non-input"&&r.hasLeadingZerosInInput&&!r.hasLeadingZerosInFormat&&(n=Number(xn(n,t)).toString()),["input-rtl","input-ltr"].includes(e)&&r.contentType==="digit"&&!s&&n.length===1&&(n=`${n}\u200E`),e==="input-rtl"&&(n=`\u2068${n}\u2069`),n},Sr=(r,e,t,n)=>r.formatByString(r.parse(e,t),n),Fr=(r,e,t)=>r.formatByString(r.date(void 0,e),t).length===4,Tr=(r,e,t,n,s)=>{if(t!=="digit")return!1;const o=r.date(void 0,e);switch(n){case"year":return Fr(r,e,s)?r.formatByString(r.setYear(o,1),s)==="0001":r.formatByString(r.setYear(o,2001),s)==="01";case"month":return r.formatByString(r.startOfYear(o),s).length>1;case"day":return r.formatByString(r.startOfMonth(o),s).length>1;case"weekDay":return r.formatByString(r.startOfWeek(o),s).length>1;case"hours":return r.formatByString(r.setHours(o,1),s).length>1;case"minutes":return r.formatByString(r.setMinutes(o,1),s).length>1;case"seconds":return r.formatByString(r.setSeconds(o,1),s).length>1;default:throw new Error("Invalid section type")}},Da=(r,e,t)=>{const n=e.some(c=>c.type==="day"),s=[],o=[];for(let c=0;c<e.length;c+=1){const p=e[c];n&&p.type==="weekDay"||(s.push(p.format),o.push(Gs(p,"non-input",t)))}const a=s.join(" "),i=o.join(" ");return r.parse(i,a)},Ca=r=>r.map(e=>`${e.startSeparator}${e.value||e.placeholder}${e.endSeparator}`).join(""),ba=(r,e,t)=>{const s=r.map(o=>{const a=Gs(o,t?"input-rtl":"input-ltr",e);return`${o.startSeparator}${a}${o.endSeparator}`}).join("");return t?`\u2066${s}\u2069`:s},va=(r,e,t)=>{const n=r.date(void 0,t),s=r.endOfYear(n),o=r.endOfDay(n),{maxDaysInMonth:a,longestMonth:i}=$e(r,n).reduce((c,p)=>{const f=r.getDaysInMonth(p);return f>c.maxDaysInMonth?{maxDaysInMonth:f,longestMonth:p}:c},{maxDaysInMonth:0,longestMonth:null});return{year:({format:c})=>({minimum:0,maximum:Fr(r,t,c)?9999:99}),month:()=>({minimum:1,maximum:r.getMonth(s)+1}),day:({currentDate:c})=>({minimum:1,maximum:c!=null&&r.isValid(c)?r.getDaysInMonth(c):a,longestMonth:i}),weekDay:({format:c,contentType:p})=>{if(p==="digit"){const f=sn(r,t,c).map(Number);return{minimum:Math.min(...f),maximum:Math.max(...f)}}return{minimum:1,maximum:7}},hours:({format:c})=>{const p=r.getHours(o);return xn(r.formatByString(r.endOfDay(n),c),e)!==p.toString()?{minimum:1,maximum:Number(xn(r.formatByString(r.startOfDay(n),c),e))}:{minimum:0,maximum:p}},minutes:()=>({minimum:0,maximum:r.getMinutes(o)}),seconds:()=>({minimum:0,maximum:r.getSeconds(o)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}};let ym=!1;const kr=(r,e)=>{},Aa=(r,e,t,n,s)=>{switch(t.type){case"year":return r.setYear(s,r.getYear(n));case"month":return r.setMonth(s,r.getMonth(n));case"weekDay":{const o=sn(r,e,t.format),a=r.formatByString(n,t.format),i=o.indexOf(a),p=o.indexOf(t.value)-i;return r.addDays(n,p)}case"day":return r.setDate(s,r.getDate(n));case"meridiem":{const o=r.getHours(n)<12,a=r.getHours(s);return o&&a>=12?r.addHours(s,-12):!o&&a<12?r.addHours(s,12):s}case"hours":return r.setHours(s,r.getHours(n));case"minutes":return r.setMinutes(s,r.getMinutes(n));case"seconds":return r.setSeconds(s,r.getSeconds(n));default:return s}},Ir={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},Pr=(r,e,t,n,s,o)=>[...n].sort((a,i)=>Ir[a.type]-Ir[i.type]).reduce((a,i)=>!o||i.modified?Aa(r,e,i,t,a):a,s),xa=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,wa=(r,e)=>{const t={};if(!e)return r.forEach((c,p)=>{const f=p===0?null:p-1,C=p===r.length-1?null:p+1;t[p]={leftIndex:f,rightIndex:C}}),{neighbors:t,startIndex:0,endIndex:r.length-1};const n={},s={};let o=0,a=0,i=r.length-1;for(;i>=0;){a=r.findIndex((c,p)=>{var f;return p>=o&&((f=c.endSeparator)==null?void 0:f.includes(" "))&&c.endSeparator!==" / "}),a===-1&&(a=r.length-1);for(let c=a;c>=o;c-=1)s[c]=i,n[i]=c,i-=1;o=a+1}return r.forEach((c,p)=>{const f=s[p],C=f===0?null:n[f-1],v=f===r.length-1?null:n[f+1];t[p]={leftIndex:C,rightIndex:v}}),{neighbors:t,startIndex:n[0],endIndex:n[r.length-1]}},qs=(r,e)=>r==null?null:r==="all"?"all":typeof r=="string"?e.findIndex(t=>t.type===r):r,Ea=(r,e)=>{if(r.value)switch(r.type){case"month":{if(r.contentType==="digit")return e.format(e.setMonth(e.date(),Number(r.value)-1),"month");const t=e.parse(r.value,r.format);return t?e.format(t,"month"):void 0}case"day":return r.contentType==="digit"?e.format(e.setDate(e.startOfYear(e.date()),Number(r.value)),"dayOfMonthFull"):r.value;case"weekDay":return;default:return}},Sa=(r,e)=>{if(r.value)switch(r.type){case"weekDay":return r.contentType==="letter"?void 0:Number(r.value);case"meridiem":{const t=e.parse(`01:00 ${r.value}`,`${e.formats.hours12h}:${e.formats.minutes} ${r.format}`);return t?e.getHours(t)>=12?1:0:void 0}case"day":return r.contentType==="digit-with-letter"?parseInt(r.value,10):Number(r.value);case"month":{if(r.contentType==="digit")return Number(r.value);const t=e.parse(r.value,r.format);return t?e.getMonth(t)+1:void 0}default:return r.contentType!=="letter"?Number(r.value):void 0}},Fa=["value","referenceDate"],$t={emptyValue:null,getTodayValue:Xe,getInitialReferenceValue:r=>{let{value:e,referenceDate:t}=r,n=(0,qe.A)(r,Fa);return e!=null&&n.utils.isValid(e)?e:t!=null?t:Mt(n)},cleanValue:j,areValuesEqual:He,isSameError:(r,e)=>r===e,hasError:r=>r!=null,defaultErrorState:null,getTimezone:(r,e)=>e==null||!r.isValid(e)?null:r.getTimezone(e),setTimezone:(r,e,t)=>t==null?null:r.setTimezone(t,e)},Mr={updateReferenceValue:(r,e,t)=>e==null||!r.isValid(e)?t:e,getSectionsFromValue:(r,e,t,n)=>!r.isValid(e)&&!!t?t:n(e),getV7HiddenInputValueFromSections:Ca,getV6InputValueFromSections:ba,getActiveDateManager:(r,e)=>({date:e.value,referenceDate:e.referenceValue,getSections:t=>t,getNewValuesFromNewActiveDate:t=>({value:t,referenceValue:t==null||!r.isValid(t)?e.referenceValue:t})}),parseValueStr:(r,e,t)=>t(r.trim(),e)};var W=$(64922);const Ta=["localeText"],Qs=R.createContext(null),Nr=function(e){var _;const{localeText:t}=e,n=(0,qe.A)(e,Ta),{utils:s,localeText:o}=(_=R.useContext(Qs))!=null?_:{utils:void 0,localeText:void 0},a=(0,Z.useThemeProps)({props:n,name:"MuiLocalizationProvider"}),{children:i,dateAdapter:c,dateFormats:p,dateLibInstance:f,adapterLocale:C,localeText:v}=a,P=R.useMemo(()=>(0,M.A)({},v,o,t),[v,o,t]),S=R.useMemo(()=>{if(!c)return s||null;const L=new c({locale:C,formats:p,instance:f});if(!L.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return L},[c,C,p,f,s]),k=R.useMemo(()=>S?{minDate:S.date("1900-01-01T00:00:00.000"),maxDate:S.date("2099-12-31T00:00:00.000")}:null,[S]),O=R.useMemo(()=>({utils:S,defaultDates:k,localeText:P}),[k,S,P]);return(0,W.jsx)(Qs.Provider,{value:O,children:i})},ka=r=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:(0,M.A)({},r)}}}}),Or={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:r=>r==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(r,e,t)=>`Select ${r}. ${e===null?"No time selected":`Selected time is ${t.format(e,"fullTime")}`}`,hoursClockNumberText:r=>`${r} hours`,minutesClockNumberText:r=>`${r} minutes`,secondsClockNumberText:r=>`${r} seconds`,selectViewText:r=>`Select ${r}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:r=>`Week ${r}`,calendarWeekNumberText:r=>`${r}`,openDatePickerDialogue:(r,e)=>r!==null&&e.isValid(r)?`Choose date, selected date is ${e.format(r,"fullDate")}`:"Choose date",openTimePickerDialogue:(r,e)=>r!==null&&e.isValid(r)?`Choose time, selected time is ${e.format(r,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:r=>"Y".repeat(r.digitAmount),fieldMonthPlaceholder:r=>r.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:r=>r.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},Ia=Or,Dm=ka(Or),Rn=()=>{const r=R.useContext(Qs);if(r===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(r.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const e=R.useMemo(()=>(0,M.A)({},Ia,r.localeText),[r.localeText]);return R.useMemo(()=>(0,M.A)({},r,{localeText:e}),[r,e])},ft=()=>Rn().utils,us=()=>Rn().defaultDates,Vt=()=>Rn().localeText,Ln=r=>{const e=ft(),t=R.useRef();return t.current===void 0&&(t.current=e.date(void 0,r)),t.current};var xt=$(74984),Tn=$(55437),gt=$(86249),yt=$(35583),Dt=$(95227);function _r(r){return(0,yt.Ay)("MuiPickersToolbar",r)}const Cm=(0,Dt.A)("MuiPickersToolbar",["root","content"]),Pa=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],Ma=r=>{const{classes:e,isLandscape:t}=r,n={root:["root"],content:["content"],penIconButton:["penIconButton",t&&"penIconButtonLandscape"]};return(0,gt.A)(n,_r,e)},Na=(0,Z.styled)("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:r.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),Oa=(0,Z.styled)("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(r,e)=>e.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),Rr=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersToolbar"}),{children:s,className:o,toolbarTitle:a,hidden:i,titleId:c}=n,p=(0,qe.A)(n,Pa),f=n,C=Ma(f);return i?null:(0,W.jsxs)(Na,(0,M.A)({ref:t,className:(0,xt.A)(C.root,o),ownerState:f},p,{children:[(0,W.jsx)(Tn.A,{color:"text.secondary",variant:"overline",id:c,children:a}),(0,W.jsx)(Oa,{className:C.content,ownerState:f,children:s})]}))});function _a(r){return(0,yt.Ay)("MuiDatePickerToolbar",r)}const bm=(0,Dt.A)("MuiDatePickerToolbar",["root","title"]),Ra=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],La=r=>{const{classes:e}=r,t={root:["root"],title:["title"]};return(0,gt.A)(t,_a,e)},Ba=(0,Z.styled)(Rr,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(r,e)=>e.root})({}),$a=(0,Z.styled)(Tn.A,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(r,e)=>e.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),Va=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiDatePickerToolbar"}),{value:s,isLandscape:o,toolbarFormat:a,toolbarPlaceholder:i="\u2013\u2013",views:c,className:p}=n,f=(0,qe.A)(n,Ra),C=ft(),v=Vt(),P=La(n),S=R.useMemo(()=>{if(!s)return i;const O=Ft(C,{format:a,views:c},!0);return C.formatByString(s,O)},[s,a,i,C,c]),k=n;return(0,W.jsx)(Ba,(0,M.A)({ref:t,toolbarTitle:v.datePickerToolbarTitle,isLandscape:o,className:(0,xt.A)(P.root,p)},f,{children:(0,W.jsx)($a,{variant:"h4",align:o?"left":"center",ownerState:k,className:P.title,children:S})}))});function Lr(r,e){var a,i;const t=ft(),n=us(),s=(0,Z.useThemeProps)({props:r,name:e}),o=R.useMemo(()=>{var c;return((c=s.localeText)==null?void 0:c.toolbarTitle)==null?s.localeText:(0,M.A)({},s.localeText,{datePickerToolbarTitle:s.localeText.toolbarTitle})},[s.localeText]);return(0,M.A)({},s,{localeText:o},ws({views:s.views,openTo:s.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:(a=s.disableFuture)!=null?a:!1,disablePast:(i=s.disablePast)!=null?i:!1,minDate:ne(t,s.minDate,n.minDate),maxDate:ne(t,s.maxDate,n.maxDate),slots:(0,M.A)({toolbar:Va},s.slots)})}const Fs=({props:r,value:e,adapter:t})=>{if(e===null)return null;const{shouldDisableDate:n,shouldDisableMonth:s,shouldDisableYear:o,disablePast:a,disableFuture:i,timezone:c}=r,p=t.utils.date(void 0,c),f=ne(t.utils,r.minDate,t.defaultDates.minDate),C=ne(t.utils,r.maxDate,t.defaultDates.maxDate);switch(!0){case!t.utils.isValid(e):return"invalidDate";case!!(n&&n(e)):return"shouldDisableDate";case!!(s&&s(e)):return"shouldDisableMonth";case!!(o&&o(e)):return"shouldDisableYear";case!!(i&&t.utils.isAfterDay(e,p)):return"disableFuture";case!!(a&&t.utils.isBeforeDay(e,p)):return"disablePast";case!!(f&&t.utils.isBeforeDay(e,f)):return"minDate";case!!(C&&t.utils.isAfterDay(e,C)):return"maxDate";default:return null}};var Ct=$(6045),Br=$(82735),qn=$(25325),Yt=$(33769),Qn=$(81019),ja=$(86193),Ts=$(67987),Wa=$(21593),Ua=$(31224),Ha=$(58289),We=$(16745),Xs=$(41011);function za(r){return(0,yt.Ay)("MuiPickersPopper",r)}const vm=(0,Dt.A)("MuiPickersPopper",["root","paper"]);function Xn(r,e){return Array.isArray(e)?e.every(t=>r.indexOf(t)!==-1):r.indexOf(e)!==-1}const Ja=(r,e)=>t=>{(t.key==="Enter"||t.key===" ")&&(r(t),t.preventDefault(),t.stopPropagation()),e&&e(t)},Am=r=>{setTimeout(r,0)},on=(r=document)=>{const e=r.activeElement;return e?e.shadowRoot?on(e.shadowRoot):e:null},$r="@media (pointer: fine)",Ya="@media (prefers-reduced-motion: reduce)",Zn=typeof navigator!="undefined"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),Vr=Zn&&Zn[1]?parseInt(Zn[1],10):null,jr=Zn&&Zn[2]?parseInt(Zn[2],10):null,Ka=Vr&&Vr<10||jr&&jr<13||!1,Wr=()=>(0,un.A)(Ya,{defaultMatches:!1})||Ka,Ga=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],qa=r=>{const{classes:e}=r,t={root:["root"],paper:["paper"]};return(0,gt.A)(t,za,e)},Qa=(0,Z.styled)(Ua.A,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>({zIndex:r.zIndex.modal})),Xa=(0,Z.styled)(Wa.A,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(r,e)=>e.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:r})=>["top","top-start","top-end"].includes(r),style:{transformOrigin:"bottom center"}}]});function Za(r,e){return e.documentElement.clientWidth<r.clientX||e.documentElement.clientHeight<r.clientY}function ei(r,e){const t=R.useRef(!1),n=R.useRef(!1),s=R.useRef(null),o=R.useRef(!1);R.useEffect(()=>{if(!r)return;function c(){o.current=!0}return document.addEventListener("mousedown",c,!0),document.addEventListener("touchstart",c,!0),()=>{document.removeEventListener("mousedown",c,!0),document.removeEventListener("touchstart",c,!0),o.current=!1}},[r]);const a=(0,We.A)(c=>{if(!o.current)return;const p=n.current;n.current=!1;const f=(0,Xs.A)(s.current);if(!s.current||"clientX"in c&&Za(c,f))return;if(t.current){t.current=!1;return}let C;c.composedPath?C=c.composedPath().indexOf(s.current)>-1:C=!f.documentElement.contains(c.target)||s.current.contains(c.target),!C&&!p&&e(c)}),i=()=>{n.current=!0};return R.useEffect(()=>{if(r){const c=(0,Xs.A)(s.current),p=()=>{t.current=!0};return c.addEventListener("touchstart",a),c.addEventListener("touchmove",p),()=>{c.removeEventListener("touchstart",a),c.removeEventListener("touchmove",p)}}},[r,a]),R.useEffect(()=>{if(r){const c=(0,Xs.A)(s.current);return c.addEventListener("click",a),()=>{c.removeEventListener("click",a),n.current=!1}}},[r,a]),[s,i,i]}const ti=R.forwardRef((r,e)=>{const{PaperComponent:t,popperPlacement:n,ownerState:s,children:o,paperSlotProps:a,paperClasses:i,onPaperClick:c,onPaperTouchStart:p}=r,f=(0,qe.A)(r,Ga),C=(0,M.A)({},s,{placement:n}),v=(0,Ct.Q)({elementType:t,externalSlotProps:a,additionalProps:{tabIndex:-1,elevation:8,ref:e},className:i,ownerState:C});return(0,W.jsx)(t,(0,M.A)({},f,v,{onClick:P=>{var S;c(P),(S=v.onClick)==null||S.call(v,P)},onTouchStart:P=>{var S;p(P),(S=v.onTouchStart)==null||S.call(v,P)},ownerState:C,children:o}))});function ni(r){var ue,Te,Re,_e;const e=(0,Z.useThemeProps)({props:r,name:"MuiPickersPopper"}),{anchorEl:t,children:n,containerRef:s=null,shouldRestoreFocus:o,onBlur:a,onDismiss:i,open:c,role:p,placement:f,slots:C,slotProps:v,reduceAnimations:P}=e;R.useEffect(()=>{function Pe(Ne){c&&Ne.key==="Escape"&&i()}return document.addEventListener("keydown",Pe),()=>{document.removeEventListener("keydown",Pe)}},[i,c]);const S=R.useRef(null);R.useEffect(()=>{p==="tooltip"||o&&!o()||(c?S.current=on(document):S.current&&S.current instanceof HTMLElement&&setTimeout(()=>{S.current instanceof HTMLElement&&S.current.focus()}))},[c,p,o]);const[k,O,_]=ei(c,a!=null?a:i),L=R.useRef(null),q=(0,Yt.A)(L,s),G=(0,Yt.A)(q,k),X=e,Q=qa(X),ee=Wr(),K=P!=null?P:ee,De=Pe=>{Pe.key==="Escape"&&(Pe.stopPropagation(),i())},te=((ue=C==null?void 0:C.desktopTransition)!=null?ue:K)?Ts.A:ja.A,fe=(Te=C==null?void 0:C.desktopTrapFocus)!=null?Te:Ha.s,Fe=(Re=C==null?void 0:C.desktopPaper)!=null?Re:Xa,ge=(_e=C==null?void 0:C.popper)!=null?_e:Qa,xe=(0,Ct.Q)({elementType:ge,externalSlotProps:v==null?void 0:v.popper,additionalProps:{transition:!0,role:p,open:c,anchorEl:t,placement:f,onKeyDown:De},className:Q.root,ownerState:e});return(0,W.jsx)(ge,(0,M.A)({},xe,{children:({TransitionProps:Pe,placement:Ne})=>(0,W.jsx)(fe,(0,M.A)({open:c,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:p==="tooltip",isEnabled:()=>!0},v==null?void 0:v.desktopTrapFocus,{children:(0,W.jsx)(te,(0,M.A)({},Pe,v==null?void 0:v.desktopTransition,{children:(0,W.jsx)(ti,{PaperComponent:Fe,ownerState:X,popperPlacement:Ne,ref:G,onPaperClick:O,onPaperTouchStart:_,paperClasses:Q.paper,paperSlotProps:v==null?void 0:v.desktopPaper,children:n})}))}))}))}const si=({open:r,onOpen:e,onClose:t})=>{const n=R.useRef(typeof r=="boolean").current,[s,o]=R.useState(!1);R.useEffect(()=>{if(n){if(typeof r!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");o(r)}},[n,r]);const a=R.useCallback(i=>{n||o(i),i&&e&&e(),!i&&t&&t()},[n,e,t]);return{isOpen:s,setIsOpen:a}};function Ur(r,e,t,n){const{value:s,onError:o}=r,a=Rn(),i=R.useRef(n),c=e({adapter:a,value:s,props:r});return R.useEffect(()=>{o&&!t(c,i.current)&&o(c,s),i.current=c},[t,o,i,c,s]),c}var Bn=$(40243);const Zs=({timezone:r,value:e,defaultValue:t,onChange:n,valueManager:s})=>{var P,S;const o=ft(),a=R.useRef(t),i=(P=e!=null?e:a.current)!=null?P:s.emptyValue,c=R.useMemo(()=>s.getTimezone(o,i),[o,s,i]),p=(0,We.A)(k=>c==null?k:s.setTimezone(o,c,k)),f=(S=r!=null?r:c)!=null?S:"default",C=R.useMemo(()=>s.setTimezone(o,f,i),[s,o,f,i]),v=(0,We.A)((k,...O)=>{const _=p(k);n==null||n(_,...O)});return{value:C,handleValueChange:v,timezone:f}},es=({name:r,timezone:e,value:t,defaultValue:n,onChange:s,valueManager:o})=>{const[a,i]=(0,Bn.A)({name:r,state:"value",controlled:t,default:n!=null?n:o.emptyValue}),c=(0,We.A)((p,...f)=>{i(p),s==null||s(p,...f)});return Zs({timezone:e,value:a,defaultValue:void 0,onChange:c,valueManager:o})},ri=r=>{const{action:e,hasChanged:t,dateState:n,isControlled:s}=r,o=!s&&!n.hasBeenModifiedSinceMount;return e.name==="setValueFromField"?!0:e.name==="setValueFromAction"?o&&["accept","today","clear"].includes(e.pickerAction)?!0:t(n.lastPublishedValue):e.name==="setValueFromView"&&e.selectionState!=="shallow"||e.name==="setValueFromShortcut"?o?!0:t(n.lastPublishedValue):!1},oi=r=>{const{action:e,hasChanged:t,dateState:n,isControlled:s,closeOnSelect:o}=r,a=!s&&!n.hasBeenModifiedSinceMount;return e.name==="setValueFromAction"?a&&["accept","today","clear"].includes(e.pickerAction)?!0:t(n.lastCommittedValue):e.name==="setValueFromView"&&e.selectionState==="finish"&&o?a?!0:t(n.lastCommittedValue):e.name==="setValueFromShortcut"?e.changeImportance==="accept"&&t(n.lastCommittedValue):!1},ai=r=>{const{action:e,closeOnSelect:t}=r;return e.name==="setValueFromAction"?!0:e.name==="setValueFromView"?e.selectionState==="finish"&&t:e.name==="setValueFromShortcut"?e.changeImportance==="accept":!1},ii=({props:r,valueManager:e,valueType:t,wrapperVariant:n,validator:s})=>{const{onAccept:o,onChange:a,value:i,defaultValue:c,closeOnSelect:p=n==="desktop",timezone:f}=r,{current:C}=R.useRef(c),{current:v}=R.useRef(i!==void 0),P=ft(),S=Rn(),{isOpen:k,setIsOpen:O}=si(r),{timezone:_,value:L,handleValueChange:q}=Zs({timezone:f,value:i,defaultValue:C,onChange:a,valueManager:e}),[G,X]=R.useState(()=>{let ke;return L!==void 0?ke=L:C!==void 0?ke=C:ke=e.emptyValue,{draft:ke,lastPublishedValue:ke,lastCommittedValue:ke,lastControlledValue:L,hasBeenModifiedSinceMount:!1}});Ur((0,M.A)({},r,{value:G.draft,timezone:_}),s,e.isSameError,e.defaultErrorState);const Q=(0,We.A)(ke=>{const Ye={action:ke,dateState:G,hasChanged:Ue=>!e.areValuesEqual(P,ke.value,Ue),isControlled:v,closeOnSelect:p},ie=ri(Ye),me=oi(Ye),Le=ai(Ye);X(Ue=>(0,M.A)({},Ue,{draft:ke.value,lastPublishedValue:ie?ke.value:Ue.lastPublishedValue,lastCommittedValue:me?ke.value:Ue.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let Me=null;const Ze=()=>(Me||(Me={validationError:ke.name==="setValueFromField"?ke.context.validationError:s({adapter:S,value:ke.value,props:(0,M.A)({},r,{value:ke.value,timezone:_})})},ke.name==="setValueFromShortcut"&&(Me.shortcut=ke.shortcut)),Me);ie&&q(ke.value,Ze()),me&&o&&o(ke.value,Ze()),Le&&O(!1)});if(L!==void 0&&(G.lastControlledValue===void 0||!e.areValuesEqual(P,G.lastControlledValue,L))){const ke=e.areValuesEqual(P,G.draft,L);X(Ye=>(0,M.A)({},Ye,{lastControlledValue:L},ke?{}:{lastCommittedValue:L,lastPublishedValue:L,draft:L,hasBeenModifiedSinceMount:!0}))}const ee=(0,We.A)(()=>{Q({value:e.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),K=(0,We.A)(()=>{Q({value:G.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),De=(0,We.A)(()=>{Q({value:G.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),te=(0,We.A)(()=>{Q({value:G.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),fe=(0,We.A)(()=>{Q({value:e.getTodayValue(P,_,t),name:"setValueFromAction",pickerAction:"today"})}),Fe=(0,We.A)(ke=>{ke.preventDefault(),O(!0)}),ge=(0,We.A)(ke=>{ke==null||ke.preventDefault(),O(!1)}),xe=(0,We.A)((ke,Ye="partial")=>Q({name:"setValueFromView",value:ke,selectionState:Ye})),ue=(0,We.A)((ke,Ye,ie)=>Q({name:"setValueFromShortcut",value:ke,changeImportance:Ye,shortcut:ie})),Te=(0,We.A)((ke,Ye)=>Q({name:"setValueFromField",value:ke,context:Ye})),Re={onClear:ee,onAccept:K,onDismiss:De,onCancel:te,onSetToday:fe,onOpen:Fe,onClose:ge},_e={value:G.draft,onChange:Te},Pe=R.useMemo(()=>e.cleanValue(P,G.draft),[P,e,G.draft]),Ne={value:Pe,onChange:xe,onClose:ge,open:k},ze=ke=>{const Ye=s({adapter:S,value:ke,props:(0,M.A)({},r,{value:ke,timezone:_})});return!e.hasError(Ye)},Qe=(0,M.A)({},Re,{value:Pe,onChange:xe,onSelectShortcut:ue,isValid:ze});return{open:k,fieldProps:_e,viewProps:Ne,layoutProps:Qe,actions:Re}};var wn=$(55791);let xm=!1;function ds({onChange:r,onViewChange:e,openTo:t,view:n,views:s,autoFocus:o,focusedView:a,onFocusedViewChange:i}){var ee,K;const c=R.useRef(t),p=R.useRef(s),f=R.useRef(s.includes(t)?t:s[0]),[C,v]=(0,Bn.A)({name:"useViews",state:"view",controlled:n,default:f.current}),P=R.useRef(o?C:null),[S,k]=(0,Bn.A)({name:"useViews",state:"focusedView",controlled:a,default:P.current});R.useEffect(()=>{(c.current&&c.current!==t||p.current&&p.current.some(De=>!s.includes(De)))&&(v(s.includes(t)?t:s[0]),p.current=s,c.current=t)},[t,v,C,s]);const O=s.indexOf(C),_=(ee=s[O-1])!=null?ee:null,L=(K=s[O+1])!=null?K:null,q=(0,We.A)((De,te)=>{k(te?De:fe=>De===fe?null:fe),i==null||i(De,te)}),G=(0,We.A)(De=>{q(De,!0),De!==C&&(v(De),e&&e(De))}),X=(0,We.A)(()=>{L&&G(L)}),Q=(0,We.A)((De,te,fe)=>{const Fe=te==="finish",ge=fe?s.indexOf(fe)<s.length-1:!!L;if(r(De,Fe&&ge?"partial":te,fe),fe&&fe!==C){const ue=s[s.indexOf(fe)+1];ue&&G(ue)}else Fe&&X()});return{view:C,setView:G,focusedView:S,setFocusedView:q,nextView:L,previousView:_,defaultView:s.includes(t)?t:s[0],goToNextView:X,setValueAndGoToNextView:Q}}const li=["className","sx"],ci=({props:r,propsFromPickerValue:e,additionalViewProps:t,autoFocusView:n,rendererInterceptor:s,fieldRef:o})=>{const{onChange:a,open:i,onClose:c}=e,{view:p,views:f,openTo:C,onViewChange:v,viewRenderers:P,timezone:S}=r,k=(0,qe.A)(r,li),{view:O,setView:_,defaultView:L,focusedView:q,setFocusedView:G,setValueAndGoToNextView:X}=ds({view:p,views:f,openTo:C,onChange:a,onViewChange:v,autoFocus:n}),{hasUIView:Q,viewModeLookup:ee}=R.useMemo(()=>f.reduce((xe,ue)=>{let Te;return P[ue]!=null?Te="UI":Te="field",xe.viewModeLookup[ue]=Te,Te==="UI"&&(xe.hasUIView=!0),xe},{hasUIView:!1,viewModeLookup:{}}),[P,f]),K=R.useMemo(()=>f.reduce((xe,ue)=>P[ue]!=null&&Lt(ue)?xe+1:xe,0),[P,f]),De=ee[O],te=(0,We.A)(()=>De==="UI"),[fe,Fe]=R.useState(De==="UI"?O:null);return fe!==O&&ee[O]==="UI"&&Fe(O),(0,wn.A)(()=>{De==="field"&&i&&(c(),setTimeout(()=>{var xe,ue;(xe=o==null?void 0:o.current)==null||xe.setSelectedSections(O),(ue=o==null?void 0:o.current)==null||ue.focusField(O)}))},[O]),(0,wn.A)(()=>{if(!i)return;let xe=O;De==="field"&&fe!=null&&(xe=fe),xe!==L&&ee[xe]==="UI"&&ee[L]==="UI"&&(xe=L),xe!==O&&_(xe),G(xe,!0)},[i]),{hasUIView:Q,shouldRestoreFocus:te,layoutProps:{views:f,view:fe,onViewChange:_},renderCurrentView:()=>{if(fe==null)return null;const xe=P[fe];if(xe==null)return null;const ue=(0,M.A)({},k,t,e,{views:f,timezone:S,onChange:X,view:fe,onViewChange:_,focusedView:q,onFocusedViewChange:G,showViewSwitcher:K>1,timeViewsCount:K});return s?s(P,fe,ue):xe(ue)}}};var pn=$(49262);function Hr(){return typeof window=="undefined"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const ui=(r,e)=>{const[t,n]=R.useState(Hr);return(0,wn.A)(()=>{const o=()=>{n(Hr())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),Xn(r,["hours","minutes","seconds"])?!1:(e||t)==="landscape"},di=({props:r,propsFromPickerValue:e,propsFromPickerViews:t,wrapperVariant:n})=>{const{orientation:s}=r,o=ui(t.views,s),a=(0,pn.I)();return{layoutProps:(0,M.A)({},t,e,{isLandscape:o,isRtl:a,wrapperVariant:n,disabled:r.disabled,readOnly:r.readOnly})}},wm=r=>{let e=!1;return()=>{}},Sm=((r,e="warning")=>{let t=!1;const n=Array.isArray(r)?r.join(`
`):r;return()=>{t||(t=!0,e==="error"?console.error(n):console.warn(n))}})(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]),zr=({props:r,valueManager:e,valueType:t,wrapperVariant:n,additionalViewProps:s,validator:o,autoFocusView:a,rendererInterceptor:i,fieldRef:c})=>{const p=ii({props:r,valueManager:e,valueType:t,wrapperVariant:n,validator:o}),f=ci({props:r,additionalViewProps:s,autoFocusView:a,fieldRef:c,propsFromPickerValue:p.viewProps,rendererInterceptor:i}),C=di({props:r,wrapperVariant:n,propsFromPickerValue:p.layoutProps,propsFromPickerViews:f.layoutProps});return{open:p.open,actions:p.actions,fieldProps:p.fieldProps,renderCurrentView:f.renderCurrentView,hasUIView:f.hasUIView,shouldRestoreFocus:f.shouldRestoreFocus,layoutProps:C.layoutProps}};function Jr(r){return(0,yt.Ay)("MuiPickersLayout",r)}const $n=(0,Dt.A)("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]);var ps=$(12811),pi=$(59589);const hi=["onAccept","onClear","onCancel","onSetToday","actions"];function mi(r){const{onAccept:e,onClear:t,onCancel:n,onSetToday:s,actions:o}=r,a=(0,qe.A)(r,hi),i=Vt();if(o==null||o.length===0)return null;const c=o==null?void 0:o.map(p=>{switch(p){case"clear":return(0,W.jsx)(ps.A,{onClick:t,children:i.clearButtonLabel},p);case"cancel":return(0,W.jsx)(ps.A,{onClick:n,children:i.cancelButtonLabel},p);case"accept":return(0,W.jsx)(ps.A,{onClick:e,children:i.okButtonLabel},p);case"today":return(0,W.jsx)(ps.A,{onClick:s,children:i.todayButtonLabel},p);default:return null}});return(0,W.jsx)(pi.A,(0,M.A)({},a,{children:c}))}var fi=$(6319),gi=$(28677),yi=$(49813);const hs=36,ks=2,Is=320,Di=280,er=336,Yr=232,Ci=48,bi=["items","changeImportance","isLandscape","onChange","isValid"],vi=["getValue"];function Ai(r){const{items:e,changeImportance:t="accept",onChange:n,isValid:s}=r,o=(0,qe.A)(r,bi);if(e==null||e.length===0)return null;const a=e.map(i=>{let{getValue:c}=i,p=(0,qe.A)(i,vi);const f=c({isValid:s});return(0,M.A)({},p,{label:p.label,onClick:()=>{n(f,t,p)},disabled:!s(f)})});return(0,W.jsx)(fi.A,(0,M.A)({dense:!0,sx:[{maxHeight:er,maxWidth:200,overflow:"auto"},...Array.isArray(o.sx)?o.sx:[o.sx]]},o,{children:a.map(i=>{var c;return(0,W.jsx)(gi.Ay,{children:(0,W.jsx)(yi.A,(0,M.A)({},i))},(c=i.id)!=null?c:i.label)})}))}function xi(r){return r.view!==null}const wi=r=>{const{classes:e,isLandscape:t}=r,n={root:["root",t&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]};return(0,gt.A)(n,Jr,e)},Ei=r=>{var Te,Re;const{wrapperVariant:e,onAccept:t,onClear:n,onCancel:s,onSetToday:o,view:a,views:i,onViewChange:c,value:p,onChange:f,onSelectShortcut:C,isValid:v,isLandscape:P,disabled:S,readOnly:k,children:O,slots:_,slotProps:L}=r,q=wi(r),G=(Te=_==null?void 0:_.actionBar)!=null?Te:mi,X=(0,Ct.Q)({elementType:G,externalSlotProps:L==null?void 0:L.actionBar,additionalProps:{onAccept:t,onClear:n,onCancel:s,onSetToday:o,actions:e==="desktop"?[]:["cancel","accept"]},className:q.actionBar,ownerState:(0,M.A)({},r,{wrapperVariant:e})}),Q=(0,W.jsx)(G,(0,M.A)({},X)),ee=_==null?void 0:_.toolbar,K=(0,Ct.Q)({elementType:ee,externalSlotProps:L==null?void 0:L.toolbar,additionalProps:{isLandscape:P,onChange:f,value:p,view:a,onViewChange:c,views:i,disabled:S,readOnly:k},className:q.toolbar,ownerState:(0,M.A)({},r,{wrapperVariant:e})}),De=xi(K)&&ee?(0,W.jsx)(ee,(0,M.A)({},K)):null,te=O,fe=_==null?void 0:_.tabs,Fe=a&&fe?(0,W.jsx)(fe,(0,M.A)({view:a,onViewChange:c,className:q.tabs},L==null?void 0:L.tabs)):null,ge=(Re=_==null?void 0:_.shortcuts)!=null?Re:Ai,xe=(0,Ct.Q)({elementType:ge,externalSlotProps:L==null?void 0:L.shortcuts,additionalProps:{isValid:v,isLandscape:P,onChange:C},className:q.shortcuts,ownerState:{isValid:v,isLandscape:P,onChange:C,wrapperVariant:e}}),ue=a&&ge?(0,W.jsx)(ge,(0,M.A)({},xe)):null;return{toolbar:De,content:te,tabs:Fe,actionBar:Q,shortcuts:ue}},Si=r=>{const{isLandscape:e,classes:t}=r,n={root:["root",e&&"landscape"],contentWrapper:["contentWrapper"]};return(0,gt.A)(n,Jr,t)},Fi=(0,Z.styled)("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(r,e)=>e.root})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${$n.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${$n.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${$n.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!0,isRtl:!0},style:{[`& .${$n.toolbar}`]:{gridColumn:3}}},{props:{isLandscape:!1},style:{[`& .${$n.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${$n.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{isLandscape:!1,isRtl:!0},style:{[`& .${$n.shortcuts}`]:{gridColumn:3}}}]}),Ti=(0,Z.styled)("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(r,e)=>e.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),Kr=function(e){const t=(0,Z.useThemeProps)({props:e,name:"MuiPickersLayout"}),{toolbar:n,content:s,tabs:o,actionBar:a,shortcuts:i}=Ei(t),{sx:c,className:p,isLandscape:f,ref:C,wrapperVariant:v}=t,P=Si(t);return(0,W.jsxs)(Fi,{ref:C,sx:c,className:(0,xt.A)(p,P.root),ownerState:t,children:[f?i:n,f?n:i,(0,W.jsx)(Ti,{className:P.contentWrapper,children:v==="desktop"?(0,W.jsxs)(R.Fragment,{children:[s,o]}):(0,W.jsxs)(R.Fragment,{children:[o,s]})}),a]})},ki=["props","getOpenDialogAriaText"],Ii=["ownerState"],Pi=["ownerState"],Gr=r=>{var ae,be,we,Ie,Ee;let{props:e,getOpenDialogAriaText:t}=r,n=(0,qe.A)(r,ki);const{slots:s,slotProps:o,className:a,sx:i,format:c,formatDensity:p,enableAccessibleFieldDOMStructure:f,selectedSections:C,onSelectedSectionsChange:v,timezone:P,name:S,label:k,inputRef:O,readOnly:_,disabled:L,autoFocus:q,localeText:G,reduceAnimations:X}=e,Q=ft(),ee=R.useRef(null),K=R.useRef(null),De=(0,Qn.A)(),te=(be=(ae=o==null?void 0:o.toolbar)==null?void 0:ae.hidden)!=null?be:!1,{open:fe,actions:Fe,hasUIView:ge,layoutProps:xe,renderCurrentView:ue,shouldRestoreFocus:Te,fieldProps:Re}=zr((0,M.A)({},n,{props:e,fieldRef:K,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),_e=(we=s.inputAdornment)!=null?we:Br.A,Pe=(0,Ct.Q)({elementType:_e,externalSlotProps:o==null?void 0:o.inputAdornment,additionalProps:{position:"end"},ownerState:e}),Ne=(0,qe.A)(Pe,Ii),ze=(Ie=s.openPickerButton)!=null?Ie:qn.A,Qe=(0,Ct.Q)({elementType:ze,externalSlotProps:o==null?void 0:o.openPickerButton,additionalProps:{disabled:L||_,onClick:fe?Fe.onClose:Fe.onOpen,"aria-label":t(Re.value,Q),edge:Ne.position},ownerState:e}),ke=(0,qe.A)(Qe,Pi),Ye=s.openPickerIcon,ie=s.field,me=(0,Ct.Q)({elementType:ie,externalSlotProps:o==null?void 0:o.field,additionalProps:(0,M.A)({},Re,te&&{id:De},{readOnly:_,disabled:L,className:a,sx:i,format:c,formatDensity:p,enableAccessibleFieldDOMStructure:f,selectedSections:C,onSelectedSectionsChange:v,timezone:P,label:k,name:S,autoFocus:q&&!e.open,focused:fe?!0:void 0},O?{inputRef:O}:{}),ownerState:e});ge&&(me.InputProps=(0,M.A)({},me.InputProps,{ref:ee},!e.disableOpenPicker&&{[`${Ne.position}Adornment`]:(0,W.jsx)(_e,(0,M.A)({},Ne,{children:(0,W.jsx)(ze,(0,M.A)({},ke,{children:(0,W.jsx)(Ye,(0,M.A)({},o==null?void 0:o.openPickerIcon))}))}))}));const Le=(0,M.A)({textField:s.textField,clearIcon:s.clearIcon,clearButton:s.clearButton},me.slots),Me=(Ee=s.layout)!=null?Ee:Kr;let Ze=De;te&&(k?Ze=`${De}-label`:Ze=void 0);const Ue=(0,M.A)({},o,{toolbar:(0,M.A)({},o==null?void 0:o.toolbar,{titleId:De}),popper:(0,M.A)({"aria-labelledby":Ze},o==null?void 0:o.popper)}),et=(0,Yt.A)(K,me.unstableFieldRef);return{renderPicker:()=>(0,W.jsxs)(Nr,{localeText:G,children:[(0,W.jsx)(ie,(0,M.A)({},me,{slots:Le,slotProps:Ue,unstableFieldRef:et})),(0,W.jsx)(ni,(0,M.A)({role:"dialog",placement:"bottom-start",anchorEl:ee.current},Fe,{open:fe,slots:s,slotProps:Ue,shouldRestoreFocus:Te,reduceAnimations:X,children:(0,W.jsx)(Me,(0,M.A)({},xe,Ue==null?void 0:Ue.layout,{slots:s,slotProps:Ue,children:ue()}))}))]})}};var kn=$(35131);const Mi=(0,kn.A)((0,W.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Ni=(0,kn.A)((0,W.jsx)("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Oi=(0,kn.A)((0,W.jsx)("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),_i=(0,kn.A)((0,W.jsx)("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),Ri=(0,kn.A)((0,W.jsxs)(R.Fragment,{children:[(0,W.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,W.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock"),Tm=(0,kn.A)((0,W.jsx)("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),km=(0,kn.A)((0,W.jsxs)(R.Fragment,{children:[(0,W.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,W.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),Li=(0,kn.A)((0,W.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");var qr=$(24273);const Bi=({utils:r,format:e})=>{let t=10,n=e,s=r.expandFormat(e);for(;s!==n;)if(n=s,s=r.expandFormat(n),t-=1,t<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return s},$i=({utils:r,expandedFormat:e})=>{const t=[],{start:n,end:s}=r.escapedCharacters,o=new RegExp(`(\\${n}[^\\${s}]*\\${s})+`,"g");let a=null;for(;a=o.exec(e);)t.push({start:a.index,end:o.lastIndex-1});return t},Vi=(r,e,t,n,s)=>{switch(n.type){case"year":return t.fieldYearPlaceholder({digitAmount:r.formatByString(r.date(void 0,e),s).length,format:s});case"month":return t.fieldMonthPlaceholder({contentType:n.contentType,format:s});case"day":return t.fieldDayPlaceholder({format:s});case"weekDay":return t.fieldWeekDayPlaceholder({contentType:n.contentType,format:s});case"hours":return t.fieldHoursPlaceholder({format:s});case"minutes":return t.fieldMinutesPlaceholder({format:s});case"seconds":return t.fieldSecondsPlaceholder({format:s});case"meridiem":return t.fieldMeridiemPlaceholder({format:s});default:return s}},ji=({utils:r,timezone:e,date:t,shouldRespectLeadingZeros:n,localeText:s,localizedDigits:o,now:a,token:i,startSeparator:c})=>{if(i==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const p=Jt(r,i),f=Tr(r,e,p.contentType,p.type,i),C=n?f:p.contentType==="digit",v=t!=null&&r.isValid(t);let P=v?r.formatByString(t,i):"",S=null;if(C)if(f)S=P===""?r.formatByString(a,i).length:P.length;else{if(p.maxLength==null)throw new Error(`MUI X: The token ${i} should have a 'maxDigitNumber' property on it's adapter`);S=p.maxLength,v&&(P=Ks(wr(xn(P,o),S),o))}return(0,M.A)({},p,{format:i,maxLength:S,value:P,placeholder:Vi(r,e,s,p,i),hasLeadingZerosInFormat:f,hasLeadingZerosInInput:C,startSeparator:c,endSeparator:"",modified:!1})},Wi=r=>{var P;const{utils:e,expandedFormat:t,escapedParts:n}=r,s=e.date(void 0),o=[];let a="";const i=Object.keys(e.formatTokenMap).sort((S,k)=>k.length-S.length),c=/^([a-zA-Z]+)/,p=new RegExp(`^(${i.join("|")})*$`),f=new RegExp(`^(${i.join("|")})`),C=S=>n.find(k=>k.start<=S&&k.end>=S);let v=0;for(;v<t.length;){const S=C(v),k=S!=null,O=(P=c.exec(t.slice(v)))==null?void 0:P[1];if(!k&&O!=null&&p.test(O)){let _=O;for(;_.length>0;){const L=f.exec(_)[1];_=_.slice(L.length),o.push(ji((0,M.A)({},r,{now:s,token:L,startSeparator:a}))),a=""}v+=O.length}else{const _=t[v];k&&(S==null?void 0:S.start)===v||(S==null?void 0:S.end)===v||(o.length===0?a+=_:o[o.length-1].endSeparator+=_),v+=1}}return o.length===0&&a.length>0&&o.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:a,endSeparator:"",modified:!1}),o},Ui=({isRtl:r,formatDensity:e,sections:t})=>t.map(n=>{const s=o=>{let a=o;return r&&a!==null&&a.includes(" ")&&(a=`\u2069${a}\u2066`),e==="spacious"&&["/",".","-"].includes(a)&&(a=` ${a} `),a};return n.startSeparator=s(n.startSeparator),n.endSeparator=s(n.endSeparator),n}),Qr=r=>{let e=Bi(r);r.isRtl&&r.enableAccessibleFieldDOMStructure&&(e=e.split(" ").reverse().join(" "));const t=$i((0,M.A)({},r,{expandedFormat:e})),n=Wi((0,M.A)({},r,{expandedFormat:e,escapedParts:t}));return Ui((0,M.A)({},r,{sections:n}))},Hi=r=>{const e=ft(),t=Vt(),n=Rn(),s=(0,pn.I)(),{valueManager:o,fieldValueManager:a,valueType:i,validator:c,internalProps:p,internalProps:{value:f,defaultValue:C,referenceDate:v,onChange:P,format:S,formatDensity:k="dense",selectedSections:O,onSelectedSectionsChange:_,shouldRespectLeadingZeros:L=!1,timezone:q,enableAccessibleFieldDOMStructure:G=!1}}=r,{timezone:X,value:Q,handleValueChange:ee}=Zs({timezone:q,value:f,defaultValue:C,onChange:P,valueManager:o}),K=R.useMemo(()=>Gn(e),[e]),De=R.useMemo(()=>va(e,K,X),[e,K,X]),te=R.useCallback((ie,me=null)=>a.getSectionsFromValue(e,ie,me,Le=>Qr({utils:e,timezone:X,localeText:t,localizedDigits:K,format:S,date:Le,formatDensity:k,shouldRespectLeadingZeros:L,enableAccessibleFieldDOMStructure:G,isRtl:s})),[a,S,t,K,s,L,e,k,X,G]),[fe,Fe]=R.useState(()=>{const ie=te(Q);kr(ie,i);const me={sections:ie,value:Q,referenceValue:o.emptyValue,tempValueStrAndroid:null},Le=Ot(ie),Me=o.getInitialReferenceValue({referenceDate:v,value:Q,utils:e,props:p,granularity:Le,timezone:X});return(0,M.A)({},me,{referenceValue:Me})}),[ge,xe]=(0,Bn.A)({controlled:O,default:null,name:"useField",state:"selectedSections"}),ue=ie=>{xe(ie),_==null||_(ie)},Te=R.useMemo(()=>qs(ge,fe.sections),[ge,fe.sections]),Re=Te==="all"?0:Te,_e=({value:ie,referenceValue:me,sections:Le})=>{if(Fe(Ze=>(0,M.A)({},Ze,{sections:Le,value:ie,referenceValue:me,tempValueStrAndroid:null})),o.areValuesEqual(e,fe.value,ie))return;const Me={validationError:c({adapter:n,value:ie,props:(0,M.A)({},p,{value:ie,timezone:X})})};ee(ie,Me)},Pe=(ie,me)=>{const Le=[...fe.sections];return Le[ie]=(0,M.A)({},Le[ie],{value:me,modified:!0}),Le},Ne=()=>{_e({value:o.emptyValue,referenceValue:fe.referenceValue,sections:te(o.emptyValue)})},ze=()=>{if(Re==null)return;const ie=fe.sections[Re],me=a.getActiveDateManager(e,fe,ie),Me=me.getSections(fe.sections).filter(Ve=>Ve.value!=="").length===(ie.value===""?0:1),Ze=Pe(Re,""),Ue=Me?null:e.getInvalidDate(),et=me.getNewValuesFromNewActiveDate(Ue);_e((0,M.A)({},et,{sections:Ze}))},Qe=ie=>{const me=(Ze,Ue)=>{const et=e.parse(Ze,S);if(et==null||!e.isValid(et))return null;const Ve=Qr({utils:e,timezone:X,localeText:t,localizedDigits:K,format:S,date:et,formatDensity:k,shouldRespectLeadingZeros:L,enableAccessibleFieldDOMStructure:G,isRtl:s});return Pr(e,X,et,Ve,Ue,!1)},Le=a.parseValueStr(ie,fe.referenceValue,me),Me=a.updateReferenceValue(e,Le,fe.referenceValue);_e({value:Le,referenceValue:Me,sections:te(Le,fe.sections)})},ke=({activeSection:ie,newSectionValue:me,shouldGoToNextSection:Le})=>{Le&&Re<fe.sections.length-1&&ue(Re+1);const Me=a.getActiveDateManager(e,fe,ie),Ze=Pe(Re,me),Ue=Me.getSections(Ze),et=Da(e,Ue,K);let Ve,ae;if(et!=null&&e.isValid(et)){const be=Pr(e,X,et,Ue,Me.referenceDate,!0);Ve=Me.getNewValuesFromNewActiveDate(be),ae=!0}else Ve=Me.getNewValuesFromNewActiveDate(et),ae=(et!=null&&!e.isValid(et))!=(Me.date!=null&&!e.isValid(Me.date));return ae?_e((0,M.A)({},Ve,{sections:Ze})):Fe(be=>(0,M.A)({},be,Ve,{sections:Ze,tempValueStrAndroid:null}))},Ye=ie=>Fe(me=>(0,M.A)({},me,{tempValueStrAndroid:ie}));return R.useEffect(()=>{const ie=te(fe.value);kr(ie,i),Fe(me=>(0,M.A)({},me,{sections:ie}))},[S,e.locale,s]),R.useEffect(()=>{let ie;o.areValuesEqual(e,fe.value,Q)?ie=o.getTimezone(e,fe.value)!==o.getTimezone(e,Q):ie=!0,ie&&Fe(me=>(0,M.A)({},me,{value:Q,referenceValue:a.updateReferenceValue(e,Q,me.referenceValue),sections:te(Q)}))},[Q]),{state:fe,activeSectionIndex:Re,parsedSelectedSections:Te,setSelectedSections:ue,clearValue:Ne,clearActiveSection:ze,updateSectionValue:ke,updateValueFromValueStr:Qe,setTempAndroidValueStr:Ye,getSectionsFromValue:te,sectionsValueBoundaries:De,localizedDigits:K,timezone:X}},zi=5e3,ts=r=>r.saveQuery!=null,Ji=({sections:r,updateSectionValue:e,sectionsValueBoundaries:t,localizedDigits:n,setTempAndroidValueStr:s,timezone:o})=>{const a=ft(),[i,c]=R.useState(null),p=(0,We.A)(()=>c(null));R.useEffect(()=>{var S;i!=null&&((S=r[i.sectionIndex])==null?void 0:S.type)!==i.sectionType&&p()},[r,i,p]),R.useEffect(()=>{if(i!=null){const S=setTimeout(()=>p(),zi);return()=>{clearTimeout(S)}}return()=>{}},[i,p]);const f=({keyPressed:S,sectionIndex:k},O,_)=>{const L=S.toLowerCase(),q=r[k];if(i!=null&&(!_||_(i.value))&&i.sectionIndex===k){const X=`${i.value}${L}`,Q=O(X,q);if(!ts(Q))return c({sectionIndex:k,value:X,sectionType:q.type}),Q}const G=O(L,q);return ts(G)&&!G.saveQuery?(p(),null):(c({sectionIndex:k,value:L,sectionType:q.type}),ts(G)?null:G)},C=S=>{const k=(L,q,G)=>{const X=q.filter(Q=>Q.toLowerCase().startsWith(G));return X.length===0?{saveQuery:!1}:{sectionValue:X[0],shouldGoToNextSection:X.length===1}},O=(L,q,G,X)=>{const Q=ee=>rn(a,o,q.type,ee);if(q.contentType==="letter")return k(q.format,Q(q.format),L);if(G&&X!=null&&Jt(a,G).contentType==="letter"){const ee=Q(G),K=k(G,ee,L);return ts(K)?{saveQuery:!1}:(0,M.A)({},K,{sectionValue:X(K.sectionValue,ee)})}return{saveQuery:!1}};return f(S,(L,q)=>{switch(q.type){case"month":{const G=X=>Sr(a,X,a.formats.month,q.format);return O(L,q,a.formats.month,G)}case"weekDay":{const G=(X,Q)=>Q.indexOf(X).toString();return O(L,q,a.formats.weekday,G)}case"meridiem":return O(L,q);default:return{saveQuery:!1}}})},v=S=>{const k=(_,L)=>{const q=xn(_,n),G=Number(q),X=t[L.type]({currentDate:null,format:L.format,contentType:L.contentType});if(G>X.maximum)return{saveQuery:!1};if(G<X.minimum)return{saveQuery:!0};const Q=G*10>X.maximum||q.length===X.maximum.toString().length;return{sectionValue:Er(a,G,X,n,L),shouldGoToNextSection:Q}};return f(S,(_,L)=>{if(L.contentType==="digit"||L.contentType==="digit-with-letter")return k(_,L);if(L.type==="month"){const q=Tr(a,o,"digit","month","MM"),G=k(_,{type:L.type,format:"MM",hasLeadingZerosInFormat:q,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(ts(G))return G;const X=Sr(a,G.sectionValue,"MM",L.format);return(0,M.A)({},G,{sectionValue:X})}if(L.type==="weekDay"){const q=k(_,L);if(ts(q))return q;const G=sn(a,o,L.format)[Number(q.sectionValue)-1];return(0,M.A)({},q,{sectionValue:G})}return{saveQuery:!1}},_=>xr(_,n))};return{applyCharacterEditing:(0,We.A)(S=>{const k=r[S.sectionIndex],_=xr(S.keyPressed,n)?v((0,M.A)({},S,{keyPressed:Ks(S.keyPressed,n)})):C(S);if(_==null){s(null);return}e({activeSection:k,newSectionValue:_.sectionValue,shouldGoToNextSection:_.shouldGoToNextSection})}),resetCharacterQuery:p}},Yi=r=>{const{internalProps:{disabled:e,readOnly:t=!1},forwardedProps:{sectionListRef:n,onBlur:s,onClick:o,onFocus:a,onInput:i,onPaste:c,focused:p,autoFocus:f=!1},fieldValueManager:C,applyCharacterEditing:v,resetCharacterQuery:P,setSelectedSections:S,parsedSelectedSections:k,state:O,clearActiveSection:_,clearValue:L,updateSectionValue:q,updateValueFromValueStr:G,sectionOrder:X,areAllSectionsEmpty:Q,sectionsValueBoundaries:ee}=r,K=R.useRef(null),De=(0,Yt.A)(n,K),te=Vt(),fe=ft(),Fe=(0,Qn.A)(),[ge,xe]=R.useState(!1),ue=R.useMemo(()=>({syncSelectionToDOM:()=>{if(!K.current)return;const ae=document.getSelection();if(!ae)return;if(k==null){ae.rangeCount>0&&K.current.getRoot().contains(ae.getRangeAt(0).startContainer)&&ae.removeAllRanges(),ge&&K.current.getRoot().blur();return}if(!K.current.getRoot().contains(on(document)))return;const be=new window.Range;let we;k==="all"?we=K.current.getRoot():O.sections[k].type==="empty"?we=K.current.getSectionContainer(k):we=K.current.getSectionContent(k),be.selectNodeContents(we),we.focus(),ae.removeAllRanges(),ae.addRange(be)},getActiveSectionIndexFromDOM:()=>{const ae=on(document);return!ae||!K.current||!K.current.getRoot().contains(ae)?null:K.current.getSectionIndexFromDOMElement(ae)},focusField:(ae=0)=>{if(!K.current)return;const be=qs(ae,O.sections);xe(!0),K.current.getSectionContent(be).focus()},setSelectedSections:ae=>{if(!K.current)return;const be=qs(ae,O.sections);xe((be==="all"?0:be)!==null),S(ae)},isFieldFocused:()=>{const ae=on(document);return!!K.current&&K.current.getRoot().contains(ae)}}),[k,S,O.sections,ge]),Te=(0,We.A)(ae=>{if(!K.current)return;const be=O.sections[ae];K.current.getSectionContent(ae).innerHTML=be.value||be.placeholder,ue.syncSelectionToDOM()}),Re=(0,We.A)((ae,...be)=>{ae.isDefaultPrevented()||!K.current||(xe(!0),o==null||o(ae,...be),k==="all"?setTimeout(()=>{const we=document.getSelection().getRangeAt(0).startOffset;if(we===0){S(X.startIndex);return}let Ie=0,Ee=0;for(;Ee<we&&Ie<O.sections.length;){const Be=O.sections[Ie];Ie+=1,Ee+=`${Be.startSeparator}${Be.value||Be.placeholder}${Be.endSeparator}`.length}S(Ie-1)}):ge?K.current.getRoot().contains(ae.target)||S(X.startIndex):(xe(!0),S(X.startIndex)))}),_e=(0,We.A)(ae=>{var Ie;if(i==null||i(ae),!K.current||k!=="all")return;const we=(Ie=ae.target.textContent)!=null?Ie:"";K.current.getRoot().innerHTML=O.sections.map(Ee=>`${Ee.startSeparator}${Ee.value||Ee.placeholder}${Ee.endSeparator}`).join(""),ue.syncSelectionToDOM(),we.length===0||we.charCodeAt(0)===10?(P(),L(),S("all")):we.length>1?G(we):v({keyPressed:we,sectionIndex:0})}),Pe=(0,We.A)(ae=>{if(c==null||c(ae),t||k!=="all"){ae.preventDefault();return}const be=ae.clipboardData.getData("text");ae.preventDefault(),P(),G(be)}),Ne=(0,We.A)((...ae)=>{if(a==null||a(...ae),ge||!K.current)return;xe(!0),K.current.getSectionIndexFromDOMElement(on(document))!=null||S(X.startIndex)}),ze=(0,We.A)((...ae)=>{s==null||s(...ae),setTimeout(()=>{if(!K.current)return;const be=on(document);!K.current.getRoot().contains(be)&&(xe(!1),S(null))})}),Qe=(0,We.A)(ae=>be=>{be.isDefaultPrevented()||t||S(ae)}),ke=(0,We.A)(ae=>{ae.preventDefault()}),Ye=(0,We.A)(ae=>()=>{t||S(ae)}),ie=(0,We.A)(ae=>{if(ae.preventDefault(),t||typeof k!="number")return;const be=O.sections[k],we=ae.clipboardData.getData("text"),Ie=/^[a-zA-Z]+$/.test(we),Ee=/^[0-9]+$/.test(we),Be=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(we);be.contentType==="letter"&&Ie||be.contentType==="digit"&&Ee||be.contentType==="digit-with-letter"&&Be?(P(),q({activeSection:be,newSectionValue:we,shouldGoToNextSection:!0})):!Ie&&!Ee&&(P(),G(we))}),me=(0,We.A)(ae=>{ae.preventDefault(),ae.dataTransfer.dropEffect="none"}),Le=(0,We.A)(ae=>{var Be;if(!K.current)return;const be=ae.target,we=(Be=be.textContent)!=null?Be:"",Ie=K.current.getSectionIndexFromDOMElement(be),Ee=O.sections[Ie];if(t||!K.current){Te(Ie);return}if(we.length===0){if(Ee.value===""){Te(Ie);return}const Ge=ae.nativeEvent.inputType;if(Ge==="insertParagraph"||Ge==="insertLineBreak"){Te(Ie);return}P(),_();return}v({keyPressed:we,sectionIndex:Ie}),Te(Ie)});(0,wn.A)(()=>{if(!(!ge||!K.current)){if(k==="all")K.current.getRoot().focus();else if(typeof k=="number"){const ae=K.current.getSectionContent(k);ae&&ae.focus()}}},[k,ge]);const Me=R.useMemo(()=>O.sections.reduce((ae,be)=>(ae[be.type]=ee[be.type]({currentDate:null,contentType:be.contentType,format:be.format}),ae),{}),[ee,O.sections]),Ze=k==="all",Ue=R.useMemo(()=>O.sections.map((ae,be)=>{const we=!Ze&&!e&&!t;return{container:{"data-sectionindex":be,onClick:Qe(be)},content:{tabIndex:Ze||be>0?-1:0,contentEditable:!Ze&&!e&&!t,role:"spinbutton",id:`${Fe}-${ae.type}`,"aria-labelledby":`${Fe}-${ae.type}`,"aria-readonly":t,"aria-valuenow":Sa(ae,fe),"aria-valuemin":Me[ae.type].minimum,"aria-valuemax":Me[ae.type].maximum,"aria-valuetext":ae.value?Ea(ae,fe):te.empty,"aria-label":te[ae.type],"aria-disabled":e,spellCheck:we?!1:void 0,autoCapitalize:we?"off":void 0,autoCorrect:we?"off":void 0,[parseInt(R.version,10)>=17?"enterKeyHint":"enterkeyhint"]:we?"next":void 0,children:ae.value||ae.placeholder,onInput:Le,onPaste:ie,onFocus:Ye(be),onDragOver:me,onMouseUp:ke,inputMode:ae.contentType==="letter"?"text":"numeric"},before:{children:ae.startSeparator},after:{children:ae.endSeparator}}}),[O.sections,Ye,ie,me,Le,Qe,ke,e,t,Ze,te,fe,Me,Fe]),et=(0,We.A)(ae=>{G(ae.target.value)}),Ve=R.useMemo(()=>Q?"":C.getV7HiddenInputValueFromSections(O.sections),[Q,O.sections,C]);return R.useEffect(()=>{if(K.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));f&&K.current&&K.current.getSectionContent(X.startIndex).focus()},[]),{interactions:ue,returnedValue:{autoFocus:f,readOnly:t,focused:p!=null?p:ge,sectionListRef:De,onBlur:ze,onClick:Re,onFocus:Ne,onInput:_e,onPaste:Pe,enableAccessibleFieldDOMStructure:!0,elements:Ue,tabIndex:k===0?-1:0,contentEditable:Ze,value:Ve,onChange:et,areAllSectionsEmpty:Q}}},ns=r=>r.replace(/[\u2066\u2067\u2068\u2069]/g,""),Ki=(r,e,t)=>{let n=0,s=t?1:0;const o=[];for(let a=0;a<r.length;a+=1){const i=r[a],c=Gs(i,t?"input-rtl":"input-ltr",e),p=`${i.startSeparator}${c}${i.endSeparator}`,f=ns(p).length,C=p.length,v=ns(c),P=s+(v===""?0:c.indexOf(v[0]))+i.startSeparator.length,S=P+v.length;o.push((0,M.A)({},i,{start:n,end:n+f,startInInput:P,endInInput:S})),n+=f,s+=C}return o},Gi=r=>{const e=(0,pn.I)(),t=R.useRef(),{forwardedProps:{onFocus:n,onClick:s,onPaste:o,onBlur:a,inputRef:i,placeholder:c},internalProps:{readOnly:p=!1},parsedSelectedSections:f,activeSectionIndex:C,state:v,fieldValueManager:P,valueManager:S,applyCharacterEditing:k,resetCharacterQuery:O,updateSectionValue:_,updateValueFromValueStr:L,clearActiveSection:q,clearValue:G,setTempAndroidValueStr:X,setSelectedSections:Q,getSectionsFromValue:ee,areAllSectionsEmpty:K,localizedDigits:De}=r,te=R.useRef(null),fe=(0,Yt.A)(i,te),Fe=R.useMemo(()=>Ki(v.sections,De,e),[v.sections,De,e]),ge=R.useMemo(()=>({syncSelectionToDOM:()=>{if(!te.current)return;if(f==null){te.current.scrollLeft&&(te.current.scrollLeft=0);return}if(te.current!==on(document))return;const ie=te.current.scrollTop;if(f==="all")te.current.select();else{const me=Fe[f],Le=me.type==="empty"?me.startInInput-me.startSeparator.length:me.startInInput,Me=me.type==="empty"?me.endInInput+me.endSeparator.length:me.endInInput;(Le!==te.current.selectionStart||Me!==te.current.selectionEnd)&&te.current===on(document)&&te.current.setSelectionRange(Le,Me)}te.current.scrollTop=ie},getActiveSectionIndexFromDOM:()=>{var Ze,Ue,et;const ie=(Ze=te.current.selectionStart)!=null?Ze:0,me=(Ue=te.current.selectionEnd)!=null?Ue:0,Le=!!((et=te.current)!=null&&et.readOnly);if(ie===0&&me===0||Le)return null;const Me=ie<=Fe[0].startInInput?1:Fe.findIndex(Ve=>Ve.startInInput-Ve.startSeparator.length>ie);return Me===-1?Fe.length-1:Me-1},focusField:(ie=0)=>{var me;(me=te.current)==null||me.focus(),Q(ie)},setSelectedSections:ie=>Q(ie),isFieldFocused:()=>te.current===on(document)}),[te,f,Fe,Q]),xe=()=>{var Me;if(p){Q(null);return}const ie=(Me=te.current.selectionStart)!=null?Me:0;let me;ie<=Fe[0].startInInput||ie>=Fe[Fe.length-1].endInInput?me=1:me=Fe.findIndex(Ze=>Ze.startInInput-Ze.startSeparator.length>ie);const Le=me===-1?Fe.length-1:me-1;Q(Le)},ue=(0,We.A)((...ie)=>{n==null||n(...ie);const me=te.current;clearTimeout(t.current),t.current=setTimeout(()=>{!me||me!==te.current||C!=null||p||(me.value.length&&Number(me.selectionEnd)-Number(me.selectionStart)===me.value.length?Q("all"):xe())})}),Te=(0,We.A)((ie,...me)=>{ie.isDefaultPrevented()||(s==null||s(ie,...me),xe())}),Re=(0,We.A)(ie=>{if(o==null||o(ie),ie.preventDefault(),p)return;const me=ie.clipboardData.getData("text");if(typeof f=="number"){const Le=v.sections[f],Me=/^[a-zA-Z]+$/.test(me),Ze=/^[0-9]+$/.test(me),Ue=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(me);if(Le.contentType==="letter"&&Me||Le.contentType==="digit"&&Ze||Le.contentType==="digit-with-letter"&&Ue){O(),_({activeSection:Le,newSectionValue:me,shouldGoToNextSection:!0});return}if(Me||Ze)return}O(),L(me)}),_e=(0,We.A)((...ie)=>{a==null||a(...ie),Q(null)}),Pe=(0,We.A)(ie=>{if(p)return;const me=ie.target.value;if(me===""){O(),G();return}const Le=ie.nativeEvent.data,Me=Le&&Le.length>1,Ze=Me?Le:me,Ue=ns(Ze);if(C==null||Me){L(Me?Le:Ue);return}let et;if(f==="all"&&Ue.length===1)et=Ue;else{const Ve=ns(P.getV6InputValueFromSections(Fe,De,e));let ae=-1,be=-1;for(let Be=0;Be<Ve.length;Be+=1)ae===-1&&Ve[Be]!==Ue[Be]&&(ae=Be),be===-1&&Ve[Ve.length-Be-1]!==Ue[Ue.length-Be-1]&&(be=Be);const we=Fe[C];if(ae<we.start||Ve.length-be-1>we.end)return;const Ee=Ue.length-Ve.length+we.end-ns(we.endSeparator||"").length;et=Ue.slice(we.start+ns(we.startSeparator||"").length,Ee)}if(et.length===0){xa()?X(Ze):(O(),q());return}k({keyPressed:et,sectionIndex:C})}),Ne=R.useMemo(()=>c!==void 0?c:P.getV6InputValueFromSections(ee(S.emptyValue),De,e),[c,P,ee,S.emptyValue,De,e]),ze=R.useMemo(()=>{var ie;return(ie=v.tempValueStrAndroid)!=null?ie:P.getV6InputValueFromSections(v.sections,De,e)},[v.sections,P,v.tempValueStrAndroid,De,e]);R.useEffect(()=>(te.current&&te.current===on(document)&&Q("all"),()=>{clearTimeout(t.current)}),[]);const Qe=R.useMemo(()=>C==null||v.sections[C].contentType==="letter"?"text":"numeric",[C,v.sections]),Ye=!(te.current&&te.current===on(document))&&K;return{interactions:ge,returnedValue:{readOnly:p,onBlur:_e,onClick:Te,onFocus:ue,onPaste:Re,inputRef:fe,enableAccessibleFieldDOMStructure:!1,placeholder:Ne,inputMode:Qe,autoComplete:"off",value:Ye?"":ze,onChange:Pe}}},Xr=r=>{const e=ft(),{internalProps:t,internalProps:{unstableFieldRef:n,minutesStep:s,enableAccessibleFieldDOMStructure:o=!1,disabled:a=!1,readOnly:i=!1},forwardedProps:{onKeyDown:c,error:p,clearable:f,onClear:C},fieldValueManager:v,valueManager:P,validator:S}=r,k=(0,pn.I)(),O=Hi(r),{state:_,activeSectionIndex:L,parsedSelectedSections:q,setSelectedSections:G,clearValue:X,clearActiveSection:Q,updateSectionValue:ee,setTempAndroidValueStr:K,sectionsValueBoundaries:De,localizedDigits:te,timezone:fe}=O,Fe=Ji({sections:_.sections,updateSectionValue:ee,sectionsValueBoundaries:De,localizedDigits:te,setTempAndroidValueStr:K,timezone:fe}),{resetCharacterQuery:ge}=Fe,xe=P.areValuesEqual(e,_.value,P.emptyValue),ue=o?Yi:Gi,Te=R.useMemo(()=>wa(_.sections,k&&!o),[_.sections,k,o]),{returnedValue:Re,interactions:_e}=ue((0,M.A)({},r,O,Fe,{areAllSectionsEmpty:xe,sectionOrder:Te})),Pe=(0,We.A)(ie=>{switch(c==null||c(ie),!0){case((ie.ctrlKey||ie.metaKey)&&ie.key.toLowerCase()==="a"&&!ie.shiftKey&&!ie.altKey):{ie.preventDefault(),G("all");break}case ie.key==="ArrowRight":{if(ie.preventDefault(),q==null)G(Te.startIndex);else if(q==="all")G(Te.endIndex);else{const me=Te.neighbors[q].rightIndex;me!==null&&G(me)}break}case ie.key==="ArrowLeft":{if(ie.preventDefault(),q==null)G(Te.endIndex);else if(q==="all")G(Te.startIndex);else{const me=Te.neighbors[q].leftIndex;me!==null&&G(me)}break}case ie.key==="Delete":{if(ie.preventDefault(),i)break;q==null||q==="all"?X():Q(),ge();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(ie.key):{if(ie.preventDefault(),i||L==null)break;const me=_.sections[L],Le=v.getActiveDateManager(e,_,me),Me=ya(e,fe,me,ie.key,De,te,Le.date,{minutesStep:s});ee({activeSection:me,newSectionValue:Me,shouldGoToNextSection:!1});break}}});(0,wn.A)(()=>{_e.syncSelectionToDOM()});const Ne=Ur((0,M.A)({},t,{value:_.value,timezone:fe}),S,P.isSameError,P.defaultErrorState),ze=R.useMemo(()=>p!==void 0?p:P.hasError(Ne),[P,Ne,p]);R.useEffect(()=>{!ze&&L==null&&ge()},[_.referenceValue,L,ze]),R.useEffect(()=>{_.tempValueStrAndroid!=null&&L!=null&&(ge(),Q())},[_.sections]),R.useImperativeHandle(n,()=>({getSections:()=>_.sections,getActiveSectionIndex:_e.getActiveSectionIndexFromDOM,setSelectedSections:_e.setSelectedSections,focusField:_e.focusField,isFieldFocused:_e.isFieldFocused}));const Qe=(0,We.A)((ie,...me)=>{ie.preventDefault(),C==null||C(ie,...me),X(),_e.isFieldFocused()?G(Te.startIndex):_e.focusField(0)}),ke={onKeyDown:Pe,onClear:Qe,error:ze,clearable:!!(f&&!xe&&!i&&!a)},Ye={disabled:a,readOnly:i};return(0,M.A)({},r.forwardedProps,ke,Ye,Re)},tr=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],nr=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],Zr=["minDateTime","maxDateTime"],qi=[...tr,...nr,...Zr],Ps=r=>qi.reduce((e,t)=>(r.hasOwnProperty(t)&&(e[t]=r[t]),e),{}),Qi=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],eo=(r,e)=>{const t=(0,M.A)({},r),n={},s=o=>{t.hasOwnProperty(o)&&(n[o]=t[o],delete t[o])};return Qi.forEach(s),e==="date"?tr.forEach(s):e==="time"?nr.forEach(s):e==="date-time"&&(tr.forEach(s),nr.forEach(s),Zr.forEach(s)),{forwardedProps:t,internalProps:n}},Xi=r=>{var n,s,o;const e=ft(),t=us();return(0,M.A)({},r,{disablePast:(n=r.disablePast)!=null?n:!1,disableFuture:(s=r.disableFuture)!=null?s:!1,format:(o=r.format)!=null?o:e.formats.keyboardDate,minDate:ne(e,r.minDate,t.minDate),maxDate:ne(e,r.maxDate,t.maxDate)})},Zi=r=>{var s,o,a,i;const e=ft(),n=((s=r.ampm)!=null?s:e.is12HourCycleInCurrentLocale())?e.formats.fullTime12h:e.formats.fullTime24h;return(0,M.A)({},r,{disablePast:(o=r.disablePast)!=null?o:!1,disableFuture:(a=r.disableFuture)!=null?a:!1,format:(i=r.format)!=null?i:n})},Im=r=>{var o,a,i,c,p,f,C,v;const e=useUtils(),t=useDefaultDates(),s=((o=r.ampm)!=null?o:e.is12HourCycleInCurrentLocale())?e.formats.keyboardDateTime12h:e.formats.keyboardDateTime24h;return _extends({},r,{disablePast:(a=r.disablePast)!=null?a:!1,disableFuture:(i=r.disableFuture)!=null?i:!1,format:(c=r.format)!=null?c:s,disableIgnoringDatePartForTimeValidation:!!(r.minDateTime||r.maxDateTime),minDate:applyDefaultDate(e,(p=r.minDateTime)!=null?p:r.minDate,t.minDate),maxDate:applyDefaultDate(e,(f=r.maxDateTime)!=null?f:r.maxDate,t.maxDate),minTime:(C=r.minDateTime)!=null?C:r.minTime,maxTime:(v=r.maxDateTime)!=null?v:r.maxTime})},el=r=>{const e=Xi(r),{forwardedProps:t,internalProps:n}=eo(e,"date");return Xr({forwardedProps:t,internalProps:n,valueManager:$t,fieldValueManager:Mr,validator:Fs,valueType:"date"})},tl=["clearable","onClear","InputProps","sx","slots","slotProps"],nl=["ownerState"],to=r=>{var S,k;const e=Vt(),{clearable:t,onClear:n,InputProps:s,sx:o,slots:a,slotProps:i}=r,c=(0,qe.A)(r,tl),p=(S=a==null?void 0:a.clearButton)!=null?S:qn.A,f=(0,Ct.Q)({elementType:p,externalSlotProps:i==null?void 0:i.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:e.fieldClearLabel}}),C=(0,qe.A)(f,nl),v=(k=a==null?void 0:a.clearIcon)!=null?k:Li,P=(0,Ct.Q)({elementType:v,externalSlotProps:i==null?void 0:i.clearIcon,ownerState:{}});return(0,M.A)({},c,{InputProps:(0,M.A)({},s,{endAdornment:(0,W.jsxs)(R.Fragment,{children:[t&&(0,W.jsx)(Br.A,{position:"end",sx:{marginRight:s!=null&&s.endAdornment?-1:-1.5},children:(0,W.jsx)(p,(0,M.A)({},C,{onClick:n,children:(0,W.jsx)(v,(0,M.A)({fontSize:"small"},P))}))}),s==null?void 0:s.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(o)?o:[o]]})};var sl=$(10743),rl=$(11085),ol=$(48845);function al(r){return(0,yt.Ay)("MuiPickersTextField",r)}const Pm=(0,Dt.A)("MuiPickersTextField",["root","focused","disabled","error","required"]);var Ms=$(64186);function il(r){return(0,yt.Ay)("MuiPickersInputBase",r)}const ss=(0,Dt.A)("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function ll(r){return(0,yt.Ay)("MuiPickersOutlinedInput",r)}const hn=(0,M.A)({},ss,(0,Dt.A)("MuiPickersOutlinedInput",["root","notchedOutline","input"])),cl=["children","className","label","notched","shrink"],ul=(0,Z.styled)("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(r,e)=>e.notchedOutline})(({theme:r})=>{const e=r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),no=(0,Z.styled)("span")(({theme:r})=>({fontFamily:r.typography.fontFamily,fontSize:"inherit"})),dl=(0,Z.styled)("legend")(({theme:r})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:r.transitions.create("width",{duration:150,easing:r.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:r.transitions.create("max-width",{duration:50,easing:r.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:r.transitions.create("max-width",{duration:100,easing:r.transitions.easing.easeOut,delay:50})}}]}));function pl(r){const{className:e,label:t}=r,n=(0,qe.A)(r,cl),s=t!=null&&t!=="",o=(0,M.A)({},r,{withLabel:s});return(0,W.jsx)(ul,(0,M.A)({"aria-hidden":!0,className:e},n,{ownerState:o,children:(0,W.jsx)(dl,{ownerState:o,children:s?(0,W.jsx)(no,{children:t}):(0,W.jsx)(no,{className:"notranslate",children:"\u200B"})})}))}var hl=$(62917),ml=$(34027);function fl(r){return(0,yt.Ay)("MuiPickersSectionList",r)}const ms=(0,Dt.A)("MuiPickersSectionList",["root","section","sectionContent"]),gl=["slots","slotProps","elements","sectionListRef"],so=(0,Z.styled)("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(r,e)=>e.root})({direction:"ltr /*! @noflip */",outline:"none"}),ro=(0,Z.styled)("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(r,e)=>e.section})({}),oo=(0,Z.styled)("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(r,e)=>e.sectionSeparator})({whiteSpace:"pre"}),ao=(0,Z.styled)("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(r,e)=>e.sectionContent})({outline:"none"}),yl=r=>{const{classes:e}=r,t={root:["root"],section:["section"],sectionContent:["sectionContent"]};return(0,gt.A)(t,fl,e)};function Dl(r){var v,P,S;const{slots:e,slotProps:t,element:n,classes:s}=r,o=(v=e==null?void 0:e.section)!=null?v:ro,a=(0,Ct.Q)({elementType:o,externalSlotProps:t==null?void 0:t.section,externalForwardedProps:n.container,className:s.section,ownerState:{}}),i=(P=e==null?void 0:e.sectionContent)!=null?P:ao,c=(0,Ct.Q)({elementType:i,externalSlotProps:t==null?void 0:t.sectionContent,externalForwardedProps:n.content,additionalProps:{suppressContentEditableWarning:!0},className:s.sectionContent,ownerState:{}}),p=(S=e==null?void 0:e.sectionSeparator)!=null?S:oo,f=(0,Ct.Q)({elementType:p,externalSlotProps:t==null?void 0:t.sectionSeparator,externalForwardedProps:n.before,ownerState:{position:"before"}}),C=(0,Ct.Q)({elementType:p,externalSlotProps:t==null?void 0:t.sectionSeparator,externalForwardedProps:n.after,ownerState:{position:"after"}});return(0,W.jsxs)(o,(0,M.A)({},a,{children:[(0,W.jsx)(p,(0,M.A)({},f)),(0,W.jsx)(i,(0,M.A)({},c)),(0,W.jsx)(p,(0,M.A)({},C))]}))}const Cl=R.forwardRef(function(e,t){var k;const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersSectionList"}),{slots:s,slotProps:o,elements:a,sectionListRef:i}=n,c=(0,qe.A)(n,gl),p=yl(n),f=R.useRef(null),C=(0,Yt.A)(t,f),v=O=>{if(!f.current)throw new Error(`MUI X: Cannot call sectionListRef.${O} before the mount of the component.`);return f.current};R.useImperativeHandle(i,()=>({getRoot(){return v("getRoot")},getSectionContainer(O){return v("getSectionContainer").querySelector(`.${ms.section}[data-sectionindex="${O}"]`)},getSectionContent(O){return v("getSectionContent").querySelector(`.${ms.section}[data-sectionindex="${O}"] .${ms.sectionContent}`)},getSectionIndexFromDOMElement(O){const _=v("getSectionIndexFromDOMElement");if(O==null||!_.contains(O))return null;let L=null;return O.classList.contains(ms.section)?L=O:O.classList.contains(ms.sectionContent)&&(L=O.parentElement),L==null?null:Number(L.dataset.sectionindex)}}));const P=(k=s==null?void 0:s.root)!=null?k:so,S=(0,Ct.Q)({elementType:P,externalSlotProps:o==null?void 0:o.root,externalForwardedProps:c,additionalProps:{ref:C,suppressContentEditableWarning:!0},className:p.root,ownerState:{}});return(0,W.jsx)(P,(0,M.A)({},S,{children:S.contentEditable?a.map(({content:O,before:_,after:L})=>`${_.children}${O.children}${L.children}`).join(""):(0,W.jsx)(R.Fragment,{children:a.map((O,_)=>(0,W.jsx)(Dl,{slots:s,slotProps:o,element:O,classes:p},_))})}))}),bl=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],vl=r=>Math.round(r*1e5)/1e5,Ns=(0,Z.styled)("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>(0,M.A)({},r.typography.body1,{color:(r.vars||r).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${vl(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),sr=(0,Z.styled)(so,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(r,e)=>e.sectionsContainer})(({theme:r})=>({padding:"4px 0 5px",fontFamily:r.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{isRtl:!0},style:{textAlign:"right /*! @noflip */"}},{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:e,focused:t,filled:n,label:s})=>!e&&!t&&!n&&s==null,style:r.vars?{opacity:r.vars.opacity.inputPlaceholder}:{opacity:r.palette.mode==="light"?.42:.5}}]})),Al=(0,Z.styled)(ro,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(r,e)=>e.section})(({theme:r})=>({fontFamily:r.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"flex"})),xl=(0,Z.styled)(ao,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(r,e)=>e.content})(({theme:r})=>({fontFamily:r.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),wl=(0,Z.styled)(oo,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(r,e)=>e.separator})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),El=(0,Z.styled)("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(r,e)=>e.hiddenInput})((0,M.A)({},ml.A)),Sl=r=>{const{focused:e,disabled:t,error:n,classes:s,fullWidth:o,readOnly:a,color:i,size:c,endAdornment:p,startAdornment:f}=r,C={root:["root",e&&!t&&"focused",t&&"disabled",a&&"readOnly",n&&"error",o&&"fullWidth",`color${(0,hl.A)(i)}`,c==="small"&&"inputSizeSmall",!!f&&"adornedStart",!!p&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return(0,gt.A)(C,il,s)},rr=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersInputBase"}),{elements:s,areAllSectionsEmpty:o,value:a,onChange:i,id:c,endAdornment:p,startAdornment:f,renderSuffix:C,slots:v,slotProps:P,contentEditable:S,tabIndex:k,onInput:O,onPaste:_,onKeyDown:L,name:q,readOnly:G,inputProps:X,inputRef:Q,sectionListRef:ee}=n,K=(0,qe.A)(n,bl),De=R.useRef(null),te=(0,Yt.A)(t,De),fe=(0,Yt.A)(X==null?void 0:X.ref,Q),Fe=(0,pn.I)(),ge=(0,Ms.A)();if(!ge)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const xe=Ne=>{var ze;if(ge.disabled){Ne.stopPropagation();return}(ze=ge.onFocus)==null||ze.call(ge,Ne)};R.useEffect(()=>{ge&&ge.setAdornedStart(!!f)},[ge,f]),R.useEffect(()=>{ge&&(o?ge.onEmpty():ge.onFilled())},[ge,o]);const ue=(0,M.A)({},n,ge,{isRtl:Fe}),Te=Sl(ue),Re=(v==null?void 0:v.root)||Ns,_e=(0,Ct.Q)({elementType:Re,externalSlotProps:P==null?void 0:P.root,externalForwardedProps:K,additionalProps:{"aria-invalid":ge.error,ref:te},className:Te.root,ownerState:ue}),Pe=(v==null?void 0:v.input)||sr;return(0,W.jsxs)(Re,(0,M.A)({},_e,{children:[f,(0,W.jsx)(Cl,{sectionListRef:ee,elements:s,contentEditable:S,tabIndex:k,className:Te.sectionsContainer,onFocus:xe,onBlur:ge.onBlur,onInput:O,onPaste:_,onKeyDown:L,slots:{root:Pe,section:Al,sectionContent:xl,sectionSeparator:wl},slotProps:{root:{ownerState:ue},sectionContent:{className:ss.sectionContent},sectionSeparator:({position:Ne})=>({className:Ne==="before"?ss.sectionBefore:ss.sectionAfter})}}),p,C?C((0,M.A)({},ge)):null,(0,W.jsx)(El,(0,M.A)({name:q,className:Te.input,value:a,onChange:i,id:c,"aria-hidden":"true",tabIndex:-1,readOnly:G,required:ge.required,disabled:ge.disabled},X,{ref:fe}))]}))}),Fl=["label","autoFocus","ownerState","notched"],Tl=(0,Z.styled)(Ns,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>{var t;const e=r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(r.vars||r).shape.borderRadius,[`&:hover .${hn.notchedOutline}`]:{borderColor:(r.vars||r).palette.text.primary},"@media (hover: none)":{[`&:hover .${hn.notchedOutline}`]:{borderColor:r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${hn.focused} .${hn.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${hn.disabled}`]:{[`& .${hn.notchedOutline}`]:{borderColor:(r.vars||r).palette.action.disabled},"*":{color:(r.vars||r).palette.action.disabled}},[`&.${hn.error} .${hn.notchedOutline}`]:{borderColor:(r.vars||r).palette.error.main},variants:Object.keys(((t=r.vars)!=null?t:r).palette).filter(n=>{var s,o,a;return(a=(o=((s=r.vars)!=null?s:r).palette[n])==null?void 0:o.main)!=null?a:!1}).map(n=>({props:{color:n},style:{[`&.${hn.focused}:not(.${hn.error}) .${hn.notchedOutline}`]:{borderColor:(r.vars||r).palette[n].main}}}))}}),kl=(0,Z.styled)(sr,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(r,e)=>e.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),Il=r=>{const{classes:e}=r,t={root:["root"],notchedOutline:["notchedOutline"],input:["input"]},n=(0,gt.A)(t,ll,e);return(0,M.A)({},e,n)},io=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersOutlinedInput"}),{label:s,ownerState:o,notched:a}=n,i=(0,qe.A)(n,Fl),c=(0,Ms.A)(),p=(0,M.A)({},n,o,c,{color:(c==null?void 0:c.color)||"primary"}),f=Il(p);return(0,W.jsx)(rr,(0,M.A)({slots:{root:Tl,input:kl},renderSuffix:C=>(0,W.jsx)(pl,{shrink:!!(a||C.adornedStart||C.focused||C.filled),notched:!!(a||C.adornedStart||C.focused||C.filled),className:f.notchedOutline,label:s!=null&&s!==""&&(c!=null&&c.required)?(0,W.jsxs)(R.Fragment,{children:[s,"\u2009","*"]}):s,ownerState:p})},i,{label:s,classes:f,ref:t}))});io.muiName="Input";var Pl=$(29239);function Ml(r){return(0,yt.Ay)("MuiPickersFilledInput",r)}const Vn=(0,M.A)({},ss,(0,Dt.A)("MuiPickersFilledInput",["root","underline","input"])),Nl=["label","autoFocus","disableUnderline","ownerState"],Ol=(0,Z.styled)(Ns,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(r,e)=>e.root,shouldForwardProp:r=>(0,Pl.MC)(r)&&r!=="disableUnderline"})(({theme:r})=>{var a;const e=r.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:r.vars?r.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(r.vars||r).shape.borderRadius,borderTopRightRadius:(r.vars||r).shape.borderRadius,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),"&:hover":{backgroundColor:r.vars?r.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:r.vars?r.vars.palette.FilledInput.bg:n}},[`&.${Vn.focused}`]:{backgroundColor:r.vars?r.vars.palette.FilledInput.bg:n},[`&.${Vn.disabled}`]:{backgroundColor:r.vars?r.vars.palette.FilledInput.disabledBg:o},variants:[...Object.keys(((a=r.vars)!=null?a:r).palette).filter(i=>{var c;return((c=r.vars)!=null?c:r).palette[i].main}).map(i=>{var c;return{props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(c=(r.vars||r).palette[i])==null?void 0:c.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Vn.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Vn.error}`]:{"&:before, &:after":{borderBottomColor:(r.vars||r).palette.error.main}},"&::before":{borderBottom:`1px solid ${r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / ${r.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Vn.disabled}, .${Vn.error}):before`]:{borderBottom:`1px solid ${(r.vars||r).palette.text.primary}`},[`&.${Vn.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:i})=>!!i,style:{paddingLeft:12}},{props:({endAdornment:i})=>!!i,style:{paddingRight:12}}]}}),_l=(0,Z.styled)(sr,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(r,e)=>e.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:r})=>!!r,style:{paddingLeft:0}},{props:({endAdornment:r})=>!!r,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),Rl=r=>{const{classes:e,disableUnderline:t}=r,n={root:["root",!t&&"underline"],input:["input"]},s=(0,gt.A)(n,Ml,e);return(0,M.A)({},e,s)},lo=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersFilledInput"}),{label:s,disableUnderline:o=!1,ownerState:a}=n,i=(0,qe.A)(n,Nl),c=(0,Ms.A)(),p=(0,M.A)({},n,a,c,{color:(c==null?void 0:c.color)||"primary"}),f=Rl(p);return(0,W.jsx)(rr,(0,M.A)({slots:{root:Ol,input:_l},slotProps:{root:{disableUnderline:o}}},i,{label:s,classes:f,ref:t}))});lo.muiName="Input";function Ll(r){return(0,yt.Ay)("MuiPickersFilledInput",r)}const fs=(0,M.A)({},ss,(0,Dt.A)("MuiPickersInput",["root","input"])),Bl=["label","autoFocus","disableUnderline","ownerState"],$l=(0,Z.styled)(Ns,{name:"MuiPickersInput",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>{var n;let t=r.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return r.vars&&(t=`rgba(${r.vars.palette.common.onBackgroundChannel} / ${r.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys(((n=r.vars)!=null?n:r).palette).filter(s=>{var o;return((o=r.vars)!=null?o:r).palette[s].main}).map(s=>({props:{color:s},style:{"&::after":{borderBottom:`2px solid ${(r.vars||r).palette[s].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${fs.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${fs.error}`]:{"&:before, &:after":{borderBottomColor:(r.vars||r).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${fs.disabled}, .${fs.error}):before`]:{borderBottom:`2px solid ${(r.vars||r).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${fs.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),Vl=r=>{const{classes:e,disableUnderline:t}=r,n={root:["root",!t&&"underline"],input:["input"]},s=(0,gt.A)(n,Ll,e);return(0,M.A)({},e,s)},co=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersInput"}),{label:s,disableUnderline:o=!1,ownerState:a}=n,i=(0,qe.A)(n,Bl),c=(0,Ms.A)(),p=(0,M.A)({},n,a,c,{disableUnderline:o,color:(c==null?void 0:c.color)||"primary"}),f=Vl(p);return(0,W.jsx)(rr,(0,M.A)({slots:{root:$l}},i,{label:s,classes:f,ref:t}))});co.muiName="Input";const jl=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],Wl={standard:co,filled:lo,outlined:io},Ul=(0,Z.styled)(ol.A,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(r,e)=>e.root})({}),Hl=r=>{const{focused:e,disabled:t,classes:n,required:s}=r,o={root:["root",e&&!t&&"focused",t&&"disabled",s&&"required"]};return(0,gt.A)(o,al,n)},uo=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersTextField"}),{onFocus:s,onBlur:o,className:a,color:i="primary",disabled:c=!1,error:p=!1,variant:f="outlined",required:C=!1,InputProps:v,inputProps:P,inputRef:S,sectionListRef:k,elements:O,areAllSectionsEmpty:_,onClick:L,onKeyDown:q,onPaste:G,onInput:X,endAdornment:Q,startAdornment:ee,tabIndex:K,contentEditable:De,focused:te,value:fe,onChange:Fe,fullWidth:ge,id:xe,name:ue,helperText:Te,FormHelperTextProps:Re,label:_e,InputLabelProps:Pe}=n,Ne=(0,qe.A)(n,jl),ze=R.useRef(null),Qe=(0,Yt.A)(t,ze),ke=(0,Qn.A)(xe),Ye=Te&&ke?`${ke}-helper-text`:void 0,ie=_e&&ke?`${ke}-label`:void 0,me=(0,M.A)({},n,{color:i,disabled:c,error:p,focused:te,required:C,variant:f}),Le=Hl(me),Me=Wl[f];return(0,W.jsxs)(Ul,(0,M.A)({className:(0,xt.A)(Le.root,a),ref:Qe,focused:te,onFocus:s,onBlur:o,disabled:c,variant:f,error:p,color:i,fullWidth:ge,required:C,ownerState:me},Ne,{children:[(0,W.jsx)(sl.A,(0,M.A)({htmlFor:ke,id:ie},Pe,{children:_e})),(0,W.jsx)(Me,(0,M.A)({elements:O,areAllSectionsEmpty:_,onClick:L,onKeyDown:q,onInput:X,onPaste:G,endAdornment:Q,startAdornment:ee,tabIndex:K,contentEditable:De,value:fe,onChange:Fe,id:ke,fullWidth:ge,inputProps:P,inputRef:S,sectionListRef:k,label:_e,name:ue,role:"group","aria-labelledby":ie},v)),Te&&(0,W.jsx)(rl.A,(0,M.A)({id:Ye},Re,{children:Te}))]}))}),zl=["enableAccessibleFieldDOMStructure"],Jl=["InputProps","readOnly"],Yl=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],po=r=>{let{enableAccessibleFieldDOMStructure:e}=r,t=(0,qe.A)(r,zl);if(e){const{InputProps:C,readOnly:v}=t,P=(0,qe.A)(t,Jl);return(0,M.A)({},P,{InputProps:(0,M.A)({},C!=null?C:{},{readOnly:v})})}const{onPaste:n,onKeyDown:s,inputMode:o,readOnly:a,InputProps:i,inputProps:c,inputRef:p}=t,f=(0,qe.A)(t,Yl);return(0,M.A)({},f,{InputProps:(0,M.A)({},i!=null?i:{},{readOnly:a}),inputProps:(0,M.A)({},c!=null?c:{},{inputMode:o,onPaste:n,onKeyDown:s,ref:p})})},Kl=["slots","slotProps","InputProps","inputProps"],ho=R.forwardRef(function(e,t){var k;const n=(0,Z.useThemeProps)({props:e,name:"MuiDateField"}),{slots:s,slotProps:o,InputProps:a,inputProps:i}=n,c=(0,qe.A)(n,Kl),p=n,f=(k=s==null?void 0:s.textField)!=null?k:e.enableAccessibleFieldDOMStructure?uo:qr.A,C=(0,Ct.Q)({elementType:f,externalSlotProps:o==null?void 0:o.textField,externalForwardedProps:c,additionalProps:{ref:t},ownerState:p});C.inputProps=(0,M.A)({},i,C.inputProps),C.InputProps=(0,M.A)({},a,C.InputProps);const v=el(C),P=po(v),S=to((0,M.A)({},P,{slots:s,slotProps:o}));return(0,W.jsx)(f,(0,M.A)({},S))}),mo=({shouldDisableDate:r,shouldDisableMonth:e,shouldDisableYear:t,minDate:n,maxDate:s,disableFuture:o,disablePast:a,timezone:i})=>{const c=Rn();return R.useCallback(p=>Fs({adapter:c,value:p,props:{shouldDisableDate:r,shouldDisableMonth:e,shouldDisableYear:t,minDate:n,maxDate:s,disableFuture:o,disablePast:a,timezone:i}})!==null,[c,r,e,t,n,s,o,a,i])},Gl=(r,e,t)=>(n,s)=>{switch(s.type){case"changeMonth":return(0,M.A)({},n,{slideDirection:s.direction,currentMonth:s.newMonth,isMonthSwitchingAnimating:!r});case"finishMonthSwitchingAnimation":return(0,M.A)({},n,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(n.focusedDay!=null&&s.focusedDay!=null&&t.isSameDay(s.focusedDay,n.focusedDay))return n;const o=s.focusedDay!=null&&!e&&!t.isSameMonth(n.currentMonth,s.focusedDay);return(0,M.A)({},n,{focusedDay:s.focusedDay,isMonthSwitchingAnimating:o&&!r&&!s.withoutMonthSwitchingAnimation,currentMonth:o?t.startOfMonth(s.focusedDay):n.currentMonth,slideDirection:s.focusedDay!=null&&t.isAfterDay(s.focusedDay,n.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},ql=r=>{const{value:e,referenceDate:t,disableFuture:n,disablePast:s,disableSwitchToMonthOnDayFocus:o=!1,maxDate:a,minDate:i,onMonthChange:c,reduceAnimations:p,shouldDisableDate:f,timezone:C}=r,v=ft(),P=R.useRef(Gl(!!p,o,v)).current,S=R.useMemo(()=>$t.getInitialReferenceValue({value:e,utils:v,timezone:C,props:r,referenceDate:t,granularity:ht.day}),[]),[k,O]=R.useReducer(P,{isMonthSwitchingAnimating:!1,focusedDay:S,currentMonth:v.startOfMonth(S),slideDirection:"left"}),_=R.useCallback(Q=>{O((0,M.A)({type:"changeMonth"},Q)),c&&c(Q.newMonth)},[c]),L=R.useCallback(Q=>{const ee=Q;v.isSameMonth(ee,k.currentMonth)||_({newMonth:v.startOfMonth(ee),direction:v.isAfterDay(ee,k.currentMonth)?"left":"right"})},[k.currentMonth,_,v]),q=mo({shouldDisableDate:f,minDate:i,maxDate:a,disableFuture:n,disablePast:s,timezone:C}),G=R.useCallback(()=>{O({type:"finishMonthSwitchingAnimation"})},[]),X=(0,We.A)((Q,ee)=>{q(Q)||O({type:"changeFocusedDay",focusedDay:Q,withoutMonthSwitchingAnimation:ee})});return{referenceDate:S,calendarState:k,changeMonth:L,changeFocusedDay:X,isDateDisabled:q,onMonthSwitchingAnimationEnd:G,handleChangeMonth:_}};var fo=$(89449);const Ql=r=>(0,yt.Ay)("MuiPickersFadeTransitionGroup",r),Mm=(0,Dt.A)("MuiPickersFadeTransitionGroup",["root"]),Xl=r=>{const{classes:e}=r,t={root:["root"]};return(0,gt.A)(t,Ql,e)},Zl=(0,Z.styled)(fo.A,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(r,e)=>e.root})({display:"block",position:"relative"});function go(r){const e=(0,Z.useThemeProps)({props:r,name:"MuiPickersFadeTransitionGroup"}),{children:t,className:n,reduceAnimations:s,transKey:o}=e,a=Xl(e),i=(0,Z.useTheme)();return s?t:(0,W.jsx)(Zl,{className:(0,xt.A)(a.root,n),children:(0,W.jsx)(Ts.A,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:i.transitions.duration.enteringScreen,enter:i.transitions.duration.enteringScreen,exit:0},children:t},o)})}var ec=$(64571);function tc(r){return(0,yt.Ay)("MuiPickersDay",r)}const jn=(0,Dt.A)("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),nc=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],sc=r=>{const{selected:e,disableMargin:t,disableHighlightToday:n,today:s,disabled:o,outsideCurrentMonth:a,showDaysOutsideCurrentMonth:i,classes:c}=r,p=a&&!i,f={root:["root",e&&!p&&"selected",o&&"disabled",!t&&"dayWithMargin",!n&&s&&"today",a&&i&&"dayOutsideMonth",p&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]};return(0,gt.A)(f,tc,c)},yo=({theme:r})=>(0,M.A)({},r.typography.caption,{width:hs,height:hs,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:r.transitions.create("background-color",{duration:r.transitions.duration.short}),color:(r.vars||r).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,Z.alpha)(r.palette.primary.main,r.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.focusOpacity})`:(0,Z.alpha)(r.palette.primary.main,r.palette.action.focusOpacity),[`&.${jn.selected}`]:{willChange:"background-color",backgroundColor:(r.vars||r).palette.primary.dark}},[`&.${jn.selected}`]:{color:(r.vars||r).palette.primary.contrastText,backgroundColor:(r.vars||r).palette.primary.main,fontWeight:r.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(r.vars||r).palette.primary.dark}},[`&.${jn.disabled}:not(.${jn.selected})`]:{color:(r.vars||r).palette.text.disabled},[`&.${jn.disabled}&.${jn.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${ks}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(r.vars||r).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${jn.selected})`]:{border:`1px solid ${(r.vars||r).palette.text.secondary}`}}}]}),Do=(r,e)=>{const{ownerState:t}=r;return[e.root,!t.disableMargin&&e.dayWithMargin,!t.disableHighlightToday&&t.today&&e.today,!t.outsideCurrentMonth&&t.showDaysOutsideCurrentMonth&&e.dayOutsideMonth,t.outsideCurrentMonth&&!t.showDaysOutsideCurrentMonth&&e.hiddenDaySpacingFiller]},rc=(0,Z.styled)(ec.A,{name:"MuiPickersDay",slot:"Root",overridesResolver:Do})(yo),oc=(0,Z.styled)("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Do})(({theme:r})=>(0,M.A)({},yo({theme:r}),{opacity:0,pointerEvents:"none"})),gs=()=>{},ac=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersDay"}),{autoFocus:s=!1,className:o,day:a,disabled:i=!1,disableHighlightToday:c=!1,disableMargin:p=!1,isAnimating:f,onClick:C,onDaySelect:v,onFocus:P=gs,onBlur:S=gs,onKeyDown:k=gs,onMouseDown:O=gs,onMouseEnter:_=gs,outsideCurrentMonth:L,selected:q=!1,showDaysOutsideCurrentMonth:G=!1,children:X,today:Q=!1}=n,ee=(0,qe.A)(n,nc),K=(0,M.A)({},n,{autoFocus:s,disabled:i,disableHighlightToday:c,disableMargin:p,selected:q,showDaysOutsideCurrentMonth:G,today:Q}),De=sc(K),te=ft(),fe=R.useRef(null),Fe=(0,Yt.A)(fe,t);(0,wn.A)(()=>{s&&!i&&!f&&!L&&fe.current.focus()},[s,i,f,L]);const ge=ue=>{O(ue),L&&ue.preventDefault()},xe=ue=>{i||v(a),L&&ue.currentTarget.focus(),C&&C(ue)};return L&&!G?(0,W.jsx)(oc,{className:(0,xt.A)(De.root,De.hiddenDaySpacingFiller,o),ownerState:K,role:ee.role}):(0,W.jsx)(rc,(0,M.A)({className:(0,xt.A)(De.root,o),ref:Fe,centerRipple:!0,disabled:i,tabIndex:q?0:-1,onKeyDown:ue=>k(ue,a),onFocus:ue=>P(ue,a),onBlur:ue=>S(ue,a),onMouseEnter:ue=>_(ue,a),onClick:xe,onMouseDown:ge},ee,{ownerState:K,children:X||te.format(a,"dayOfMonth")}))}),ic=R.memo(ac);var lc=$(25540);function cc(r,e){return r.classList?!!e&&r.classList.contains(e):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+e+" ")!==-1}function uc(r,e){r.classList?r.classList.add(e):cc(r,e)||(typeof r.className=="string"?r.className=r.className+" "+e:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+e))}function Co(r,e){return r.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function dc(r,e){r.classList?r.classList.remove(e):typeof r.className=="string"?r.className=Co(r.className,e):r.setAttribute("class",Co(r.className&&r.className.baseVal||"",e))}var pc=$(39878),hc=$(34093),mc=function(e,t){return e&&t&&t.split(" ").forEach(function(n){return uc(e,n)})},or=function(e,t){return e&&t&&t.split(" ").forEach(function(n){return dc(e,n)})},ar=function(r){(0,lc.A)(e,r);function e(){for(var n,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return n=r.call.apply(r,[this].concat(o))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(i,c){var p=n.resolveArguments(i,c),f=p[0],C=p[1];n.removeClasses(f,"exit"),n.addClass(f,C?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(i,c)},n.onEntering=function(i,c){var p=n.resolveArguments(i,c),f=p[0],C=p[1],v=C?"appear":"enter";n.addClass(f,v,"active"),n.props.onEntering&&n.props.onEntering(i,c)},n.onEntered=function(i,c){var p=n.resolveArguments(i,c),f=p[0],C=p[1],v=C?"appear":"enter";n.removeClasses(f,v),n.addClass(f,v,"done"),n.props.onEntered&&n.props.onEntered(i,c)},n.onExit=function(i){var c=n.resolveArguments(i),p=c[0];n.removeClasses(p,"appear"),n.removeClasses(p,"enter"),n.addClass(p,"exit","base"),n.props.onExit&&n.props.onExit(i)},n.onExiting=function(i){var c=n.resolveArguments(i),p=c[0];n.addClass(p,"exit","active"),n.props.onExiting&&n.props.onExiting(i)},n.onExited=function(i){var c=n.resolveArguments(i),p=c[0];n.removeClasses(p,"exit"),n.addClass(p,"exit","done"),n.props.onExited&&n.props.onExited(i)},n.resolveArguments=function(i,c){return n.props.nodeRef?[n.props.nodeRef.current,i]:[i,c]},n.getClassNames=function(i){var c=n.props.classNames,p=typeof c=="string",f=p&&c?c+"-":"",C=p?""+f+i:c[i],v=p?C+"-active":c[i+"Active"],P=p?C+"-done":c[i+"Done"];return{baseClassName:C,activeClassName:v,doneClassName:P}},n}var t=e.prototype;return t.addClass=function(s,o,a){var i=this.getClassNames(o)[a+"ClassName"],c=this.getClassNames("enter"),p=c.doneClassName;o==="appear"&&a==="done"&&p&&(i+=" "+p),a==="active"&&s&&(0,hc.F)(s),i&&(this.appliedClasses[o][a]=i,mc(s,i))},t.removeClasses=function(s,o){var a=this.appliedClasses[o],i=a.base,c=a.active,p=a.done;this.appliedClasses[o]={},i&&or(s,i),c&&or(s,c),p&&or(s,p)},t.render=function(){var s=this.props,o=s.classNames,a=(0,qe.A)(s,["classNames"]);return bt().createElement(pc.Ay,(0,M.A)({},a,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(bt().Component);ar.defaultProps={classNames:""},ar.propTypes={};const fc=ar,gc=r=>(0,yt.Ay)("MuiPickersSlideTransition",r),an=(0,Dt.A)("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),yc=["children","className","reduceAnimations","slideDirection","transKey","classes"],Dc=r=>{const{classes:e,slideDirection:t}=r,n={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${t}`],exitActive:[`slideExitActiveLeft-${t}`]};return(0,gt.A)(n,gc,e)},Cc=(0,Z.styled)(fo.A,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(r,e)=>[e.root,{[`.${an["slideEnter-left"]}`]:e["slideEnter-left"]},{[`.${an["slideEnter-right"]}`]:e["slideEnter-right"]},{[`.${an.slideEnterActive}`]:e.slideEnterActive},{[`.${an.slideExit}`]:e.slideExit},{[`.${an["slideExitActiveLeft-left"]}`]:e["slideExitActiveLeft-left"]},{[`.${an["slideExitActiveLeft-right"]}`]:e["slideExitActiveLeft-right"]}]})(({theme:r})=>{const e=r.transitions.create("transform",{duration:r.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${an["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${an["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${an.slideEnterActive}`]:{transform:"translate(0%)",transition:e},[`& .${an.slideExit}`]:{transform:"translate(0%)"},[`& .${an["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:e,zIndex:0},[`& .${an["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:e,zIndex:0}}});function bc(r){const e=(0,Z.useThemeProps)({props:r,name:"MuiPickersSlideTransition"}),{children:t,className:n,reduceAnimations:s,transKey:o}=e,a=(0,qe.A)(e,yc),i=Dc(e),c=(0,Z.useTheme)();if(s)return(0,W.jsx)("div",{className:(0,xt.A)(i.root,n),children:t});const p={exit:i.exit,enterActive:i.enterActive,enter:i.enter,exitActive:i.exitActive};return(0,W.jsx)(Cc,{className:(0,xt.A)(i.root,n),childFactory:f=>R.cloneElement(f,{classNames:p}),role:"presentation",children:(0,W.jsx)(fc,(0,M.A)({mountOnEnter:!0,unmountOnExit:!0,timeout:c.transitions.duration.complex,classNames:p},a,{children:t}),o)})}const vc=r=>(0,yt.Ay)("MuiDayCalendar",r),Nm=(0,Dt.A)("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]),Ac=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],xc=["ownerState"],wc=r=>{const{classes:e}=r,t={root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]};return(0,gt.A)(t,vc,e)},bo=(hs+ks*2)*6,Ec=(0,Z.styled)("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(r,e)=>e.root})({}),Sc=(0,Z.styled)("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(r,e)=>e.header})({display:"flex",justifyContent:"center",alignItems:"center"}),Fc=(0,Z.styled)(Tn.A,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(r,e)=>e.weekDayLabel})(({theme:r})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(r.vars||r).palette.text.secondary})),Tc=(0,Z.styled)(Tn.A,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(r,e)=>e.weekNumberLabel})(({theme:r})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:r.palette.text.disabled})),kc=(0,Z.styled)(Tn.A,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(r,e)=>e.weekNumber})(({theme:r})=>(0,M.A)({},r.typography.caption,{width:hs,height:hs,padding:0,margin:`0 ${ks}px`,color:r.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),Ic=(0,Z.styled)("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(r,e)=>e.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:bo}),Pc=(0,Z.styled)(bc,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(r,e)=>e.slideTransition})({minHeight:bo}),Mc=(0,Z.styled)("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(r,e)=>e.monthContainer})({overflow:"hidden"}),Nc=(0,Z.styled)("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(r,e)=>e.weekContainer})({margin:`${ks}px 0`,display:"flex",justifyContent:"center"});function Oc(r){var Fe;let{parentProps:e,day:t,focusableDay:n,selectedDays:s,isDateDisabled:o,currentMonthNumber:a,isViewFocused:i}=r,c=(0,qe.A)(r,Ac);const{disabled:p,disableHighlightToday:f,isMonthSwitchingAnimating:C,showDaysOutsideCurrentMonth:v,slots:P,slotProps:S,timezone:k}=e,O=ft(),_=Ln(k),L=n!==null&&O.isSameDay(t,n),q=s.some(ge=>O.isSameDay(ge,t)),G=O.isSameDay(t,_),X=(Fe=P==null?void 0:P.day)!=null?Fe:ic,Q=(0,Ct.Q)({elementType:X,externalSlotProps:S==null?void 0:S.day,additionalProps:(0,M.A)({disableHighlightToday:f,showDaysOutsideCurrentMonth:v,role:"gridcell",isAnimating:C,"data-timestamp":O.toJsDate(t).valueOf()},c),ownerState:(0,M.A)({},e,{day:t,selected:q})}),ee=(0,qe.A)(Q,xc),K=R.useMemo(()=>p||o(t),[p,o,t]),De=R.useMemo(()=>O.getMonth(t)!==a,[O,t,a]),te=R.useMemo(()=>{const ge=O.startOfMonth(O.setMonth(t,a));return v?O.isSameDay(t,O.startOfWeek(ge)):O.isSameDay(t,ge)},[a,t,v,O]),fe=R.useMemo(()=>{const ge=O.endOfMonth(O.setMonth(t,a));return v?O.isSameDay(t,O.endOfWeek(ge)):O.isSameDay(t,ge)},[a,t,v,O]);return(0,W.jsx)(X,(0,M.A)({},ee,{day:t,disabled:K,autoFocus:i&&L,today:G,outsideCurrentMonth:De,isFirstVisibleCell:te,isLastVisibleCell:fe,selected:q,tabIndex:L?0:-1,"aria-selected":q,"aria-current":G?"date":void 0}))}function _c(r){const e=(0,Z.useThemeProps)({props:r,name:"MuiDayCalendar"}),t=ft(),{onFocusedDayChange:n,className:s,currentMonth:o,selectedDays:a,focusedDay:i,loading:c,onSelectedDaysChange:p,onMonthSwitchingAnimationEnd:f,readOnly:C,reduceAnimations:v,renderLoading:P=()=>(0,W.jsx)("span",{children:"..."}),slideDirection:S,TransitionProps:k,disablePast:O,disableFuture:_,minDate:L,maxDate:q,shouldDisableDate:G,shouldDisableMonth:X,shouldDisableYear:Q,dayOfWeekFormatter:ee=Ee=>t.format(Ee,"weekdayShort").charAt(0).toUpperCase(),hasFocus:K,onFocusedViewChange:De,gridLabelId:te,displayWeekNumber:fe,fixedWeekNumber:Fe,autoFocus:ge,timezone:xe}=e,ue=Ln(xe),Te=wc(e),Re=(0,pn.I)(),_e=mo({shouldDisableDate:G,shouldDisableMonth:X,shouldDisableYear:Q,minDate:L,maxDate:q,disablePast:O,disableFuture:_,timezone:xe}),Pe=Vt(),[Ne,ze]=(0,Bn.A)({name:"DayCalendar",state:"hasFocus",controlled:K,default:ge!=null?ge:!1}),[Qe,ke]=R.useState(()=>i||ue),Ye=(0,We.A)(Ee=>{C||p(Ee)}),ie=Ee=>{_e(Ee)||(n(Ee),ke(Ee),De==null||De(!0),ze(!0))},me=(0,We.A)((Ee,Be)=>{switch(Ee.key){case"ArrowUp":ie(t.addDays(Be,-7)),Ee.preventDefault();break;case"ArrowDown":ie(t.addDays(Be,7)),Ee.preventDefault();break;case"ArrowLeft":{const Ge=t.addDays(Be,Re?1:-1),tt=t.addMonths(Be,Re?1:-1),ct=On({utils:t,date:Ge,minDate:Re?Ge:t.startOfMonth(tt),maxDate:Re?t.endOfMonth(tt):Ge,isDateDisabled:_e,timezone:xe});ie(ct||Ge),Ee.preventDefault();break}case"ArrowRight":{const Ge=t.addDays(Be,Re?-1:1),tt=t.addMonths(Be,Re?-1:1),ct=On({utils:t,date:Ge,minDate:Re?t.startOfMonth(tt):Ge,maxDate:Re?Ge:t.endOfMonth(tt),isDateDisabled:_e,timezone:xe});ie(ct||Ge),Ee.preventDefault();break}case"Home":ie(t.startOfWeek(Be)),Ee.preventDefault();break;case"End":ie(t.endOfWeek(Be)),Ee.preventDefault();break;case"PageUp":ie(t.addMonths(Be,1)),Ee.preventDefault();break;case"PageDown":ie(t.addMonths(Be,-1)),Ee.preventDefault();break;default:break}}),Le=(0,We.A)((Ee,Be)=>ie(Be)),Me=(0,We.A)((Ee,Be)=>{Ne&&t.isSameDay(Qe,Be)&&(De==null||De(!1))}),Ze=t.getMonth(o),Ue=t.getYear(o),et=R.useMemo(()=>a.filter(Ee=>!!Ee).map(Ee=>t.startOfDay(Ee)),[t,a]),Ve=`${Ue}-${Ze}`,ae=R.useMemo(()=>R.createRef(),[Ve]),be=t.startOfWeek(ue),we=R.useMemo(()=>{const Ee=t.startOfMonth(o),Be=t.endOfMonth(o);return _e(Qe)||t.isAfterDay(Qe,Be)||t.isBeforeDay(Qe,Ee)?On({utils:t,date:Qe,minDate:Ee,maxDate:Be,disablePast:O,disableFuture:_,isDateDisabled:_e,timezone:xe}):Qe},[o,_,O,Qe,_e,t,xe]),Ie=R.useMemo(()=>{const Ee=t.setTimezone(o,xe),Be=t.getWeekArray(Ee);let Ge=t.addMonths(Ee,1);for(;Fe&&Be.length<Fe;){const tt=t.getWeekArray(Ge),ct=t.isSameDay(Be[Be.length-1][0],tt[0][0]);tt.slice(ct?1:0).forEach(jt=>{Be.length<Fe&&Be.push(jt)}),Ge=t.addMonths(Ge,1)}return Be},[o,Fe,t,xe]);return(0,W.jsxs)(Ec,{role:"grid","aria-labelledby":te,className:Te.root,children:[(0,W.jsxs)(Sc,{role:"row",className:Te.header,children:[fe&&(0,W.jsx)(Tc,{variant:"caption",role:"columnheader","aria-label":Pe.calendarWeekNumberHeaderLabel,className:Te.weekNumberLabel,children:Pe.calendarWeekNumberHeaderText}),bn(t,ue).map((Ee,Be)=>(0,W.jsx)(Fc,{variant:"caption",role:"columnheader","aria-label":t.format(t.addDays(be,Be),"weekday"),className:Te.weekDayLabel,children:ee(Ee)},Be.toString()))]}),c?(0,W.jsx)(Ic,{className:Te.loadingContainer,children:P()}):(0,W.jsx)(Pc,(0,M.A)({transKey:Ve,onExited:f,reduceAnimations:v,slideDirection:S,className:(0,xt.A)(s,Te.slideTransition)},k,{nodeRef:ae,children:(0,W.jsx)(Mc,{ref:ae,role:"rowgroup",className:Te.monthContainer,children:Ie.map((Ee,Be)=>(0,W.jsxs)(Nc,{role:"row",className:Te.weekContainer,"aria-rowindex":Be+1,children:[fe&&(0,W.jsx)(kc,{className:Te.weekNumber,role:"rowheader","aria-label":Pe.calendarWeekNumberAriaLabelText(t.getWeekNumber(Ee[0])),children:Pe.calendarWeekNumberText(t.getWeekNumber(Ee[0]))}),Ee.map((Ge,tt)=>(0,W.jsx)(Oc,{parentProps:e,day:Ge,selectedDays:et,focusableDay:we,onKeyDown:me,onFocus:Le,onBlur:Me,onDaySelect:Ye,isDateDisabled:_e,currentMonthNumber:Ze,isViewFocused:Ne,"aria-colindex":tt+1},Ge.toString()))]},`week-${Ee[0]}`))})}))]})}function Rc(r){return(0,yt.Ay)("MuiPickersMonth",r)}const Os=(0,Dt.A)("MuiPickersMonth",["root","monthButton","disabled","selected"]),Lc=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow","slots","slotProps"],Bc=r=>{const{disabled:e,selected:t,classes:n}=r,s={root:["root"],monthButton:["monthButton",e&&"disabled",t&&"selected"]};return(0,gt.A)(s,Rc,n)},$c=(0,Z.styled)("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(r,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),Vc=(0,Z.styled)("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(r,e)=>[e.monthButton,{[`&.${Os.disabled}`]:e.disabled},{[`&.${Os.selected}`]:e.selected}]})(({theme:r})=>(0,M.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},r.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,Z.alpha)(r.palette.action.active,r.palette.action.hoverOpacity)},"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,Z.alpha)(r.palette.action.active,r.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Os.disabled}`]:{color:(r.vars||r).palette.text.secondary},[`&.${Os.selected}`]:{color:(r.vars||r).palette.primary.contrastText,backgroundColor:(r.vars||r).palette.primary.main,"&:focus, &:hover":{backgroundColor:(r.vars||r).palette.primary.dark}}})),jc=R.memo(function(e){var ee;const t=(0,Z.useThemeProps)({props:e,name:"MuiPickersMonth"}),{autoFocus:n,className:s,children:o,disabled:a,selected:i,value:c,tabIndex:p,onClick:f,onKeyDown:C,onFocus:v,onBlur:P,"aria-current":S,"aria-label":k,slots:O,slotProps:_}=t,L=(0,qe.A)(t,Lc),q=R.useRef(null),G=Bc(t);(0,wn.A)(()=>{var K;n&&((K=q.current)==null||K.focus())},[n]);const X=(ee=O==null?void 0:O.monthButton)!=null?ee:Vc,Q=(0,Ct.Q)({elementType:X,externalSlotProps:_==null?void 0:_.monthButton,additionalProps:{children:o,disabled:a,tabIndex:p,ref:q,type:"button",role:"radio","aria-current":S,"aria-checked":i,"aria-label":k,onClick:K=>f(K,c),onKeyDown:K=>C(K,c),onFocus:K=>v(K,c),onBlur:K=>P(K,c)},ownerState:t,className:G.monthButton});return(0,W.jsx)($c,(0,M.A)({className:(0,xt.A)(G.root,s),ownerState:t},L,{children:(0,W.jsx)(X,(0,M.A)({},Q))}))});function Wc(r){return(0,yt.Ay)("MuiMonthCalendar",r)}const Om=(0,Dt.A)("MuiMonthCalendar",["root"]),Uc=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],Hc=r=>{const{classes:e}=r,t={root:["root"]};return(0,gt.A)(t,Wc,e)};function zc(r,e){const t=ft(),n=us(),s=(0,Z.useThemeProps)({props:r,name:e});return(0,M.A)({disableFuture:!1,disablePast:!1},s,{minDate:ne(t,s.minDate,n.minDate),maxDate:ne(t,s.maxDate,n.maxDate)})}const Jc=(0,Z.styled)("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(r,e)=>e.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:Is,boxSizing:"border-box"}),Yc=R.forwardRef(function(e,t){const n=zc(e,"MuiMonthCalendar"),{className:s,value:o,defaultValue:a,referenceDate:i,disabled:c,disableFuture:p,disablePast:f,maxDate:C,minDate:v,onChange:P,shouldDisableMonth:S,readOnly:k,autoFocus:O=!1,onMonthFocus:_,hasFocus:L,onFocusedViewChange:q,monthsPerRow:G=3,timezone:X,gridLabelId:Q,slots:ee,slotProps:K}=n,De=(0,qe.A)(n,Uc),{value:te,handleValueChange:fe,timezone:Fe}=es({name:"MonthCalendar",timezone:X,value:o,defaultValue:a,onChange:P,valueManager:$t}),ge=Ln(Fe),xe=(0,pn.I)(),ue=ft(),Te=R.useMemo(()=>$t.getInitialReferenceValue({value:te,utils:ue,props:n,timezone:Fe,referenceDate:i,granularity:ht.month}),[]),Re=n,_e=Hc(Re),Pe=R.useMemo(()=>ue.getMonth(ge),[ue,ge]),Ne=R.useMemo(()=>te!=null?ue.getMonth(te):null,[te,ue]),[ze,Qe]=R.useState(()=>Ne||ue.getMonth(Te)),[ke,Ye]=(0,Bn.A)({name:"MonthCalendar",state:"hasFocus",controlled:L,default:O!=null?O:!1}),ie=(0,We.A)(Ve=>{Ye(Ve),q&&q(Ve)}),me=R.useCallback(Ve=>{const ae=ue.startOfMonth(f&&ue.isAfter(ge,v)?ge:v),be=ue.startOfMonth(p&&ue.isBefore(ge,C)?ge:C),we=ue.startOfMonth(Ve);return ue.isBefore(we,ae)||ue.isAfter(we,be)?!0:S?S(we):!1},[p,f,C,v,ge,S,ue]),Le=(0,We.A)((Ve,ae)=>{if(k)return;const be=ue.setMonth(te!=null?te:Te,ae);fe(be)}),Me=(0,We.A)(Ve=>{me(ue.setMonth(te!=null?te:Te,Ve))||(Qe(Ve),ie(!0),_&&_(Ve))});R.useEffect(()=>{Qe(Ve=>Ne!==null&&Ve!==Ne?Ne:Ve)},[Ne]);const Ze=(0,We.A)((Ve,ae)=>{switch(Ve.key){case"ArrowUp":Me((12+ae-3)%12),Ve.preventDefault();break;case"ArrowDown":Me((12+ae+3)%12),Ve.preventDefault();break;case"ArrowLeft":Me((12+ae+(xe?1:-1))%12),Ve.preventDefault();break;case"ArrowRight":Me((12+ae+(xe?-1:1))%12),Ve.preventDefault();break;default:break}}),Ue=(0,We.A)((Ve,ae)=>{Me(ae)}),et=(0,We.A)((Ve,ae)=>{ze===ae&&ie(!1)});return(0,W.jsx)(Jc,(0,M.A)({ref:t,className:(0,xt.A)(_e.root,s),ownerState:Re,role:"radiogroup","aria-labelledby":Q},De,{children:$e(ue,te!=null?te:Te).map(Ve=>{const ae=ue.getMonth(Ve),be=ue.format(Ve,"monthShort"),we=ue.format(Ve,"month"),Ie=ae===Ne,Ee=c||me(Ve);return(0,W.jsx)(jc,{selected:Ie,value:ae,onClick:Le,onKeyDown:Ze,autoFocus:ke&&ae===ze,disabled:Ee,tabIndex:ae===ze&&!Ee?0:-1,onFocus:Ue,onBlur:et,"aria-current":Pe===ae?"date":void 0,"aria-label":we,monthsPerRow:G,slots:ee,slotProps:K,children:be},be)})}))});function Kc(r){return(0,yt.Ay)("MuiPickersYear",r)}const _s=(0,Dt.A)("MuiPickersYear",["root","yearButton","selected","disabled"]),Gc=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow","slots","slotProps"],qc=r=>{const{disabled:e,selected:t,classes:n}=r,s={root:["root"],yearButton:["yearButton",e&&"disabled",t&&"selected"]};return(0,gt.A)(s,Kc,n)},Qc=(0,Z.styled)("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(r,e)=>[e.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),Xc=(0,Z.styled)("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(r,e)=>[e.yearButton,{[`&.${_s.disabled}`]:e.disabled},{[`&.${_s.selected}`]:e.selected}]})(({theme:r})=>(0,M.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},r.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.focusOpacity})`:(0,Z.alpha)(r.palette.action.active,r.palette.action.focusOpacity)},"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,Z.alpha)(r.palette.action.active,r.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${_s.disabled}`]:{color:(r.vars||r).palette.text.secondary},[`&.${_s.selected}`]:{color:(r.vars||r).palette.primary.contrastText,backgroundColor:(r.vars||r).palette.primary.main,"&:focus, &:hover":{backgroundColor:(r.vars||r).palette.primary.dark}}})),Zc=R.memo(function(e){var Q;const t=(0,Z.useThemeProps)({props:e,name:"MuiPickersYear"}),{autoFocus:n,className:s,children:o,disabled:a,selected:i,value:c,tabIndex:p,onClick:f,onKeyDown:C,onFocus:v,onBlur:P,"aria-current":S,slots:k,slotProps:O}=t,_=(0,qe.A)(t,Gc),L=R.useRef(null),q=qc(t);(0,wn.A)(()=>{var ee;n&&((ee=L.current)==null||ee.focus())},[n]);const G=(Q=k==null?void 0:k.yearButton)!=null?Q:Xc,X=(0,Ct.Q)({elementType:G,externalSlotProps:O==null?void 0:O.yearButton,additionalProps:{children:o,disabled:a,tabIndex:p,ref:L,type:"button",role:"radio","aria-current":S,"aria-checked":i,onClick:ee=>f(ee,c),onKeyDown:ee=>C(ee,c),onFocus:ee=>v(ee,c),onBlur:ee=>P(ee,c)},ownerState:t,className:q.yearButton});return(0,W.jsx)(Qc,(0,M.A)({className:(0,xt.A)(q.root,s),ownerState:t},_,{children:(0,W.jsx)(G,(0,M.A)({},X))}))});function eu(r){return(0,yt.Ay)("MuiYearCalendar",r)}const _m=(0,Dt.A)("MuiYearCalendar",["root"]),tu=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId","slots","slotProps"],nu=r=>{const{classes:e}=r,t={root:["root"]};return(0,gt.A)(t,eu,e)};function su(r,e){var o;const t=ft(),n=us(),s=(0,Z.useThemeProps)({props:r,name:e});return(0,M.A)({disablePast:!1,disableFuture:!1},s,{yearsPerRow:(o=s.yearsPerRow)!=null?o:3,minDate:ne(t,s.minDate,n.minDate),maxDate:ne(t,s.maxDate,n.maxDate)})}const ru=(0,Z.styled)("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(r,e)=>e.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:Is,maxHeight:Di,boxSizing:"border-box",position:"relative"}),ou=R.forwardRef(function(e,t){const n=su(e,"MuiYearCalendar"),{autoFocus:s,className:o,value:a,defaultValue:i,referenceDate:c,disabled:p,disableFuture:f,disablePast:C,maxDate:v,minDate:P,onChange:S,readOnly:k,shouldDisableYear:O,onYearFocus:_,hasFocus:L,onFocusedViewChange:q,yearsPerRow:G,timezone:X,gridLabelId:Q,slots:ee,slotProps:K}=n,De=(0,qe.A)(n,tu),{value:te,handleValueChange:fe,timezone:Fe}=es({name:"YearCalendar",timezone:X,value:a,defaultValue:i,onChange:S,valueManager:$t}),ge=Ln(Fe),xe=(0,pn.I)(),ue=ft(),Te=R.useMemo(()=>$t.getInitialReferenceValue({value:te,utils:ue,props:n,timezone:Fe,referenceDate:c,granularity:ht.year}),[]),Re=n,_e=nu(Re),Pe=R.useMemo(()=>ue.getYear(ge),[ue,ge]),Ne=R.useMemo(()=>te!=null?ue.getYear(te):null,[te,ue]),[ze,Qe]=R.useState(()=>Ne||ue.getYear(Te)),[ke,Ye]=(0,Bn.A)({name:"YearCalendar",state:"hasFocus",controlled:L,default:s!=null?s:!1}),ie=(0,We.A)(be=>{Ye(be),q&&q(be)}),me=R.useCallback(be=>{if(C&&ue.isBeforeYear(be,ge)||f&&ue.isAfterYear(be,ge)||P&&ue.isBeforeYear(be,P)||v&&ue.isAfterYear(be,v))return!0;if(!O)return!1;const we=ue.startOfYear(be);return O(we)},[f,C,v,P,ge,O,ue]),Le=(0,We.A)((be,we)=>{if(k)return;const Ie=ue.setYear(te!=null?te:Te,we);fe(Ie)}),Me=(0,We.A)(be=>{me(ue.setYear(te!=null?te:Te,be))||(Qe(be),ie(!0),_==null||_(be))});R.useEffect(()=>{Qe(be=>Ne!==null&&be!==Ne?Ne:be)},[Ne]);const Ze=(0,We.A)((be,we)=>{switch(be.key){case"ArrowUp":Me(we-G),be.preventDefault();break;case"ArrowDown":Me(we+G),be.preventDefault();break;case"ArrowLeft":Me(we+(xe?1:-1)),be.preventDefault();break;case"ArrowRight":Me(we+(xe?-1:1)),be.preventDefault();break;default:break}}),Ue=(0,We.A)((be,we)=>{Me(we)}),et=(0,We.A)((be,we)=>{ze===we&&ie(!1)}),Ve=R.useRef(null),ae=(0,Yt.A)(t,Ve);return R.useEffect(()=>{if(s||Ve.current===null)return;const be=Ve.current.querySelector('[tabindex="0"]');if(!be)return;const we=be.offsetHeight,Ie=be.offsetTop,Ee=Ve.current.clientHeight,Be=Ve.current.scrollTop,Ge=Ie+we;we>Ee||Ie<Be||(Ve.current.scrollTop=Ge-Ee/2-we/2)},[s]),(0,W.jsx)(ru,(0,M.A)({ref:ae,className:(0,xt.A)(_e.root,o),ownerState:Re,role:"radiogroup","aria-labelledby":Q},De,{children:ue.getYearRange([P,v]).map(be=>{const we=ue.getYear(be),Ie=we===Ne,Ee=p||me(be);return(0,W.jsx)(Zc,{selected:Ie,value:we,onClick:Le,onKeyDown:Ze,autoFocus:ke&&we===ze,disabled:Ee,tabIndex:we===ze&&!Ee?0:-1,onFocus:Ue,onBlur:et,"aria-current":Pe===we?"date":void 0,yearsPerRow:G,slots:ee,slotProps:K,children:ue.format(be,"year")},ue.format(be,"year"))})}))});function au(r){return(0,yt.Ay)("MuiPickersArrowSwitcher",r)}const Rm=(0,Dt.A)("MuiPickersArrowSwitcher",["root","spacer","button"]),iu=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId"],lu=["ownerState"],cu=["ownerState"],uu=(0,Z.styled)("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(r,e)=>e.root})({display:"flex"}),du=(0,Z.styled)("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(r,e)=>e.spacer})(({theme:r})=>({width:r.spacing(3)})),vo=(0,Z.styled)(qn.A,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(r,e)=>e.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),pu=r=>{const{classes:e}=r,t={root:["root"],spacer:["spacer"],button:["button"]};return(0,gt.A)(t,au,e)},Ao=R.forwardRef(function(e,t){var Re,_e,Pe,Ne;const n=(0,pn.I)(),s=(0,Z.useThemeProps)({props:e,name:"MuiPickersArrowSwitcher"}),{children:o,className:a,slots:i,slotProps:c,isNextDisabled:p,isNextHidden:f,onGoToNext:C,nextLabel:v,isPreviousDisabled:P,isPreviousHidden:S,onGoToPrevious:k,previousLabel:O,labelId:_}=s,L=(0,qe.A)(s,iu),q=s,G=pu(q),X={isDisabled:p,isHidden:f,goTo:C,label:v},Q={isDisabled:P,isHidden:S,goTo:k,label:O},ee=(Re=i==null?void 0:i.previousIconButton)!=null?Re:vo,K=(0,Ct.Q)({elementType:ee,externalSlotProps:c==null?void 0:c.previousIconButton,additionalProps:{size:"medium",title:Q.label,"aria-label":Q.label,disabled:Q.isDisabled,edge:"end",onClick:Q.goTo},ownerState:(0,M.A)({},q,{hidden:Q.isHidden}),className:G.button}),De=(_e=i==null?void 0:i.nextIconButton)!=null?_e:vo,te=(0,Ct.Q)({elementType:De,externalSlotProps:c==null?void 0:c.nextIconButton,additionalProps:{size:"medium",title:X.label,"aria-label":X.label,disabled:X.isDisabled,edge:"start",onClick:X.goTo},ownerState:(0,M.A)({},q,{hidden:X.isHidden}),className:G.button}),fe=(Pe=i==null?void 0:i.leftArrowIcon)!=null?Pe:Ni,Fe=(0,Ct.Q)({elementType:fe,externalSlotProps:c==null?void 0:c.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),ge=(0,qe.A)(Fe,lu),xe=(Ne=i==null?void 0:i.rightArrowIcon)!=null?Ne:Oi,ue=(0,Ct.Q)({elementType:xe,externalSlotProps:c==null?void 0:c.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),Te=(0,qe.A)(ue,cu);return(0,W.jsxs)(uu,(0,M.A)({ref:t,className:(0,xt.A)(G.root,a),ownerState:q},L,{children:[(0,W.jsx)(ee,(0,M.A)({},K,{children:n?(0,W.jsx)(xe,(0,M.A)({},Te)):(0,W.jsx)(fe,(0,M.A)({},ge))})),o?(0,W.jsx)(Tn.A,{variant:"subtitle1",component:"span",id:_,children:o}):(0,W.jsx)(du,{className:G.spacer,ownerState:q}),(0,W.jsx)(De,(0,M.A)({},te,{children:n?(0,W.jsx)(fe,(0,M.A)({},ge)):(0,W.jsx)(xe,(0,M.A)({},Te))}))]}))});function hu(r,{disableFuture:e,maxDate:t,timezone:n}){const s=ft();return R.useMemo(()=>{const o=s.date(void 0,n),a=s.startOfMonth(e&&s.isBefore(o,t)?o:t);return!s.isAfter(a,r)},[e,t,r,s,n])}function mu(r,{disablePast:e,minDate:t,timezone:n}){const s=ft();return R.useMemo(()=>{const o=s.date(void 0,n),a=s.startOfMonth(e&&s.isAfter(o,t)?o:t);return!s.isBefore(a,r)},[e,t,r,s,n])}function ir(r,e,t,n){const s=ft(),o=Bt(r,s),a=R.useCallback(i=>{const c=r==null?null:Kn(r,i,!!e,s);t(c,n!=null?n:"partial")},[e,r,t,n,s]);return{meridiemMode:o,handleMeridiemChange:a}}const fu=r=>(0,yt.Ay)("MuiPickersCalendarHeader",r),gu=(0,Dt.A)("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),yu=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],Du=["ownerState"],Cu=r=>{const{classes:e}=r,t={root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]};return(0,gt.A)(t,fu,e)},bu=(0,Z.styled)("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(r,e)=>e.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),vu=(0,Z.styled)("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(r,e)=>e.labelContainer})(({theme:r})=>(0,M.A)({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},r.typography.body1,{fontWeight:r.typography.fontWeightMedium})),Au=(0,Z.styled)("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(r,e)=>e.label})({marginRight:6}),xu=(0,Z.styled)(qn.A,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(r,e)=>e.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${gu.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),wu=(0,Z.styled)(Mi,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(r,e)=>e.switchViewIcon})(({theme:r})=>({willChange:"transform",transition:r.transitions.create("transform"),transform:"rotate(0deg)"})),Eu=R.forwardRef(function(e,t){var ze,Qe;const n=Vt(),s=ft(),o=(0,Z.useThemeProps)({props:e,name:"MuiPickersCalendarHeader"}),{slots:a,slotProps:i,currentMonth:c,disabled:p,disableFuture:f,disablePast:C,maxDate:v,minDate:P,onMonthChange:S,onViewChange:k,view:O,reduceAnimations:_,views:L,labelId:q,className:G,timezone:X,format:Q=`${s.formats.month} ${s.formats.year}`}=o,ee=(0,qe.A)(o,yu),K=o,De=Cu(o),te=(ze=a==null?void 0:a.switchViewButton)!=null?ze:xu,fe=(0,Ct.Q)({elementType:te,externalSlotProps:i==null?void 0:i.switchViewButton,additionalProps:{size:"small","aria-label":n.calendarViewSwitchingButtonAriaLabel(O)},ownerState:K,className:De.switchViewButton}),Fe=(Qe=a==null?void 0:a.switchViewIcon)!=null?Qe:wu,ge=(0,Ct.Q)({elementType:Fe,externalSlotProps:i==null?void 0:i.switchViewIcon,ownerState:void 0,className:De.switchViewIcon}),xe=(0,qe.A)(ge,Du),ue=()=>S(s.addMonths(c,1),"left"),Te=()=>S(s.addMonths(c,-1),"right"),Re=hu(c,{disableFuture:f,maxDate:v,timezone:X}),_e=mu(c,{disablePast:C,minDate:P,timezone:X}),Pe=()=>{if(!(L.length===1||!k||p))if(L.length===2)k(L.find(ke=>ke!==O)||L[0]);else{const ke=L.indexOf(O)!==0?0:1;k(L[ke])}};if(L.length===1&&L[0]==="year")return null;const Ne=s.formatByString(c,Q);return(0,W.jsxs)(bu,(0,M.A)({},ee,{ownerState:K,className:(0,xt.A)(G,De.root),ref:t,children:[(0,W.jsxs)(vu,{role:"presentation",onClick:Pe,ownerState:K,"aria-live":"polite",className:De.labelContainer,children:[(0,W.jsx)(go,{reduceAnimations:_,transKey:Ne,children:(0,W.jsx)(Au,{id:q,ownerState:K,className:De.label,children:Ne})}),L.length>1&&!p&&(0,W.jsx)(te,(0,M.A)({},fe,{children:(0,W.jsx)(Fe,(0,M.A)({},xe))}))]}),(0,W.jsx)(Ts.A,{in:O==="day",children:(0,W.jsx)(Ao,{slots:a,slotProps:i,onGoToPrevious:Te,isPreviousDisabled:_e,previousLabel:n.previousMonth,onGoToNext:ue,isNextDisabled:Re,nextLabel:n.nextMonth})})]}))}),Rs=(0,Z.styled)("div")({overflow:"hidden",width:Is,maxHeight:er,display:"flex",flexDirection:"column",margin:"0 auto"}),Su=r=>(0,yt.Ay)("MuiDateCalendar",r),Lm=(0,Dt.A)("MuiDateCalendar",["root","viewTransitionContainer"]),Fu=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],Tu=r=>{const{classes:e}=r,t={root:["root"],viewTransitionContainer:["viewTransitionContainer"]};return(0,gt.A)(t,Su,e)};function ku(r,e){var a,i,c,p,f,C,v;const t=ft(),n=us(),s=Wr(),o=(0,Z.useThemeProps)({props:r,name:e});return(0,M.A)({},o,{loading:(a=o.loading)!=null?a:!1,disablePast:(i=o.disablePast)!=null?i:!1,disableFuture:(c=o.disableFuture)!=null?c:!1,openTo:(p=o.openTo)!=null?p:"day",views:(f=o.views)!=null?f:["year","day"],reduceAnimations:(C=o.reduceAnimations)!=null?C:s,renderLoading:(v=o.renderLoading)!=null?v:()=>(0,W.jsx)("span",{children:"..."}),minDate:ne(t,o.minDate,n.minDate),maxDate:ne(t,o.maxDate,n.maxDate)})}const Iu=(0,Z.styled)(Rs,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(r,e)=>e.root})({display:"flex",flexDirection:"column",height:er}),Pu=(0,Z.styled)(go,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(r,e)=>e.viewTransitionContainer})({}),Mu=R.forwardRef(function(e,t){var fa;const n=ft(),s=(0,Qn.A)(),o=ku(e,"MuiDateCalendar"),{autoFocus:a,onViewChange:i,value:c,defaultValue:p,referenceDate:f,disableFuture:C,disablePast:v,onChange:P,onYearChange:S,onMonthChange:k,reduceAnimations:O,shouldDisableDate:_,shouldDisableMonth:L,shouldDisableYear:q,view:G,views:X,openTo:Q,className:ee,disabled:K,readOnly:De,minDate:te,maxDate:fe,disableHighlightToday:Fe,focusedView:ge,onFocusedViewChange:xe,showDaysOutsideCurrentMonth:ue,fixedWeekNumber:Te,dayOfWeekFormatter:Re,slots:_e,slotProps:Pe,loading:Ne,renderLoading:ze,displayWeekNumber:Qe,yearsPerRow:ke,monthsPerRow:Ye,timezone:ie}=o,me=(0,qe.A)(o,Fu),{value:Le,handleValueChange:Me,timezone:Ze}=es({name:"DateCalendar",timezone:ie,value:c,defaultValue:p,onChange:P,valueManager:$t}),{view:Ue,setView:et,focusedView:Ve,setFocusedView:ae,goToNextView:be,setValueAndGoToNextView:we}=ds({view:G,views:X,openTo:Q,onChange:Me,onViewChange:i,autoFocus:a,focusedView:ge,onFocusedViewChange:xe}),{referenceDate:Ie,calendarState:Ee,changeFocusedDay:Be,changeMonth:Ge,handleChangeMonth:tt,isDateDisabled:ct,onMonthSwitchingAnimationEnd:jt}=ql({value:Le,referenceDate:f,reduceAnimations:O,onMonthChange:k,minDate:te,maxDate:fe,shouldDisableDate:_,disablePast:v,disableFuture:C,timezone:Ze}),gn=K&&Le||te,Wn=K&&Le||fe,Pt=`${s}-grid-label`,Kt=Ve!==null,Un=(fa=_e==null?void 0:_e.calendarHeader)!=null?fa:Eu,yr=(0,Ct.Q)({elementType:Un,externalSlotProps:Pe==null?void 0:Pe.calendarHeader,additionalProps:{views:X,view:Ue,currentMonth:Ee.currentMonth,onViewChange:et,onMonthChange:(Tt,yn)=>tt({newMonth:Tt,direction:yn}),minDate:gn,maxDate:Wn,disabled:K,disablePast:v,disableFuture:C,reduceAnimations:O,timezone:Ze,labelId:Pt},ownerState:o}),am=(0,We.A)(Tt=>{const yn=n.startOfMonth(Tt),As=n.endOfMonth(Tt),Pn=ct(Tt)?On({utils:n,date:Tt,minDate:n.isBefore(te,yn)?yn:te,maxDate:n.isAfter(fe,As)?As:fe,disablePast:v,disableFuture:C,isDateDisabled:ct,timezone:Ze}):Tt;Pn?(we(Pn,"finish"),k==null||k(yn)):(be(),Ge(yn)),Be(Pn,!0)}),im=(0,We.A)(Tt=>{const yn=n.startOfYear(Tt),As=n.endOfYear(Tt),Pn=ct(Tt)?On({utils:n,date:Tt,minDate:n.isBefore(te,yn)?yn:te,maxDate:n.isAfter(fe,As)?As:fe,disablePast:v,disableFuture:C,isDateDisabled:ct,timezone:Ze}):Tt;Pn?(we(Pn,"finish"),S==null||S(Pn)):(be(),Ge(yn)),Be(Pn,!0)}),lm=(0,We.A)(Tt=>Me(Tt&&Yn(n,Tt,Le!=null?Le:Ie),"finish",Ue));R.useEffect(()=>{Le!=null&&n.isValid(Le)&&Ge(Le)},[Le]);const Dr=o,ma=Tu(Dr),Cr={disablePast:v,disableFuture:C,maxDate:fe,minDate:te},br={disableHighlightToday:Fe,readOnly:De,disabled:K,timezone:Ze,gridLabelId:Pt,slots:_e,slotProps:Pe},vr=R.useRef(Ue);R.useEffect(()=>{vr.current!==Ue&&(Ve===vr.current&&ae(Ue,!0),vr.current=Ue)},[Ve,ae,Ue]);const cm=R.useMemo(()=>[Le],[Le]);return(0,W.jsxs)(Iu,(0,M.A)({ref:t,className:(0,xt.A)(ma.root,ee),ownerState:Dr},me,{children:[(0,W.jsx)(Un,(0,M.A)({},yr,{slots:_e,slotProps:Pe})),(0,W.jsx)(Pu,{reduceAnimations:O,className:ma.viewTransitionContainer,transKey:Ue,ownerState:Dr,children:(0,W.jsxs)("div",{children:[Ue==="year"&&(0,W.jsx)(ou,(0,M.A)({},Cr,br,{value:Le,onChange:im,shouldDisableYear:q,hasFocus:Kt,onFocusedViewChange:Tt=>ae("year",Tt),yearsPerRow:ke,referenceDate:Ie})),Ue==="month"&&(0,W.jsx)(Yc,(0,M.A)({},Cr,br,{hasFocus:Kt,className:ee,value:Le,onChange:am,shouldDisableMonth:L,onFocusedViewChange:Tt=>ae("month",Tt),monthsPerRow:Ye,referenceDate:Ie})),Ue==="day"&&(0,W.jsx)(_c,(0,M.A)({},Ee,Cr,br,{onMonthSwitchingAnimationEnd:jt,onFocusedDayChange:Be,reduceAnimations:O,selectedDays:cm,onSelectedDaysChange:lm,shouldDisableDate:_,shouldDisableMonth:L,shouldDisableYear:q,hasFocus:Kt,onFocusedViewChange:Tt=>ae("day",Tt),showDaysOutsideCurrentMonth:ue,fixedWeekNumber:Te,dayOfWeekFormatter:Re,displayWeekNumber:Qe,loading:Ne,renderLoading:ze}))]})})]}))}),rs=({view:r,onViewChange:e,views:t,focusedView:n,onFocusedViewChange:s,value:o,defaultValue:a,referenceDate:i,onChange:c,className:p,classes:f,disableFuture:C,disablePast:v,minDate:P,maxDate:S,shouldDisableDate:k,shouldDisableMonth:O,shouldDisableYear:_,reduceAnimations:L,onMonthChange:q,monthsPerRow:G,onYearChange:X,yearsPerRow:Q,slots:ee,slotProps:K,loading:De,renderLoading:te,disableHighlightToday:fe,readOnly:Fe,disabled:ge,showDaysOutsideCurrentMonth:xe,dayOfWeekFormatter:ue,sx:Te,autoFocus:Re,fixedWeekNumber:_e,displayWeekNumber:Pe,timezone:Ne})=>(0,W.jsx)(Mu,{view:r,onViewChange:e,views:t.filter(Nt),focusedView:n&&Nt(n)?n:null,onFocusedViewChange:s,value:o,defaultValue:a,referenceDate:i,onChange:c,className:p,classes:f,disableFuture:C,disablePast:v,minDate:P,maxDate:S,shouldDisableDate:k,shouldDisableMonth:O,shouldDisableYear:_,reduceAnimations:L,onMonthChange:q,monthsPerRow:G,onYearChange:X,yearsPerRow:Q,slots:ee,slotProps:K,loading:De,renderLoading:te,disableHighlightToday:fe,readOnly:Fe,disabled:ge,showDaysOutsideCurrentMonth:xe,dayOfWeekFormatter:ue,sx:Te,autoFocus:Re,fixedWeekNumber:_e,displayWeekNumber:Pe,timezone:Ne}),xo=R.forwardRef(function(e,t){var p,f,C,v;const n=Vt(),s=ft(),o=Lr(e,"MuiDesktopDatePicker"),a=(0,M.A)({day:rs,month:rs,year:rs},o.viewRenderers),i=(0,M.A)({},o,{viewRenderers:a,format:Ft(s,o,!1),yearsPerRow:(p=o.yearsPerRow)!=null?p:4,slots:(0,M.A)({openPickerIcon:_i,field:ho},o.slots),slotProps:(0,M.A)({},o.slotProps,{field:P=>{var S;return(0,M.A)({},(0,Jn.Y)((S=o.slotProps)==null?void 0:S.field,P),Ps(o),{ref:t})},toolbar:(0,M.A)({hidden:!0},(f=o.slotProps)==null?void 0:f.toolbar)})}),{renderPicker:c}=Gr({props:i,valueManager:$t,valueType:"date",getOpenDialogAriaText:(v=(C=i.localeText)==null?void 0:C.openDatePickerDialogue)!=null?v:n.openDatePickerDialogue,validator:Fs});return c()});xo.propTypes={autoFocus:d().bool,className:d().string,closeOnSelect:d().bool,dayOfWeekFormatter:d().func,defaultValue:d().object,disabled:d().bool,disableFuture:d().bool,disableHighlightToday:d().bool,disableOpenPicker:d().bool,disablePast:d().bool,displayWeekNumber:d().bool,enableAccessibleFieldDOMStructure:d().any,fixedWeekNumber:d().number,format:d().string,formatDensity:d().oneOf(["dense","spacious"]),inputRef:Cn,label:d().node,loading:d().bool,localeText:d().object,maxDate:d().object,minDate:d().object,monthsPerRow:d().oneOf([3,4]),name:d().string,onAccept:d().func,onChange:d().func,onClose:d().func,onError:d().func,onMonthChange:d().func,onOpen:d().func,onSelectedSectionsChange:d().func,onViewChange:d().func,onYearChange:d().func,open:d().bool,openTo:d().oneOf(["day","month","year"]),orientation:d().oneOf(["landscape","portrait"]),readOnly:d().bool,reduceAnimations:d().bool,referenceDate:d().object,renderLoading:d().func,selectedSections:d().oneOfType([d().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),d().number]),shouldDisableDate:d().func,shouldDisableMonth:d().func,shouldDisableYear:d().func,showDaysOutsideCurrentMonth:d().bool,slotProps:d().object,slots:d().object,sx:d().oneOfType([d().arrayOf(d().oneOfType([d().func,d().object,d().bool])),d().func,d().object]),timezone:d().string,value:d().object,view:d().oneOf(["day","month","year"]),viewRenderers:d().shape({day:d().func,month:d().func,year:d().func}),views:d().arrayOf(d().oneOf(["day","month","year"]).isRequired),yearsPerRow:d().oneOf([3,4])};var Nu=$(63437),Ou=$(85747),wo=$(30311);const _u=(0,Z.styled)(Ou.A)({[`& .${wo.A.container}`]:{outline:0},[`& .${wo.A.paper}`]:{outline:0,minWidth:Is}}),Ru=(0,Z.styled)(Nu.A)({"&:first-of-type":{padding:0}});function Lu(r){var c,p;const{children:e,onDismiss:t,open:n,slots:s,slotProps:o}=r,a=(c=s==null?void 0:s.dialog)!=null?c:_u,i=(p=s==null?void 0:s.mobileTransition)!=null?p:Ts.A;return(0,W.jsx)(a,(0,M.A)({open:n,onClose:t},o==null?void 0:o.dialog,{TransitionComponent:i,TransitionProps:o==null?void 0:o.mobileTransition,PaperComponent:s==null?void 0:s.mobilePaper,PaperProps:o==null?void 0:o.mobilePaper,children:(0,W.jsx)(Ru,{children:e})}))}const Bu=["props","getOpenDialogAriaText"],Eo=r=>{var ze,Qe,ke;let{props:e,getOpenDialogAriaText:t}=r,n=(0,qe.A)(r,Bu);const{slots:s,slotProps:o,className:a,sx:i,format:c,formatDensity:p,enableAccessibleFieldDOMStructure:f,selectedSections:C,onSelectedSectionsChange:v,timezone:P,name:S,label:k,inputRef:O,readOnly:_,disabled:L,localeText:q}=e,G=ft(),X=R.useRef(null),Q=(0,Qn.A)(),ee=(Qe=(ze=o==null?void 0:o.toolbar)==null?void 0:ze.hidden)!=null?Qe:!1,{open:K,actions:De,layoutProps:te,renderCurrentView:fe,fieldProps:Fe}=zr((0,M.A)({},n,{props:e,fieldRef:X,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),ge=s.field,xe=(0,Ct.Q)({elementType:ge,externalSlotProps:o==null?void 0:o.field,additionalProps:(0,M.A)({},Fe,ee&&{id:Q},!(L||_)&&{onClick:De.onOpen,onKeyDown:Ja(De.onOpen)},{readOnly:_!=null?_:!0,disabled:L,className:a,sx:i,format:c,formatDensity:p,enableAccessibleFieldDOMStructure:f,selectedSections:C,onSelectedSectionsChange:v,timezone:P,label:k,name:S},O?{inputRef:O}:{}),ownerState:e});xe.inputProps=(0,M.A)({},xe.inputProps,{"aria-label":t(Fe.value,G)});const ue=(0,M.A)({textField:s.textField},xe.slots),Te=(ke=s.layout)!=null?ke:Kr;let Re=Q;ee&&(k?Re=`${Q}-label`:Re=void 0);const _e=(0,M.A)({},o,{toolbar:(0,M.A)({},o==null?void 0:o.toolbar,{titleId:Q}),mobilePaper:(0,M.A)({"aria-labelledby":Re},o==null?void 0:o.mobilePaper)}),Pe=(0,Yt.A)(X,xe.unstableFieldRef);return{renderPicker:()=>(0,W.jsxs)(Nr,{localeText:q,children:[(0,W.jsx)(ge,(0,M.A)({},xe,{slots:ue,slotProps:_e,unstableFieldRef:Pe})),(0,W.jsx)(Lu,(0,M.A)({},De,{open:K,slots:s,slotProps:_e,children:(0,W.jsx)(Te,(0,M.A)({},te,_e==null?void 0:_e.layout,{slots:s,slotProps:_e,children:fe()}))}))]})}},So=R.forwardRef(function(e,t){var p,f,C;const n=Vt(),s=ft(),o=Lr(e,"MuiMobileDatePicker"),a=(0,M.A)({day:rs,month:rs,year:rs},o.viewRenderers),i=(0,M.A)({},o,{viewRenderers:a,format:Ft(s,o,!1),slots:(0,M.A)({field:ho},o.slots),slotProps:(0,M.A)({},o.slotProps,{field:v=>{var P;return(0,M.A)({},(0,Jn.Y)((P=o.slotProps)==null?void 0:P.field,v),Ps(o),{ref:t})},toolbar:(0,M.A)({hidden:!1},(p=o.slotProps)==null?void 0:p.toolbar)})}),{renderPicker:c}=Eo({props:i,valueManager:$t,valueType:"date",getOpenDialogAriaText:(C=(f=i.localeText)==null?void 0:f.openDatePickerDialogue)!=null?C:n.openDatePickerDialogue,validator:Fs});return c()});So.propTypes={autoFocus:d().bool,className:d().string,closeOnSelect:d().bool,dayOfWeekFormatter:d().func,defaultValue:d().object,disabled:d().bool,disableFuture:d().bool,disableHighlightToday:d().bool,disableOpenPicker:d().bool,disablePast:d().bool,displayWeekNumber:d().bool,enableAccessibleFieldDOMStructure:d().any,fixedWeekNumber:d().number,format:d().string,formatDensity:d().oneOf(["dense","spacious"]),inputRef:Cn,label:d().node,loading:d().bool,localeText:d().object,maxDate:d().object,minDate:d().object,monthsPerRow:d().oneOf([3,4]),name:d().string,onAccept:d().func,onChange:d().func,onClose:d().func,onError:d().func,onMonthChange:d().func,onOpen:d().func,onSelectedSectionsChange:d().func,onViewChange:d().func,onYearChange:d().func,open:d().bool,openTo:d().oneOf(["day","month","year"]),orientation:d().oneOf(["landscape","portrait"]),readOnly:d().bool,reduceAnimations:d().bool,referenceDate:d().object,renderLoading:d().func,selectedSections:d().oneOfType([d().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),d().number]),shouldDisableDate:d().func,shouldDisableMonth:d().func,shouldDisableYear:d().func,showDaysOutsideCurrentMonth:d().bool,slotProps:d().object,slots:d().object,sx:d().oneOfType([d().arrayOf(d().oneOfType([d().func,d().object,d().bool])),d().func,d().object]),timezone:d().string,value:d().object,view:d().oneOf(["day","month","year"]),viewRenderers:d().shape({day:d().func,month:d().func,year:d().func}),views:d().arrayOf(d().oneOf(["day","month","year"]).isRequired),yearsPerRow:d().oneOf([3,4])};const $u=["desktopModeMediaQuery"],Vu=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiDatePicker"}),{desktopModeMediaQuery:s=$r}=n,o=(0,qe.A)(n,$u);return(0,un.A)(s,{defaultMatches:!0})?(0,W.jsx)(xo,(0,M.A)({ref:t},o)):(0,W.jsx)(So,(0,M.A)({ref:t},o))});class ju extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr);this.setState({value:e})}renderItem(e,t){return l().createElement(Vu,{sx:n=>({width:"100%",borderBottom:`1px solid ${n.palette.text.primary}`,"& fieldset":{display:"none"},"& input":{padding:`${n.spacing(1.5)} 0 4px 0`},"& .MuiInputAdornment-root":{marginLeft:0,marginTop:1},"& label":{transform:"translate(0px, -9px) scale(0.75)"}}),format:this.props.systemConfig.dateFormat.toLowerCase().replace("mm","MM"),disabled:!!t,value:this.state.value,onChange:n=>{this.setState({value:n},()=>this.onChange(this.props.attr,this.state.value))},label:this.getText(this.props.schema.label)})}}class Wu extends y{renderItem(){if(!this.props.schema)return null;if(this.props.DeviceManager){const t=this.props.DeviceManager;return l().createElement(t,{uploadImagesToInstance:`${this.props.adapterName}.${this.props.instance}`,title:this.getText(this.props.schema.label),socket:this.props.socket,selectedInstance:`${this.props.adapterName}.${this.props.instance}`,themeName:this.props.themeName,themeType:this.props.themeType,isFloatComma:this.props.isFloatComma,dateFormat:this.props.dateFormat})}return l().createElement("div",null,"DeviceManager not found")}}const Uu=Wu;var Hu=$(53683),Fo=$.n(Hu),zu=$(86215);const Ju=()=>({fullWidth:{width:"100%"},fullWidthOneButton:{width:"calc(100% - 42px)"},fullWidthTwoButtons:{width:"calc(100% - 84px)"},fullWidthThreeButtons:{width:"calc(100% - 126x)"},dropZone:{width:"100%",height:"100%",position:"absolute"},dropZoneEmpty:{},image:{objectFit:"contain",margin:"auto",display:"flex",width:"100%",height:"100%"},uploadDiv:{position:"relative",width:"100%"},uploadDivDragging:{opacity:1,background:"rgba(128,255,128,0.1)"},uploadCenterDiv:{margin:5,border:"3px dashed grey",borderRadius:5,width:"100%",height:"100%",position:"absolute",display:"flex"},uploadCenterIcon:{paddingTop:10,width:48,height:48},uploadCenterText:{fontSize:16},uploadCenterTextAndIcon:{textAlign:"center",position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},disabledOpacity:{opacity:.3,cursor:"default"},error:{border:"2px solid red"},deleteButton:{},selectedImage:{height:40,width:40,display:"inline-block",marginRight:8}}),Yu=["jpg","jpeg","svg","png","webp","gif","apng","avif","webp"],Ku=["mp3","ogg","wav","aac"],Gu=["avi","mp4","mov"],qu=["txt","log","html","htm"],Qu=["json","js","ts"];class Ls extends y{constructor(e){super(e),this.dropzoneRef=l().createRef(),this.imagePrefix=this.props.imagePrefix===void 0?"./files":this.props.imagePrefix}componentDidMount(){super.componentDidMount(),this.objectID=(this.props.schema.objectID||"0_userdata.0").replace("%INSTANCE%",this.props.instance),this.path=this.props.schema.upload,this.path&&(this.path==="/"?this.path="":this.path.endsWith("/")||(this.path=`${this.path}/`)),this.updateFiles().then(()=>{const e=y.getValue(this.props.data,this.props.attr);this.setState({value:e})})}updateFiles(){return this.readFiles(this.props.schema.pattern).then(e=>this.setState({files:e}))}readFolder(e,t,n){return dt(this,null,function*(){try{const s=yield this.props.socket.readDir(this.objectID,e.replace(/^\//,"")||null);for(let o=0;o<s.length;o++){const a=s[o];if(a.isDir)yield this.readFolder(`${e+a.file}/`,t,n);else{let i=!1;n==="*.*"&&a.file.includes(".")||!n||n==="*"||n===".*"&&a.file.startsWith(".")?i=!0:i=new RegExp(`^${n.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(a.file),i&&t.push({name:e+a.file,size:a.stats?h.Utils.formatBytes(a.stats.size):"--"})}}}catch(s){console.error(`Cannot read "${e}": ${s}`)}return t})}readFiles(e){return dt(this,null,function*(){const t=[];e=e||this.props.schema.pattern,e||(e="**/*.*");let n;const s=e.lastIndexOf("/");if(s===-1?n=e:n=e.substring(s+1),e.startsWith("**"))yield this.readFolder("/",t,n);else{const o=e.lastIndexOf("/");if(o===-1)yield this.readFolder("/",t,n);else{const a=e.substring(0,o+1);yield this.readFolder(a,t,n)}}return t})}onDrop(e){const t=e[0],n=new FileReader,s=this.props.schema.maxSize||2*1024*1024;n.onabort=()=>console.log("file reading was aborted"),n.onerror=()=>console.log("file reading has failed"),n.onload=()=>{let o=`image/${t.name.split(".").pop().toLowerCase()}`;if(o==="image/jpg"?o="image/jpeg":o.includes("svg")&&(o="image/svg+xml"),t.size>s){window.alert(h.I18n.t("File is too big. Max %sk allowed. Try use SVG.",Math.round(s/1024)));return}const a=`data:${o};base64,${btoa(new Uint8Array(n.result).reduce((i,c)=>i+String.fromCharCode(c),""))}`;this.props.socket.writeFile64(this.objectID,this.path+t.name,a).then(()=>this.updateFiles()).catch(i=>window.alert(`Cannot upload file: ${i}`))},n.readAsArrayBuffer(t)}renderDeleteDialog(){return this.state.deleteFile?l().createElement(h.Confirm,{title:h.I18n.t("ra_Are you sure?"),text:h.I18n.t("ra_File will be deleted"),ok:h.I18n.t("ra_Delete"),cancel:h.I18n.t("ra_Cancel"),onClose:e=>{const t=this.state.deleteFile;this.setState({deleteFile:!1},()=>{e&&this.props.socket.deleteFile(this.objectID,t).then(()=>this.updateFiles()).catch(n=>window.alert(`Cannot delete file: ${n}`))})}}):null}static base64ToArrayBuffer(e){const t=window.atob(e),n=t.length,s=new Uint8Array(n);for(let o=0;o<n;o++)s[o]=t.charCodeAt(o);return s.buffer}loadFile(){return this.props.socket.readFile(this.objectID,this.state.value,!0)}play(){this.loadFile().then(e=>{if(typeof AudioContext!="undefined"){const t=new AudioContext,n=Ls.base64ToArrayBuffer(e.file);t.decodeAudioData(n,s=>{const o=t.createBufferSource();o.buffer=s,o.connect(t.destination),o.start(0)},s=>window.alert(`Cannot play: ${s}`))}})}getIcon(e){return!e||!e.extension?null:Yu.includes(e.extension)?l().createElement("div",{className:this.props.classes.selectedImage,style:{backgroundImage:`url(${this.imagePrefix}/${this.objectID}/${e.value})`,backgroundSize:"contain",backgroundRepeat:"no-repeat"}}):Ku.includes(e.extension)?l().createElement(D.MusicNote,null):qu.includes(e.extension)?l().createElement(D.Article,null):Gu.includes(e.extension)?l().createElement(D.Videocam,null):Qu.includes(e.extension)?l().createElement(D.Code,null):null}renderItem(e,t){if(!this.state.files)return null;const n=[];this.props.schema.withFolder||this.state.files.forEach(f=>{const C=f.name.lastIndexOf("/");if(C===-1)n.includes("/")||n.push("/");else{const v=f.name.substring(0,C+1);n.includes(v)||n.push(v)}});const s=this.state.files.map(f=>({value:f.name,label:!this.props.schema.withFolder&&n.length===1?`${f.name.substring(n[0].length)}`:`${f.name}${this.props.schema.noSize?"":`(${f.size})`}`,extension:f.name.toLowerCase().split(".").pop()}));this.props.schema.noNone||s.unshift({label:h.I18n.t("ra_none"),value:""});const o=s.find(f=>f.value===this.state.value);let a=0;this.props.schema.upload&&a++,this.props.schema.refresh&&a++;const i=this.state.value&&(this.state.value.endsWith(".mp3")||this.state.value.endsWith(".ogg")||this.state.value.endsWith(".wav"));i&&a++;const c=l().createElement("div",{className:this.props.classes.fullWidth},l().createElement(u.FormControl,{variant:"standard",style:{width:`calc(100% - ${a*42}px)`}},this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!e,disabled:!!t,value:this.state.value||"_",renderValue:()=>l().createElement(l().Fragment,null,this.getIcon(o),l().createElement("span",null,(o==null?void 0:o.label)||"")),onChange:f=>{this.setState({value:f.target.value==="_"?"":f.target.value},()=>this.onChange(this.props.attr,this.state.value))}},s.map(f=>l().createElement(u.MenuItem,{key:f.value,value:f.value},l().createElement(u.ListItemIcon,null,this.getIcon(f)),l().createElement(u.ListItemText,null,f.label),this.props.schema.delete&&o.value?l().createElement(u.IconButton,{className:this.props.classes.deleteButton,size:"small",onClick:()=>this.setState({deleteFile:o.value})},l().createElement(D.Delete,null)):null))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null),this.props.schema.refresh&&l().createElement(u.IconButton,{onClick:()=>this.updateFiles()},l().createElement(D.Refresh,null)),this.props.schema.upload&&l().createElement(u.IconButton,{onClick:()=>{var f;return(f=this.dropzoneRef.current)==null?void 0:f.open()}},l().createElement(D.UploadFile,null)),i&&l().createElement(u.IconButton,{style:{color:"#00FF00"},onClick:()=>this.play()},l().createElement(D.PlayArrow,null)));if(!this.props.schema.upload)return l().createElement(l().Fragment,null,c,this.renderDeleteDialog());let p={"*/*":[]};if(this.props.schema.fileTypes==="image"?p={"image/*":[".png",".jpg",".svg",".gif",".apng",".avif",".webp"]}:this.props.schema.fileTypes==="audio"?p={"audio/*":[".mp3",".ogg",".wav",".mp4"]}:this.props.schema.fileTypes==="text"&&(p={"text/plain":[".txt"]}),this.props.schema.pattern){const f=this.props.schema.pattern.split("/").pop().toLowerCase().replace(/.*\./,"");f==="png"||f==="jpg"||f==="svg"||f==="gif"||f==="apng"||f==="avif"||f==="webp"?p={"image/*":[".png",".jpg",".svg",".gif",".apng",".avif",".webp"]}:f==="mp3"||f==="ogg"||f==="wav"?p={"audio/*":[".mp3",".ogg",".wav",".mp4"]}:f==="ics"?p={"text/calendar":[".ics"]}:f==="txt"?p={"text/plain":[".txt"]}:f==="pem"?p={"text/plain":[".pem"]}:p={"*/*":[`.${f}`]}}return l().createElement(Fo(),{ref:this.dropzoneRef,multiple:!1,accept:p,noKeyboard:!0,noClick:!0,maxSize:this.props.schema.maxSize||2*1024*1024,onDragEnter:()=>{this.setState({uploadFile:"dragging"})},onDragLeave:()=>this.setState({uploadFile:!0}),onDrop:(f,C)=>{this.setState({uploadFile:!1}),f.length?this.onDrop(f):window.alert(C&&C[0]&&C[0].errors&&C[0].errors[0]&&C[0].errors[0].message||h.I18n.t("Cannot upload"))}},({getRootProps:f,getInputProps:C})=>l().createElement("div",ut({className:h.Utils.clsx(this.props.classes.uploadDiv,this.state.uploadFile==="dragging"&&this.props.classes.uploadDivDragging,t&&this.props.classes.disabledOpacity)},f()),l().createElement("input",ut({},C())),this.state.uploadFile==="dragging"?l().createElement("div",{className:h.Utils.clsx(this.props.classes.uploadCenterDiv,this.state.uploadError&&this.props.classes.error)},l().createElement("div",{className:this.props.classes.uploadCenterTextAndIcon},l().createElement(zu.l1U,{className:this.props.classes.uploadCenterIcon}),l().createElement("div",{className:this.props.classes.uploadCenterText},this.state.uploadFile==="dragging"?h.I18n.t("ra_Drop file here"):h.I18n.t("ra_Place your files here or click here to open the browse dialog")))):null,c,this.renderDeleteDialog()))}}Ls.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func,imagePrefix:d().func};const To=(0,b.withStyles)(Ju)(Ls),Xu=()=>({fullWidth:{width:"100%"},fullWidthOneButton:{width:"calc(100% - 69px)",marginRight:4},fullWidthIcon:{width:"calc(100% - 119px)",marginRight:4},selectedImage:{height:40,width:40,display:"inline-block",marginRight:8}}),Zu=["jpg","jpeg","svg","png","webp","gif","apng","avif","webp"],ed=["mp3","ogg","wav","aac"],td=["avi","mp4","mov"],nd=["txt","log","html","htm"],sd=["json","js","ts"];class ko extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr);this.imagePrefix=this.props.imagePrefix===void 0?"./files":this.props.imagePrefix,this.setState({value:e!=null?e:""})}static getDerivedStateFromProps(e,t){const n=y.getValue(e.data,e.attr);return n==null||n.toString().trim()!==(t.value||"").toString().trim()?{value:n!=null?n:""}:null}loadFile(){const e=this.state.value.indexOf("/");if(e!==-1){const t=this.state.value.substring(0,e),n=this.state.value.substring(e+1);return this.props.socket.readFile(t,n,!0)}return Promise.resolve(null)}play(){this.loadFile().then(e=>{if(typeof AudioContext!="undefined"&&(e!=null&&e.file)){const t=new AudioContext,n=To.base64ToArrayBuffer(e.file);t.decodeAudioData(n,s=>{const o=t.createBufferSource();o.buffer=s,o.connect(t.destination),o.start(0)},s=>window.alert(`Cannot play: ${s}`))}})}getIcon(){const e=this.state.value.split(".").pop().toLowerCase();return Zu.includes(e)?l().createElement("div",{className:this.props.classes.selectedImage,style:{backgroundImage:`url(${this.imagePrefix}/${this.state.value})`,backgroundSize:"contain",backgroundRepeat:"no-repeat"}}):ed.includes(e)?l().createElement(u.IconButton,{style:{color:"#00FF00"},onClick:()=>this.play()},l().createElement(D.PlayArrow,null)):nd.includes(e)?l().createElement(D.Article,null):td.includes(e)?l().createElement(D.Videocam,null):sd.includes(e)?l().createElement(D.Code,null):null}renderFileBrowser(){return this.state.showFileBrowser?l().createElement(h.SelectFile,{imagePrefix:this.props.imagePrefix,socket:this.props.socket,selected:this.state.value,onClose:()=>this.setState({showFileBrowser:!1}),onOk:e=>{this.setState({value:e},()=>this.onChange(this.props.attr,this.props.schema.trim===!1?e:(e||"").trim()))},selectOnlyFolders:this.props.schema.selectOnlyFolders,allowUpload:this.props.schema.allowUpload,allowDownload:this.props.schema.allowDownload,allowCreateFolder:this.props.schema.allowCreateFolder,allowView:this.props.schema.allowView,showToolbar:this.props.schema.showToolbar,limitPath:this.props.schema.limitPath}):null}renderItem(e,t){const n=this.getIcon();return l().createElement("div",{className:this.props.classes.fullWidth},n,l().createElement(u.TextField,{variant:"standard",className:n?this.props.classes.fullWidthIcon:this.props.classes.fullWidthOneButton,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!e,disabled:!!t,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:!!this.props.schema.disableEdit},onChange:s=>{const o=s.target.value;this.setState({value:o},()=>this.onChange(this.props.attr,this.props.schema.trim===!1?o:(o||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}),l().createElement(u.Button,{variant:"outlined",onClick:()=>this.setState({showFileBrowser:!0})},"..."),this.renderFileBrowser())}}ko.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func,imagePrefix:d().func};const rd=(0,b.withStyles)(Xu)(ko),od=()=>({fullWidth:{width:"100%"}});class Io extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr);this.props.socket.getEnums("functions").then(t=>{const n=Object.keys(t).map(s=>({value:this.props.schema.short?s.replace("enum.functions.",""):s,label:this.getText(t[s].common.name),obj:t[s]}));this.props.schema.allowDeactivate!==!1&&n.unshift({label:h.I18n.t(y.NONE_LABEL),value:y.NONE_VALUE}),this.setState({value:e,selectOptions:n})})}renderItem(e,t){if(!this.state.selectOptions)return null;const n=this.state.selectOptions.find(s=>s.value===this.state.value);return l().createElement(u.FormControl,{variant:"standard",className:this.props.classes.fullWidth},this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!e,disabled:!!t,value:this.state.value||"_",renderValue:()=>n?n.obj?l().createElement(h.TextWithIcon,{value:n.obj,themeType:this.props.themeType,lang:h.I18n.getLanguage()}):n.label:"",onChange:s=>{this.setState({value:s.target.value==="_"?"":s.target.value},()=>this.onChange(this.props.attr,this.state.value))}},this.state.selectOptions.map(s=>l().createElement(u.MenuItem,{key:s.value,value:s.value,style:s.value===y.DIFFERENT_VALUE?{opacity:.5}:{}},s.obj?l().createElement(h.TextWithIcon,{value:s.obj,themeType:this.props.themeType,lang:h.I18n.getLanguage()}):s.label))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}Io.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const ad=(0,b.withStyles)(od)(Io),id=()=>({fullWidth:{width:"100%"}});class Po extends y{componentDidMount(){super.componentDidMount(),this.props.socket.getHostByIp(this.props.common.host).then(e=>{this.props.schema.listenOnAllPorts||(e=e.filter(t=>t.address!=="0.0.0.0"&&t.address!=="::")),this.props.schema.onlyIp4?e=e.filter(t=>t.family==="ipv4"):this.props.schema.onlyIp6&&(e=e.filter(t=>t.family==="ipv6")),this.props.schema.noInternal&&(e=e.filter(t=>!t.internal)),e.forEach(t=>{t.address==="0.0.0.0"?t.name=`[IPv4] 0.0.0.0 - ${h.I18n.t("ra_Listen on all IPs")}`:t.address==="::"&&(t.name=`[IPv6] :: - ${h.I18n.t("ra_Listen on all IPs")}`)}),this.setState({ips:e})})}renderItem(e,t){var o,a;const n=y.getValue(this.props.data,this.props.attr),s=(o=this.state.ips)==null?void 0:o.find(i=>i.address===n);return l().createElement(u.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},this.state.ips&&this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,this.state.ips?l().createElement(u.Select,{variant:"standard",error:!!e,disabled:!!t,value:n,renderValue:i=>(s==null?void 0:s.name)||i,onChange:i=>this.onChange(this.props.attr,i.target.value)},(a=this.state.ips)==null?void 0:a.map((i,c)=>l().createElement(u.MenuItem,{key:c,value:i.address},i.name))):l().createElement(u.TextField,{fullWidth:!0,variant:"standard",error:!!e,disabled:!!t,value:n,onChange:i=>this.onChange(this.props.attr,i.target.value),label:this.getText(this.props.schema.label)}),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}Po.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const ld=(0,b.withStyles)(id)(Po),cd=()=>({fullWidth:{width:"100%"}});class Mo extends y{componentDidMount(){super.componentDidMount(),this.askInstance()}askInstance(){if(this.props.alive){let e=this.props.schema.data;if(e===void 0&&this.props.schema.jsonData){e=this.getPattern(this.props.schema.jsonData);try{e=JSON.parse(e)}catch(t){console.error(`Cannot parse json data: ${e}`)}}e===void 0&&(e=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",e).then(t=>this.setState({image:t||"",context:this.getContext()}))}}getContext(){const e={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(t=>e[t]=y.getValue(this.props.data,t)),JSON.stringify(e)}renderItem(){return this.state.image===void 0?null:(this.props.alive&&this.getContext()!==this.state.context&&setTimeout(()=>this.askInstance(),300),l().createElement("img",{className:this.props.classes.fullWidth,alt:"dynamic content",src:this.state.image,style:{width:this.props.schema.width,height:this.props.schema.height}}))}}Mo.propTypes={socket:d().object.isRequired,data:d().object.isRequired,schema:d().object,adapterName:d().string,instance:d().number};const ud=(0,b.withStyles)(cd)(Mo),dd=()=>({fullWidth:{width:"100%"},image:{width:100}});class Bs extends y{constructor(e){super(e),this.index=Date.now()}componentDidMount(){return dt(this,null,function*(){if(Wt(Bs.prototype,this,"componentDidMount").call(this),this.props.schema.base64){const e=y.getValue(this.props.data,this.props.attr);this.setState({value:e})}else this.props.socket.fileExists(`${this.props.adapterName}.${this.props.instance}`,this.props.attr).then(e=>e&&this.loadImage())})}_getUrl(e){e&&(this.index=Date.now());let t=`files/${this.props.adapterName}.${this.props.instance}/${this.props.attr}?t=${this.index}`;return window.location.port==="3000"&&(t=`${window.location.protocol}//${window.location.hostname}:8081/${t}`),t}loadImage(){fetch(this._getUrl()).then(e=>e.blob()).then(e=>{const t=new FileReader;t.onload=()=>{this.setState({value:t.result})},t.readAsDataURL(e)}).catch(e=>console.error(e))}renderItem(e,t){return l().createElement(u.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},this.props.schema.label?l().createElement(u.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,l().createElement(h.UploadImage,{error:!!e,disabled:t,accept:this.props.schema.accept,crop:this.props.schema.crop,maxSize:this.props.schema.maxSize||256*1024,icon:this.state.value||void 0,removeIconFunc:()=>this.setState({value:null},()=>{this.props.schema.base64?this.onChange(this.props.attr,this.state.value):this.props.socket.deleteFile(`${this.props.adapterName}.${this.props.instance}`,this.props.attr)}),onChange:n=>this.setState({value:n},()=>{this.props.schema.base64?this.onChange(this.props.attr,this.state.value):n.startsWith("data")&&(n=n.split(",")[1]),this.props.socket.writeFile64(`${this.props.adapterName}.${this.props.instance}`,this.props.attr,n)}),t:h.I18n.t}),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}Bs.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const pd=(0,b.withStyles)(dd)(Bs),hd=()=>({fullWidth:{width:"100%"},icon:{width:20,height:20,marginRight:4}});class $s extends y{constructor(){super(...arguments);je(this,"onInstancesUpdate",(t,n)=>{if(!t.match(/^system\.adapter\.[-_a-z\d]+\.\d+$/))return;const s=this.props.schema.long?t:this.props.schema.short?t.split(".").pop():t.replace(/^system\.adapter\./,""),o=this.state.selectOptions.findIndex(a=>a.value===s);if(n){if(this.props.schema.adapter==="_dataSources"&&(!n.common||!n.common.getHistory))return;if(o===-1){const a=JSON.parse(JSON.stringify(this.state.selectOptions));a.push({value:this.props.schema.long?n._id:this.props.schema.short?n._id.split(".").pop():n._id.replace(/^system\.adapter\./,""),label:`${n.common.name} [${n._id.replace(/^system\.adapter\./,"")}]`,icon:`adapter/${n.common.name}/${n.common.icon}`}),a.sort((i,c)=>i.label>c.label?1:i.label<c.label?-1:0),this.setState({selectOptions:a})}}else if(o!==-1){const a=JSON.parse(JSON.stringify(this.state.selectOptions)),i={};this.state.value===a[o].value&&(i.value=y.NONE_VALUE),a.splice(o,1),i.selectOptions=a,this.setState(i)}})}componentDidMount(){return dt(this,null,function*(){Wt($s.prototype,this,"componentDidMount").call(this);const t=y.getValue(this.props.data,this.props.attr);let n=this.props.schema.adapter;n==="_dataSources"&&(n=void 0),this.props.socket.getAdapterInstances(n,!0).then(s=>dt(this,null,function*(){this.props.schema.adapter==="_dataSources"?s=s.filter(a=>{var i;return(i=a==null?void 0:a.common)==null?void 0:i.getHistory}):this.props.schema.adapter?s=s.filter(a=>a==null?void 0:a._id.startsWith(`system.adapter.${this.props.schema.adapter}.`)):this.props.schema.adapters&&Array.isArray(this.props.schema.adapters)&&(s=s.filter(a=>{var i;return this.props.schema.adapters.includes((i=a==null?void 0:a.common)==null?void 0:i.name)})),this.props.schema.onlyEnabled&&(s=s.filter(a=>{var i;return(i=a==null?void 0:a.common)==null?void 0:i.enabled}));const o=s.map(a=>({value:this.props.schema.long?a._id:this.props.schema.short?a._id.split(".").pop():a._id.replace(/^system\.adapter\./,""),label:`${a.common.name} [${a._id.replace(/^system\.adapter\./,"")}]`,icon:`adapter/${a.common.name}/${a.common.icon}`}));o.sort((a,i)=>a.value>i.value?1:a.value<i.value?-1:0),this.props.schema.allowDeactivate!==!1&&o.unshift({label:h.I18n.t(y.NONE_LABEL),value:y.NONE_VALUE}),this.props.schema.all&&o.unshift({label:h.I18n.t("sch_all"),value:"*"}),this.setState({value:t||"",selectOptions:o}),yield this.props.socket.subscribeObject(`system.adapter.${n?`${n}.`:""}*`,this.onInstancesUpdate)}))})}componentWillUnmount(){this.props.socket.unsubscribeObject("system.adapter.*",this.onInstancesUpdate).then(()=>{}),super.componentWillUnmount()}renderItem(t,n){var o;if(!this.state.selectOptions)return null;const s=(o=this.state.selectOptions)==null?void 0:o.find(a=>a.value===this.state.value);return l().createElement(u.FormControl,{className:this.props.classes.fullWidth,key:this.props.attr,variant:"standard"},this.props.schema.label?l().createElement(u.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!t,displayEmpty:!0,disabled:!!n,value:this.state.value,renderValue:()=>l().createElement("span",{style:{display:"flex"}},s!=null&&s.icon?l().createElement("img",{src:`./${s.icon}`,alt:s.value,className:this.props.classes.icon}):null,this.getText(s==null?void 0:s.label,!0)),onChange:a=>this.setState({value:a.target.value},()=>this.onChange(this.props.attr,this.state.value))},this.state.selectOptions.map(a=>l().createElement(u.MenuItem,{key:a.value,value:a.value,style:a.value===y.NONE_VALUE?{opacity:.5}:{}},a.icon?l().createElement("img",{src:`./${a.icon}`,alt:a.value,className:this.props.classes.icon}):null,this.getText(a.label,!0)))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}$s.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const md=(0,b.withStyles)(hd)($s),fd=()=>({fullWidth:{width:"100%"},address:{fontSize:"smaller",opacity:.5,marginLeft:8}});class No extends y{componentDidMount(){super.componentDidMount(),this.props.socket.getObject(`system.host.${this.props.common.host}`).then(e=>{var n,s;const t=[];if((s=(n=e==null?void 0:e.native)==null?void 0:n.hardware)!=null&&s.networkInterfaces){const o=e.native.hardware.networkInterfaces;Object.keys(o).forEach(a=>{if(this.props.schema.ignoreInternal&&!o[a].find(c=>!c.internal)||this.props.schema.ignoreLoopback&&o[a].find(c=>c.address==="127.0.0.1"||c.address==="::1"))return;let i=o[a].find(c=>c.family==="IPv4");i=i||o[a].find(c=>c.family==="IPv6"),t.push({value:a,address:i.address})})}this.setState({interfaces:t})}).catch(e=>window.alert(`Cannot read interfaces: ${e}`))}renderItem(e,t){var o,a,i;const n=y.getValue(this.props.data,this.props.attr),s=(o=this.state.interfaces)==null?void 0:o.find(c=>c.value===n);return l().createElement(u.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},(a=this.state.interfaces)!=null&&a.length&&this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,(i=this.state.interfaces)!=null&&i.length?l().createElement(u.Select,{variant:"standard",error:!!e,disabled:!!t,value:n,renderValue:c=>s?l().createElement("span",null,s.value,l().createElement("span",{className:this.props.classes.address},s.address)):c,onChange:c=>this.onChange(this.props.attr,c.target.value)},this.state.interfaces.map((c,p)=>l().createElement(u.MenuItem,{key:p,value:c.value},l().createElement("span",null,c.value,l().createElement("span",{className:this.props.classes.address},c.address))))):l().createElement(u.TextField,{fullWidth:!0,variant:"standard",error:!!e,disabled:!!t,value:n,onChange:c=>this.onChange(this.props.attr,c.target.value),label:this.getText(this.props.schema.label)}),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}No.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const gd=(0,b.withStyles)(fd)(No),yd=r=>({modalDialog:{minWidth:400,maxWidth:800},overflowHidden:{display:"flex",overflow:"hidden"},titleIcon:{marginRight:5},content:{fontSize:16},languageButton:{position:"absolute",right:r.spacing(1),top:r.spacing(1)},languageButtonActive:{color:r.palette.primary.main}}),lr=({toggleTranslation:r,noTranslation:e,title:t,fullWidth:n,help:s,maxWidth:o,progress:a,icon:i,applyDisabled:c,applyButton:p,classes:f,onClose:C,children:v,titleButtonApply:P,titleButtonClose:S,onApply:k,textInput:O,defaultValue:_,overflowHidden:L})=>{const[q,G]=(0,V.useState)(_);(0,V.useEffect)(()=>{G(_)},[_]);let X=null;return i&&(X=i),l().createElement(u.Dialog,{open:!0,maxWidth:o||"md",fullWidth:!!n,disableEscapeKeyDown:!1,onClose:C,classes:{paper:f.modalDialog}},t&&l().createElement(u.DialogTitle,null,i?l().createElement(X,{className:f.titleIcon}):null,t,h.I18n.getLanguage()!=="en"&&r?l().createElement(u.IconButton,{size:"large",className:h.Utils.clsx(f.languageButton,e&&f.languageButtonActive),onClick:()=>r(),title:h.I18n.t("Disable/Enable translation")},l().createElement(D.Language,null)):null),l().createElement(u.DialogContent,{className:h.Utils.clsx(L?f.overflowHidden:null,f.content),style:{paddingTop:8}},O&&l().createElement(u.TextField,{autoComplete:"off",fullWidth:!0,autoFocus:!0,variant:"outlined",size:"medium",multiline:!0,value:q,onChange:Q=>G(Q.target.value)}),v,s?l().createElement("div",null,s):null),l().createElement(u.DialogActions,null,p&&l().createElement(u.Button,{startIcon:l().createElement(D.Check,null),disabled:a||c&&_===q,onClick:()=>k(O?q:""),variant:"contained",color:"primary"},h.I18n.t(P)),l().createElement(u.Button,{color:"grey",onClick:C,disabled:a,variant:"contained",startIcon:l().createElement(D.Close,null)},h.I18n.t(S))))};lr.defaultProps={onApply:()=>{},onClose:()=>{},applyButton:!0,applyDisabled:!1,titleButtonClose:"Cancel",titleButtonApply:"Ok",overflowHidden:!1,help:""},lr.propTypes={icon:d().object,onClose:d().func,children:d().any,titleButtonClose:d().string,titleButtonApply:d().string,onApply:d().func,fullWidth:d().bool,maxWidth:d().string,applyButton:d().bool,applyDisabled:d().bool,overflowHidden:d().bool,help:d().string,noTranslation:d().bool,toggleTranslation:d().func};const Dd=(0,b.withStyles)(yd)(lr);var Cd=$(58093),bd=$.n(Cd),Bm=$(97726),$m=$(51197),Vm=$(9285),jm=$(44210),Wm=$(82292);const vd={jsonError:{border:"1px solid red",minHeight:200},jsonNoError:{border:"1px solid #00000000",minHeight:200}};function Ad(r){return l().createElement(bd(),{className:r.error===!0?r.classes.jsonError:r.error===!1?r.classes.jsonNoError:void 0,mode:r.mode||"json",width:"100%",height:"100%",showPrintMargin:r.editValueMode,showGutter:r.editValueMode,highlightActiveLine:r.editValueMode,defaultValue:r.defaultValue,theme:r.themeType==="dark"?"clouds_midnight":"chrome",value:r.value,readOnly:!r.onChange,onChange:e=>r.onChange(e),name:r.name||"UNIQUE_ID_OF_DIV1",fontSize:r.fontSize||14,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:r.editValueMode,tabSize:r.editValueMode?2:void 0},editorProps:{$blockScrolling:!0}})}const xd=(0,b.withStyles)(vd)(Ad),wd=()=>({fullWidth:{width:"100%"},flex:{display:"flex"},button:{height:48,minWidth:48},wrapper:{width:"calc(100vw - 40px)",height:"calc(100vh - 188px)"}});class Vs extends y{componentDidMount(){return dt(this,null,function*(){Wt(Vs.prototype,this,"componentDidMount").call(this);const{data:e,attr:t}=this.props,n=y.getValue(e,t)||{};this.setState({value:n,initialized:!0})})}renderItem(){if(!this.state.initialized)return null;const{classes:e,schema:t,data:n,attr:s}=this.props,{value:o,showSelectId:a}=this.state;return l().createElement(u.FormControl,{className:e.fullWidth,variant:"standard"},l().createElement("div",{className:e.flex},l().createElement(u.Button,{color:"grey",className:e.button,size:"small",variant:"outlined",onClick:()=>this.setState({showSelectId:!0})},h.I18n.t("ra_JSON editor"))),a?l().createElement(Dd,{title:this.getText(t.label),open:a,overflowHidden:!0,onClose:()=>this.setState({showSelectId:!1,value:y.getValue(n,s)||{}}),onApply:()=>this.setState({showSelectId:!1},()=>this.onChange(s,o))},l().createElement("div",{className:e.wrapper},l().createElement(xd,{value:typeof o=="object"?JSON.stringify(o):o,onChange:i=>this.setState({value:i}),name:"ConfigJsonEditor",themeType:this.props.themeType}))):null,t.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}Vs.propTypes={socket:d().object.isRequired,themeType:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const Ed=(0,b.withStyles)(wd)(Vs),Sd={fullWidth:{width:"100%"}},Fd=[{value:"en",label:"English"},{value:"de",label:"Deutsch"},{value:"ru",label:"\u0440\u0443\u0441\u0441\u043A\u0438\u0439"},{value:"pt",label:"Portugues"},{value:"nl",label:"Nederlands"},{value:"fr",label:"fran\xE7ais"},{value:"it",label:"Italiano"},{value:"es",label:"Espanol"},{value:"pl",label:"Polski"},{value:"uk",label:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0438\u0439"},{value:"zh-ch",label:"\u7B80\u4F53\u4E2D\u6587"}];class Td extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr),t=[...Fd];this.props.schema.system?t.unshift({value:"",label:h.I18n.t("ra_System language")}):t.unshift({value:"",label:h.I18n.t("ra_none")}),this.setState({value:this.props.schema.system?e||"":e||h.I18n.getLanguage(),selectOptions:t})}renderItem(e,t){var s,o;if(!this.state.selectOptions)return null;const n=(s=this.state.selectOptions)==null?void 0:s.find(a=>a.value===this.state.value||!a.value&&!this.state.value);return l().createElement(u.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!e,disabled:t,value:this.state.value||"_",renderValue:()=>this.getText(n==null?void 0:n.label,this.props.schema.noTranslation),onChange:a=>{let{value:i}=a.target;i==="_"&&(i=""),this.setState({value:i},()=>{if(this.onChange(this.props.attr,i),this.props.schema.changeGuiLanguage)if(i){if(i===h.I18n.getLanguage())return;h.I18n.setLanguage(i),this.props.changeLanguage&&this.props.changeLanguage()}else this.props.socket.getSystemConfig().then(c=>{c.common.language!==h.I18n.getLanguage()&&c.common.language&&(h.I18n.setLanguage(c.common.language),this.props.changeLanguage&&this.props.changeLanguage())})})}},(o=this.state.selectOptions)==null?void 0:o.map(a=>l().createElement(u.MenuItem,{key:a.value,value:a.value},a.label))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const kd=(0,b.withStyles)(Sd)(Td);class Oo extends y{constructor(e){super(e),this.scrollRef=l().createRef(),this.noPlaceRequired=!0}scrolledDown(){return this.scrollRef.current?this.scrollRef.current.offsetHeight+this.scrollRef.current.scrollTop>=this.scrollRef.current.scrollHeight:!1}componentDidMount(){super.componentDidMount(),y.getValue(this.props.data,this.props.attr)||(this.props.schema.licenseUrl?(this.setState({showLicenseDialog:!0,loading:!0,scrolledDown:!1}),fetch(this.props.schema.licenseUrl).then(e=>e.text()).then(e=>this.setState({license:e,loading:!1})).catch(e=>this.setState({license:e.toString(),loading:!1,error:!0,scrolledDown:!1}))):this.setState({showLicenseDialog:!0,scrolledDown:!1}),setTimeout(()=>{this.scrollRef.current&&(this.scrolledDown()?this.setState({scrolledDown:!0}):this.scrollRef.current.addEventListener("scroll",()=>{!this.state.scrolledDown&&this.scrolledDown()&&this.setState({scrolledDown:!0})}))},1e3))}renderItem(){return this.state.showLicenseDialog?l().createElement(u.Dialog,{maxWidth:"lg",open:!0,onClose:(e,t)=>{t!=="escapeKeyDown"&&t!=="backdropClick"&&this.setState({showLicenseDialog:!1})}},l().createElement(u.DialogTitle,null,this.props.schema.title?h.I18n.t(this.props.schema.title):h.I18n.t("ra_License agreement")),l().createElement(u.DialogContent,null,this.props.schema.licenseUrl?l().createElement(l().Fragment,null,this.state.loading?l().createElement(u.LinearProgress,null):null,l().createElement("pre",{ref:this.scrollRef,style:{width:"100%",height:"100%",overflowY:"auto",fontSize:14}},this.state.license)):null,!this.props.schema.licenseUrl&&this.props.schema.texts?l().createElement("div",{ref:this.scrollRef,style:{width:"100%",height:"100%",overflowY:"auto",fontSize:14}},this.props.schema.texts.map(e=>this.props.schema.noTranslation?l().createElement("p",null,e):l().createElement("p",null,h.I18n.t(e)))):null),l().createElement(u.DialogActions,null,this.props.schema.checkBox?l().createElement(u.FormControlLabel,{control:l().createElement(u.Checkbox,{checked:!!this.state.licenseChecked,onClick:()=>this.setState({licenseChecked:!this.state.licenseChecked})}),label:h.I18n.t(this.props.schema.checkBox)}):null,l().createElement(u.Button,{disabled:this.state.loading||this.state.error||this.props.schema.checkBox&&!this.state.licenseChecked||!this.state.scrolledDown,onClick:()=>{this.setState({showLicenseDialog:null}),this.onChange(this.props.attr,!0)},color:"primary",variant:"contained",startIcon:l().createElement(D.Check,null)},this.props.schema.agreeText?h.I18n.t(this.props.schema.agreeText):h.I18n.t("ra_Accept license")),l().createElement(u.Button,{onClick:()=>{this.setState({showLicenseDialog:!1}),setTimeout(()=>this.setState({showLicenseDialog:!0}),2e3)},color:"grey",variant:"contained",startIcon:l().createElement(D.Close,null)},h.I18n.t("ra_Close")))):null}}Oo.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const Id=Oo,Pd={indeterminate:{opacity:.5},control:{flexDirection:"row",width:"100%"}};class Md extends y{constructor(){super(...arguments);je(this,"updateTimeout")}componentDidMount(){super.componentDidMount();let t=y.getValue(this.props.data,this.props.attr);if(t==null&&(t=""),Array.isArray(t)&&this.props.multiEdit){t=y.DIFFERENT_VALUE,this.setState({_value:t,oldValue:t});return}this.setState({_value:t.toString(),oldValue:t.toString()})}static getDerivedStateFromProps(t,n){if(t.schema.min!==void 0&&t.schema.min<0||t.schema.max!==void 0&&t.schema.max<0)return null;const s=y.getValue(t.data,t.attr);return t.multiEdit&&n._value===y.DIFFERENT_VALUE?y.DIFFERENT_VALUE:s==null||n.oldValue===null||n.oldValue===void 0||s.toString()!==parseFloat(n._value).toString()&&s.toString()!==n.oldValue.toString()?{_value:s}:null}checkValue(t){if(t==null)return null;t=t.toString().trim();const n=t===""?0:parseFloat(t);return t!==""&&Number.isNaN(n)?"ra_Not a number":t!==""&&window.isFinite(n)?this.props.schema.min!==void 0&&n<this.props.schema.min?"ra_Too small":this.props.schema.max!==void 0&&n>this.props.schema.max?"ra_Too big":t===""||t==="-"||Number.isNaN(n)?"ra_Not a number":null:"ra_Not a number"}renderItem(t,n){const s=Array.isArray(this.state._value)||this.state._value===y.DIFFERENT_VALUE;if(this.state.oldValue!==null&&this.state.oldValue!==void 0?(this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>{this.updateTimeout=void 0,this.setState({oldValue:null})},30)):this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updateTimeout=void 0),s){const a=[...y.getValue(this.props.data,this.props.attr)].map(i=>({label:i.toString(),value:i}));return a.unshift({label:h.I18n.t(y.DIFFERENT_LABEL),value:y.DIFFERENT_VALUE}),l().createElement(u.Autocomplete,{className:this.props.classes.indeterminate,fullWidth:!0,freeSolo:!0,value:a[0],getOptionSelected:(i,c)=>i.label===c.label,onChange:(i,c)=>{this.onChange(this.props.attr,c==null?void 0:c.value,()=>{this.setState({_value:c==null?void 0:c.value,oldValue:this.state._value})})},options:a,getOptionLabel:i=>i.label,renderInput:i=>l().createElement(u.TextField,Ht(ut({},i),{label:this.getText(this.props.schema.label),variant:"standard",inputProps:Ht(ut({},i.inputProps),{readOnly:this.props.schema.readOnly||!1}),error:!!t,placeholder:this.getText(this.props.schema.placeholder),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:!!n}))})}return!t&&this.state._value!==null&&this.state._value!==void 0&&this.state._value&&(t=this.checkValue(this.state._value),t&&(t=h.I18n.t(t))),l().createElement(u.FormControl,{variant:"standard",className:this.props.classes.control},l().createElement(u.TextField,{variant:"standard",type:"number",fullWidth:!0,inputProps:{min:this.props.schema.min,max:this.props.schema.max,step:this.props.schema.step,readOnly:this.props.schema.readOnly||!1},value:this.state._value===null||this.state._value===void 0?"":this.state._value,error:!!t,disabled:!!n,onChange:o=>{const a=o.target.value,i=this.checkValue(a);i?this.onError(this.props.attr,h.I18n.t(i)):this.onError(this.props.attr),this.setState({_value:a,oldValue:this.state._value},()=>this.onChange(this.props.attr,parseFloat(a)))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:t&&typeof t=="string"?t:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}))}}const Nd=(0,b.withStyles)(Pd)(Md),Od=()=>({fullWidth:{width:"100%"},flex:{display:"flex"},button:{height:48,marginLeft:4,minWidth:48}});class js extends y{componentDidMount(){return dt(this,null,function*(){Wt(js.prototype,this,"componentDidMount").call(this);const{data:e,attr:t}=this.props,n=y.getValue(e,t)||"";this.setState({value:n,initialized:!0})})}renderItem(e,t){if(!this.state.initialized)return null;const{classes:n,schema:s,socket:o,attr:a}=this.props,{value:i,showSelectId:c}=this.state;return l().createElement(u.FormControl,{className:n.fullWidth,variant:"standard"},s.label?l().createElement(u.InputLabel,{shrink:!0},this.getText(s.label)):null,l().createElement("div",{className:n.flex},l().createElement(u.TextField,{variant:"standard",fullWidth:!0,value:i,error:!!e,disabled:t,placeholder:this.getText(s.placeholder),label:this.getText(s.label),helperText:this.renderHelp(s.help,s.helpLink,s.noTranslation),onChange:p=>{const f=p.target.value;this.setState({value:f},()=>this.onChange(a,f))}}),l().createElement(u.Button,{color:"grey",className:this.props.classes.button,size:"small",variant:"outlined",onClick:()=>this.setState({showSelectId:!0})},"...")),c?l().createElement(h.SelectID,{imagePrefix:this.props.imagePrefix===void 0?"../..":this.props.imagePrefix,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,dialogName:`admin.${this.props.adapterName}`,filterFunc:s.filterFunc,themeType:this.props.themeType,types:s.types?Array.isArray(s.types)?s.types:[s.types]:void 0,customFilter:s.customFilter,filters:s.filters,socket:o,statesOnly:s.all===void 0?!0:s.all,selected:i,root:s.root,onClose:()=>this.setState({showSelectId:!1}),onOk:p=>this.setState({showSelectId:!1,value:p},()=>this.onChange(a,p))}):null)}}js.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func,dateFormat:d().string,isFloatComma:d().bool,imagePrefix:d().string};const _d=(0,b.withStyles)(Od)(js),Rd=r=>({fullWidth:{width:"100%",display:"inline-block"},halfWidth1:{width:`calc(50% - ${r.spacing(.5)})`,display:"inline-block",marginRight:r.spacing(1)},halfWidth2:{width:`calc(50% - ${r.spacing(.5)})`,display:"inline-block"}}),os="____ppp____";class _o extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr);this.setState({_repeat:e?os:"",_visible:!1,value:e?os:"",_notEqual:!1})}onChangePassword(e,t){e===void 0&&(e=this.state.value),t===void 0&&(t=this.state._repeat);const n=!!this.props.schema.repeat&&t!==e;this.setState({value:e,_repeat:t,_notEqual:n},()=>{n?this.onError(this.props.attr,h.I18n.t("ra_Passwords are not equal!")):(this.onError(this.props.attr),this.onChange(this.props.attr,e))})}renderItem(e,t){if(this.state._notEqual===void 0)return null;const n=l().createElement(u.TextField,{variant:"standard",fullWidth:!0,type:this.state._visible&&this.state.value!==os?"text":"password",value:this.state.value,error:!!e||this.state._notEqual,disabled:!!t,onChange:s=>this.onChangePassword(s.target.value),label:this.getText(this.props.schema.label),inputProps:{autoComplete:"new-password",form:{autoComplete:"off"},maxLength:this.props.schema.maxLength||this.props.schema.max||void 0},helperText:this.state._notEqual?h.I18n.t("ra_Passwords are not equal!"):this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),InputProps:{endAdornment:this.state.value&&this.state.value!==os&&this.props.schema.visible?l().createElement(u.InputAdornment,{position:"end"},l().createElement(u.IconButton,{size:"large",tabIndex:-1,onClick:s=>{s.preventDefault(),s.stopPropagation(),this.setState({_visible:!this.state._visible})},edge:"end"},this.state._visible?l().createElement(D.VisibilityOff,null):l().createElement(D.Visibility,null))):void 0}});if(this.props.schema.repeat){const s=l().createElement(u.TextField,{variant:"standard",fullWidth:!0,type:this.state._visible&&this.state._repeat!==os?"text":"password",value:this.state._repeat,error:!!e||this.state._notEqual,disabled:!!t,onChange:o=>this.onChangePassword(void 0,o.target.value),label:`${this.getText(this.props.schema.label)} (${h.I18n.t("ra_repeat")})`,inputProps:{autoComplete:"new-password",form:{autoComplete:"off"},maxLength:this.props.schema.maxLength||this.props.schema.max||void 0},helperText:this.state._notEqual?h.I18n.t("ra_Passwords are not equal!"):this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),InputProps:{endAdornment:this.state._repeat&&this.state._repeat!==os?l().createElement(u.InputAdornment,{position:"end"},l().createElement(u.IconButton,{size:"large",tabIndex:-1,onClick:o=>{o.preventDefault(),o.stopPropagation(),this.setState({_visible:!this.state._visible})},edge:"end"},this.state._visible?l().createElement(D.VisibilityOff,null):l().createElement(D.Visibility,null))):void 0}});return l().createElement("div",{className:this.props.classes.fullWidth},l().createElement("div",{className:this.props.classes.halfWidth1},n),l().createElement("div",{className:this.props.classes.halfWidth2},s))}return n}}_o.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const Ld=(0,b.withStyles)(Rd)(_o);class Ro extends y{renderItem(e,t){return l().createElement(u.TextField,{variant:"standard",fullWidth:!0,disabled:!!t,InputProps:{endAdornment:this.props.schema.copyToClipboard?l().createElement(u.IconButton,{size:"small",onClick:()=>{h.Utils.copyToClipboard(this.getPattern(this.props.schema.pattern)),window.alert("Copied")}},l().createElement(h.IconCopy,null)):void 0},value:this.getPattern(this.props.schema.pattern),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}Ro.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const Bd=Ro,$d={indeterminate:{opacity:.5},control:{flexDirection:"row",width:"100%"},warning:{"& .Mui-error":{color:"orange"}}};class cr extends y{constructor(){super(...arguments);je(this,"updateTimeout")}componentDidMount(){return dt(this,null,function*(){Wt(cr.prototype,this,"componentDidMount").call(this);let t=y.getValue(this.props.data,this.props.attr);t==null&&(t=""),this.setState({_value:t.toString(),oldValue:t.toString()});const n=yield this.props.socket.getAdapterInstances(),s=`system.adapter.${this.props.adapterName}.${this.props.instance}`,o=yield this.props.socket.getObject(s),a=o==null?void 0:o.common.host,i=[];n.forEach(c=>{var f,C,v,P;if(!c||c._id===s||c.common.host!==a||!((f=c.native)!=null&&f.bind))return;if(c!=null&&c.native&&c.native.secure&&c.native.leEnabled&&c.native.leUpdate){const S=parseInt(c.native.leCheckPort||c.native.lePort,10);S&&i.push({name:`${c._id.replace("system.adapter.","")} (LE)`,port:S,v6bind:c.native.bind.includes(":")?c.native.bind:c.native.v6bind,bind:c.native.bind,enabled:!!((C=c.common)!=null&&C.enabled)})}const p=parseInt((v=c==null?void 0:c.native)==null?void 0:v.port,10);p&&i.push({name:c._id.replace("system.adapter.",""),bind:c.native.bind,v6bind:c.native.bind.includes(":")?c.native.bind:c.native.v6bind,port:p,enabled:!!((P=c.common)!=null&&P.enabled)})}),this.setState({ports:i})})}static getDerivedStateFromProps(t,n){const s=y.getValue(t.data,t.attr);return s==null||n.oldValue===null||n.oldValue===void 0||s.toString()!==parseInt(n._value,10).toString()&&s.toString()!==n.oldValue.toString()?{_value:s}:null}checkValue(t){if(t==null)return null;const n=this.props.schema.min===void 0?20:this.props.schema.min,s=this.props.schema.max||65535;t=t.toString().trim();const o=t===""?0:parseInt(t,10);return t!==""&&Number.isNaN(o)?"ra_Not a number":t!==""&&window.isFinite(Number(t))?o<n?"ra_Too small":o>s?"ra_Too big":t===""||t==="-"||Number.isNaN(o)?"ra_Not a number":null:"ra_Not a number"}renderItem(t,n){this.state.oldValue!==null&&this.state.oldValue!==void 0?(this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>{this.updateTimeout=void 0,this.setState({oldValue:null})},30)):this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updateTimeout=void 0);const s=this.props.schema.min===void 0?20:this.props.schema.min,o=this.props.schema.max||65535;let a;if(this.state.ports){const i=parseInt(this.state._value,10);if(i){const c=this.state.ports.filter(f=>!this.props.data.bind||this.props.data.bind===f.bind||this.props.data.bind==="0.0.0.0"||f.bind==="0.0.0.0");let p=c.findIndex(f=>f.port===i&&f.enabled);p!==-1?t=h.I18n.t("ra_Port is already used by %s",this.state.ports[p].name):(p=c.findIndex(f=>f.port===i&&!f.enabled),p!==-1&&(a=!0,t=h.I18n.t("ra_Port could be used by %s",this.state.ports[p].name)))}}return!t&&this.state._value!==null&&this.state._value!==void 0&&(t=this.checkValue(this.state._value),typeof t=="string"&&(t=h.I18n.t(t))),l().createElement(u.TextField,{variant:"standard",type:"number",fullWidth:!0,inputProps:{min:s,max:o,readOnly:this.props.schema.readOnly||!1},value:this.state._value===null||this.state._value===void 0?"":this.state._value,error:!!t,disabled:!!n,className:a?this.props.classes.warning:"",onChange:i=>{const c=Number(i.target.value.toString().replace(/[^0-9]/g,"")).toString(),p=this.checkValue(c);p?this.onError(this.props.attr,h.I18n.t(p)):this.onError(this.props.attr),this.setState({_value:c,oldValue:this.state._value},()=>{c.trim()===parseInt(c,10).toString()&&this.onChange(this.props.attr,parseInt(c,10)||0)})},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:t&&typeof t=="string"?t:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const Vd=(0,b.withStyles)($d)(cr),jd=()=>({fullWidth:{width:"100%"}});class Lo extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr);this.props.socket.getEnums("rooms").then(t=>{const n=Object.keys(t).map(s=>({value:this.props.schema.short?s.replace("enum.rooms.",""):s,label:this.getText(t[s].common.name),obj:t[s]}));this.props.schema.allowDeactivate!==!1&&n.unshift({label:h.I18n.t(y.NONE_LABEL),value:y.NONE_VALUE}),this.setState({value:e,selectOptions:n})})}renderItem(e,t){if(!this.state.selectOptions)return null;const n=this.state.selectOptions.find(s=>s.value===this.state.value);return l().createElement(u.FormControl,{variant:"standard",className:this.props.classes.fullWidth},this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!e,disabled:!!t,value:this.state.value||"_",renderValue:()=>n?n.obj?l().createElement(h.TextWithIcon,{value:n.obj,themeType:this.props.themeType,lang:h.I18n.getLanguage()}):n.label:"",onChange:s=>{this.setState({value:s.target.value==="_"?"":s.target.value},()=>this.onChange(this.props.attr,this.state.value))}},this.state.selectOptions.map(s=>l().createElement(u.MenuItem,{key:s.value,value:s.value,style:s.value===y.DIFFERENT_VALUE?{opacity:.5}:{}},s.obj?l().createElement(h.TextWithIcon,{value:s.obj,themeType:this.props.themeType,lang:h.I18n.getLanguage()}):s.label))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}Lo.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const Wd=(0,b.withStyles)(jd)(Lo),Ud=()=>({fullWidth:{width:"100%"},noMargin:{"&>div":{marginTop:0}}});class Bo extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr),t=[];(this.props.schema.options||[]).forEach(n=>{if(Array.isArray(n.items)){t.push({label:n.label,value:n.value,group:!0}),n.items=n.items.forEach(s=>t.push(s));return}t.push(n)}),Array.isArray(e)?(this.initialValue=[...e],t.unshift({label:h.I18n.t(y.DIFFERENT_LABEL),value:y.DIFFERENT_VALUE}),this.setState({value:y.DIFFERENT_VALUE,selectOptions:t})):this.setState({value:e,selectOptions:t})}renderItem(e,t){if(!this.state.selectOptions)return null;const n=(this.state.selectOptions||[]).filter(o=>o.hidden?this.props.custom?!this.executeCustom(o.hidden,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!this.execute(o.hidden,this.props.schema.default,this.props.data,this.props.arrayIndex,this.props.globalData):!0),s=n.find(o=>o.value==this.state.value);return l().createElement(u.FormControl,{variant:"standard",className:h.Utils.clsx(this.props.classes.fullWidth,this.props.table!==void 0&&this.props.classes.noMargin),id:`jsonSelect_${this.props.schema.attr}_${this.props.index||this.props.index===0?this.props.index:""}`},this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!e,disabled:!!t,value:this.state.value||"_",renderValue:()=>this.getText(s==null?void 0:s.label,this.props.schema.noTranslation),onChange:o=>{this.setState({value:o.target.value==="_"?"":o.target.value},()=>{this.state.value===y.DIFFERENT_VALUE?this.onChange(this.props.attr,this.initialValue):this.onChange(this.props.attr,this.state.value)})}},n.map((o,a)=>o.group?l().createElement(u.ListSubheader,{key:a},this.getText(o.label,this.props.schema.noTranslation)):l().createElement(u.MenuItem,{key:a,value:o.value,style:o.value===y.DIFFERENT_VALUE?{opacity:.5}:{}},this.getText(o.label,this.props.schema.noTranslation)))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}Bo.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const Hd=(0,b.withStyles)(Ud)(Bo),zd={fullWidth:{width:"100%"},menuPaper:{maxHeight:800}};class Jd extends y{componentDidMount(){super.componentDidMount(),this.askInstance()}askInstance(){if(this.props.alive){let e=this.props.schema.data;if(e===void 0&&this.props.schema.jsonData){const t=this.getPattern(this.props.schema.jsonData);try{e=JSON.parse(t)}catch(n){console.error(`Cannot parse json data: ${t}`)}}e===void 0&&(e=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",e).then(t=>this.setState({list:t,context:this.getContext()}))}else{const e=y.getValue(this.props.data,this.props.attr);this.setState({value:e})}}getContext(){const e={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(t=>e[t]=y.getValue(this.props.data,t)),JSON.stringify(e)}_getValue(){let e=this.state.value===null||this.state.value===void 0?y.getValue(this.props.data,this.props.attr):this.state.value;return this.props.schema.multiple&&(typeof e=="string"?e=[e]:e==null&&(e=[])),e}renderItem(e,t){this.props.alive&&this.getContext()!==this.state.context&&setTimeout(()=>this.askInstance(),300);const n=this._getValue();if(!this.props.alive)return this.props.schema.multiple||this.props.schema.manual===!1?h.I18n.t("ra_Cannot retrieve options, as instance is offline"):l().createElement(u.TextField,{variant:"standard",fullWidth:!0,value:n,error:!!e,disabled:!!t,onChange:a=>{const i=a.target.value;this.setState({value:i},()=>this.onChange(this.props.attr,(i||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),InputProps:{endAdornment:this.state.value&&!this.props.schema.noClearButton?l().createElement(u.InputAdornment,{position:"end"},l().createElement(u.IconButton,{size:"small",onClick:()=>this.setState({value:""},()=>this.onChange(this.props.attr,""))},l().createElement(D.Close,null))):null}});if(!this.state.list)return l().createElement(u.CircularProgress,{size:"small"});const s=this.state.list.filter(a=>a.hidden?this.props.custom?!this.executeCustom(a.hidden,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!this.execute(a.hidden,this.props.schema.default,this.props.data,this.props.arrayIndex,this.props.globalData):!0),o=s.find(a=>a.value===n);return l().createElement(u.FormControl,{variant:"standard",className:this.props.classes.fullWidth},this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!e,multiple:this.props.schema.multiple,disabled:!!t,value:n,MenuProps:this.props.schema.multiple?{classes:{paper:this.props.classes.menuPaper}}:void 0,renderValue:a=>this.props.schema.multiple?l().createElement(u.Box,{sx:{display:"flex",flexWrap:"wrap",gap:.5}},a.map(i=>{const c=s.find(p=>p.value===i);if(c||this.props.schema.showAllValues!==!1){const p=(c==null?void 0:c.label)||i;return l().createElement(u.Chip,{key:i,label:p})}return null})):(o==null?void 0:o.label)||a,onChange:a=>{this.onChange(this.props.attr,a.target.value)}},s.map((a,i)=>l().createElement(u.MenuItem,{key:i,value:a.value},this.props.schema.multiple?l().createElement(u.Checkbox,{checked:n.includes(a.value),onClick:()=>{const c=JSON.parse(JSON.stringify(this._getValue())),p=n.indexOf(a.value);p!==-1?c.splice(p,1):(c.push(a.value),c.sort()),this.setState({value:c},()=>this.onChange(this.props.attr,c))}}):null,l().createElement(u.ListItemText,{primary:a.label})))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const Yd=(0,b.withStyles)(zd)(Jd),Kd={fullWidth:{width:"100%"},icon:{width:24,height:24,marginRight:4}};function In(r){return r.split(".").reduce((e,t)=>(e<<8)+parseInt(t,10),0)>>>0}function Gd(r,e){var s,o;const t=(o=(s=r==null?void 0:r.native)==null?void 0:s.hardware)==null?void 0:o.networkInterfaces;if(!t)return null;let n;return Object.keys(t).forEach(a=>t[a].forEach(i=>{i.internal||e.includes(":")&&i.family!=="IPv6"||e.includes(".")&&!e.match(/[^.\d]/)&&i.family!=="IPv4"||(i.family==="IPv4"&&!i.address.startsWith("172")&&(e==="127.0.0.0"||e==="localhost"||e.match(/[^.\d]/))?n=i.address:n||(i.family==="IPv4"&&e.includes(".")&&(In(e)&In(i.netmask),In(i.address)&In(i.netmask)),n=i.address))})),n||Object.keys(t).forEach(a=>t[a].forEach(i=>{i.internal||e.includes(":")&&i.family!=="IPv6"||e.includes(".")&&!e.match(/[^.\d]/)&&i.family!=="IPv4"||(i.family==="IPv6"&&(e==="127.0.0.0"||e==="localhost"||e.match(/[^.\d]/))?n=i.address:n||(i.family==="IPv4"&&e.includes(".")&&(In(e)&In(i.netmask),In(i.address)&In(i.netmask)),n=i.address))})),n||Object.keys(t).forEach(a=>{t[a].forEach(i=>{i.internal||e.includes(":")&&i.family!=="IPv6"||e.includes(".")&&!e.match(/[^.\d]/)&&i.family!=="IPv4"||(e==="127.0.0.0"||e==="localhost"||e.match(/[^.\d]/),n=i.address)})}),n||Object.keys(t).forEach(a=>{t[a].forEach(i=>{i.internal||(n=i.address)})}),n}class ur extends y{componentDidMount(){return dt(this,null,function*(){var t;Wt(ur.prototype,this,"componentDidMount").call(this);let e=window.location.hostname;if(this.props.schema.openUrl){const n=yield this.props.socket.getCurrentInstance(),s=yield this.props.socket.getObject(`system.adapter.${n}`);if(s){const o=yield this.props.socket.getObject(`system.host.${(t=s==null?void 0:s.common)==null?void 0:t.host}`);if(o){const a=Gd(o,window.location.hostname);if(a)e=`${a}:${window.location.port}`;else{console.warn(`Cannot find suitable IP in host ${s.common.host} for ${s._id}`);return}}}}yield new Promise(n=>{this.setState({_error:"",_message:"",hostname:e},n)}),this.props.schema.onLoaded&&this._onClick()})}renderErrorDialog(){return this.state._error?l().createElement(h.Error,{text:this.state._error,onClose:()=>this.setState({_error:""})}):null}renderMessageDialog(){return this.state._message?l().createElement(h.Message,{text:this.state._message,onClose:()=>this.setState({_message:""})}):null}_onClick(){this.props.onCommandRunning(!0),this.setState({running:!0});const e=`${window.location.protocol}//${window.location.host}${window.location.pathname.replace(/\/index\.html$/,"")}`,t=`${window.location.protocol}//${this.state.hostname.split(":").length>3?`[${this.state.hostname}]`:this.state.hostname}${window.location.pathname.replace(/\/index\.html$/,"")}`;let n=this.props.schema.data;if(n===void 0&&this.props.schema.jsonData){const o=this.getPattern(this.props.schema.jsonData,ut({_origin:e,_originIp:t},this.props.data));try{n=JSON.parse(o)}catch(a){console.error(`Cannot parse json data: ${o}`)}}n===void 0&&(n=null),this.props.schema.openUrl&&!n&&(n={_origin:e,_originIp:t});let s;this.props.schema.timeout&&(s=setTimeout(()=>{this.props.onCommandRunning(!1),this.setState({_error:h.I18n.t("ra_Request timed out"),running:!1})},parseInt(this.props.schema.timeout,10)||1e4)),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",n).then(o=>dt(this,null,function*(){if(s&&(clearTimeout(s),s=void 0),o!=null&&o.error)if(this.props.schema.error&&this.props.schema.error[o.error]){let a=this.getText(this.props.schema.error[o.error]);o.args&&o.args.forEach(i=>a=a.replace("%s",i)),this.setState({_error:a})}else this.setState({_error:o.error?h.I18n.t(o.error):h.I18n.t("ra_Error")});else{if(o!=null&&o.reloadBrowser&&this.props.schema.reloadBrowser)window.location.reload();else if(o!=null&&o.openUrl&&this.props.schema.openUrl)window.open(o.openUrl,o.window||this.props.schema.window||"_blank");else if(o!=null&&o.result&&this.props.schema.result&&this.props.schema.result[o.result]){let a=this.getText(this.props.schema.result[o.result]);o.args&&o.args.forEach(i=>a=a.replace("%s",i)),window.alert(a)}if(o!=null&&o.native&&this.props.schema.useNative){for(const[a,i]of Object.entries(o.native))yield this.onChangeAsync(a,i);setTimeout(()=>this.props.forceUpdate(Object.keys(o.native),this.props.data),300)}else o!=null&&o.result?window.alert(typeof o.result=="object"?JSON.stringify(o.result):o.result):window.alert(h.I18n.t("ra_Ok"));o!=null&&o.saveConfig&&this.props.onChange(null,null,null,!0)}})).catch(o=>{this.props.schema.error&&this.props.schema.error[o.toString()]?this.setState({_error:this.getText(this.props.schema.error[o.toString()])}):this.setState({_error:h.I18n.t(o.toString())||h.I18n.t("ra_Error")})}).then(()=>{this.props.onCommandRunning(!1),this.setState({running:!1})})}renderConfirmDialog(){if(!this.state.confirmDialog)return null;const e=this.state.confirmData||this.props.schema.confirm;let t=null;return e.type==="warning"?t=l().createElement(D.Warning,null):e.type==="error"?t=l().createElement(D.Error,null):e.type==="info"&&(t=l().createElement(D.Info,null)),l().createElement(h.Confirm,{title:this.getText(e.title)||h.I18n.t("ra_Please confirm"),text:this.getText(e.text),ok:this.getText(e.ok)||h.I18n.t("ra_Ok"),cancel:this.getText(e.cancel)||h.I18n.t("ra_Cancel"),icon:t||void 0,onClose:n=>this.setState({confirmDialog:!1},()=>n&&this._onClick())})}renderItem(e,t){const n=this.getIcon();return l().createElement("div",{className:this.props.classes.fullWidth},l().createElement(u.Button,{variant:this.props.schema.variant||void 0,color:this.props.schema.color||"grey",className:this.props.classes.fullWidth,disabled:t||!this.props.alive,startIcon:n,title:this.props.alive?this.getText(this.props.schema.title)||"":h.I18n.t("ra_Instance is not alive"),onClick:()=>{this.props.schema.confirm?this.setState({confirmDialog:!0}):this._onClick()}},this.props.schema.showProcess&&this.state.running?l().createElement(u.CircularProgress,{size:20,style:{marginRight:8}}):null,this.getText(this.props.schema.label,this.props.schema.noTranslation)),this.renderErrorDialog(),this.renderMessageDialog())}}const $o=(0,b.withStyles)(Kd)(ur),qd=()=>({fullWidth:{width:"100%"},icon:{width:24,height:24,marginRight:4}});class Vo extends y{_onClick(){return dt(this,null,function*(){var n,s;let e=this.props.schema.val;if(typeof e=="string"&&e.includes("${")){e=this.getPattern(e);const o=yield this.props.socket.getObject(this.props.schema.id);((n=o==null?void 0:o.common)==null?void 0:n.type)==="number"?e=parseFloat(e):((s=o==null?void 0:o.common)==null?void 0:s.type)==="boolean"&&(e=e==="true"||e===!0||e==="1"||e===1)}const t=(this.props.schema.id||"").replace(/%INSTANCE%/g,this.props.instance);try{yield this.props.socket.setState(t,{val:e,ack:!!this.props.schema.ack}),this.props.schema.okText&&window.alert(this.getText(this.props.schema.okText))}catch(o){this.props.schema.error&&this.props.schema.error[o.toString()]?window.alert(this.getText(this.props.schema.error[o.toString()])):window.alert(h.I18n.t(o.toString())||h.I18n.t("ra_Error"))}})}renderConfirmDialog(){if(!this.state.confirmDialog)return null;const e=this.state.confirmData||this.props.schema.confirm;let t=null;return e.type==="warning"?t=l().createElement(D.Warning,null):e.type==="error"?t=l().createElement(D.Error,null):e.type==="info"&&(t=l().createElement(D.Info,null)),l().createElement(h.Confirm,{title:this.getText(e.title)||h.I18n.t("ra_Please confirm"),text:this.getText(e.text),ok:this.getText(e.ok)||h.I18n.t("ra_Ok"),cancel:this.getText(e.cancel)||h.I18n.t("ra_Cancel"),icon:t,onClose:n=>this.setState({confirmDialog:!1},()=>n&&this._onClick())})}renderItem(e,t){return l().createElement(u.Button,{variant:this.props.schema.variant||void 0,color:this.props.schema.color||"grey",className:this.props.classes.fullWidth,disabled:t,onClick:()=>dt(this,null,function*(){this.props.schema.confirm?this.setState({confirmDialog:!0}):yield this._onClick()})},this.props.schema.icon?l().createElement(h.Icon,{src:this.props.schema.icon,className:this.props.classes.icon}):null,this.getText(this.props.schema.label,this.props.schema.noTranslation))}}Vo.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func,adapterName:d().string,instance:d().number,commandRunning:d().bool,onCommandRunning:d().func};const Qd=(0,b.withStyles)(qd)(Vo),Xd=()=>({fullWidth:{width:"100%"},slider:{marginLeft:10,marginRight:10,width:"calc(100% - 20px)"}});class jo extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr);this.setState({_value:e})}static getDerivedStateFromProps(e,t){if(e.schema.min!==void 0&&e.schema.min<0||e.schema.max!==void 0&&e.schema.max<0)return null;const n=y.getValue(e.data,e.attr);return n==null||n.toString()!==parseFloat(t._value).toString()?{_value:n}:null}renderItem(e,t){const n=this.props.schema.min||0,s=this.props.schema.max||100,o=this.props.schema.unit||"",a=[{value:n,label:n+o},{value:s,label:s+o}];return l().createElement(u.Box,{className:this.props.classes.fullWidth},this.props.schema.label?l().createElement(u.Typography,{gutterBottom:!0},this.getText(this.props.schema.label)):null,l().createElement(u.Slider,{className:this.props.classes.slider,value:this.state._value,getAriaValueText:i=>i+o,step:this.props.schema.step||(s-n)/100,valueLabelDisplay:"auto",marks:a,min:n,max:s,disabled:!!t,error:e||"",onChange:i=>{const c=i.target.value;this.setState({_value:c},()=>this.onChange(this.props.attr,c))}}),this.props.schema.help?l().createElement(u.Typography,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}jo.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const Zd=(0,b.withStyles)(Xd)(jo),ep=r=>({fullWidth:{width:"100%",backgroundColor:r.palette.mode==="dark"?"#FFF":"#000",borderStyle:"hidden"},primary:{backgroundColor:r.palette.primary.main},secondary:{backgroundColor:r.palette.secondary.main}});class Wo extends y{renderItem(){return l().createElement("hr",{className:h.Utils.clsx(this.props.classes.fullWidth,this.props.schema.color==="primary"&&this.props.classes.primary,this.props.schema.color==="secondary"&&this.props.classes.secondary),style:{height:this.props.schema.color?this.props.schema.height||2:this.props.schema.height||1,backgroundColor:this.props.schema.color!=="primary"&&this.props.schema.color!=="secondary"&&this.props.schema.color?this.props.schema.color:void 0}})}}Wo.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const tp=(0,b.withStyles)(ep)(Wo),np=r=>({header:{width:"100%",background:r.palette.primary.main,color:r.palette.primary.contrastText,padding:"4px !important",borderRadius:3,marginBlockEnd:0,marginBlockStart:0}});class Uo extends y{renderItem(){switch((this.props.schema.size||5).toString()){case"1":return l().createElement("h1",{className:this.props.classes.header},this.getText(this.props.schema.text,this.props.schema.noTranslation));case"2":return l().createElement("h2",{className:this.props.classes.header},this.getText(this.props.schema.text,this.props.schema.noTranslation));case"3":return l().createElement("h3",{className:this.props.classes.header},this.getText(this.props.schema.text,this.props.schema.noTranslation));case"4":return l().createElement("h4",{className:this.props.classes.header},this.getText(this.props.schema.text,this.props.schema.noTranslation));case"5":default:return l().createElement("h5",{className:this.props.classes.header},this.getText(this.props.schema.text,this.props.schema.noTranslation))}}}Uo.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const sp=(0,b.withStyles)(np)(Uo),rp=()=>({fullWidth:{height:"100%",width:"100%"}});class Ho extends y{renderItem(){let e=this.props.schema.src;return e&&!e.startsWith(".")&&!e.startsWith("http")&&!e.startsWith(`adapter/${this.props.adapterName}/`)&&!e.startsWith(`./adapter/${this.props.adapterName}/`)&&(e=`adapter/${this.props.adapterName}/${e}`),l().createElement("img",{className:this.props.classes.fullWidth,src:e,style:this.props.schema.href?{cursor:"pointer"}:{},onClick:this.props.schema.href?()=>this.props.schema.href&&window.open(this.props.schema.href,"_blank"):null,alt:""})}}Ho.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const op=(0,b.withStyles)(rp)(Ho),ap=r=>({fullWidth:{height:"100%",width:"100%"},link:{textDecoration:"underline",color:r.palette.mode==="dark"?"#4dabf5":"#254e72",cursor:"pointer"}});class zo extends y{renderItem(e,t){if(this.props.schema.button){const s=this.getIcon();return l().createElement(u.Button,{variant:this.props.schema.variant||void 0,color:this.props.schema.color||"grey",className:this.props.classes.fullWidth,disabled:t,startIcon:s,onClick:this.props.schema.href?()=>{const o=this.props.schema.href?this.getText(this.props.schema.href,!0):null;o&&window.open(o,"_blank")}:null},this.getText(this.props.schema.text||this.props.schema.label,this.props.schema.noTranslation))}let n=this.getText(this.props.schema.text||this.props.schema.label,this.props.schema.noTranslation);return n&&(n.includes("<a ")||n.includes("<br")||n.includes("<b>")||n.includes("<i>"))&&(n=h.Utils.renderTextWithA(n)),l().createElement("span",{className:this.props.schema.href?this.props.classes.link:"",onClick:this.props.schema.href?()=>{const s=this.props.schema.href?this.getText(this.props.schema.href,!0):null;s&&window.open(s,"_blank")}:null},n)}}zo.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const Jo=(0,b.withStyles)(ap)(zo),dr=1024*1024,ip=r=>({fullWidth:{width:"100%"},root:{width:"100%"},paper:{width:"100%",marginBottom:r.spacing(2),backgroundColor:"rgba(255, 255, 255, 0.1)"},headerText:{width:"100%"},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},label:{display:"flex",justifyContent:"space-between"},highlight:r.palette.mode==="light"?{color:r.palette.secondary.main}:{color:r.palette.text.primary,backgroundColor:r.palette.secondary.dark},title:{flex:"1 1 100%"},rootTool:{paddingLeft:r.spacing(2),paddingRight:r.spacing(1)},silver:{opacity:.2},flex:{display:"flex",alignItems:"baseline"},filteredOut:{padding:10,display:"flex",textAlign:"center"},buttonEmpty:{width:34,display:"inline-block"},buttonCell:{whiteSpace:"nowrap"},dropZone:{width:"100%",height:100,position:"relative"},dropZoneEmpty:{},uploadDiv:{position:"relative",width:"100%",height:300,opacity:.9,marginTop:30,cursor:"pointer",outline:"none"},uploadDivDragging:{opacity:1,background:"rgba(128,255,128,0.1)"},image:{objectFit:"contain",margin:"auto",display:"flex",width:"100%",height:"100%"},uploadCenterDiv:{margin:5,border:"3px dashed grey",borderRadius:5,width:"calc(100% - 10px)",height:"calc(100% - 10px)",minHeight:300,position:"relative",display:"flex"},uploadCenterIcon:{paddingTop:10,width:48,height:48},uploadCenterText:{fontSize:16},uploadCenterTextAndIcon:{textAlign:"center",position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},buttonRemoveWrapper:{position:"absolute",zIndex:222,right:0},error:{border:"2px solid red",boxSizing:"border-box"}});function lp(r,e,t){e=e||"key";const n=[];return Object.keys(r).forEach(s=>{const o={};o[e]=s,t?(o[t]=r[s],n.push(o)):n.push(Object.assign(o,r[s]))}),n}function Yo(r,e,t){e=e||"key";const n={};return r.forEach(s=>{let o=s[e];o==null&&(o=""),delete s[e],t?n[o]=s[t]:n[o]=s}),n}function cp(r,e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(r[n%r.length].charCodeAt(0)^e.charCodeAt(n));return t}function up(r,e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(r[n%r.length].charCodeAt(0)^e.charCodeAt(n));return t}class qt extends y{constructor(t){super(t);je(this,"filterRefs");je(this,"typingTimer",null);je(this,"secret","Zgfr56gFe87jJOM");je(this,"handleRequestSort",(t,n=!1)=>{const{order:s,orderBy:o}=this.state;if(o){const i=n?s:o===t&&s==="asc"?"desc":"asc",c=this.stableSort(i,t);this.setState({order:i,orderBy:t,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,c))}});je(this,"stableSort",(t,n)=>{const{value:s}=this.state,o=qt.getComparator(t,n),a=s.map((i,c)=>({el:i,index:c}));return a.sort((i,c)=>{const p=o(i.el,c.el);return p!==0?p:i.index-c.index}),a.map(i=>i.el)});je(this,"onDelete",t=>()=>{const n=JSON.parse(JSON.stringify(this.state.value));n.splice(t,1),this.setState({value:n,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))});je(this,"onClone",t=>()=>{const n=JSON.parse(JSON.stringify(this.state.value)),s=JSON.parse(JSON.stringify(n[t]));if(typeof this.props.schema.clone=="string"&&typeof s[this.props.schema.clone]=="string"){let o=1,a=s[this.props.schema.clone];const i=a.match(/(\d+)$/);for(i?(a=a.replace(i[0],""),o=parseInt(i[0],10)+1):a+="_";n.find(c=>c[this.props.schema.clone]===a+o.toString());)o++;s[this.props.schema.clone]=`${s[this.props.schema.clone]}_${o}`}n.splice(t,0,s),this.setState({value:n,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))});je(this,"onChangeWrapper",(t,n)=>{this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=setTimeout((s,o)=>{if(this.typingTimer=null,this.props.schema.encryptedAttributes){const a=JSON.parse(JSON.stringify(s));if(a.forEach(i=>{this.props.schema.encryptedAttributes.forEach(c=>{i[c]&&(i[c]=cp(this.secret,i[c]))})}),this.props.schema.objKeyName){const i=Yo(a,this.props.schema.objKeyName,this.props.schema.objValueName);this.onChange(this.props.attr,i)}else this.onChange(this.props.attr,a)}else if(this.props.schema.objKeyName){const a=Yo(JSON.parse(JSON.stringify(s)),this.props.schema.objKeyName,this.props.schema.objValueName);this.onChange(this.props.attr,a)}else this.onChange(this.props.attr,s);o&&(this.applyFilter(!1,s),this.handleRequestSort(this.state.orderBy,!0))},300,t,n)});je(this,"onAdd",()=>{var o;const{schema:t}=this.props,n=JSON.parse(JSON.stringify(this.state.value)),s=(o=t.items)==null?void 0:o.reduce((a,i)=>{let c;return i.defaultFunc?this.props.custom?c=i.defaultFunc?this.executeCustom(i.defaultFunc,this.props.data,this.props.customObj,this.props.instanceObj,n.length,this.props.data):this.props.schema.default:c=i.defaultFunc?this.execute(i.defaultFunc,this.props.schema.default,this.props.data,n.length,this.props.data):this.props.schema.default:c=i.default===void 0?null:i.default,a[i.attr]=c,a},{});n.push(s),this.setState({value:n},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))});je(this,"applyFilter",(t,n,s)=>{n=n||this.state.value;let o=n.map((a,i)=>i);if(Object.keys(this.filterRefs).forEach(a=>{let i=qt.getFilterValue(this.filterRefs[a]);!t&&i?(i=i.toLowerCase(),o=o.filter(c=>n[c]&&n[c][a]&&n[c][a].toLowerCase().includes(i))):this.filterRefs[a].current&&qt.setFilterValue(this.filterRefs[a],"")}),o.length===n.length&&(o=null),o===null&&this.state.visibleValue===null){s&&s();return}JSON.stringify(o)!==JSON.stringify(this.state.visibleValue)?this.setState({visibleValue:o},()=>s&&s()):s&&s()});this.filterRefs={},this.props.schema.items=this.props.schema.items||[],this.props.schema.items.forEach(n=>{n.filter&&(this.filterRefs[n.attr]=(0,V.createRef)())})}componentDidMount(){return dt(this,null,function*(){Wt(qt.prototype,this,"componentDidMount").call(this);const t=y.getValue(this.props.data,this.props.attr)||[];let n;if(this.props.schema.objKeyName?n=lp(t,this.props.schema.objKeyName,this.props.schema.objValueName):n=t,Array.isArray(t)||(n=[]),this.props.schema.encryptedAttributes){const s=yield this.props.socket.getCompactSystemConfig();this.secret=(s==null?void 0:s.native.secret)||this.secret,t.forEach(o=>{this.props.schema.encryptedAttributes.forEach(a=>{o[a]&&(o[a]=up(this.secret,o[a]))})})}this.setState({value:n,visibleValue:null,orderBy:"",order:"asc",iteration:0,filterOn:[]},()=>this.validateUniqueProps())})}componentWillUnmount(){this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=null,super.componentWillUnmount()}itemTable(t,n,s){const{value:o}=this.state,{schema:a}=this.props,i=a.items&&a.items.find(p=>p.attr===t);if(!i)return null;const c={items:{[t]:i}};return l().createElement(bs,{index:s+this.state.iteration,arrayIndex:s,changed:this.props.changed,globalData:this.props.data,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,alive:this.props.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:n,table:!0,custom:!0,schema:c,systemConfig:this.props.systemConfig,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,imagePrefix:this.props.imagePrefix,onCommandRunning:this.props.onCommandRunning,forceUpdate:this.props.forceUpdate,originalData:this.props.originalData,customs:this.props.customs,onChange:(p,f)=>{const C=JSON.parse(JSON.stringify(o));C[s][p]=f,this.setState({value:C},()=>{this.validateUniqueProps(),this.onChangeWrapper(C,!0)})},onError:(p,f)=>this.onError(p,f)})}validateUniqueProps(){if(this.props.schema.uniqueColumns)for(const t of this.props.schema.uniqueColumns){const n=[];this.state.value.find(o=>{const a=o[t];return n.includes(a)?(this.onError(t,"is not unique"),this.setState({errorMessage:h.I18n.t('Non-allowed duplicate entry "%s" in column "%s"',a,t)}),!0):(n.push(a),!1)})||(this.onError(t,null),this.setState({errorMessage:""}))}}static descendingComparator(t,n,s){return n[s]<t[s]?-1:n[s]>t[s]?1:0}static getComparator(t,n){return t==="desc"?(s,o)=>qt.descendingComparator(s,o,n):(s,o)=>-qt.descendingComparator(s,o,n)}static getFilterValue(t){var n,s,o;return(o=(s=(n=t==null?void 0:t.current)==null?void 0:n.children[0])==null?void 0:s.children[0])==null?void 0:o.value}static setFilterValue(t,n){return t.current.children[0].children[0].value=n}enhancedTableHead(t,n){const{schema:s,classes:o}=this.props,{order:a,orderBy:i}=this.state;return l().createElement(u.TableHead,null,l().createElement(u.TableRow,null,s.items&&s.items.map((c,p)=>l().createElement(u.TableCell,{style:{width:(typeof c.width=="string"&&c.width.endsWith("%"),c.width)},key:`${c.attr}_${p}`,align:"left",sortDirection:i===c.attr?a:!1},l().createElement("div",{className:o.flex,style:s.showFirstAddOnTop?{flexDirection:"column"}:void 0},!p&&!s.noDelete?l().createElement(u.Tooltip,{title:n?h.I18n.t("ra_Cannot add items with set filter"):h.I18n.t("ra_Add row")},l().createElement("span",null,l().createElement(u.IconButton,{size:"small",color:"primary",disabled:!!n&&!this.props.schema.allowAddByFilter,onClick:this.onAdd},l().createElement(D.Add,null)))):null,c.sort&&l().createElement(u.TableSortLabel,{active:!0,className:h.Utils.clsx(i!==c.attr&&o.silver),direction:i===c.attr?a:"asc",onClick:()=>this.handleRequestSort(c.attr)}),c.filter&&this.state.filterOn.includes(c.attr)?l().createElement(u.TextField,{variant:"standard",ref:this.filterRefs[c.attr],onChange:()=>this.applyFilter(),title:h.I18n.t("ra_You can filter entries by entering here some text"),InputProps:{endAdornment:qt.getFilterValue(this.filterRefs[c.attr])&&l().createElement(u.InputAdornment,{position:"end"},l().createElement(u.IconButton,{size:"small",onClick:()=>{qt.setFilterValue(this.filterRefs[c.attr],""),this.applyFilter()}},l().createElement(D.Close,null)))},fullWidth:!0,placeholder:this.getText(c.title)}):l().createElement("span",{className:this.props.classes.headerText},this.getText(c.title)),c.filter?l().createElement(u.IconButton,{title:h.I18n.t("ra_Show/hide filter input"),size:"small",onClick:()=>{const f=[...this.state.filterOn],C=this.state.filterOn.indexOf(c.attr);C===-1?f.push(c.attr):f.splice(C,1),this.setState({filterOn:f},()=>{C&&qt.getFilterValue(this.filterRefs[c.attr])&&(qt.setFilterValue(this.filterRefs[c.attr],""),this.applyFilter())})}},this.state.filterOn.includes(c.attr)?l().createElement(D.FilterAltOff,null):l().createElement(D.FilterAlt,null)):null))),!s.noDelete&&l().createElement(u.TableCell,{style:{paddingLeft:20,paddingRight:20,width:t,textAlign:"right"},padding:"checkbox"},s.import?l().createElement(u.IconButton,{style:{marginRight:10},size:"small",onClick:()=>this.setState({showImportDialog:!0}),title:h.I18n.t("ra_import data from %s file","CSV")},l().createElement(D.UploadFile,null)):null,s.export?l().createElement(u.IconButton,{style:{marginRight:10},size:"small",onClick:()=>this.onExport(),title:h.I18n.t("ra_Export data to %s file","CSV")},l().createElement(D.Download,null)):null,l().createElement(u.IconButton,{disabled:!0,size:"small"},l().createElement(D.Delete,null)))))}onExport(){const{schema:t}=this.props,{value:n}=this.state,o=[t.items.map(c=>c.attr).join(";")];n.forEach(c=>{const p=[];t.items.forEach(f=>{c[f.attr].includes(";")?p.push(`"${c[f.attr]}"`):p.push(c[f.attr])}),o.push(p.join(";"))});const a=document.createElement("a");a.setAttribute("href",`data:text/csv;charset=utf-8,${encodeURIComponent(o.join(`
`))}`);const i=new Date;a.setAttribute("download",`${i.getFullYear()}_${(i.getMonth()+1).toString().padStart(2,"0")}_${i.getDate().toString().padStart(2,"0")}_${this.props.adapterName}.${this.props.instance}_${this.props.attr}.csv`),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}onImport(t){var i;const n=t.split(`
`).map(c=>c.replace("\r","").trim()),{schema:s}=this.props,o=n.shift().split(";").filter(c=>c&&s.items.find(p=>p.attr===c)),a=[];n.forEach(c=>{const p=c.split(";"),f={};for(let C=0;C<p.length;C++){let v=p[C];if(v.startsWith('"')){for(v=v.substring(1);C<p.length&&!v.endsWith('"');)v+=`;${p[++C]}`;v=v.substring(0,v.length-1)}let P=v;if(v==="true")P=!0;else if(v==="false")P=!1;else if(window.isFinite(v)){const S=this.props.schema.items.find(k=>k.attr===o[C]);S&&S.type==="number"?P=parseFloat(v):P=v}else P=v;f[o[C]]=P}a.push(f)}),a.length?(i=this.state.value)!=null&&i.length?this.setState({showTypeOfImportDialog:a,showImportDialog:!1}):this.setState({value:a,showImportDialog:!1}):window.alert("ra_No data found in file")}isAnyFilterSet(){return!!Object.keys(this.filterRefs).find(t=>qt.getFilterValue(this.filterRefs[t]))}onMoveUp(t){const n=JSON.parse(JSON.stringify(this.state.value)),s=n[t];n.splice(t,1),n.splice(t-1,0,s),this.setState({value:n,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))}onMoveDown(t){const n=JSON.parse(JSON.stringify(this.state.value)),s=n[t];n.splice(t,1),n.splice(t+1,0,s),this.setState({value:n,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))}onDrop(t){const n=t[0],s=new FileReader;s.onabort=()=>console.log("file reading was aborted"),s.onerror=()=>console.log("file reading has failed"),s.onload=()=>{if(n.size>dr){window.alert(h.I18n.t("ra_File is too big. Max %sk allowed. Try use SVG.",Math.round(dr/1024)));return}const o=new Uint8Array(s.result).reduce((a,i)=>a+String.fromCharCode(i),"");this.onImport(o)},s.readAsArrayBuffer(n)}showTypeOfImportDialog(){return this.state.showTypeOfImportDialog?l().createElement(u.Dialog,{open:!0,onClose:()=>this.setState({showTypeOfImportDialog:!1}),maxWidth:"md"},l().createElement(u.DialogTitle,null,h.I18n.t("ra_Append or replace?")),l().createElement(u.DialogContent,null,h.I18n.t("ra_Append %s entries or replace existing?",this.state.showTypeOfImportDialog.length)),l().createElement(u.DialogActions,null,l().createElement(u.Button,{variant:"contained",color:"primary",autoFocus:!0,onClick:()=>{const t=JSON.parse(JSON.stringify(this.state.value));this.state.showTypeOfImportDialog.forEach(n=>t.push(n)),this.setState({value:t,iteration:this.state.iteration+1e4,showTypeOfImportDialog:!1},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(t)))}},h.I18n.t("ra_Append")),l().createElement(u.Button,{variant:"contained",color:"secondary",autoFocus:!0,onClick:()=>{const t=this.state.showTypeOfImportDialog;this.setState({value:t,iteration:this.state.iteration+1e4,showTypeOfImportDialog:!1},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(t)))}},h.I18n.t("ra_Replace")))):null}showImportDialog(){return this.state.showImportDialog?l().createElement(u.Dialog,{open:!0,onClose:()=>this.setState({showImportDialog:!1}),maxWidth:"md",fullWidth:!0},l().createElement(u.DialogTitle,null,h.I18n.t("ra_Import from %s","CSV")),l().createElement(u.DialogContent,null,l().createElement(Fo(),{multiple:!1,accept:{"text/csv":[".csv"]},maxSize:dr,onDragEnter:()=>this.setState({uploadFile:"dragging"}),onDragLeave:()=>this.setState({uploadFile:!0}),onDrop:(t,n)=>{this.setState({uploadFile:!1}),t.length?this.onDrop(t):window.alert(n&&n[0]&&n[0].errors&&n[0].errors[0]&&n[0].errors[0].message||h.I18n.t("ra_Cannot upload"))}},({getRootProps:t,getInputProps:n})=>l().createElement("div",ut({className:h.Utils.clsx(this.props.classes.uploadDiv,this.state.uploadFile==="dragging"&&this.props.classes.uploadDivDragging,this.props.classes.dropZone,!this.state.icon&&this.props.classes.dropZoneEmpty)},t()),l().createElement("input",ut({},n())),l().createElement("div",{className:h.Utils.clsx(this.props.classes.uploadCenterDiv)},l().createElement("div",{className:this.props.classes.uploadCenterTextAndIcon},l().createElement(D.UploadFile,{className:this.props.classes.uploadCenterIcon}),l().createElement("div",{className:this.props.classes.uploadCenterText},this.state.uploadFile==="dragging"?h.I18n.t("ra_Drop file here"):h.I18n.t("ra_Place your files here or click here to open the browse dialog"))))))),l().createElement(u.DialogActions,null,l().createElement(u.Button,{variant:"contained",onClick:()=>this.setState({showImportDialog:!1}),color:"primary",startIcon:l().createElement(D.Close,null)},h.I18n.t("Cancel")))):null}renderItem(){const{classes:t,schema:n}=this.props;let{visibleValue:s}=this.state;if(!this.state.value)return null;s=s||this.state.value.map((a,i)=>i);const o=this.isAnyFilterSet();return l().createElement(u.Paper,{className:t.paper},this.showImportDialog(),this.showTypeOfImportDialog(),n.label?l().createElement("div",{className:t.label},l().createElement(u.Toolbar,{variant:"dense",className:t.rootTool},l().createElement(u.Typography,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},this.getText(n.label)))):null,l().createElement(u.TableContainer,null,l().createElement(u.Table,{className:t.table,size:"small"},this.enhancedTableHead(!o&&!this.state.orderBy?120:64,o),l().createElement(u.TableBody,null,s.map((a,i)=>l().createElement(u.TableRow,{hover:!0,key:`${a}_${i}`},n.items&&n.items.map(c=>l().createElement(u.TableCell,{key:`${c.attr}_${a}`,align:"left"},this.itemTable(c.attr,this.state.value[a],a))),!n.noDelete&&l().createElement(u.TableCell,{align:"left",className:t.buttonCell},!o&&!this.state.orderBy?i?l().createElement(u.Tooltip,{title:h.I18n.t("ra_Move up")},l().createElement(u.IconButton,{size:"small",onClick:()=>this.onMoveUp(a)},l().createElement(D.ArrowUpward,null))):l().createElement("div",{className:t.buttonEmpty}):null,!o&&!this.state.orderBy?i<s.length-1?l().createElement(u.Tooltip,{title:h.I18n.t("ra_Move down")},l().createElement(u.IconButton,{size:"small",onClick:()=>this.onMoveDown(a)},l().createElement(D.ArrowDownward,null))):l().createElement("div",{className:t.buttonEmpty}):null,l().createElement(u.Tooltip,{title:h.I18n.t("ra_Delete current row")},l().createElement(u.IconButton,{size:"small",onClick:this.onDelete(a)},l().createElement(D.Delete,null))),this.props.schema.clone?l().createElement(u.Tooltip,{title:h.I18n.t("ra_Clone current row")},l().createElement(u.IconButton,{size:"small",onClick:this.onClone(a)},l().createElement(D.ContentCopy,null))):null))),!n.noDelete&&s.length>=(n.showSecondAddAt||5)?l().createElement(u.TableRow,null,l().createElement(u.TableCell,{colSpan:n.items.length+1},l().createElement(u.Tooltip,{title:o?h.I18n.t("ra_Cannot add items with set filter"):h.I18n.t("ra_Add row")},l().createElement("span",null,l().createElement(u.IconButton,{size:"small",color:"primary",disabled:!!o&&!this.props.schema.allowAddByFilter,onClick:this.onAdd},l().createElement(D.Add,null)))))):null)),!s.length&&this.state.value.length?l().createElement("div",{className:t.filteredOut},l().createElement(u.Typography,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},h.I18n.t("ra_All items are filtered out"),l().createElement(u.IconButton,{size:"small",onClick:()=>this.applyFilter(!0)},l().createElement(D.Close,null)))):null),n.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null,this.state.errorMessage?l().createElement("div",{style:{display:"flex",padding:"5px"}},l().createElement(D.Warning,{color:"error"}),l().createElement("span",{style:{color:"red",alignSelf:"center"}},this.state.errorMessage)):null)}}const dp=(0,b.withStyles)(ip)(qt),pp={indeterminate:{opacity:.5},label:{width:"100%",fontSize:16},helper:{width:"100%",fontSize:12},error:{width:"100%",fontSize:12,color:"#FF0000"}};class hp extends y{constructor(){super(...arguments);je(this,"updateTimeout",null)}componentDidMount(){super.componentDidMount();let t=y.getValue(this.props.data,this.props.attr);if(Array.isArray(t)&&this.props.multiEdit){t=y.DIFFERENT_VALUE,this.setState({value:t,oldValue:t});return}this.setState({value:t,oldValue:t})}static getDerivedStateFromProps(t,n){if(t.multiEdit&&n.value===y.DIFFERENT_VALUE)return y.DIFFERENT_VALUE;let s=y.getValue(t.data,t.attr);return s!=null&&(s=s.toString()),s==null||s!==n.value&&s!==n.oldValue?{value:s}:null}renderItem(t,n){const s=Array.isArray(this.state.value)||this.state.value===y.DIFFERENT_VALUE;if(this.state.oldValue!==null&&this.state.oldValue!==void 0?(this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>{this.updateTimeout=null,this.setState({oldValue:null})},30)):this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updateTimeout=null),s){const a=[...y.getValue(this.props.data,this.props.attr)].map(i=>({label:i.toString(),value:i}));return a.unshift({label:h.I18n.t(y.DIFFERENT_LABEL),value:y.DIFFERENT_VALUE}),l().createElement(u.Autocomplete,{className:this.props.classes.indeterminate,fullWidth:!0,value:a[0],onChange:(i,c)=>{const p=c?c.value:"";this.onChange(this.props.attr,p,()=>{this.setState({value:p,oldValue:p})})},options:a,getOptionLabel:i=>i.label,renderInput:i=>l().createElement(u.TextField,Ht(ut({variant:"standard"},i),{error:!!t,placeholder:this.getText(this.props.schema.placeholder),inputProps:Ht(ut({},i.inputProps),{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:this.props.schema.readOnly||!1}),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:!!n}))})}if(this.props.schema.minRows>1){const o=this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation);return l().createElement("div",{style:{width:"100%"}},this.props.schema.label?l().createElement("div",{className:this.props.classes.label},this.getText(this.props.schema.label)):null,l().createElement(u.TextareaAutosize,{style:{width:"100%",resize:"vertical",backgroundColor:this.props.themeType==="dark"?"#363636":"#cccccc",color:this.props.themeType==="dark"?"#fff":"#111"},minRows:this.props.schema.minRows,maxRows:this.props.schema.maxRows,value:this.state.value===null||this.state.value===void 0?"":this.state.value,disabled:!!n,readOnly:this.props.schema.readOnly||!1,onChange:a=>{const i=a.target.value;this.setState({value:i,oldValue:this.state.value},()=>this.onChange(this.props.attr,i||""))},placeholder:this.getText(this.props.schema.placeholder)}),o||t?l().createElement("div",{className:t?this.props.classes.error:this.props.classes.helper},t||o):null)}return l().createElement(u.TextField,{variant:"standard",fullWidth:!0,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!t,disabled:!!n,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:this.props.schema.readOnly||!1},InputProps:{endAdornment:this.state.value&&!this.props.schema.noClearButton?l().createElement(u.InputAdornment,{position:"end"},l().createElement(u.IconButton,{size:"small",onClick:()=>this.setState({value:"",oldValue:this.state.value},()=>this.onChange(this.props.attr,""))},l().createElement(D.Close,null))):null},onChange:o=>{const a=o.target.value;this.setState({value:a,oldValue:this.state.value},()=>this.onChange(this.props.attr,a))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const mp=(0,b.withStyles)(pp)(hp),fp={fullWidth:{width:"100%"}};class gp extends y{componentDidMount(){super.componentDidMount(),this.askInstance()}askInstance(){if(this.props.alive){let e=this.props.schema.data;if(e===void 0&&this.props.schema.jsonData){const t=this.getPattern(this.props.schema.jsonData);try{e=JSON.parse(t)}catch(n){console.error(`Cannot parse json data: ${t}`)}}e===void 0&&(e=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",e).then(t=>this.setState({text:t||"",context:this.getContext()}))}}getContext(){const e={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(t=>e[t]=y.getValue(this.props.data,t)),JSON.stringify(e)}renderItem(){return this.state.text===void 0?null:(this.props.alive&&this.getContext()!==this.state.context&&setTimeout(()=>this.askInstance(),300),this.props.schema.container==="text"?l().createElement(u.TextField,{variant:"standard",fullWidth:!0,InputProps:{endAdornment:this.props.schema.copyToClipboard?l().createElement(u.IconButton,{size:"small",onClick:()=>{h.Utils.copyToClipboard(this.state.text),window.alert("Copied")}},l().createElement(h.IconCopy,null)):void 0},value:this.state.text,label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}):l().createElement("div",{className:this.props.classes.fullWidth},this.state.text))}}const yp=(0,b.withStyles)(fp)(gp),pr=({adapter:r,value:e,props:t})=>{if(e===null)return null;const{minTime:n,maxTime:s,minutesStep:o,shouldDisableTime:a,disableIgnoringDatePartForTimeValidation:i=!1,disablePast:c,disableFuture:p,timezone:f}=t,C=r.utils.date(void 0,f),v=_n(i,r.utils);switch(!0){case!r.utils.isValid(e):return"invalidDate";case!!(n&&v(n,e)):return"minTime";case!!(s&&v(e,s)):return"maxTime";case!!(p&&r.utils.isAfter(e,C)):return"disableFuture";case!!(c&&r.utils.isBefore(e,C)):return"disablePast";case!!(a&&a(e,"hours")):return"shouldDisableTime-hours";case!!(a&&a(e,"minutes")):return"shouldDisableTime-minutes";case!!(a&&a(e,"seconds")):return"shouldDisableTime-seconds";case!!(o&&r.utils.getMinutes(e)%o!==0):return"minutesStep";default:return null}},Dp=r=>{const e=Zi(r),{forwardedProps:t,internalProps:n}=eo(e,"time");return Xr({forwardedProps:t,internalProps:n,valueManager:$t,fieldValueManager:Mr,validator:pr,valueType:"time"})},Cp=["slots","slotProps","InputProps","inputProps"],Ko=R.forwardRef(function(e,t){var k;const n=(0,Z.useThemeProps)({props:e,name:"MuiTimeField"}),{slots:s,slotProps:o,InputProps:a,inputProps:i}=n,c=(0,qe.A)(n,Cp),p=n,f=(k=s==null?void 0:s.textField)!=null?k:e.enableAccessibleFieldDOMStructure?uo:qr.A,C=(0,Ct.Q)({elementType:f,externalSlotProps:o==null?void 0:o.textField,externalForwardedProps:c,ownerState:p,additionalProps:{ref:t}});C.inputProps=(0,M.A)({},i,C.inputProps),C.InputProps=(0,M.A)({},a,C.InputProps);const v=Dp(C),P=po(v),S=to((0,M.A)({},P,{slots:s,slotProps:o}));return(0,W.jsx)(f,(0,M.A)({},S))});function bp(r){return(0,yt.Ay)("MuiPickersToolbarText",r)}const Go=(0,Dt.A)("MuiPickersToolbarText",["root","selected"]),vp=["className","selected","value"],Ap=r=>{const{classes:e,selected:t}=r,n={root:["root",t&&"selected"]};return(0,gt.A)(n,bp,e)},xp=(0,Z.styled)(Tn.A,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(r,e)=>[e.root,{[`&.${Go.selected}`]:e.selected}]})(({theme:r})=>({transition:r.transitions.create("color"),color:(r.vars||r).palette.text.secondary,[`&.${Go.selected}`]:{color:(r.vars||r).palette.text.primary}})),qo=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersToolbarText"}),{className:s,value:o}=n,a=(0,qe.A)(n,vp),i=Ap(n);return(0,W.jsx)(xp,(0,M.A)({ref:t,className:(0,xt.A)(s,i.root),component:"span"},a,{children:o}))}),wp=["align","className","selected","typographyClassName","value","variant","width"],Ep=r=>{const{classes:e}=r,t={root:["root"]};return(0,gt.A)(t,_r,e)},Sp=(0,Z.styled)(ps.A,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(r,e)=>e.root})({padding:0,minWidth:16,textTransform:"none"}),ys=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiPickersToolbarButton"}),{align:s,className:o,selected:a,typographyClassName:i,value:c,variant:p,width:f}=n,C=(0,qe.A)(n,wp),v=Ep(n);return(0,W.jsx)(Sp,(0,M.A)({variant:"text",ref:t,className:(0,xt.A)(o,v.root)},f?{sx:{width:f}}:{},C,{children:(0,W.jsx)(qo,{align:s,className:i,variant:p,value:c,selected:a})}))});function Fp(r){return(0,yt.Ay)("MuiTimePickerToolbar",r)}const Ds=(0,Dt.A)("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Tp=["ampm","ampmInClock","value","isLandscape","onChange","view","onViewChange","views","disabled","readOnly","className"],kp=r=>{const{isLandscape:e,classes:t,isRtl:n}=r,s={root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",e&&"hourMinuteLabelLandscape",n&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",e&&"ampmLandscape"],ampmLabel:["ampmLabel"]};return(0,gt.A)(s,Fp,t)},Ip=(0,Z.styled)(Rr,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(r,e)=>e.root})({}),Pp=(0,Z.styled)(qo,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(r,e)=>e.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),Mp=(0,Z.styled)("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(r,e)=>[{[`&.${Ds.hourMinuteLabelLandscape}`]:e.hourMinuteLabelLandscape,[`&.${Ds.hourMinuteLabelReverse}`]:e.hourMinuteLabelReverse},e.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{isLandscape:!0},style:{marginTop:"auto"}}]}),Np=(0,Z.styled)("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(r,e)=>[{[`.${Ds.ampmLabel}`]:e.ampmLabel},{[`&.${Ds.ampmLandscape}`]:e.ampmLandscape},e.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${Ds.ampmLabel}`]:{fontSize:17},variants:[{props:{isLandscape:!0},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function Op(r){const e=(0,Z.useThemeProps)({props:r,name:"MuiTimePickerToolbar"}),{ampm:t,ampmInClock:n,value:s,isLandscape:o,onChange:a,view:i,onViewChange:c,views:p,disabled:f,readOnly:C,className:v}=e,P=(0,qe.A)(e,Tp),S=ft(),k=Vt(),O=(0,pn.I)(),_=!!(t&&!n&&p.includes("hours")),{meridiemMode:L,handleMeridiemChange:q}=ir(s,t,a),G=K=>t?S.format(K,"hours12h"):S.format(K,"hours24h"),X=(0,M.A)({},e,{isRtl:O}),Q=kp(X),ee=(0,W.jsx)(Pp,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:Q.separator});return(0,W.jsxs)(Ip,(0,M.A)({landscapeDirection:"row",toolbarTitle:k.timePickerToolbarTitle,isLandscape:o,ownerState:X,className:(0,xt.A)(Q.root,v)},P,{children:[(0,W.jsxs)(Mp,{className:Q.hourMinuteLabel,ownerState:X,children:[Xn(p,"hours")&&(0,W.jsx)(ys,{tabIndex:-1,variant:"h3",onClick:()=>c("hours"),selected:i==="hours",value:s?G(s):"--"}),Xn(p,["hours","minutes"])&&ee,Xn(p,"minutes")&&(0,W.jsx)(ys,{tabIndex:-1,variant:"h3",onClick:()=>c("minutes"),selected:i==="minutes",value:s?S.format(s,"minutes"):"--"}),Xn(p,["minutes","seconds"])&&ee,Xn(p,"seconds")&&(0,W.jsx)(ys,{variant:"h3",onClick:()=>c("seconds"),selected:i==="seconds",value:s?S.format(s,"seconds"):"--"})]}),_&&(0,W.jsxs)(Np,{className:Q.ampmSelection,ownerState:X,children:[(0,W.jsx)(ys,{disableRipple:!0,variant:"subtitle2",selected:L==="am",typographyClassName:Q.ampmLabel,value:ot(S,"am"),onClick:C?void 0:()=>q("am"),disabled:f}),(0,W.jsx)(ys,{disableRipple:!0,variant:"subtitle2",selected:L==="pm",typographyClassName:Q.ampmLabel,value:ot(S,"pm"),onClick:C?void 0:()=>q("pm"),disabled:f})]})]}))}function Qo(r,e){var a,i,c,p;const t=ft(),n=(0,Z.useThemeProps)({props:r,name:e}),s=(a=n.ampm)!=null?a:t.is12HourCycleInCurrentLocale(),o=R.useMemo(()=>{var f;return((f=n.localeText)==null?void 0:f.toolbarTitle)==null?n.localeText:(0,M.A)({},n.localeText,{timePickerToolbarTitle:n.localeText.toolbarTitle})},[n.localeText]);return(0,M.A)({},n,{ampm:s,localeText:o},ws({views:n.views,openTo:n.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{disableFuture:(i=n.disableFuture)!=null?i:!1,disablePast:(c=n.disablePast)!=null?c:!1,slots:(0,M.A)({toolbar:Op},n.slots),slotProps:(0,M.A)({},n.slotProps,{toolbar:(0,M.A)({ampm:s,ampmInClock:n.ampmInClock},(p=n.slotProps)==null?void 0:p.toolbar)})})}function _p(r){return(0,yt.Ay)("MuiTimeClock",r)}const Um=(0,Dt.A)("MuiTimeClock",["root","arrowSwitcher"]),as=220,fn=36,Cs={x:as/2,y:as/2},Xo={x:Cs.x,y:0},Rp=Xo.x-Cs.x,Lp=Xo.y-Cs.y,Bp=r=>r*(180/Math.PI),Zo=(r,e,t)=>{const n=e-Cs.x,s=t-Cs.y,o=Math.atan2(Rp,Lp)-Math.atan2(n,s);let a=Bp(o);a=Math.round(a/r)*r,a%=360;const i=Math.floor(a/r)||0,c=Qt(n,2)+Qt(s,2),p=Math.sqrt(c);return{value:i,distance:p}},$p=(r,e,t=1)=>{const n=t*6;let{value:s}=Zo(n,r,e);return s=s*t%60,s},Vp=(r,e,t)=>{const{value:n,distance:s}=Zo(30,r,e);let o=n||12;return t?o%=12:s<as/2-fn&&(o+=12,o%=24),o};function jp(r){return(0,yt.Ay)("MuiClockPointer",r)}const Hm=(0,Dt.A)("MuiClockPointer",["root","thumb"]),Wp=["className","hasSelected","isInner","type","viewValue"],Up=r=>{const{classes:e}=r,t={root:["root"],thumb:["thumb"]};return(0,gt.A)(t,jp,e)},Hp=(0,Z.styled)("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>({width:2,backgroundColor:(r.vars||r).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{shouldAnimate:!0},style:{transition:r.transitions.create(["transform","height"])}}]})),zp=(0,Z.styled)("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(r,e)=>e.thumb})(({theme:r})=>({width:4,height:4,backgroundColor:(r.vars||r).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${fn/2}px)`,border:`${(fn-4)/2}px solid ${(r.vars||r).palette.primary.main}`,boxSizing:"content-box",variants:[{props:{hasSelected:!0},style:{backgroundColor:(r.vars||r).palette.primary.main}}]}));function Jp(r){const e=(0,Z.useThemeProps)({props:r,name:"MuiClockPointer"}),{className:t,isInner:n,type:s,viewValue:o}=e,a=(0,qe.A)(e,Wp),i=R.useRef(s);R.useEffect(()=>{i.current=s},[s]);const c=(0,M.A)({},e,{shouldAnimate:i.current!==s}),p=Up(c),f=()=>{let v=360/(s==="hours"?12:60)*o;return s==="hours"&&o>12&&(v-=360),{height:Math.round((n?.26:.4)*as),transform:`rotateZ(${v}deg)`}};return(0,W.jsx)(Hp,(0,M.A)({style:f(),className:(0,xt.A)(t,p.root),ownerState:c},a,{children:(0,W.jsx)(zp,{ownerState:c,className:p.thumb})}))}function Yp(r){return(0,yt.Ay)("MuiClock",r)}const zm=(0,Dt.A)("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText"]),Kp=r=>{const{classes:e}=r,t={root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton"],pmButton:["pmButton"],meridiemText:["meridiemText"]};return(0,gt.A)(t,Yp,e)},Gp=(0,Z.styled)("div",{name:"MuiClock",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:r.spacing(2)})),qp=(0,Z.styled)("div",{name:"MuiClock",slot:"Clock",overridesResolver:(r,e)=>e.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),Qp=(0,Z.styled)("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(r,e)=>e.wrapper})({"&:focus":{outline:"none"}}),Xp=(0,Z.styled)("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(r,e)=>e.squareMask})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{disabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),Zp=(0,Z.styled)("div",{name:"MuiClock",slot:"Pin",overridesResolver:(r,e)=>e.pin})(({theme:r})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(r.vars||r).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),eh=(0,Z.styled)(qn.A,{name:"MuiClock",slot:"AmButton",overridesResolver:(r,e)=>e.amButton})(({theme:r})=>({zIndex:1,position:"absolute",bottom:8,left:8,paddingLeft:4,paddingRight:4,width:fn,variants:[{props:{meridiemMode:"am"},style:{backgroundColor:(r.vars||r).palette.primary.main,color:(r.vars||r).palette.primary.contrastText,"&:hover":{backgroundColor:(r.vars||r).palette.primary.light}}}]})),th=(0,Z.styled)(qn.A,{name:"MuiClock",slot:"PmButton",overridesResolver:(r,e)=>e.pmButton})(({theme:r})=>({zIndex:1,position:"absolute",bottom:8,right:8,paddingLeft:4,paddingRight:4,width:fn,variants:[{props:{meridiemMode:"pm"},style:{backgroundColor:(r.vars||r).palette.primary.main,color:(r.vars||r).palette.primary.contrastText,"&:hover":{backgroundColor:(r.vars||r).palette.primary.light}}}]})),ea=(0,Z.styled)(Tn.A,{name:"MuiClock",slot:"meridiemText",overridesResolver:(r,e)=>e.meridiemText})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function nh(r){const e=(0,Z.useThemeProps)({props:r,name:"MuiClock"}),{ampm:t,ampmInClock:n,autoFocus:s,children:o,value:a,handleMeridiemChange:i,isTimeDisabled:c,meridiemMode:p,minutesStep:f=1,onChange:C,selectedId:v,type:P,viewValue:S,disabled:k=!1,readOnly:O,className:_}=e,L=e,q=ft(),G=Vt(),X=R.useRef(!1),Q=Kp(L),ee=c(S,P),K=!t&&P==="hours"&&(S<1||S>12),De=(Pe,Ne)=>{k||O||c(Pe,P)||C(Pe,Ne)},te=(Pe,Ne)=>{let{offsetX:ze,offsetY:Qe}=Pe;if(ze===void 0){const Ye=Pe.target.getBoundingClientRect();ze=Pe.changedTouches[0].clientX-Ye.left,Qe=Pe.changedTouches[0].clientY-Ye.top}const ke=P==="seconds"||P==="minutes"?$p(ze,Qe,f):Vp(ze,Qe,!!t);De(ke,Ne)},fe=Pe=>{X.current=!0,te(Pe,"shallow")},Fe=Pe=>{X.current&&(te(Pe,"finish"),X.current=!1)},ge=Pe=>{Pe.buttons>0&&te(Pe.nativeEvent,"shallow")},xe=Pe=>{X.current&&(X.current=!1),te(Pe.nativeEvent,"finish")},ue=R.useMemo(()=>P==="hours"?!0:S%5===0,[P,S]),Te=P==="minutes"?f:1,Re=R.useRef(null);(0,wn.A)(()=>{s&&Re.current.focus()},[s]);const _e=Pe=>{if(!X.current)switch(Pe.key){case"Home":De(0,"partial"),Pe.preventDefault();break;case"End":De(P==="minutes"?59:23,"partial"),Pe.preventDefault();break;case"ArrowUp":De(S+Te,"partial"),Pe.preventDefault();break;case"ArrowDown":De(S-Te,"partial"),Pe.preventDefault();break;default:}};return(0,W.jsxs)(Gp,{className:(0,xt.A)(_,Q.root),children:[(0,W.jsxs)(qp,{className:Q.clock,children:[(0,W.jsx)(Xp,{onTouchMove:fe,onTouchEnd:Fe,onMouseUp:xe,onMouseMove:ge,ownerState:{disabled:k},className:Q.squareMask}),!ee&&(0,W.jsxs)(R.Fragment,{children:[(0,W.jsx)(Zp,{className:Q.pin}),a!=null&&(0,W.jsx)(Jp,{type:P,viewValue:S,isInner:K,hasSelected:ue})]}),(0,W.jsx)(Qp,{"aria-activedescendant":v,"aria-label":G.clockLabelText(P,a,q),ref:Re,role:"listbox",onKeyDown:_e,tabIndex:0,className:Q.wrapper,children:o})]}),t&&n&&(0,W.jsxs)(R.Fragment,{children:[(0,W.jsx)(eh,{onClick:O?void 0:()=>i("am"),disabled:k||p===null,ownerState:L,className:Q.amButton,title:ot(q,"am"),children:(0,W.jsx)(ea,{variant:"caption",className:Q.meridiemText,children:ot(q,"am")})}),(0,W.jsx)(th,{disabled:k||p===null,onClick:O?void 0:()=>i("pm"),ownerState:L,className:Q.pmButton,title:ot(q,"pm"),children:(0,W.jsx)(ea,{variant:"caption",className:Q.meridiemText,children:ot(q,"pm")})})]})]})}function sh(r){return(0,yt.Ay)("MuiClockNumber",r)}const Ws=(0,Dt.A)("MuiClockNumber",["root","selected","disabled"]),rh=["className","disabled","index","inner","label","selected"],oh=r=>{const{classes:e,selected:t,disabled:n}=r,s={root:["root",t&&"selected",n&&"disabled"]};return(0,gt.A)(s,sh,e)},ah=(0,Z.styled)("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(r,e)=>[e.root,{[`&.${Ws.disabled}`]:e.disabled},{[`&.${Ws.selected}`]:e.selected}]})(({theme:r})=>({height:fn,width:fn,position:"absolute",left:`calc((100% - ${fn}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(r.vars||r).palette.text.primary,fontFamily:r.typography.fontFamily,"&:focused":{backgroundColor:(r.vars||r).palette.background.paper},[`&.${Ws.selected}`]:{color:(r.vars||r).palette.primary.contrastText},[`&.${Ws.disabled}`]:{pointerEvents:"none",color:(r.vars||r).palette.text.disabled},variants:[{props:{inner:!0},style:(0,M.A)({},r.typography.body2,{color:(r.vars||r).palette.text.secondary})}]}));function ta(r){const e=(0,Z.useThemeProps)({props:r,name:"MuiClockNumber"}),{className:t,disabled:n,index:s,inner:o,label:a,selected:i}=e,c=(0,qe.A)(e,rh),p=e,f=oh(p),C=s%12/12*Math.PI*2-Math.PI/2,v=(as-fn-2)/2*(o?.65:1),P=Math.round(Math.cos(C)*v),S=Math.round(Math.sin(C)*v);return(0,W.jsx)(ah,(0,M.A)({className:(0,xt.A)(t,f.root),"aria-disabled":n?!0:void 0,"aria-selected":i?!0:void 0,role:"option",style:{transform:`translate(${P}px, ${S+(as-fn)/2}px`},ownerState:p},c,{children:a}))}const ih=({ampm:r,value:e,getClockNumberText:t,isDisabled:n,selectedId:s,utils:o})=>{const a=e?o.getHours(e):null,i=[],c=r?1:0,p=r?12:23,f=C=>a===null?!1:r?C===12?a===12||a===0:a===C||a-12===C:a===C;for(let C=c;C<=p;C+=1){let v=C.toString();C===0&&(v="00");const P=!r&&(C===0||C>12);v=o.formatNumber(v);const S=f(C);i.push((0,W.jsx)(ta,{id:S?s:void 0,index:C,inner:P,selected:S,disabled:n(C),label:v,"aria-label":t(v)},C))}return i},na=({utils:r,value:e,isDisabled:t,getClockNumberText:n,selectedId:s})=>{const o=r.formatNumber;return[[5,o("05")],[10,o("10")],[15,o("15")],[20,o("20")],[25,o("25")],[30,o("30")],[35,o("35")],[40,o("40")],[45,o("45")],[50,o("50")],[55,o("55")],[0,o("00")]].map(([a,i],c)=>{const p=a===e;return(0,W.jsx)(ta,{label:i,id:p?s:void 0,index:c+1,inner:!1,disabled:t(a),selected:p,"aria-label":n(i)},a)})},hr=({value:r,referenceDate:e,utils:t,props:n,timezone:s})=>{const o=R.useMemo(()=>$t.getInitialReferenceValue({value:r,utils:t,props:n,referenceDate:e,granularity:ht.day,timezone:s,getTodayDate:()=>Xe(t,s,"date")}),[]);return r!=null?r:o},lh=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","timezone"],ch=r=>{const{classes:e}=r,t={root:["root"],arrowSwitcher:["arrowSwitcher"]};return(0,gt.A)(t,_p,e)},uh=(0,Z.styled)(Rs,{name:"MuiTimeClock",slot:"Root",overridesResolver:(r,e)=>e.root})({display:"flex",flexDirection:"column",position:"relative"}),dh=(0,Z.styled)(Ao,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(r,e)=>e.arrowSwitcher})({position:"absolute",right:12,top:15}),ph=["hours","minutes"],hh=R.forwardRef(function(e,t){const n=ft(),s=(0,Z.useThemeProps)({props:e,name:"MuiTimeClock"}),{ampm:o=n.is12HourCycleInCurrentLocale(),ampmInClock:a=!1,autoFocus:i,slots:c,slotProps:p,value:f,defaultValue:C,referenceDate:v,disableIgnoringDatePartForTimeValidation:P=!1,maxTime:S,minTime:k,disableFuture:O,disablePast:_,minutesStep:L=1,shouldDisableTime:q,showViewSwitcher:G,onChange:X,view:Q,views:ee=ph,openTo:K,onViewChange:De,focusedView:te,onFocusedViewChange:fe,className:Fe,disabled:ge,readOnly:xe,timezone:ue}=s,Te=(0,qe.A)(s,lh),{value:Re,handleValueChange:_e,timezone:Pe}=es({name:"TimeClock",timezone:ue,value:f,defaultValue:C,onChange:X,valueManager:$t}),Ne=hr({value:Re,referenceDate:v,utils:n,props:s,timezone:Pe}),ze=Vt(),Qe=Ln(Pe),{view:ke,setView:Ye,previousView:ie,nextView:me,setValueAndGoToNextView:Le}=ds({view:Q,views:ee,openTo:K,onViewChange:De,onChange:_e,focusedView:te,onFocusedViewChange:fe}),{meridiemMode:Me,handleMeridiemChange:Ze}=ir(Ne,o,Le),Ue=R.useCallback((we,Ie)=>{const Ee=_n(P,n),Be=Ie==="hours"||Ie==="minutes"&&ee.includes("seconds"),Ge=({start:ct,end:jt})=>!(k&&Ee(k,jt)||S&&Ee(ct,S)||O&&Ee(ct,Qe)||_&&Ee(Qe,Be?jt:ct)),tt=(ct,jt=1)=>{if(ct%jt!==0)return!1;if(q)switch(Ie){case"hours":return!q(n.setHours(Ne,ct),"hours");case"minutes":return!q(n.setMinutes(Ne,ct),"minutes");case"seconds":return!q(n.setSeconds(Ne,ct),"seconds");default:return!1}return!0};switch(Ie){case"hours":{const ct=nn(we,Me,o),jt=n.setHours(Ne,ct),gn=n.setSeconds(n.setMinutes(jt,0),0),Wn=n.setSeconds(n.setMinutes(jt,59),59);return!Ge({start:gn,end:Wn})||!tt(ct)}case"minutes":{const ct=n.setMinutes(Ne,we),jt=n.setSeconds(ct,0),gn=n.setSeconds(ct,59);return!Ge({start:jt,end:gn})||!tt(we,L)}case"seconds":{const ct=n.setSeconds(Ne,we);return!Ge({start:ct,end:ct})||!tt(we)}default:throw new Error("not supported")}},[o,Ne,P,S,Me,k,L,q,n,O,_,Qe,ee]),et=(0,Qn.A)(),Ve=R.useMemo(()=>{switch(ke){case"hours":{const we=(Ie,Ee)=>{const Be=nn(Ie,Me,o);Le(n.setHours(Ne,Be),Ee,"hours")};return{onChange:we,viewValue:n.getHours(Ne),children:ih({value:Re,utils:n,ampm:o,onChange:we,getClockNumberText:ze.hoursClockNumberText,isDisabled:Ie=>ge||Ue(Ie,"hours"),selectedId:et})}}case"minutes":{const we=n.getMinutes(Ne),Ie=(Ee,Be)=>{Le(n.setMinutes(Ne,Ee),Be,"minutes")};return{viewValue:we,onChange:Ie,children:na({utils:n,value:we,onChange:Ie,getClockNumberText:ze.minutesClockNumberText,isDisabled:Ee=>ge||Ue(Ee,"minutes"),selectedId:et})}}case"seconds":{const we=n.getSeconds(Ne),Ie=(Ee,Be)=>{Le(n.setSeconds(Ne,Ee),Be,"seconds")};return{viewValue:we,onChange:Ie,children:na({utils:n,value:we,onChange:Ie,getClockNumberText:ze.secondsClockNumberText,isDisabled:Ee=>ge||Ue(Ee,"seconds"),selectedId:et})}}default:throw new Error("You must provide the type for ClockView")}},[ke,n,Re,o,ze.hoursClockNumberText,ze.minutesClockNumberText,ze.secondsClockNumberText,Me,Le,Ne,Ue,et,ge]),ae=s,be=ch(ae);return(0,W.jsxs)(uh,(0,M.A)({ref:t,className:(0,xt.A)(be.root,Fe),ownerState:ae},Te,{children:[(0,W.jsx)(nh,(0,M.A)({autoFocus:i!=null?i:!!te,ampmInClock:a&&ee.includes("hours"),value:Re,type:ke,ampm:o,minutesStep:L,isTimeDisabled:Ue,meridiemMode:Me,handleMeridiemChange:Ze,selectedId:et,disabled:ge,readOnly:xe},Ve)),G&&(0,W.jsx)(dh,{className:be.arrowSwitcher,slots:c,slotProps:p,onGoToPrevious:()=>Ye(ie),isPreviousDisabled:!ie,previousLabel:ze.openPreviousView,onGoToNext:()=>Ye(me),isNextDisabled:!me,nextLabel:ze.openNextView,ownerState:ae})]}))});var sa=$(25471),ra=$(80705);function mh(r){return(0,yt.Ay)("MuiDigitalClock",r)}const Jm=(0,Dt.A)("MuiDigitalClock",["root","list","item"]),fh=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","views","skipDisabled","timezone"],gh=r=>{const{classes:e}=r,t={root:["root"],list:["list"],item:["item"]};return(0,gt.A)(t,mh,e)},yh=(0,Z.styled)(Rs,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(r,e)=>e.root})({overflowY:"auto",width:"100%","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:Yr,variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),Dh=(0,Z.styled)(ra.A,{name:"MuiDigitalClock",slot:"List",overridesResolver:(r,e)=>e.list})({padding:0}),Ch=(0,Z.styled)(sa.A,{name:"MuiDigitalClock",slot:"Item",overridesResolver:(r,e)=>e.item})(({theme:r})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,Z.alpha)(r.palette.primary.main,r.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(r.vars||r).palette.primary.main,color:(r.vars||r).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(r.vars||r).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.focusOpacity})`:(0,Z.alpha)(r.palette.primary.main,r.palette.action.focusOpacity)}})),bh=R.forwardRef(function(e,t){var we;const n=ft(),s=R.useRef(null),o=(0,Yt.A)(t,s),a=(0,Z.useThemeProps)({props:e,name:"MuiDigitalClock"}),{ampm:i=n.is12HourCycleInCurrentLocale(),timeStep:c=30,autoFocus:p,slots:f,slotProps:C,value:v,defaultValue:P,referenceDate:S,disableIgnoringDatePartForTimeValidation:k=!1,maxTime:O,minTime:_,disableFuture:L,disablePast:q,minutesStep:G=1,shouldDisableTime:X,onChange:Q,view:ee,openTo:K,onViewChange:De,focusedView:te,onFocusedViewChange:fe,className:Fe,disabled:ge,readOnly:xe,views:ue=["hours"],skipDisabled:Te=!1,timezone:Re}=a,_e=(0,qe.A)(a,fh),{value:Pe,handleValueChange:Ne,timezone:ze}=es({name:"DigitalClock",timezone:Re,value:v,defaultValue:P,onChange:Q,valueManager:$t}),Qe=Vt(),ke=Ln(ze),Ye=R.useMemo(()=>(0,M.A)({},a,{alreadyRendered:!!s.current}),[a]),ie=gh(Ye),me=(we=f==null?void 0:f.digitalClockItem)!=null?we:Ch,Le=(0,Ct.Q)({elementType:me,externalSlotProps:C==null?void 0:C.digitalClockItem,ownerState:{},className:ie.item}),Me=hr({value:Pe,referenceDate:S,utils:n,props:a,timezone:ze}),Ze=(0,We.A)(Ie=>Ne(Ie,"finish","hours")),{setValueAndGoToNextView:Ue}=ds({view:ee,views:ue,openTo:K,onViewChange:De,onChange:Ze,focusedView:te,onFocusedViewChange:fe}),et=(0,We.A)(Ie=>{Ue(Ie,"finish")});R.useEffect(()=>{if(s.current===null)return;const Ie=s.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!Ie)return;const Ee=Ie.offsetTop;(p||te)&&Ie.focus(),s.current.scrollTop=Ee-4});const Ve=R.useCallback(Ie=>{const Ee=_n(k,n),Be=()=>!(_&&Ee(_,Ie)||O&&Ee(Ie,O)||L&&Ee(Ie,ke)||q&&Ee(ke,Ie)),Ge=()=>n.getMinutes(Ie)%G!==0?!1:X?!X(Ie,"hours"):!0;return!Be()||!Ge()},[k,n,_,O,L,ke,q,G,X]),ae=R.useMemo(()=>{const Ie=n.startOfDay(Me);return[Ie,...Array.from({length:Math.ceil(24*60/c)-1},(Ee,Be)=>n.addMinutes(Ie,c*(Be+1)))]},[Me,c,n]),be=ae.findIndex(Ie=>n.isEqual(Ie,Me));return(0,W.jsx)(yh,(0,M.A)({ref:o,className:(0,xt.A)(ie.root,Fe),ownerState:Ye},_e,{children:(0,W.jsx)(Dh,{role:"listbox","aria-label":Qe.timePickerToolbarTitle,className:ie.list,children:ae.map((Ie,Ee)=>{if(Te&&Ve(Ie))return null;const Be=n.isEqual(Ie,Pe),Ge=n.format(Ie,i?"fullTime12h":"fullTime24h"),tt=be===Ee||be===-1&&Ee===0?0:-1;return(0,W.jsx)(me,(0,M.A)({onClick:()=>!xe&&et(Ie),selected:Be,disabled:ge||Ve(Ie),disableRipple:xe,role:"option","aria-disabled":xe,"aria-selected":Be,tabIndex:tt},Le,{children:Ge}),Ge)})})}))});function vh(r){return(0,yt.Ay)("MuiMultiSectionDigitalClock",r)}const Ym=(0,Dt.A)("MuiMultiSectionDigitalClock",["root"]);function Ah(r){return(0,yt.Ay)("MuiMultiSectionDigitalClockSection",r)}const Km=(0,Dt.A)("MuiMultiSectionDigitalClockSection",["root","item"]),xh=["autoFocus","onChange","className","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],wh=r=>{const{classes:e}=r,t={root:["root"],item:["item"]};return(0,gt.A)(t,Ah,e)},Eh=(0,Z.styled)(ra.A,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>({maxHeight:Yr,width:56,padding:0,overflow:"hidden","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(r.vars||r).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),Sh=(0,Z.styled)(sa.A,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(r,e)=>e.item})(({theme:r})=>({padding:8,margin:"2px 4px",width:Ci,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,Z.alpha)(r.palette.primary.main,r.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(r.vars||r).palette.primary.main,color:(r.vars||r).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(r.vars||r).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.focusOpacity})`:(0,Z.alpha)(r.palette.primary.main,r.palette.action.focusOpacity)}})),Fh=R.forwardRef(function(e,t){var Q;const n=R.useRef(null),s=(0,Yt.A)(t,n),o=R.useRef(null),a=(0,Z.useThemeProps)({props:e,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:i,onChange:c,className:p,disabled:f,readOnly:C,items:v,active:P,slots:S,slotProps:k,skipDisabled:O}=a,_=(0,qe.A)(a,xh),L=R.useMemo(()=>(0,M.A)({},a,{alreadyRendered:!!n.current}),[a]),q=wh(L),G=(Q=S==null?void 0:S.digitalClockSectionItem)!=null?Q:Sh;R.useEffect(()=>{if(n.current===null)return;const ee=n.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(P&&i&&ee&&ee.focus(),!ee||o.current===ee)return;o.current=ee;const K=ee.offsetTop;n.current.scrollTop=K-4});const X=v.findIndex(ee=>ee.isFocused(ee.value));return(0,W.jsx)(Eh,(0,M.A)({ref:s,className:(0,xt.A)(q.root,p),ownerState:L,autoFocusItem:i&&P,role:"listbox"},_,{children:v.map((ee,K)=>{var ge;const De=(ge=ee.isDisabled)==null?void 0:ge.call(ee,ee.value),te=f||De;if(O&&te)return null;const fe=ee.isSelected(ee.value),Fe=X===K||X===-1&&K===0?0:-1;return(0,W.jsx)(G,(0,M.A)({onClick:()=>!C&&c(ee.value),selected:fe,disabled:te,disableRipple:C,role:"option","aria-disabled":C||te||void 0,"aria-label":ee.ariaLabel,"aria-selected":fe,tabIndex:Fe,className:q.item},k==null?void 0:k.digitalClockSectionItem,{children:ee.label}),ee.label)})}))}),Th=({now:r,value:e,utils:t,ampm:n,isDisabled:s,resolveAriaLabel:o,timeStep:a,valueOrReferenceDate:i})=>{const c=e?t.getHours(e):null,p=[],f=(P,S)=>{const k=S!=null?S:c;return k===null?!1:n?P===12?k===12||k===0:k===P||k-12===P:k===P},C=P=>f(P,t.getHours(i)),v=n?11:23;for(let P=0;P<=v;P+=a){let S=t.format(t.setHours(r,P),n?"hours12h":"hours24h");const k=o(parseInt(S,10).toString());S=t.formatNumber(S),p.push({value:P,label:S,isSelected:f,isDisabled:s,isFocused:C,ariaLabel:k})}return p},oa=({value:r,utils:e,isDisabled:t,timeStep:n,resolveLabel:s,resolveAriaLabel:o,hasValue:a=!0})=>{const i=p=>r===null?!1:a&&r===p,c=p=>r===p;return[...Array.from({length:Math.ceil(60/n)},(p,f)=>{const C=n*f;return{value:C,label:e.formatNumber(s(C)),isDisabled:t,isSelected:i,isFocused:c,ariaLabel:o(C.toString())}})]},kh=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","skipDisabled","timezone"],Ih=r=>{const{classes:e}=r,t={root:["root"]};return(0,gt.A)(t,vh,e)},Ph=(0,Z.styled)(Rs,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(r,e)=>e.root})(({theme:r})=>({display:"flex",flexDirection:"row",width:"100%",borderBottom:`1px solid ${(r.vars||r).palette.divider}`})),Mh=R.forwardRef(function(e,t){const n=ft(),s=(0,pn.I)(),o=(0,Z.useThemeProps)({props:e,name:"MuiMultiSectionDigitalClock"}),{ampm:a=n.is12HourCycleInCurrentLocale(),timeSteps:i,autoFocus:c,slots:p,slotProps:f,value:C,defaultValue:v,referenceDate:P,disableIgnoringDatePartForTimeValidation:S=!1,maxTime:k,minTime:O,disableFuture:_,disablePast:L,minutesStep:q=1,shouldDisableTime:G,onChange:X,view:Q,views:ee=["hours","minutes"],openTo:K,onViewChange:De,focusedView:te,onFocusedViewChange:fe,className:Fe,disabled:ge,readOnly:xe,skipDisabled:ue=!1,timezone:Te}=o,Re=(0,qe.A)(o,kh),{value:_e,handleValueChange:Pe,timezone:Ne}=es({name:"MultiSectionDigitalClock",timezone:Te,value:C,defaultValue:v,onChange:X,valueManager:$t}),ze=Vt(),Qe=Ln(Ne),ke=R.useMemo(()=>(0,M.A)({hours:1,minutes:5,seconds:5},i),[i]),Ye=hr({value:_e,referenceDate:P,utils:n,props:o,timezone:Ne}),ie=(0,We.A)((Ge,tt,ct)=>Pe(Ge,tt,ct)),me=R.useMemo(()=>!a||!ee.includes("hours")||ee.includes("meridiem")?ee:[...ee,"meridiem"],[a,ee]),{view:Le,setValueAndGoToNextView:Me,focusedView:Ze}=ds({view:Q,views:me,openTo:K,onViewChange:De,onChange:ie,focusedView:te,onFocusedViewChange:fe}),Ue=(0,We.A)(Ge=>{Me(Ge,"finish","meridiem")}),{meridiemMode:et,handleMeridiemChange:Ve}=ir(Ye,a,Ue,"finish"),ae=R.useCallback((Ge,tt)=>{const ct=_n(S,n),jt=tt==="hours"||tt==="minutes"&&me.includes("seconds"),gn=({start:Pt,end:Kt})=>!(O&&ct(O,Kt)||k&&ct(Pt,k)||_&&ct(Pt,Qe)||L&&ct(Qe,jt?Kt:Pt)),Wn=(Pt,Kt=1)=>{if(Pt%Kt!==0)return!1;if(G)switch(tt){case"hours":return!G(n.setHours(Ye,Pt),"hours");case"minutes":return!G(n.setMinutes(Ye,Pt),"minutes");case"seconds":return!G(n.setSeconds(Ye,Pt),"seconds");default:return!1}return!0};switch(tt){case"hours":{const Pt=nn(Ge,et,a),Kt=n.setHours(Ye,Pt),Un=n.setSeconds(n.setMinutes(Kt,0),0),yr=n.setSeconds(n.setMinutes(Kt,59),59);return!gn({start:Un,end:yr})||!Wn(Pt)}case"minutes":{const Pt=n.setMinutes(Ye,Ge),Kt=n.setSeconds(Pt,0),Un=n.setSeconds(Pt,59);return!gn({start:Kt,end:Un})||!Wn(Ge,q)}case"seconds":{const Pt=n.setSeconds(Ye,Ge);return!gn({start:Pt,end:Pt})||!Wn(Ge)}default:throw new Error("not supported")}},[a,Ye,S,k,et,O,q,G,n,_,L,Qe,me]),be=R.useCallback(Ge=>{switch(Ge){case"hours":return{onChange:tt=>{const ct=nn(tt,et,a);Me(n.setHours(Ye,ct),"finish","hours")},items:Th({now:Qe,value:_e,ampm:a,utils:n,isDisabled:tt=>ae(tt,"hours"),timeStep:ke.hours,resolveAriaLabel:ze.hoursClockNumberText,valueOrReferenceDate:Ye})};case"minutes":return{onChange:tt=>{Me(n.setMinutes(Ye,tt),"finish","minutes")},items:oa({value:n.getMinutes(Ye),utils:n,isDisabled:tt=>ae(tt,"minutes"),resolveLabel:tt=>n.format(n.setMinutes(Qe,tt),"minutes"),timeStep:ke.minutes,hasValue:!!_e,resolveAriaLabel:ze.minutesClockNumberText})};case"seconds":return{onChange:tt=>{Me(n.setSeconds(Ye,tt),"finish","seconds")},items:oa({value:n.getSeconds(Ye),utils:n,isDisabled:tt=>ae(tt,"seconds"),resolveLabel:tt=>n.format(n.setSeconds(Qe,tt),"seconds"),timeStep:ke.seconds,hasValue:!!_e,resolveAriaLabel:ze.secondsClockNumberText})};case"meridiem":{const tt=ot(n,"am"),ct=ot(n,"pm");return{onChange:Ve,items:[{value:"am",label:tt,isSelected:()=>!!_e&&et==="am",isFocused:()=>!!Ye&&et==="am",ariaLabel:tt},{value:"pm",label:ct,isSelected:()=>!!_e&&et==="pm",isFocused:()=>!!Ye&&et==="pm",ariaLabel:ct}]}}default:throw new Error(`Unknown view: ${Ge} found.`)}},[Qe,_e,a,n,ke.hours,ke.minutes,ke.seconds,ze.hoursClockNumberText,ze.minutesClockNumberText,ze.secondsClockNumberText,et,Me,Ye,ae,Ve]),we=R.useMemo(()=>{if(!s)return me;const tt=me.filter(ct=>ct!=="meridiem").toReversed();return me.includes("meridiem")&&tt.push("meridiem"),tt},[s,me]),Ie=R.useMemo(()=>me.reduce((Ge,tt)=>(0,M.A)({},Ge,{[tt]:be(tt)}),{}),[me,be]),Ee=o,Be=Ih(Ee);return(0,W.jsx)(Ph,(0,M.A)({ref:t,className:(0,xt.A)(Be.root,Fe),ownerState:Ee,role:"group"},Re,{children:we.map(Ge=>(0,W.jsx)(Fh,{items:Ie[Ge].items,onChange:Ie[Ge].onChange,active:Le===Ge,autoFocus:c!=null?c:Ze===Ge,disabled:ge,readOnly:xe,slots:p,slotProps:f,skipDisabled:ue,"aria-label":ze.selectViewText(Ge)},Ge))}))}),mr=({view:r,onViewChange:e,focusedView:t,onFocusedViewChange:n,views:s,value:o,defaultValue:a,referenceDate:i,onChange:c,className:p,classes:f,disableFuture:C,disablePast:v,minTime:P,maxTime:S,shouldDisableTime:k,minutesStep:O,ampm:_,ampmInClock:L,slots:q,slotProps:G,readOnly:X,disabled:Q,sx:ee,autoFocus:K,showViewSwitcher:De,disableIgnoringDatePartForTimeValidation:te,timezone:fe})=>(0,W.jsx)(hh,{view:r,onViewChange:e,focusedView:t&&Lt(t)?t:null,onFocusedViewChange:n,views:s.filter(Lt),value:o,defaultValue:a,referenceDate:i,onChange:c,className:p,classes:f,disableFuture:C,disablePast:v,minTime:P,maxTime:S,shouldDisableTime:k,minutesStep:O,ampm:_,ampmInClock:L,slots:q,slotProps:G,readOnly:X,disabled:Q,sx:ee,autoFocus:K,showViewSwitcher:De,disableIgnoringDatePartForTimeValidation:te,timezone:fe}),Nh=({view:r,onViewChange:e,focusedView:t,onFocusedViewChange:n,views:s,value:o,defaultValue:a,referenceDate:i,onChange:c,className:p,classes:f,disableFuture:C,disablePast:v,minTime:P,maxTime:S,shouldDisableTime:k,minutesStep:O,ampm:_,slots:L,slotProps:q,readOnly:G,disabled:X,sx:Q,autoFocus:ee,disableIgnoringDatePartForTimeValidation:K,timeSteps:De,skipDisabled:te,timezone:fe})=>(0,W.jsx)(bh,{view:r,onViewChange:e,focusedView:t,onFocusedViewChange:n,views:s.filter(Lt),value:o,defaultValue:a,referenceDate:i,onChange:c,className:p,classes:f,disableFuture:C,disablePast:v,minTime:P,maxTime:S,shouldDisableTime:k,minutesStep:O,ampm:_,slots:L,slotProps:q,readOnly:G,disabled:X,sx:Q,autoFocus:ee,disableIgnoringDatePartForTimeValidation:K,timeStep:De==null?void 0:De.minutes,skipDisabled:te,timezone:fe}),aa=({view:r,onViewChange:e,focusedView:t,onFocusedViewChange:n,views:s,value:o,defaultValue:a,referenceDate:i,onChange:c,className:p,classes:f,disableFuture:C,disablePast:v,minTime:P,maxTime:S,shouldDisableTime:k,minutesStep:O,ampm:_,slots:L,slotProps:q,readOnly:G,disabled:X,sx:Q,autoFocus:ee,disableIgnoringDatePartForTimeValidation:K,timeSteps:De,skipDisabled:te,timezone:fe})=>(0,W.jsx)(Mh,{view:r,onViewChange:e,focusedView:t,onFocusedViewChange:n,views:s.filter(Lt),value:o,defaultValue:a,referenceDate:i,onChange:c,className:p,classes:f,disableFuture:C,disablePast:v,minTime:P,maxTime:S,shouldDisableTime:k,minutesStep:O,ampm:_,slots:L,slotProps:q,readOnly:G,disabled:X,sx:Q,autoFocus:ee,disableIgnoringDatePartForTimeValidation:K,timeSteps:De,skipDisabled:te,timezone:fe}),Oh=null,Gm=(r,e)=>{let{views:t,format:n}=e,s=_objectWithoutPropertiesLoose(e,Oh);if(n)return n;const o=[],a=[];if(t.forEach(p=>{isTimeView(p)?a.push(p):o.push(p)}),a.length===0)return resolveDateFormat(r,_extends({views:o},s),!1);if(o.length===0)return resolveTimeFormat(r,_extends({views:a},s));const i=resolveTimeFormat(r,_extends({views:a},s));return`${resolveDateFormat(r,_extends({views:o},s),!1)} ${i}`},_h=(r,e,t)=>t?e.filter(n=>!tn(n)||n==="hours"):r?[...e,"meridiem"]:e,Rh=(r,e)=>{var t,n;return 24*60/(((t=r.hours)!=null?t:1)*((n=r.minutes)!=null?n:5))<=e};function Lh({thresholdToRenderTimeInASingleColumn:r,ampm:e,timeSteps:t,views:n}){const s=r!=null?r:24,o=(0,M.A)({hours:1,minutes:5,seconds:5},t),a=Rh(o,s);return{thresholdToRenderTimeInASingleColumn:s,timeSteps:o,shouldRenderTimeInASingleColumn:a,views:_h(e,n,a)}}const ia=R.forwardRef(function(e,t){var _,L,q,G,X,Q;const n=Vt(),s=ft(),o=Qo(e,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:a,views:i,timeSteps:c}=Lh(o),p=a?Nh:aa,f=(0,M.A)({hours:p,minutes:p,seconds:p,meridiem:p},o.viewRenderers),C=(_=o.ampmInClock)!=null?_:!0,v=a?[]:["accept"],S=((L=f.hours)==null?void 0:L.name)===aa.name?i:i.filter(ee=>ee!=="meridiem"),k=(0,M.A)({},o,{ampmInClock:C,timeSteps:c,viewRenderers:f,format:Ss(s,o),views:a?["hours"]:S,slots:(0,M.A)({field:Ko,openPickerIcon:Ri},o.slots),slotProps:(0,M.A)({},o.slotProps,{field:ee=>{var K;return(0,M.A)({},(0,Jn.Y)((K=o.slotProps)==null?void 0:K.field,ee),Ps(o),{ref:t})},toolbar:(0,M.A)({hidden:!0,ampmInClock:C},(q=o.slotProps)==null?void 0:q.toolbar),actionBar:(0,M.A)({actions:v},(G=o.slotProps)==null?void 0:G.actionBar)})}),{renderPicker:O}=Gr({props:k,valueManager:$t,valueType:"time",getOpenDialogAriaText:(Q=(X=k.localeText)==null?void 0:X.openTimePickerDialogue)!=null?Q:n.openTimePickerDialogue,validator:pr});return O()});ia.propTypes={ampm:d().bool,ampmInClock:d().bool,autoFocus:d().bool,className:d().string,closeOnSelect:d().bool,defaultValue:d().object,disabled:d().bool,disableFuture:d().bool,disableIgnoringDatePartForTimeValidation:d().bool,disableOpenPicker:d().bool,disablePast:d().bool,enableAccessibleFieldDOMStructure:d().any,format:d().string,formatDensity:d().oneOf(["dense","spacious"]),inputRef:Cn,label:d().node,localeText:d().object,maxTime:d().object,minTime:d().object,minutesStep:d().number,name:d().string,onAccept:d().func,onChange:d().func,onClose:d().func,onError:d().func,onOpen:d().func,onSelectedSectionsChange:d().func,onViewChange:d().func,open:d().bool,openTo:d().oneOf(["hours","meridiem","minutes","seconds"]),orientation:d().oneOf(["landscape","portrait"]),readOnly:d().bool,reduceAnimations:d().bool,referenceDate:d().object,selectedSections:d().oneOfType([d().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),d().number]),shouldDisableTime:d().func,skipDisabled:d().bool,slotProps:d().object,slots:d().object,sx:d().oneOfType([d().arrayOf(d().oneOfType([d().func,d().object,d().bool])),d().func,d().object]),thresholdToRenderTimeInASingleColumn:d().number,timeSteps:d().shape({hours:d().number,minutes:d().number,seconds:d().number}),timezone:d().string,value:d().object,view:d().oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:d().shape({hours:d().func,meridiem:d().func,minutes:d().func,seconds:d().func}),views:d().arrayOf(d().oneOf(["hours","minutes","seconds"]).isRequired)};const la=R.forwardRef(function(e,t){var f,C,v,P;const n=Vt(),s=ft(),o=Qo(e,"MuiMobileTimePicker"),a=(0,M.A)({hours:mr,minutes:mr,seconds:mr},o.viewRenderers),i=(f=o.ampmInClock)!=null?f:!1,c=(0,M.A)({},o,{ampmInClock:i,viewRenderers:a,format:Ss(s,o),slots:(0,M.A)({field:Ko},o.slots),slotProps:(0,M.A)({},o.slotProps,{field:S=>{var k;return(0,M.A)({},(0,Jn.Y)((k=o.slotProps)==null?void 0:k.field,S),Ps(o),{ref:t})},toolbar:(0,M.A)({hidden:!1,ampmInClock:i},(C=o.slotProps)==null?void 0:C.toolbar)})}),{renderPicker:p}=Eo({props:c,valueManager:$t,valueType:"time",getOpenDialogAriaText:(P=(v=c.localeText)==null?void 0:v.openTimePickerDialogue)!=null?P:n.openTimePickerDialogue,validator:pr});return p()});la.propTypes={ampm:d().bool,ampmInClock:d().bool,autoFocus:d().bool,className:d().string,closeOnSelect:d().bool,defaultValue:d().object,disabled:d().bool,disableFuture:d().bool,disableIgnoringDatePartForTimeValidation:d().bool,disableOpenPicker:d().bool,disablePast:d().bool,enableAccessibleFieldDOMStructure:d().any,format:d().string,formatDensity:d().oneOf(["dense","spacious"]),inputRef:Cn,label:d().node,localeText:d().object,maxTime:d().object,minTime:d().object,minutesStep:d().number,name:d().string,onAccept:d().func,onChange:d().func,onClose:d().func,onError:d().func,onOpen:d().func,onSelectedSectionsChange:d().func,onViewChange:d().func,open:d().bool,openTo:d().oneOf(["hours","minutes","seconds"]),orientation:d().oneOf(["landscape","portrait"]),readOnly:d().bool,reduceAnimations:d().bool,referenceDate:d().object,selectedSections:d().oneOfType([d().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),d().number]),shouldDisableTime:d().func,slotProps:d().object,slots:d().object,sx:d().oneOfType([d().arrayOf(d().oneOfType([d().func,d().object,d().bool])),d().func,d().object]),timezone:d().string,value:d().object,view:d().oneOf(["hours","minutes","seconds"]),viewRenderers:d().shape({hours:d().func,minutes:d().func,seconds:d().func}),views:d().arrayOf(d().oneOf(["hours","minutes","seconds"]).isRequired)};const Bh=["desktopModeMediaQuery"],$h=R.forwardRef(function(e,t){const n=(0,Z.useThemeProps)({props:e,name:"MuiTimePicker"}),{desktopModeMediaQuery:s=$r}=n,o=(0,qe.A)(n,Bh);return(0,un.A)(s,{defaultMatches:!0})?(0,W.jsx)(ia,(0,M.A)({ref:t},o)):(0,W.jsx)(la,(0,M.A)({ref:t},o))});class Vh extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr);this.setState({value:e})}renderItem(e,t){const n=this.props.schema.returnFormat!=="HH:mm:ss",s=new Date(Date.parse(`Thu, 01 Jan 1970 ${this.state.value||"00:00:00"}`));return l().createElement($h,{sx:o=>({width:"100%",borderBottom:`1px solid ${o.palette.text.primary}`,"& fieldset":{display:"none"},"& input":{padding:`${o.spacing(1.5)} 0 4px 0`},"& .MuiInputAdornment-root":{marginLeft:0,marginTop:1},"& label":{transform:"translate(0px, -9px) scale(0.75)"}}),ampm:this.props.systemConfig.dateFormat.includes("/"),timeSteps:this.props.schema.timeSteps||this.props.schema.timesteps||{hours:1,minutes:5,seconds:5},format:this.props.schema.format||"HH:mm:ss",disabled:!!t,value:s,onChange:o=>{let a=o.toTimeString();a=o instanceof Date?o.toTimeString().split(" ")[0]:o.toTimeString(),n&&(a=a.split(":").slice(0,2).join(":")),this.setState({value:a},()=>this.onChange(this.props.attr,this.state.value))},views:this.props.schema.views||["hours","minutes","seconds"],label:this.getText(this.props.schema.label)})}}const jh=()=>({fullWidth:{width:"100%"},icon:{width:16,height:16,marginRight:8}});function Wh(r,e,t){let n;return t&&r.substring(0,t.length)===t?n=r.substring(t.length+1):n=r,n=n.replace(/\./g,"/").replace(/_/g," "),n}class ca extends y{componentDidMount(){super.componentDidMount();const e=y.getValue(this.props.data,this.props.attr);if(!e&&this.props.customObj&&this.props.customObj._id){const t=Wh(this.props.customObj._id,null,`${this.props.adapterName}.${this.props.instance}`);this.setState({value:t})}else this.setState({value:e||""})}renderItem(e,t){return l().createElement(u.TextField,{variant:"standard",fullWidth:!0,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0},value:this.state.value,error:!!e,disabled:t,placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),onChange:n=>{const s=n.target.value;this.setState({value:s},()=>this.onChange(this.props.attr,s))}})}}ca.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func,adapterName:d().string,instance:d().number,customObj:d().object};const Uh=(0,b.withStyles)(jh)(ca);class fr extends y{componentDidMount(){return dt(this,null,function*(){var t;Wt(fr.prototype,this,"componentDidMount").call(this);const e=yield this.props.socket.getObject("system.meta.uuid");this.setState({uuid:((t=e==null?void 0:e.native)==null?void 0:t.uuid)||"unknown"})})}renderItem(e,t){return l().createElement(u.TextField,{variant:"standard",fullWidth:!0,error:!!e,disabled:!!t,inputProps:{readOnly:!0},InputProps:{endAdornment:l().createElement(u.IconButton,{onClick:()=>{h.Utils.copyToClipboard(this.state.uuid),window.alert(h.I18n.t("ra_Copied %s",this.state.uuid))}},l().createElement(D.ContentCopy,null))},value:this.state.uuid||"",label:this.getText(this.props.schema.label)||h.I18n.t("ra_Serial number (UUID)"),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const Hh=fr,zh=()=>({fullWidth:{width:"100%"},icon:{width:16,height:16,marginRight:8}});class ua extends y{componentDidMount(){super.componentDidMount(),this.props.socket.getUsers().then(e=>{const t={},n=h.I18n.getLanguage();this.props.schema.short?e.forEach(s=>{var o,a;return t[s._id]={color:(o=s.common)==null?void 0:o.color,icon:(a=s.common)==null?void 0:a.icon,name:h.Utils.getObjectNameFromObj(s,n)}}):e.forEach(s=>{var o,a;return t[s._id.replace(/^system\.user\./,"")]={color:(o=s.common)==null?void 0:o.color,icon:(a=s.common)==null?void 0:a.icon,name:h.Utils.getObjectNameFromObj(s,n)}}),this.setState({users:t})})}renderItem(e,t){var s,o;const n=y.getValue(this.props.data,this.props.attr);return l().createElement(u.FormControl,{variant:"standard",className:this.props.classes.fullWidth},this.state.users&&this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,this.state.users?l().createElement(u.Select,{variant:"standard",error:!!e,disabled:!!t,value:n,renderValue:a=>{var i,c,p;return l().createElement("span",null,this.state.users&&((i=this.state.users[a])!=null&&i.icon)?l().createElement(h.Icon,{src:this.state.users&&((c=this.state.users[a])==null?void 0:c.icon),className:this.props.classes.icon}):null,this.state.users&&((p=this.state.users[a])==null?void 0:p.name)||a||"")},style:{color:this.state.users&&((s=this.state.users[n])==null?void 0:s.color)||void 0,backgroundColor:h.Utils.getInvertedColor(this.state.users&&((o=this.state.users[n])==null?void 0:o.color),this.props.themeType)},onChange:a=>this.onChange(this.props.attr,a.target.value)},this.state.users&&Object.keys(this.state.users).map(a=>l().createElement(u.MenuItem,{style:{color:this.state.users[a].color||void 0,backgroundColor:h.Utils.getInvertedColor(this.state.users[a].color,this.props.themeType)},key:a,value:a},this.state.users[a].icon?l().createElement(h.Icon,{src:this.state.users[a].icon,className:this.props.classes.icon}):null,this.state.users[a].name))):l().createElement(u.TextField,{variant:"standard",error:!!e,disabled:!!t,value:n,onChange:a=>this.onChange(this.props.attr,a.target.value),label:this.getText(this.props.schema.label)}),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}ua.propTypes={socket:d().object.isRequired,themeType:d().string,themeName:d().string,style:d().object,className:d().string,data:d().object.isRequired,schema:d().object,onError:d().func,onChange:d().func};const Jh=(0,b.withStyles)(zh)(ua),Yh={accordion:w,alive:E,autocomplete:z,autocompleteSendTo:ce,certCollection:En,certificate:Ae,certificates:kt,checkbox:ln,checkLicense:Et,chip:pt,chips:pt,color:he,coordinates:Dn,cron:de,custom:Fn,datePicker:ju,deviceManager:Uu,divider:tp,file:rd,fileSelector:To,func:ad,header:sp,image:pd,imageSendTo:ud,instance:md,interface:gd,ip:ld,jsonEditor:Ed,language:kd,license:Id,number:Nd,objectId:_d,password:Ld,pattern:Bd,port:Vd,room:Wd,select:Hd,selectSendTo:Yd,sendto:$o,sendTo:$o,setState:Qd,slider:Zd,staticImage:op,staticLink:Jo,staticText:Jo,table:dp,text:mp,textSendTo:yp,timePicker:Vh,topic:Uh,uuid:Hh,user:Jh},Kh=r=>({fullWidth:{width:"100%"},paper:{margin:10,height:"calc(100vh - 235px) !important",width:"auto !important",overflowY:"auto",paddingBottom:r.spacing(1)},padding:{padding:10},heading:{},primary:{backgroundColor:r.palette.primary.main,color:r.palette.mode==="dark"?"inherit":"#FFF"},secondary:{backgroundColor:r.palette.secondary.main}});class Gh extends y{componentDidMount(){super.componentDidMount(),this.props.schema&&this.props.schema.collapsable&&this.setState({expanded:(window._localStorage||window.localStorage).getItem(`${this.props.adapterName}.${this.props.attr}`)==="true"})}renderItems(e,t){const n=this.props.classes||{};return e?Object.keys(e).map(s=>{if(this.props.multiEdit&&e[s].noMultiEdit)return null;const o=e[s].type||"panel";let a;return o==="custom"?e[s].url?a=Fn:this.props.customs&&this.props.customs[e[s].component]?a=this.props.customs[e[s].component]:(console.error(`Cannot find custom component: ${e[s].component}`),a=y):o==="panel"?a=da:a=Yh[o]||y,l().createElement(a,{key:`${s}_${this.props.index===void 0?"":this.props.index}`,index:this.props.index,changed:this.props.changed,arrayIndex:this.props.arrayIndex,globalData:this.props.globalData,onCommandRunning:this.props.onCommandRunning,commandRunning:this.props.commandRunning,className:n.panel,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,customs:this.props.customs,alive:this.props.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:this.props.data,originalData:this.props.originalData,systemConfig:this.props.systemConfig,onError:this.props.onError,onChange:this.props.onChange,multiEdit:this.props.multiEdit,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,disabled:t,imagePrefix:this.props.imagePrefix,changeLanguage:this.props.changeLanguage,forceUpdate:this.props.forceUpdate,registerOnForceUpdate:this.props.registerOnForceUpdate,customObj:this.props.customObj,instanceObj:this.props.instanceObj,custom:this.props.custom,schema:e[s],attr:s,table:this.props.table})}):null}render(){const e=this.props.schema;if(!e)return null;const{disabled:t,hidden:n}=this.calculate(e),s=this.props.schema.items,o=this.props.classes||{},a=this.props.schema.style||{};if(n){if(e.hideOnlyControl){const c=l().createElement(u.Grid,{item:!0,xs:e.xs||void 0,lg:e.lg||void 0,md:e.md||void 0,sm:e.sm||void 0,style:ut(ut({marginBottom:0,textAlign:"left"},e.style),this.props.themeType==="dark"?e.darkStyle:{})});return e.newLine?l().createElement(l().Fragment,null,l().createElement("div",{style:{flexBasis:"100%",height:0}}),c):c}return null}if(this.props.table)return this.renderItems(s,t);if(this.props.custom)return l().createElement(u.Grid,{key:`${this.props.attr}_${this.props.index}`,container:!0,className:o.fullWidth,spacing:2,style:a},this.renderItems(s,t));let i;if(e.collapsable?i=l().createElement(u.Accordion,{key:`${this.props.attr}_${this.props.index}`,className:o.fullWidth,expanded:!!this.state.expanded,onChange:()=>{(window._localStorage||window.localStorage).setItem(`${this.props.adapterName}.${this.props.attr}`,this.state.expanded?"false":"true"),this.setState({expanded:!this.state.expanded})}},l().createElement(u.AccordionSummary,{expandIcon:l().createElement(D.ExpandMore,null),style:ut(ut({},e.style),this.props.themeType?e.darkStyle:{}),className:h.Utils.clsx(o.fullWidth,e.color==="primary"&&o.primary,e.color==="secondary"&&o.secondary)},l().createElement(u.Typography,{className:o.heading},this.getText(e.label))),l().createElement(u.AccordionDetails,null,l().createElement(u.Grid,{container:!0,className:`${o.fullWidth} ${o.padding}`,spacing:2,style:a},this.renderItems(s,t)))):i=l().createElement("div",{key:`${this.props.attr}_${this.props.index}`,className:h.Utils.clsx(this.props.className,this.props.isParentTab&&o.paper,o.fullWidth),style:a},l().createElement(u.Grid,{container:!0,className:h.Utils.clsx(o.fullWidth,this.props.isParentTab&&o.padding),spacing:2,style:this.props.schema.innerStyle},this.renderItems(s,t))),!this.props.isParentTab){const c=l().createElement(u.Grid,{item:!0,title:this.getText(e.tooltip),xs:e.xs||void 0,lg:e.lg||void 0,md:e.md||void 0,sm:e.sm||void 0,style:ut({marginBottom:0,textAlign:"left"},e.style)},i);return e.newLine?l().createElement(l().Fragment,null,l().createElement("div",{style:{flexBasis:"100%",height:0}}),c):c}return i}}const da=(0,b.withStyles)(Kh)(Gh),bs=da,qh={tabs:{height:"100%",width:"100%"},panel:{height:"calc(100% - 48px)",width:"100%",display:"block"}};class Qh extends y{constructor(e){super(e);let t=(window._localStorage||window.localStorage).getItem(`${this.props.dialogName||"App"}.${this.props.adapterName}`)||Object.keys(this.props.schema.items)[0];Object.keys(this.props.schema.items).includes(t)||(t=Object.keys(this.props.schema.items)[0]),Object.assign(this.state,{tab:t})}render(){const e=this.props.schema.items;return l().createElement("div",{className:this.props.classes.tabs},l().createElement(u.Tabs,{variant:"scrollable",scrollButtons:"auto",style:this.props.schema.tabsStyle,value:this.state.tab,onChange:(t,n)=>{(window._localStorage||window.localStorage).setItem(`${this.props.dialogName||"App"}.${this.props.adapterName}`,n),this.setState({tab:n})}},Object.keys(e).map(t=>{let n;if(this.props.custom){if(this.executeCustom(e[t].hidden,this.props.data,this.props.customObj,this.props.instanceObj,this.props.index,this.props.globalData))return null;n=this.executeCustom(e[t].disabled,this.props.data,this.props.customObj,this.props.instanceObj,this.props.index,this.props.globalData)}else{if(this.execute(e[t].hidden,!1,this.props.data,this.props.index,this.props.globalData))return null;n=this.execute(e[t].disabled,!1,this.props.data,this.props.index,this.props.globalData)}return l().createElement(u.Tab,{wrapped:!0,disabled:n,key:t,value:t,iconPosition:this.props.schema.iconPosition||"start",icon:this.getIcon(e[t].icon),label:this.getText(e[t].label)})})),l().createElement(bs,{isParentTab:!0,changed:this.props.changed,key:this.state.tab,index:1001,arrayIndex:this.props.arrayIndex,globalData:this.props.globalData,onCommandRunning:this.props.onCommandRunning,commandRunning:this.props.commandRunning,className:this.props.classes.panel,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,customs:this.props.customs,alive:this.props.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:this.props.data,originalData:this.props.originalData,systemConfig:this.props.systemConfig,onError:this.props.onError,onChange:this.props.onChange,multiEdit:this.props.multiEdit,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,imagePrefix:this.props.imagePrefix,changeLanguage:this.props.changeLanguage,forceUpdate:this.props.forceUpdate,registerOnForceUpdate:this.props.registerOnForceUpdate,customObj:this.props.customObj,instanceObj:this.props.instanceObj,custom:this.props.custom,schema:e[this.state.tab],table:this.props.table}))}}const Xh=(0,b.withStyles)(qh)(Qh),Zh={root:{width:"100%",height:"100%"}};class pa extends V.Component{constructor(t){super(t);je(this,"forceUpdateHandlers");je(this,"errorTimeout",null);je(this,"errorCached",null);je(this,"onCommandRunning",t=>this.setState({commandRunning:t}));je(this,"onAlive",(t,n)=>{!!(n!=null&&n.val)!==this.state.alive&&this.setState({alive:!!(n!=null&&n.val)})});je(this,"onChange",(t,n,s,o)=>{if(this.props.onValueChange)this.props.onValueChange(t,n,o),s&&s();else if(t&&this.props.onChange){const a={data:t};a.changed=JSON.stringify(t)!==this.state.originalData,this.setState(a,()=>{this.props.onChange(t,a.changed,o),s&&s()})}else o&&this.props.onChange(null,null,o)});je(this,"onError",(t,n)=>{this.errorCached=this.errorCached||JSON.parse(JSON.stringify(this.state.errors));const s=this.errorCached;n?s[t]=n:delete s[t],this.errorTimeout&&clearTimeout(this.errorTimeout),JSON.stringify(s)!==JSON.stringify(this.state.errors)?this.errorTimeout=setTimeout(()=>this.setState({errors:this.errorCached},()=>{this.errorTimeout=null,this.errorCached=null,this.props.onError(!!Object.keys(this.state.errors).length)}),50):this.errorCached=null});je(this,"changeLanguage",()=>{this.forceUpdate()});je(this,"forceAttrUpdate",(t,n)=>{Array.isArray(t)?t.forEach(s=>this.forceUpdateHandlers[s]&&this.forceUpdateHandlers[s](n)):this.forceUpdateHandlers[t]&&this.forceUpdateHandlers[t](n)});je(this,"registerOnForceUpdate",(t,n)=>{n?this.forceUpdateHandlers[t]=n:this.forceUpdateHandlers[t]&&delete this.forceUpdateHandlers[t]});this.state={originalData:JSON.stringify(this.props.data),changed:!1,errors:{},updateData:this.props.updateData||0,systemConfig:null,alive:!1,commandRunning:!1,schema:JSON.parse(JSON.stringify(this.props.schema)),data:null},this.forceUpdateHandlers={},this.buildDependencies(this.state.schema),this.readData()}static getDerivedStateFromProps(t,n){return t.updateData!==n.updateData?{updateData:t.updateData,originalData:JSON.stringify(t.data),schema:JSON.parse(JSON.stringify(t.schema))}:null}static loadI18n(t,n,s){return dt(this,null,function*(){if(n===!0||n&&typeof n=="string"){const o=h.I18n.getLanguage(),a=typeof n=="string"?n:"i18n";let i=yield t.fileExists(`${s}.admin`,`${a}/${o}.json`),c;if(i?c=`${a}/${o}.json`:(i=yield t.fileExists(`${s}.admin`,`${a}/${o}/translations.json`),i?c=`${a}/${o}/translations.json`:o!=="en"&&(i=yield t.fileExists(`${s}.admin`,`${a}/en.json`),i?c=`${a}/en.json`:(i=yield t.fileExists(`${s}.admin`,`${a}/en/translations.json`),i&&(c=`${a}/en/translations.json`)))),c){const p=yield t.readFile(`${s}.admin`,c);let f;p.file!==void 0?f=p.file:f=p;try{const C=JSON.parse(f);h.I18n.extendTranslations(C,o)}catch(C){return console.error(`Cannot parse language file "${s}.admin/${c}: ${C}`),""}return c}return console.warn(`Cannot find i18n for ${s} / ${c}`),""}return n&&typeof n=="object"&&h.I18n.extendTranslations(n),""})}readSettings(){return dt(this,null,function*(){if((this.props.custom||this.props.common)&&this.props.data)return;const t=yield this.props.socket.getObject(`system.adapter.${this.props.adapterName}.${this.props.instance}`);this.setState({data:this.props.data||t.native})})}readData(){this.readSettings().then(()=>this.props.socket.getCompactSystemConfig()).then(t=>this.props.socket.getState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`).then(n=>{this.props.custom?this.setState({systemConfig:t.common,alive:!!(n&&n.val)}):this.setState({systemConfig:t.common,alive:!!(n&&n.val)},()=>this.props.socket.subscribeState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`,this.onAlive))}))}flatten(t,n){return n=n||{},t.items&&Object.keys(t.items).forEach(s=>{n[s]=t.items[s],this.flatten(t.items[s],n)}),n}buildDependencies(t){const n=this.flatten(t);Object.keys(n).forEach(s=>{var o,a,i,c,p,f,C,v,P,S;(o=n[s].confirm)!=null&&o.alsoDependsOn&&((a=n[s].confirm)==null||a.alsoDependsOn.forEach(k=>{if(!n[k])console.error(`[JsonConfigComponent] Attribute ${k} does not exist!`),k.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${k.replace(/^data\./,"")}" instead of "${k}"`);else{n[k].confirmDependsOn=n[k].confirmDependsOn||[];const O=Ht(ut({},n[s]),{attr:s});O.confirm&&(O.confirm.cancel="Undo"),n[k].confirmDependsOn.push(O)}})),(i=n[s].onChange)!=null&&i.alsoDependsOn&&((c=n[s].onChange)==null||c.alsoDependsOn.forEach(k=>{if(!n[k])console.error(`[JsonConfigComponent] Attribute ${k} does not exist!`),k.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${k.replace(/^data\./,"")}" instead of "${k}"`);else{n[k].onChangeDependsOn=n[k].onChangeDependsOn||[];const O=Ht(ut({},n[s]),{attr:s});n[k].onChangeDependsOn.push(O)}})),(p=n[s].hidden)!=null&&p.alsoDependsOn&&((f=n[s].hidden)==null||f.alsoDependsOn.forEach(k=>{if(!n[k])console.error(`[JsonConfigComponent] Attribute ${k} does not exist!`),k.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${k.replace(/^data\./,"")}" instead of "${k}"`);else{n[k].hiddenDependsOn=n[k].hiddenDependsOn||[];const O=Ht(ut({},n[s]),{attr:s});n[k].hiddenDependsOn.push(O)}})),(C=n[s].label)!=null&&C.alsoDependsOn&&((v=n[s].label)==null||v.alsoDependsOn.forEach(k=>{if(!n[k])console.error(`[JsonConfigComponent] Attribute ${k} does not exist!`),k.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${k.replace(/^data\./,"")}" instead of "${k}"`);else{n[k].labelDependsOn=n[k].labelDependsOn||[];const O=Ht(ut({},n[s]),{attr:s});n[k].labelDependsOn.push(O)}})),(P=n[s].help)!=null&&P.alsoDependsOn&&((S=n[s].help)==null||S.alsoDependsOn.forEach(k=>{if(!n[k])console.error(`[JsonConfigComponent] Attribute ${k} does not exist!`),k.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${k.replace(/^data\./,"")}" instead of "${k}"`);else{n[k].helpDependsOn=n[k].helpDependsOn||[];const O=Ht(ut({},n[s]),{attr:s});n[k].helpDependsOn.push(O)}}))})}renderItem(t){return t.type==="tabs"?l().createElement(Xh,{onCommandRunning:this.onCommandRunning,commandRunning:this.state.commandRunning,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,alive:this.state.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:this.props.data,originalData:JSON.parse(this.state.originalData),schema:t,systemConfig:this.state.systemConfig,customs:this.props.customs,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,multiEdit:this.props.multiEdit,imagePrefix:this.props.imagePrefix,custom:this.props.custom,customObj:this.props.customObj,instanceObj:this.props.instanceObj,changeLanguage:this.changeLanguage,forceUpdate:this.forceAttrUpdate,registerOnForceUpdate:this.registerOnForceUpdate,onChange:this.onChange,changed:this.state.changed,onError:(n,s)=>this.onError(n,s),DeviceManager:this.props.DeviceManager}):t.type==="panel"||!t.type?l().createElement(bs,{index:1e3,isParentTab:!this.props.embedded,changed:this.state.changed,onCommandRunning:this.onCommandRunning,commandRunning:this.state.commandRunning,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,alive:this.state.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:this.props.data,originalData:JSON.parse(this.state.originalData),schema:t,systemConfig:this.state.systemConfig,customs:this.props.customs,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,multiEdit:this.props.multiEdit,imagePrefix:this.props.imagePrefix,custom:this.props.custom,customObj:this.props.customObj,instanceObj:this.props.instanceObj,changeLanguage:this.changeLanguage,forceUpdate:this.forceAttrUpdate,registerOnForceUpdate:this.registerOnForceUpdate,onChange:this.onChange,onError:(n,s)=>this.onError(n,s),DeviceManager:this.props.DeviceManager}):null}render(){return this.state.systemConfig?l().createElement("div",{className:h.Utils.clsx(!this.props.embedded&&this.props.classes.root,this.props.className),style:this.state.schema.style},this.renderItem(this.state.schema)):l().createElement(u.LinearProgress,null)}}const Us=(0,b.withStyles)(Zh)(pa),em={root:{width:"100%",height:"100%",overflow:"hidden",position:"relative"},scroll:{height:"calc(100% - 48px)",overflowY:"auto"},exportImportButtons:{position:"absolute",top:5,right:0,zIndex:3},button:{marginRight:5}};function tm(r,e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(r[n%r.length].charCodeAt(0)^e.charCodeAt(n));return t}function nm(r,e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(r[n%r.length].charCodeAt(0)^e.charCodeAt(n));return t}function sm(r,e){if(typeof e!="string")return e;if(!e.startsWith("$/aes-192-cbc:")||!/^[0-9a-f]{48}$/.test(r))return tm(r,e);const t=e.split(":",3),n=window.CryptoJS.enc.Hex.parse(r),s=window.CryptoJS.enc.Hex.parse(t[1]),o=window.CryptoJS.lib.CipherParams.create({ciphertext:window.CryptoJS.enc.Hex.parse(t[2])}),a=window.CryptoJS.AES.decrypt(o,n,{iv:s});return window.CryptoJS.enc.Utf8.stringify(a)}function rm(r,e,t){if(typeof e!="string")return e;if(!/^[0-9a-f]{48}$/.test(r))return nm(r,e);let n;t?n=window.CryptoJS.enc.Hex.parse(t):n=window.CryptoJS.lib.WordArray.random(128/8);const s=window.CryptoJS.enc.Hex.parse(r),o=window.CryptoJS.AES.encrypt(e,s,{iv:n}).ciphertext;return`$/aes-192-cbc:${window.CryptoJS.enc.Hex.stringify(n)}:${o}`}function ha(r,e){var t;return!e||!document.getElementById(e)?new Promise(n=>{const s=document.createElement("script");s.setAttribute("id",e),s.onload=n,s.src=r,document.getElementsByTagName("head")[0].appendChild(s)}):(t=document.getElementById(e))==null?void 0:t.onload}class gr extends h.Router{constructor(t){super(t);je(this,"fileSubscribed",[]);je(this,"fileLangSubscribed","");je(this,"secret","");je(this,"handleFileSelect",t=>{const n=t.target.files[0];if(n){const s=new FileReader;s.onload=o=>dt(this,null,function*(){if(!o.target)return;const a=o.target.result;try{const i=JSON.parse(a);this.setState({data:i,changed:JSON.stringify(i)!==JSON.stringify(this.state.originalData)})}catch(i){window.alert(h.I18n.t("[JsonConfig] Failed to parse JSON file"))}}),s.readAsText(n)}else window.alert(h.I18n.t("[JsonConfig] Failed to open JSON File"))});je(this,"onFileChange",(t,n,s)=>dt(this,null,function*(){var o;if(t===`${this.props.adapterName}.admin`&&s){if(n===this.fileLangSubscribed)try{yield Us.loadI18n(this.props.socket,(o=this.state.schema)==null?void 0:o.i18n,this.props.adapterName),this.setState({hash:`${this.state.hash}1`})}catch(a){}else if(this.fileSubscribed.includes(n))try{const a=yield this.getConfigFile(this.fileSubscribed[0]);this.setState({schema:a,hash:I()(JSON.stringify(a))})}catch(a){}}}));this.state={updateData:0,changed:!1,confirmDialog:!1,theme:(0,h.Theme)(t.themeName),saveConfigDialog:!1,hash:"_"},this.getInstanceObject().then(n=>this.getConfigFile().then(s=>Us.loadI18n(this.props.socket,s==null?void 0:s.i18n,this.props.adapterName).then(o=>{o&&(this.fileLangSubscribed||(this.fileLangSubscribed=o,this.props.socket.subscribeFiles(`${this.props.adapterName}.admin`,this.fileLangSubscribed,this.onFileChange))),n?this.setState({schema:s,data:n.native,common:n.common,hash:I()(JSON.stringify(s))}):window.alert(`Instance system.adapter.${this.props.adapterName}.${this.props.instance} not found!`)})))}componentWillUnmount(){return dt(this,null,function*(){Wt(gr.prototype,this,"componentWillUnmount").call(this),this.fileSubscribed.length&&(this.props.socket.unsubscribeFiles(`${this.props.adapterName}.admin`,this.fileSubscribed,this.onFileChange),this.fileSubscribed=[]),this.fileLangSubscribed&&(this.props.socket.unsubscribeFiles(`${this.props.adapterName}.admin`,this.fileLangSubscribed,this.onFileChange),this.fileLangSubscribed="")})}getExportImportButtons(){return l().createElement("div",{className:this.props.classes.exportImportButtons},l().createElement(u.Tooltip,{title:this.props.t("Import settings from JSON file")},l().createElement(u.Fab,{size:"small",classes:{root:this.props.classes.button},onClick:()=>{const t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("id","files"),t.setAttribute("opacity",0),t.addEventListener("change",n=>this.handleFileSelect(n),!1),t.click()}},l().createElement(D.Publish,null))),l().createElement(u.Tooltip,{title:this.props.t("Export setting to JSON file")},l().createElement(u.Fab,{size:"small",classes:{root:this.props.classes.button},onClick:()=>{this.state.data&&Je.generateFile(`${this.props.adapterName}.${this.props.instance}.json`,this.state.data)}},l().createElement(D.Publish,{style:{transform:"rotate(180deg)"}}))))}getInstanceObject(){return dt(this,null,function*(){var t;try{const n=yield this.props.socket.getObject(`system.adapter.${this.props.adapterName}.${this.props.instance}`);if(Array.isArray(n.encryptedNative)){const s=yield this.props.socket.getSystemConfig();return yield ha("../../lib/js/crypto-js/crypto-js.js","crypto-js"),this.secret=s.native.secret,(t=n.encryptedNative)==null||t.forEach(o=>{n.native[o]&&(n.native[o]=sm(this.secret,n.native[o]))}),n}return n}catch(n){window.alert(`[JsonConfig] Cannot read instance object: ${n}`)}return null})}renderConfirmDialog(){return this.state.confirmDialog?l().createElement(h.Confirm,{title:h.I18n.t("ra_Please confirm"),text:h.I18n.t("ra_Some data are not stored. Discard?"),ok:h.I18n.t("ra_Discard"),cancel:h.I18n.t("ra_Cancel"),onClose:t=>this.setState({confirmDialog:!1},()=>t&&h.Router.doNavigate(null))}):null}scanForInclude(t,n){return dt(this,null,function*(){if(typeof t["#include"]=="string"){const o=yield this._getConfigFile(t["#include"],[...n]);return delete t["#include"],o&&(t=ut(ut({},t),o)),t}const s=Object.keys(t);for(let o=0;o<s.length;o++)typeof t[s[o]]=="object"&&(t[s[o]]=yield this.scanForInclude(t[s[o]],n));return t})}getConfigFile(t){return dt(this,null,function*(){return this._getConfigFile(t)})}_getConfigFile(t,n){return dt(this,null,function*(){if(t=t||"jsonConfig.json5",n=n||[],n.includes(t))return window.alert(`[JsonConfig] Circular reference in file: ${t} => ${n.join(" => ")}`),null;n.push(t);try{(yield this.props.socket.fileExists(`${this.props.adapterName}.admin`,t))||(t="jsonConfig.json");const o=yield this.props.socket.readFile(`${this.props.adapterName}.admin`,t);let a="",i="";if(o.file!==void 0&&(i=o.file),typeof i=="string")a=i;else if(i.type==="Buffer"){let c="";const p=new Uint8Array(i.data),f=p.byteLength;for(let C=0;C<f;C++)c+=String.fromCharCode(p[C]);a=c}this.fileSubscribed.includes(t)||(this.fileSubscribed.push(t),yield this.props.socket.subscribeFiles(`${this.props.adapterName}.admin`,t,this.onFileChange));try{return yield this.scanForInclude(T().parse(a),n)}catch(c){window.alert("[JsonConfig] Cannot parse json5 config!"),console.log(c)}}catch(s){!this.state.schema&&window.alert(`[JsonConfig] Cannot read file "${t}: ${s}`)}return null})}renderSaveConfigDialog(){return this.state.saveConfigDialog?l().createElement(h.Confirm,{title:h.I18n.t("ra_Please confirm"),text:h.I18n.t("Save configuration?"),ok:h.I18n.t("ra_Save"),cancel:h.I18n.t("ra_Cancel"),onClose:t=>this.setState({saveConfigDialog:!1},()=>t&&this.onSave(!0))}):null}findAttr(t,n){if(n=n||this.state.schema,n!=null&&n.items){if(t in n.items)return n.items[t];for(const s of Object.values(n.items)){const o=this.findAttr(t,s);if(o)return o}}return null}postProcessing(t,n,s){if(s=s||this.state.schema,!t){console.error(`Data is empty in postProcessing: ${n}, ${JSON.stringify(s)}`);return}const o=t[n];if(s.items)if(s.type==="table"){const a=o;if(!Array.isArray(a))return;for(const i of a)for(const c of s.items)this.postProcessing(i,c.attr,c)}else for(const[a,i]of Object.entries(s.items)){if(i.type==="panel"||i.type==="tabs"||i.type==="accordion")return;this.postProcessing(t,a,i)}else if(n&&typeof o=="string")if(s.type==="text")s.trim!==!1&&(t[n]=o.trim());else if(s.type==="ip")t[n]=o.trim();else if(s.type==="number"){const a=parseFloat(o.toString().replace(",","."));s.min!==void 0&&a<s.min?t[n]=s.min:s.max!==void 0&&a>s.max?t[n]=s.max:t[n]=a}else if(s.type==="port"){const a=parseInt(o.toString(),10);s.min!==void 0&&a<s.min?t[n]=s.min:s.max!==void 0&&a>s.max&&(t[n]=s.max),t[n]!==0&&a<20?t[n]=20:a>65535?t[n]=65535:t[n]=a}else s.type==="checkbox"&&(t[n]=t[n]===!0||t[n]==="true"||t[n]==="on"||t[n]===1||t[n]==="1")}onSave(t,n){return dt(this,null,function*(){if(t){const s=yield this.getInstanceObject();if(!s){console.error("Something went wrong: may be no connection?"),window.alert("Something went wrong: may be no connection?");return}if(!this.state.data||!this.state.schema)return;const o={};for(const i of Object.keys(this.state.data)){const c=this.findAttr(i);(!c||!c.doNotSave)&&!i.startsWith("_")?y.setValue(s.native,i,this.state.data[i]):(y.setValue(s.native,i,null),o[i]=this.state.data[i])}try{const i=JSON.parse(JSON.stringify(s));if(Array.isArray(i.encryptedNative)){yield ha("../../lib/js/crypto-js/crypto-js.js","crypto-js");for(const c of i.encryptedNative)i.native[c]&&(i.native[c]=rm(this.secret,i.native[c]))}yield this.props.socket.setObject(i._id,i)}catch(i){window.alert(`[JsonConfig] Cannot set object: ${i}`)}const a=ut(ut({},s.native),o);console.log(a),this.setState({changed:!1,data:a,updateData:this.state.updateData+1,originalData:a},()=>n&&h.Router.doNavigate(null))}else this.state.changed?this.setState({confirmDialog:!0}):h.Router.doNavigate(null)})}componentDidUpdate(t,n){n.changed!==this.state.changed&&this.props.configStored(!this.state.changed)}componentDidMount(){return dt(this,null,function*(){const t=`${window.location.protocol}//${window.location.host}${window.location.pathname}validate_config/${this.props.adapterName}`;console.log(`fetch ${t}`),yield fetch(t)})}render(){const{classes:t}=this.props;return!this.state.data||!this.state.schema?l().createElement(u.LinearProgress,null):l().createElement("div",{className:this.props.classes.root},this.renderConfirmDialog(),this.getExportImportButtons(),this.renderSaveConfigDialog(),l().createElement(Us,{key:this.state.hash,className:t.scroll,socket:this.props.socket,themeName:this.props.themeName,themeType:this.props.themeType,adapterName:this.props.adapterName,instance:this.props.instance,isFloatComma:this.props.isFloatComma,dateFormat:this.props.dateFormat,schema:this.state.schema,common:this.state.common,data:this.state.data,updateData:this.state.updateData,onError:n=>this.setState({error:n}),onChange:(n,s,o)=>{o&&this.state.error&&(window.alert(h.I18n.t("Cannot save configuration because of error in configuration")),o=!1),o&&!this.state.changed&&!s&&(o=!1),n?this.setState({data:n,changed:s,saveConfigDialog:o}):o!==void 0&&this.setState({saveConfigDialog:o})},DeviceManager:this.props.DeviceManager}),l().createElement(h.SaveCloseButtons,{isIFrame:!1,dense:!0,paddingLeft:0,newReact:!0,theme:this.state.theme,noTextOnButtons:this.props.width==="xs"||this.props.width==="sm"||this.props.width==="md",changed:!!(this.state.error||this.state.changed),error:!!this.state.error,onSave:n=>this.onSave(!0,n),onClose:()=>this.onSave(!1)}))}}const om=(0,b.withStyles)(em)(gr)},68114:(se,Ce,$)=>{"use strict";$.d(Ce,{A:()=>l});const l={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"}},57215:(se,Ce,$)=>{"use strict";$.d(Ce,{A:()=>l});const l={black:"#000",white:"#fff"}},82199:(se,Ce,$)=>{"use strict";$.d(Ce,{A:()=>l});const l={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"}},68917:(se,Ce,$)=>{"use strict";$.d(Ce,{A:()=>l});const l={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"}},57844:(se,Ce,$)=>{"use strict";$.d(Ce,{A:()=>l});const l={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"}},67060:(se,Ce,$)=>{"use strict";$.d(Ce,{A:()=>l});const l={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"}},42240:(se,Ce,$)=>{"use strict";$.d(Ce,{A:()=>l});const l={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"}},44327:(se,Ce,$)=>{"use strict";$.d(Ce,{A:()=>l});const l={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"}},75757:(se,Ce,$)=>{"use strict";/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */$(55946);var V=$(10590),l=60103;if(Ce.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var b=Symbol.for;l=b("react.element"),Ce.Fragment=b("react.fragment")}var A=V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T=Object.prototype.hasOwnProperty,F={key:!0,ref:!0,__self:!0,__source:!0};function I(u,D,h){var J,le={},Se=null,re=null;h!==void 0&&(Se=""+h),D.key!==void 0&&(Se=""+D.key),D.ref!==void 0&&(re=D.ref);for(J in D)T.call(D,J)&&!F.hasOwnProperty(J)&&(le[J]=D[J]);if(u&&u.defaultProps)for(J in D=u.defaultProps,D)le[J]===void 0&&(le[J]=D[J]);return{$$typeof:l,type:u,key:Se,ref:re,props:le,_owner:A.current}}Ce.jsx=I,Ce.jsxs=I},45703:(se,Ce,$)=>{"use strict";se.exports=$(75757)},49262:(se,Ce,$)=>{"use strict";$.d(Ce,{A:()=>le,I:()=>J});var V=$(58168),l=$(98587),b=$(28437),A=$.n(b),T=$(95973),F=$.n(T),I=$(64922);const u=["value"],D=b.createContext();function h(Se){let{value:re}=Se,pe=(0,l.A)(Se,u);return(0,I.jsx)(D.Provider,(0,V.A)({value:re!=null?re:!0},pe))}const J=()=>{const Se=b.useContext(D);return Se!=null?Se:!1},le=h},97581:(se,Ce,$)=>{"use strict";$.d(Ce,{Cg:()=>pe,E2:()=>A,J1:()=>le,Me:()=>u,Nd:()=>Je,Ob:()=>h,X0:()=>D,X4:()=>re,Y9:()=>g,YL:()=>J,a:()=>oe,e$:()=>Oe,eM:()=>Se,j4:()=>y,rP:()=>F,tL:()=>N});var V=$(22571),l=$(26048);function b(m,x=0,E=1){return(0,l.A)(m,x,E)}function A(m){m=m.slice(1);const x=new RegExp(`.{1,${m.length>=6?2:1}}`,"g");let E=m.match(x);return E&&E[0].length===1&&(E=E.map(B=>B+B)),E?`rgb${E.length===4?"a":""}(${E.map((B,Y)=>Y<3?parseInt(B,16):Math.round(parseInt(B,16)/255*1e3)/1e3).join(", ")})`:""}function T(m){const x=m.toString(16);return x.length===1?`0${x}`:x}function F(m){if(m.type)return m;if(m.charAt(0)==="#")return F(A(m));const x=m.indexOf("("),E=m.substring(0,x);if(["rgb","rgba","hsl","hsla","color"].indexOf(E)===-1)throw new Error((0,V.A)(9,m));let B=m.substring(x+1,m.length-1),Y;if(E==="color"){if(B=B.split(" "),Y=B.shift(),B.length===4&&B[3].charAt(0)==="/"&&(B[3]=B[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(Y)===-1)throw new Error((0,V.A)(10,Y))}else B=B.split(",");return B=B.map(z=>parseFloat(z)),{type:E,values:B,colorSpace:Y}}const I=m=>{const x=F(m);return x.values.slice(0,3).map((E,B)=>x.type.indexOf("hsl")!==-1&&B!==0?`${E}%`:E).join(" ")},u=(m,x)=>{try{return I(m)}catch(E){return m}};function D(m){const{type:x,colorSpace:E}=m;let{values:B}=m;return x.indexOf("rgb")!==-1?B=B.map((Y,z)=>z<3?parseInt(Y,10):Y):x.indexOf("hsl")!==-1&&(B[1]=`${B[1]}%`,B[2]=`${B[2]}%`),x.indexOf("color")!==-1?B=`${E} ${B.join(" ")}`:B=`${B.join(", ")}`,`${x}(${B})`}function h(m){if(m.indexOf("#")===0)return m;const{values:x}=F(m);return`#${x.map((E,B)=>T(B===3?Math.round(255*E):E)).join("")}`}function J(m){m=F(m);const{values:x}=m,E=x[0],B=x[1]/100,Y=x[2]/100,z=B*Math.min(Y,1-Y),U=(Ke,d=(Ke+E/30)%12)=>Y-z*Math.max(Math.min(d-3,9-d,1),-1);let H="rgb";const ce=[Math.round(U(0)*255),Math.round(U(8)*255),Math.round(U(4)*255)];return m.type==="hsla"&&(H+="a",ce.push(x[3])),D({type:H,values:ce})}function le(m){m=F(m);let x=m.type==="hsl"||m.type==="hsla"?F(J(m)).values:m.values;return x=x.map(E=>(m.type!=="color"&&(E/=255),E<=.03928?E/12.92:Qt((E+.055)/1.055,2.4))),Number((.2126*x[0]+.7152*x[1]+.0722*x[2]).toFixed(3))}function Se(m,x){const E=le(m),B=le(x);return(Math.max(E,B)+.05)/(Math.min(E,B)+.05)}function re(m,x){return m=F(m),x=b(x),(m.type==="rgb"||m.type==="hsl")&&(m.type+="a"),m.type==="color"?m.values[3]=`/${x}`:m.values[3]=x,D(m)}function pe(m,x,E){try{return re(m,x)}catch(B){return m}}function Oe(m,x){if(m=F(m),x=b(x),m.type.indexOf("hsl")!==-1)m.values[2]*=1-x;else if(m.type.indexOf("rgb")!==-1||m.type.indexOf("color")!==-1)for(let E=0;E<3;E+=1)m.values[E]*=1-x;return D(m)}function Je(m,x,E){try{return Oe(m,x)}catch(B){return m}}function oe(m,x){if(m=F(m),x=b(x),m.type.indexOf("hsl")!==-1)m.values[2]+=(100-m.values[2])*x;else if(m.type.indexOf("rgb")!==-1)for(let E=0;E<3;E+=1)m.values[E]+=(255-m.values[E])*x;else if(m.type.indexOf("color")!==-1)for(let E=0;E<3;E+=1)m.values[E]+=(1-m.values[E])*x;return D(m)}function y(m,x,E){try{return oe(m,x)}catch(B){return m}}function N(m,x=.15){return le(m)>.5?Oe(m,x):oe(m,x)}function g(m,x,E){try{return N(m,x)}catch(B){return m}}function w(m,x,E,B=1){const Y=(ce,Ke)=>Math.round(Qt(Qt(ce,1/B)*(1-E)+Qt(Ke,1/B)*E,B)),z=F(m),U=F(x),H=[Y(z.values[0],U.values[0]),Y(z.values[1],U.values[1]),Y(z.values[2],U.values[2])];return D({type:"rgb",values:H})}},82292:(se,Ce,$)=>{se=$.nmd(se),ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(V,l,b){"use strict";function A(g){var w=new Date().toLocaleString("en-us",g);return w.length==1?"0"+w:w}var T=V("./lib/dom"),F=V("./lib/oop"),I=V("./lib/event_emitter").EventEmitter,u=V("./lib/lang"),D=V("./range").Range,h=V("./range_list").RangeList,J=V("./keyboard/hash_handler").HashHandler,le=V("./tokenizer").Tokenizer,Se=V("./clipboard"),re={CURRENT_WORD:function(g){return g.session.getTextRange(g.session.getWordRange())},SELECTION:function(g,w,m){var x=g.session.getTextRange();return m?x.replace(/\n\r?([ \t]*\S)/g,`
`+m+"$1"):x},CURRENT_LINE:function(g){return g.session.getLine(g.getCursorPosition().row)},PREV_LINE:function(g){return g.session.getLine(g.getCursorPosition().row-1)},LINE_INDEX:function(g){return g.getCursorPosition().row},LINE_NUMBER:function(g){return g.getCursorPosition().row+1},SOFT_TABS:function(g){return g.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(g){return g.session.getTabSize()},CLIPBOARD:function(g){return Se.getText&&Se.getText()},FILENAME:function(g){return/[^/\\]*$/.exec(this.FILEPATH(g))[0]},FILENAME_BASE:function(g){return/[^/\\]*$/.exec(this.FILEPATH(g))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(g){return this.FILEPATH(g).replace(/[^/\\]*$/,"")},FILEPATH:function(g){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(g){var w=g.session.$mode||{};return w.blockComment&&w.blockComment.start||""},BLOCK_COMMENT_END:function(g){var w=g.session.$mode||{};return w.blockComment&&w.blockComment.end||""},LINE_COMMENT:function(g){var w=g.session.$mode||{};return w.lineCommentStart||""},CURRENT_YEAR:A.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:A.bind(null,{year:"2-digit"}),CURRENT_MONTH:A.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:A.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:A.bind(null,{month:"short"}),CURRENT_DATE:A.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:A.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:A.bind(null,{weekday:"short"}),CURRENT_HOUR:A.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:A.bind(null,{minute:"2-digit"}),CURRENT_SECOND:A.bind(null,{second:"2-digit"})};re.SELECTED_TEXT=re.SELECTION;var pe=function(){function g(){this.snippetMap={},this.snippetNameMap={},this.variables=re}return g.prototype.getTokenizer=function(){return g.$tokenizer||this.createTokenizer()},g.prototype.createTokenizer=function(){function w(E){return E=E.substr(1),/^\d+$/.test(E)?[{tabstopId:parseInt(E,10)}]:[{text:E}]}function m(E){return"(?:[^\\\\"+E+"]|\\\\.)"}var x={regex:"/("+m("/")+"+)/",onMatch:function(E,B,Y){var z=Y[0];return z.fmtString=!0,z.guard=E.slice(1,-1),z.flag="",""},next:"formatString"};return g.$tokenizer=new le({start:[{regex:/\\./,onMatch:function(E,B,Y){var z=E[1];return(z=="}"&&Y.length||"`$\\".indexOf(z)!=-1)&&(E=z),[E]}},{regex:/}/,onMatch:function(E,B,Y){return[Y.length?Y.shift():E]}},{regex:/\$(?:\d+|\w+)/,onMatch:w},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(E,B,Y){var z=w(E.substr(1));return Y.unshift(z[0]),z},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+m("\\|")+"*\\|",onMatch:function(E,B,Y){var z=E.slice(1,-1).replace(/\\[,|\\]|,/g,function(U){return U.length==2?U[1]:"\0"}).split("\0").map(function(U){return{value:U}});return Y[0].choices=z,[z[0]]},next:"start"},x,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(E,B,Y){return Y.length&&Y[0].expectElse?(Y[0].expectElse=!1,Y[0].ifEnd={elseEnd:Y[0]},[Y[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(E,B,Y){var z=E[1];return z=="}"&&Y.length||"`$\\".indexOf(z)!=-1?E=z:z=="n"?E=`
`:z=="t"?E="	":"ulULE".indexOf(z)!=-1&&(E={changeCase:z,local:z>"a"}),[E]}},{regex:"/\\w*}",onMatch:function(E,B,Y){var z=Y.shift();return z&&(z.flag=E.slice(1,-1)),this.next=z&&z.tabstopId?"start":"",[z||E]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(E,B,Y){return[{text:E.slice(1)}]}},{regex:/\${\w+/,onMatch:function(E,B,Y){var z={text:E.slice(2)};return Y.unshift(z),[z]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(E,B,Y){var z=Y.shift();return this.next=z&&z.tabstopId?"start":"",[z||E]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(E,B,Y){var z=Y[0];return z.formatFunction=E.slice(2,-1),[Y.shift()]},next:"formatString"},x,{regex:/:[\?\-+]?/,onMatch:function(E,B,Y){E[1]=="+"&&(Y[0].ifEnd=Y[0]),E[1]=="?"&&(Y[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),g.$tokenizer},g.prototype.tokenizeTmSnippet=function(w,m){return this.getTokenizer().getLineTokens(w,m).tokens.map(function(x){return x.value||x})},g.prototype.getVariableValue=function(w,m,x){if(/^\d+$/.test(m))return(this.variables.__||{})[m]||"";if(/^[A-Z]\d+$/.test(m))return(this.variables[m[0]+"__"]||{})[m.substr(1)]||"";if(m=m.replace(/^TM_/,""),!this.variables.hasOwnProperty(m))return"";var E=this.variables[m];return typeof E=="function"&&(E=this.variables[m](w,m,x)),E==null?"":E},g.prototype.tmStrFormat=function(w,m,x){if(!m.fmt)return w;var E=m.flag||"",B=m.guard;B=new RegExp(B,E.replace(/[^gim]/g,""));var Y=typeof m.fmt=="string"?this.tokenizeTmSnippet(m.fmt,"formatString"):m.fmt,z=this,U=w.replace(B,function(){var H=z.variables.__;z.variables.__=[].slice.call(arguments);for(var ce=z.resolveVariables(Y,x),Ke="E",d=0;d<ce.length;d++){var rt=ce[d];if(typeof rt=="object")if(ce[d]="",rt.changeCase&&rt.local){var nt=ce[d+1];nt&&typeof nt=="string"&&(rt.changeCase=="u"?ce[d]=nt[0].toUpperCase():ce[d]=nt[0].toLowerCase(),ce[d+1]=nt.substr(1))}else rt.changeCase&&(Ke=rt.changeCase);else Ke=="U"?ce[d]=rt.toUpperCase():Ke=="L"&&(ce[d]=rt.toLowerCase())}return z.variables.__=H,ce.join("")});return U},g.prototype.tmFormatFunction=function(w,m,x){return m.formatFunction=="upcase"?w.toUpperCase():m.formatFunction=="downcase"?w.toLowerCase():w},g.prototype.resolveVariables=function(w,m){function x(Ke){var d=w.indexOf(Ke,z+1);d!=-1&&(z=d)}for(var E=[],B="",Y=!0,z=0;z<w.length;z++){var U=w[z];if(typeof U=="string"){E.push(U),U==`
`?(Y=!0,B=""):Y&&(B=/^\t*/.exec(U)[0],Y=/\S/.test(U));continue}if(U){if(Y=!1,U.fmtString){var H=w.indexOf(U,z+1);H==-1&&(H=w.length),U.fmt=w.slice(z+1,H),z=H}if(U.text){var ce=this.getVariableValue(m,U.text,B)+"";U.fmtString&&(ce=this.tmStrFormat(ce,U,m)),U.formatFunction&&(ce=this.tmFormatFunction(ce,U,m)),ce&&!U.ifEnd?(E.push(ce),x(U)):!ce&&U.ifEnd&&x(U.ifEnd)}else U.elseEnd?x(U.elseEnd):(U.tabstopId!=null||U.changeCase!=null)&&E.push(U)}}return E},g.prototype.getDisplayTextForSnippet=function(w,m){var x=Oe.call(this,w,m);return x.text},g.prototype.insertSnippetForSelection=function(w,m,x){x===void 0&&(x={});var E=Oe.call(this,w,m,x),B=w.getSelectionRange(),Y=w.session.replace(B,E.text),z=new Je(w),U=w.inVirtualSelectionMode&&w.selection.index;z.addTabstops(E.tabstops,B.start,Y,U)},g.prototype.insertSnippet=function(w,m,x){x===void 0&&(x={});var E=this;if(w.inVirtualSelectionMode)return E.insertSnippetForSelection(w,m,x);w.forEachSelection(function(){E.insertSnippetForSelection(w,m,x)},null,{keepOrder:!0}),w.tabstopManager&&w.tabstopManager.tabNext()},g.prototype.$getScope=function(w){var m=w.session.$mode.$id||"";if(m=m.split("/").pop(),m==="html"||m==="php"){m==="php"&&!w.session.$mode.inlinePhp&&(m="html");var x=w.getCursorPosition(),E=w.session.getState(x.row);typeof E=="object"&&(E=E[0]),E.substring&&(E.substring(0,3)=="js-"?m="javascript":E.substring(0,4)=="css-"?m="css":E.substring(0,4)=="php-"&&(m="php"))}return m},g.prototype.getActiveScopes=function(w){var m=this.$getScope(w),x=[m],E=this.snippetMap;return E[m]&&E[m].includeScopes&&x.push.apply(x,E[m].includeScopes),x.push("_"),x},g.prototype.expandWithTab=function(w,m){var x=this,E=w.forEachSelection(function(){return x.expandSnippetForSelection(w,m)},null,{keepOrder:!0});return E&&w.tabstopManager&&w.tabstopManager.tabNext(),E},g.prototype.expandSnippetForSelection=function(w,m){var x=w.getCursorPosition(),E=w.session.getLine(x.row),B=E.substring(0,x.column),Y=E.substr(x.column),z=this.snippetMap,U;return this.getActiveScopes(w).some(function(H){var ce=z[H];return ce&&(U=this.findMatchingSnippet(ce,B,Y)),!!U},this),U?(m&&m.dryRun||(w.session.doc.removeInLine(x.row,x.column-U.replaceBefore.length,x.column+U.replaceAfter.length),this.variables.M__=U.matchBefore,this.variables.T__=U.matchAfter,this.insertSnippetForSelection(w,U.content),this.variables.M__=this.variables.T__=null),!0):!1},g.prototype.findMatchingSnippet=function(w,m,x){for(var E=w.length;E--;){var B=w[E];if(!(B.startRe&&!B.startRe.test(m))&&!(B.endRe&&!B.endRe.test(x))&&!(!B.startRe&&!B.endRe))return B.matchBefore=B.startRe?B.startRe.exec(m):[""],B.matchAfter=B.endRe?B.endRe.exec(x):[""],B.replaceBefore=B.triggerRe?B.triggerRe.exec(m)[0]:"",B.replaceAfter=B.endTriggerRe?B.endTriggerRe.exec(x)[0]:"",B}},g.prototype.register=function(w,m){function x(H){return H&&!/^\^?\(.*\)\$?$|^\\b$/.test(H)&&(H="(?:"+H+")"),H||""}function E(H,ce,Ke){return H=x(H),ce=x(ce),Ke?(H=ce+H,H&&H[H.length-1]!="$"&&(H+="$")):(H+=ce,H&&H[0]!="^"&&(H="^"+H)),new RegExp(H)}function B(H){H.scope||(H.scope=m||"_"),m=H.scope,Y[m]||(Y[m]=[],z[m]={});var ce=z[m];if(H.name){var Ke=ce[H.name];Ke&&U.unregister(Ke),ce[H.name]=H}Y[m].push(H),H.prefix&&(H.tabTrigger=H.prefix),!H.content&&H.body&&(H.content=Array.isArray(H.body)?H.body.join(`
`):H.body),H.tabTrigger&&!H.trigger&&(!H.guard&&/^\w/.test(H.tabTrigger)&&(H.guard="\\b"),H.trigger=u.escapeRegExp(H.tabTrigger)),!(!H.trigger&&!H.guard&&!H.endTrigger&&!H.endGuard)&&(H.startRe=E(H.trigger,H.guard,!0),H.triggerRe=new RegExp(H.trigger),H.endRe=E(H.endTrigger,H.endGuard,!0),H.endTriggerRe=new RegExp(H.endTrigger))}var Y=this.snippetMap,z=this.snippetNameMap,U=this;w||(w=[]),Array.isArray(w)?w.forEach(B):Object.keys(w).forEach(function(H){B(w[H])}),this._signal("registerSnippets",{scope:m})},g.prototype.unregister=function(w,m){function x(Y){var z=B[Y.scope||m];if(z&&z[Y.name]){delete z[Y.name];var U=E[Y.scope||m],H=U&&U.indexOf(Y);H>=0&&U.splice(H,1)}}var E=this.snippetMap,B=this.snippetNameMap;w.content?x(w):Array.isArray(w)&&w.forEach(x)},g.prototype.parseSnippetFile=function(w){w=w.replace(/\r/g,"");for(var m=[],x={},E=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,B;B=E.exec(w);){if(B[1])try{x=JSON.parse(B[1]),m.push(x)}catch(H){}if(B[4])x.content=B[4].replace(/^\t/gm,""),m.push(x),x={};else{var Y=B[2],z=B[3];if(Y=="regex"){var U=/\/((?:[^\/\\]|\\.)*)|$/g;x.guard=U.exec(z)[1],x.trigger=U.exec(z)[1],x.endTrigger=U.exec(z)[1],x.endGuard=U.exec(z)[1]}else Y=="snippet"?(x.tabTrigger=z.match(/^\S*/)[0],x.name||(x.name=z)):Y&&(x[Y]=z)}}return m},g.prototype.getSnippetByName=function(w,m){var x=this.snippetNameMap,E;return this.getActiveScopes(m).some(function(B){var Y=x[B];return Y&&(E=Y[w]),!!E},this),E},g}();F.implement(pe.prototype,I);var Oe=function(g,w,m){function x(it){for(var kt=[],Xt=0;Xt<it.length;Xt++){var vt=it[Xt];if(typeof vt=="object"){if(ce[vt.tabstopId])continue;var En=it.lastIndexOf(vt,Xt-1);vt=kt[En]||{tabstopId:vt.tabstopId}}kt[Xt]=vt}return kt}m===void 0&&(m={});var E=g.getCursorPosition(),B=g.session.getLine(E.row),Y=g.session.getTabString(),z=B.match(/^\s*/)[0];E.column<z.length&&(z=z.slice(0,E.column)),w=w.replace(/\r/g,"");var U=this.tokenizeTmSnippet(w);U=this.resolveVariables(U,g),U=U.map(function(it){return it==`
`&&!m.excludeExtraIndent?it+z:typeof it=="string"?it.replace(/\t/g,Y):it});var H=[];U.forEach(function(it,kt){if(typeof it=="object"){var Xt=it.tabstopId,vt=H[Xt];if(vt||(vt=H[Xt]=[],vt.index=Xt,vt.value="",vt.parents={}),vt.indexOf(it)===-1){it.choices&&!vt.choices&&(vt.choices=it.choices),vt.push(it);var En=U.indexOf(it,kt+1);if(En!==-1){var Sn=U.slice(kt+1,En),Ut=Sn.some(function(Et){return typeof Et=="object"});Ut&&!vt.value?vt.value=Sn:Sn.length&&(!vt.value||typeof vt.value!="string")&&(vt.value=Sn.join(""))}}}}),H.forEach(function(it){it.length=0});for(var ce={},Ke=0;Ke<U.length;Ke++){var d=U[Ke];if(typeof d=="object"){var rt=d.tabstopId,nt=H[rt],de=U.indexOf(d,Ke+1);if(ce[rt]){ce[rt]===d&&(delete ce[rt],Object.keys(ce).forEach(function(it){nt.parents[it]=!0}));continue}ce[rt]=d;var ve=nt.value;typeof ve!="string"?ve=x(ve):d.fmt&&(ve=this.tmStrFormat(ve,d,g)),U.splice.apply(U,[Ke+1,Math.max(0,de-Ke)].concat(ve,d)),nt.indexOf(d)===-1&&nt.push(d)}}var ye=0,Ae=0,zt="";return U.forEach(function(it){if(typeof it=="string"){var kt=it.split(`
`);kt.length>1?(Ae=kt[kt.length-1].length,ye+=kt.length-1):Ae+=it.length,zt+=it}else it&&(it.start?it.end={row:ye,column:Ae}:it.start={row:ye,column:Ae})}),{text:zt,tabstops:H,tokens:U}},Je=function(){function g(w){if(this.index=0,this.ranges=[],this.tabstops=[],w.tabstopManager)return w.tabstopManager;w.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=u.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(w)}return g.prototype.attach=function(w){this.$openTabstops=null,this.selectedTabstop=null,this.editor=w,this.session=w.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},g.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},g.prototype.onChange=function(w){for(var m=w.action[0]=="r",x=this.selectedTabstop||{},E=x.parents||{},B=this.tabstops.slice(),Y=0;Y<B.length;Y++){var z=B[Y],U=z==x||E[z.index];if(z.rangeList.$bias=U?0:1,w.action=="remove"&&z!==x){var H=z.parents&&z.parents[x.index],ce=z.rangeList.pointIndex(w.start,H);ce=ce<0?-ce-1:ce+1;var Ke=z.rangeList.pointIndex(w.end,H);Ke=Ke<0?-Ke-1:Ke-1;for(var d=z.rangeList.ranges.slice(ce,Ke),rt=0;rt<d.length;rt++)this.removeRange(d[rt])}z.rangeList.$onChange(w)}var nt=this.session;!this.$inChange&&m&&nt.getLength()==1&&!nt.getValue()&&this.detach()},g.prototype.updateLinkedFields=function(){var w=this.selectedTabstop;if(!(!w||!w.hasLinkedRanges||!w.firstNonLinked)){this.$inChange=!0;for(var m=this.session,x=m.getTextRange(w.firstNonLinked),E=0;E<w.length;E++){var B=w[E];if(B.linked){var Y=B.original,z=l.snippetManager.tmStrFormat(x,Y,this.editor);m.replace(B,z)}}this.$inChange=!1}},g.prototype.onAfterExec=function(w){w.command&&!w.command.readOnly&&this.updateLinkedFields()},g.prototype.onChangeSelection=function(){if(this.editor){for(var w=this.editor.selection.lead,m=this.editor.selection.anchor,x=this.editor.selection.isEmpty(),E=0;E<this.ranges.length;E++)if(!this.ranges[E].linked){var B=this.ranges[E].contains(w.row,w.column),Y=x||this.ranges[E].contains(m.row,m.column);if(B&&Y)return}this.detach()}},g.prototype.onChangeSession=function(){this.detach()},g.prototype.tabNext=function(w){var m=this.tabstops.length,x=this.index+(w||1);x=Math.min(Math.max(x,1),m),x==m&&(x=0),this.selectTabstop(x),this.updateTabstopMarkers(),x===0&&this.detach()},g.prototype.selectTabstop=function(w){this.$openTabstops=null;var m=this.tabstops[this.index];if(m&&this.addTabstopMarkers(m),this.index=w,m=this.tabstops[this.index],!(!m||!m.length)){this.selectedTabstop=m;var x=m.firstNonLinked||m;if(m.choices&&(x.cursor=x.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(x);else{var E=this.editor.multiSelect;E.toSingleRange(x);for(var B=0;B<m.length;B++)m.hasLinkedRanges&&m[B].linked||E.addRange(m[B].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},g.prototype.addTabstops=function(w,m,x){var E=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!w[0]){var B=D.fromPoints(x,x);y(B.start,m),y(B.end,m),w[0]=[B],w[0].index=0}var Y=this.index,z=[Y+1,0],U=this.ranges,H=this.snippetId=(this.snippetId||0)+1;w.forEach(function(ce,Ke){var d=this.$openTabstops[Ke]||ce;d.snippetId=H;for(var rt=0;rt<ce.length;rt++){var nt=ce[rt],de=D.fromPoints(nt.start,nt.end||nt.start);oe(de.start,m),oe(de.end,m),de.original=nt,de.tabstop=d,U.push(de),d!=ce?d.unshift(de):d[rt]=de,nt.fmtString||d.firstNonLinked&&E?(de.linked=!0,d.hasLinkedRanges=!0):d.firstNonLinked||(d.firstNonLinked=de)}d.firstNonLinked||(d.hasLinkedRanges=!1),d===ce&&(z.push(d),this.$openTabstops[Ke]=d),this.addTabstopMarkers(d),d.rangeList=d.rangeList||new h,d.rangeList.$bias=0,d.rangeList.addList(d)},this),z.length>2&&(this.tabstops.length&&z.push(z.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,z))},g.prototype.addTabstopMarkers=function(w){var m=this.session;w.forEach(function(x){x.markerId||(x.markerId=m.addMarker(x,"ace_snippet-marker","text"))})},g.prototype.removeTabstopMarkers=function(w){var m=this.session;w.forEach(function(x){m.removeMarker(x.markerId),x.markerId=null})},g.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var w=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&w--,this.tabstops.forEach(function(m){m.snippetId===w?this.addTabstopMarkers(m):this.removeTabstopMarkers(m)},this)}},g.prototype.removeRange=function(w){var m=w.tabstop.indexOf(w);m!=-1&&w.tabstop.splice(m,1),m=this.ranges.indexOf(w),m!=-1&&this.ranges.splice(m,1),m=w.tabstop.rangeList.ranges.indexOf(w),m!=-1&&w.tabstop.splice(m,1),this.session.removeMarker(w.markerId),w.tabstop.length||(m=this.tabstops.indexOf(w.tabstop),m!=-1&&this.tabstops.splice(m,1),this.tabstops.length||this.detach())},g}();Je.prototype.keyboardHandler=new J,Je.prototype.keyboardHandler.bindKeys({Tab:function(g){l.snippetManager&&l.snippetManager.expandWithTab(g)||(g.tabstopManager.tabNext(1),g.renderer.scrollCursorIntoView())},"Shift-Tab":function(g){g.tabstopManager.tabNext(-1),g.renderer.scrollCursorIntoView()},Esc:function(g){g.tabstopManager.detach()}});var oe=function(g,w){g.row==0&&(g.column+=w.column),g.row+=w.row},y=function(g,w){g.row==w.row&&(g.column-=w.column),g.row-=w.row};T.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),l.snippetManager=new pe;var N=V("./editor").Editor;(function(){this.insertSnippet=function(g,w){return l.snippetManager.insertSnippet(this,g,w)},this.expandSnippet=function(g){return l.snippetManager.expandWithTab(this,g)}}).call(N.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(V,l,b){"use strict";var A=V("../virtual_renderer").VirtualRenderer,T=V("../editor").Editor,F=V("../range").Range,I=V("../lib/event"),u=V("../lib/lang"),D=V("../lib/dom"),h=V("../config").nls,J=V("./../lib/useragent"),le=function(oe){return"suggest-aria-id:".concat(oe)},Se=J.isSafari?"menu":"listbox",re=J.isSafari?"menuitem":"option",pe=J.isSafari?"aria-current":"aria-selected",Oe=function(oe){var y=new A(oe);y.$maxLines=4;var N=new T(y);return N.setHighlightActiveLine(!1),N.setShowPrintMargin(!1),N.renderer.setShowGutter(!1),N.renderer.setHighlightGutterLine(!1),N.$mouseHandler.$focusTimeout=0,N.$highlightTagPending=!0,N},Je=function(){function oe(y){var N=D.createElement("div"),g=Oe(N);y&&y.appendChild(N),N.style.display="none",g.renderer.content.style.cursor="default",g.renderer.setStyle("ace_autocomplete"),g.renderer.$textLayer.element.setAttribute("role",Se),g.renderer.$textLayer.element.setAttribute("aria-roledescription",h("Autocomplete suggestions")),g.renderer.$textLayer.element.setAttribute("aria-label",h("Autocomplete suggestions")),g.renderer.textarea.setAttribute("aria-hidden","true"),g.setOption("displayIndentGuides",!1),g.setOption("dragDelay",150);var w=function(){};g.focus=w,g.$isFocused=!0,g.renderer.$cursorLayer.restartTimer=w,g.renderer.$cursorLayer.element.style.opacity="0",g.renderer.$maxLines=8,g.renderer.$keepTextAreaAtCursor=!1,g.setHighlightActiveLine(!1),g.session.highlight(""),g.session.$searchHighlight.clazz="ace_highlight-marker",g.on("mousedown",function(U){var H=U.getDocumentPosition();g.selection.moveToPosition(H),E.start.row=E.end.row=H.row,U.stop()});var m,x=new F(-1,0,-1,1/0),E=new F(-1,0,-1,1/0);E.id=g.session.addMarker(E,"ace_active-line","fullLine"),g.setSelectOnHover=function(U){U?x.id&&(g.session.removeMarker(x.id),x.id=null):x.id=g.session.addMarker(x,"ace_line-hover","fullLine")},g.setSelectOnHover(!1),g.on("mousemove",function(U){if(!m){m=U;return}if(!(m.x==U.x&&m.y==U.y)){m=U,m.scrollTop=g.renderer.scrollTop,g.isMouseOver=!0;var H=m.getDocumentPosition().row;x.start.row!=H&&(x.id||g.setRow(H),Y(H))}}),g.renderer.on("beforeRender",function(){if(m&&x.start.row!=-1){m.$pos=null;var U=m.getDocumentPosition().row;x.id||g.setRow(U),Y(U,!0)}}),g.renderer.on("afterRender",function(){var U=g.getRow(),H=g.renderer.$textLayer,ce=H.element.childNodes[U-H.config.firstRow],Ke=document.activeElement;if(ce!==g.selectedNode&&g.selectedNode&&(D.removeCssClass(g.selectedNode,"ace_selected"),Ke.removeAttribute("aria-activedescendant"),g.selectedNode.removeAttribute(pe),g.selectedNode.removeAttribute("id")),g.selectedNode=ce,ce){D.addCssClass(ce,"ace_selected");var d=le(U);ce.id=d,H.element.setAttribute("aria-activedescendant",d),Ke.setAttribute("aria-activedescendant",d),ce.setAttribute("role",re),ce.setAttribute("aria-roledescription",h("item")),ce.setAttribute("aria-label",g.getData(U).caption||g.getData(U).value),ce.setAttribute("aria-setsize",g.data.length),ce.setAttribute("aria-posinset",U+1),ce.setAttribute("aria-describedby","doc-tooltip"),ce.setAttribute(pe,"true")}});var B=function(){Y(-1)},Y=function(U,H){U!==x.start.row&&(x.start.row=x.end.row=U,H||g.session._emit("changeBackMarker"),g._emit("changeHoverMarker"))};g.getHoveredRow=function(){return x.start.row},I.addListener(g.container,"mouseout",function(){g.isMouseOver=!1,B()}),g.on("hide",B),g.on("changeSelection",B),g.session.doc.getLength=function(){return g.data.length},g.session.doc.getLine=function(U){var H=g.data[U];return typeof H=="string"?H:H&&H.value||""};var z=g.session.bgTokenizer;return z.$tokenizeRow=function(U){function H(it,kt){it&&Ke.push({type:(ce.className||"")+(kt||""),value:it})}var ce=g.data[U],Ke=[];if(!ce)return Ke;typeof ce=="string"&&(ce={value:ce});for(var d=ce.caption||ce.value||ce.name,rt=d.toLowerCase(),nt=(g.filterText||"").toLowerCase(),de=0,ve=0,ye=0;ye<=nt.length;ye++)if(ye!=ve&&(ce.matchMask&1<<ye||ye==nt.length)){var Ae=nt.slice(ve,ye);ve=ye;var zt=rt.indexOf(Ae,de);if(zt==-1)continue;H(d.slice(de,zt),""),de=zt+Ae.length,H(d.slice(zt,de),"completion-highlight")}return H(d.slice(de,d.length),""),Ke.push({type:"completion-spacer",value:" "}),ce.meta&&Ke.push({type:"completion-meta",value:ce.meta}),ce.message&&Ke.push({type:"completion-message",value:ce.message}),Ke},z.$updateOnChange=w,z.start=w,g.session.$computeWidth=function(){return this.screenWidth=0},g.isOpen=!1,g.isTopdown=!1,g.autoSelect=!0,g.filterText="",g.isMouseOver=!1,g.data=[],g.setData=function(U,H){g.filterText=H||"",g.setValue(u.stringRepeat(`
`,U.length),-1),g.data=U||[],g.setRow(0)},g.getData=function(U){return g.data[U]},g.getRow=function(){return E.start.row},g.setRow=function(U){U=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,U)),E.start.row!=U&&(g.selection.clearSelection(),E.start.row=E.end.row=U||0,g.session._emit("changeBackMarker"),g.moveCursorTo(U||0,0),g.isOpen&&g._signal("select"))},g.on("changeSelection",function(){g.isOpen&&g.setRow(g.selection.lead.row),g.renderer.scrollCursorIntoView()}),g.hide=function(){this.container.style.display="none",g.anchorPos=null,g.anchor=null,g.isOpen&&(g.isOpen=!1,this._signal("hide"))},g.tryShow=function(U,H,ce,Ke){if(!Ke&&g.isOpen&&g.anchorPos&&g.anchor&&g.anchorPos.top===U.top&&g.anchorPos.left===U.left&&g.anchor===ce)return!0;var d=this.container,rt=window.innerHeight,nt=window.innerWidth,de=this.renderer,ve=de.$maxLines*H*1.4,ye={top:0,bottom:0,left:0},Ae=rt-U.top-3*this.$borderSize-H,zt=U.top-3*this.$borderSize;ce||(zt<=Ae||Ae>=ve?ce="bottom":ce="top"),ce==="top"?(ye.bottom=U.top-this.$borderSize,ye.top=ye.bottom-ve):ce==="bottom"&&(ye.top=U.top+H+this.$borderSize,ye.bottom=ye.top+ve);var it=ye.top>=0&&ye.bottom<=rt;if(!Ke&&!it)return!1;it?de.$maxPixelHeight=null:ce==="top"?de.$maxPixelHeight=zt:de.$maxPixelHeight=Ae,ce==="top"?(d.style.top="",d.style.bottom=rt-ye.bottom+"px",g.isTopdown=!1):(d.style.top=ye.top+"px",d.style.bottom="",g.isTopdown=!0),d.style.display="";var kt=U.left;return kt+d.offsetWidth>nt&&(kt=nt-d.offsetWidth),d.style.left=kt+"px",d.style.right="",g.isOpen||(g.isOpen=!0,this._signal("show"),m=null),g.anchorPos=U,g.anchor=ce,!0},g.show=function(U,H,ce){this.tryShow(U,H,ce?"bottom":void 0,!0)},g.goTo=function(U){var H=this.getRow(),ce=this.session.getLength()-1;switch(U){case"up":H=H<=0?ce:H-1;break;case"down":H=H>=ce?-1:H+1;break;case"start":H=0;break;case"end":H=ce}this.setRow(H)},g.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},g.$imageSize=0,g.$borderSize=1,g}return oe}();D.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),l.AcePopup=Je,l.$singleLineEditor=Oe,l.getAriaId=le}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(V,l,b){"use strict";var A=function(){function T(F){this.editor=F,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return T.prototype.setScreenReaderContent=function(F){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",function(){var u=this.popup.getRow(),D=this.popup.renderer.$textLayer,h=D.element.childNodes[u-D.config.firstRow];if(h){for(var J="doc-tooltip ",le=0;le<this._lines.length;le++)J+="ace-inline-screenreader-line-".concat(le," ");h.setAttribute("aria-describedby",J)}}.bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=F.split(/\r\n|\r|\n/);var I=this.createCodeBlock();this.screenReaderDiv.appendChild(I)},T.prototype.destroy=function(){this.screenReaderDiv.remove()},T.prototype.createCodeBlock=function(){var F=document.createElement("pre");F.setAttribute("id","ace-inline-screenreader");for(var I=0;I<this._lines.length;I++){var u=document.createElement("code");u.setAttribute("id","ace-inline-screenreader-line-".concat(I));var D=document.createTextNode(this._lines[I]);u.appendChild(D),F.appendChild(u)}return F},T}();l.AceInlineScreenReader=A}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(V,l,b){"use strict";var A=V("../snippets").snippetManager,T=V("./inline_screenreader").AceInlineScreenReader,F=function(){function I(){this.editor=null}return I.prototype.show=function(u,D,h){if(h=h||"",u&&this.editor&&this.editor!==u&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!u||!D)return!1;this.inlineScreenReader||(this.inlineScreenReader=new T(u));var J=D.snippet?A.getDisplayTextForSnippet(u,D.snippet):D.value;return D.hideInlinePreview||!J||!J.startsWith(h)?!1:(this.editor=u,this.inlineScreenReader.setScreenReaderContent(J),J=J.slice(h.length),J===""?u.removeGhostText():u.setGhostText(J),!0)},I.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},I.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},I.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},I}();l.AceInline=F}),ace.define("ace/autocomplete/util",["require","exports","module"],function(V,l,b){"use strict";l.parForEach=function(T,F,I){var u=0,D=T.length;D===0&&I();for(var h=0;h<D;h++)F(T[h],function(J,le){u++,u===D&&I(J,le)})};var A=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;l.retrievePrecedingIdentifier=function(T,F,I){I=I||A;for(var u=[],D=F-1;D>=0&&I.test(T[D]);D--)u.push(T[D]);return u.reverse().join("")},l.retrieveFollowingIdentifier=function(T,F,I){I=I||A;for(var u=[],D=F;D<T.length&&I.test(T[D]);D++)u.push(T[D]);return u},l.getCompletionPrefix=function(T){var F=T.getCursorPosition(),I=T.session.getLine(F.row),u;return T.completers.forEach(function(D){D.identifierRegexps&&D.identifierRegexps.forEach(function(h){!u&&h&&(u=this.retrievePrecedingIdentifier(I,F.column,h))}.bind(this))}.bind(this)),u||this.retrievePrecedingIdentifier(I,F.column)},l.triggerAutocomplete=function(T,I){var I=I==null?T.session.getPrecedingCharacter():I;return T.completers.some(function(u){if(u.triggerCharacters&&Array.isArray(u.triggerCharacters))return u.triggerCharacters.includes(I)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(V,l,b){"use strict";var A=V("./keyboard/hash_handler").HashHandler,T=V("./autocomplete/popup").AcePopup,F=V("./autocomplete/inline").AceInline,I=V("./autocomplete/popup").getAriaId,u=V("./autocomplete/util"),D=V("./lib/lang"),h=V("./lib/dom"),J=V("./snippets").snippetManager,le=V("./config"),Se=V("./lib/event"),re=V("./lib/scroll").preventParentScroll,pe=function(y,N){N.completer&&N.completer.destroy()},Oe=function(){function y(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new A,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=D.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=D.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=D.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=D.delayedCall(function(){this.stickySelection=!0}.bind(this),this.stickySelectionDelay),this.$firstOpenTimer=D.delayedCall(function(){var N=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!N||this.editor.completers.length===0||(this.completions=new oe(y.completionsForLoading),this.openPopup(this.editor,N.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}.bind(this),this.stickySelectionDelay)}return Object.defineProperty(y,"completionsForLoading",{get:function(){return[{caption:le.nls("Loading..."),value:""}]},enumerable:!1,configurable:!0}),y.prototype.$init=function(){return this.popup=new T(this.parentNode||document.body||document.documentElement),this.popup.on("click",function(N){this.insertMatch(),N.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),Se.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},y.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new F,this.inlineRenderer},y.prototype.getPopup=function(){return this.popup||this.$init()},y.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},y.prototype.$seen=function(N){!this.hasSeen.has(N)&&N&&N.completer&&N.completer.onSeen&&typeof N.completer.onSeen=="function"&&(N.completer.onSeen(this.editor,N),this.hasSeen.add(N))},y.prototype.$onPopupChange=function(N){if(this.inlineRenderer&&this.inlineEnabled){var g=N?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(g),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},y.prototype.$updateGhostText=function(N){var g=this.base.row,w=this.base.column,m=this.editor.getCursorPosition().column,x=this.editor.session.getLine(g).slice(w,m);this.inlineRenderer.show(this.editor,N,x)?this.$seen(N):this.inlineRenderer.hide()},y.prototype.$onPopupRender=function(){var N=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var g=this.popup.getFirstVisibleRow();g<=this.popup.getLastVisibleRow();g++){var w=this.popup.getData(g);w&&(!N||w.hideInlinePreview)&&this.$seen(w)}},y.prototype.$onPopupShow=function(N){this.$onPopupChange(N),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},y.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var N=this.editor.container.parentNode,g=[];N;)g.push(N),N.addEventListener("scroll",this.onLayoutChange,{passive:!0}),N=N.parentNode;this.$elements=g}},y.prototype.unObserveLayoutChanges=function(){var N=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(g){g.removeEventListener("scroll",N.onLayoutChange,{passive:!0})}),this.$elements=null},y.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},y.prototype.$updatePopupPosition=function(){var N=this.editor,g=N.renderer,w=g.layerConfig.lineHeight,m=g.$cursorLayer.getPixelPosition(this.base,!0);m.left-=this.popup.getTextLeftOffset();var x=N.container.getBoundingClientRect();m.top+=x.top-g.layerConfig.offset,m.left+=x.left-N.renderer.scrollLeft,m.left+=g.gutterWidth;var E={top:m.top,left:m.left};g.$ghostText&&g.$ghostTextWidget&&this.base.row===g.$ghostText.position.row&&(E.top+=g.$ghostTextWidget.el.offsetHeight);var B=N.container.getBoundingClientRect().bottom-w,Y=B<E.top?{top:B,left:E.left}:E;this.popup.tryShow(Y,w,"bottom")||this.popup.tryShow(m,w,"top")||this.popup.show(m,w)},y.prototype.openPopup=function(N,g,w){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var m=this.popup.getRow(),x=this.popup.data[m];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:I(this.popup.getRow()),inline:this.inlineEnabled}),N.keyBinding.addKeyboardHandler(this.keyboardHandler);var E;this.stickySelection&&(E=this.popup.data.indexOf(x)),(!E||E===-1)&&(E=0),this.popup.setRow(this.autoSelect?E:-1),E===m&&x!==this.completions.filtered[E]&&this.$onPopupChange();var B=this.inlineRenderer&&this.inlineEnabled;if(E===m&&B){var Y=this.popup.getData(this.popup.getRow());this.$updateGhostText(Y)}w||(this.popup.setTheme(N.getTheme()),this.popup.setFontSize(N.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},y.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},y.prototype.changeListener=function(N){var g=this.editor.selection.lead;(g.row!=this.base.row||g.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},y.prototype.blurListener=function(N){var g=document.activeElement,w=this.editor.textInput.getElement(),m=N.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(N.relatedTarget),x=this.popup&&this.popup.container;g!=w&&g.parentNode!=x&&!m&&g!=this.tooltipNode&&N.relatedTarget!=w&&this.detach()},y.prototype.mousedownListener=function(N){this.detach()},y.prototype.mousewheelListener=function(N){this.popup.isMouseOver||this.detach()},y.prototype.mouseOutListener=function(N){this.popup.isOpen&&this.$updatePopupPosition()},y.prototype.goTo=function(N){this.popup.goTo(N)},y.prototype.insertMatch=function(N,g){if(N||(N=this.popup.getData(this.popup.getRow())),!N)return!1;if(N.value==="")return this.detach();var w=this.completions,m=this.getCompletionProvider().insertMatch(this.editor,N,w.filterText,g);return this.completions==w&&this.detach(),m},y.prototype.showPopup=function(N,g){this.editor&&this.detach(),this.activated=!0,this.editor=N,N.completer!=this&&(N.completer&&N.completer.detach(),N.completer=this),N.on("changeSelection",this.changeListener),N.on("blur",this.blurListener),N.on("mousedown",this.mousedownListener),N.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,g)},y.prototype.getCompletionProvider=function(N){return this.completionProvider||(this.completionProvider=new Je(N)),this.completionProvider},y.prototype.gatherCompletions=function(N,g){return this.getCompletionProvider().gatherCompletions(N,g)},y.prototype.updateCompletions=function(N,g){if(N&&this.base&&this.completions){var m=this.editor.getCursorPosition(),x=this.editor.session.getTextRange({start:this.base,end:m});if(x==this.completions.filterText)return;if(this.completions.setFilter(x),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==x&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,x,N);return}if(g&&g.matches){var m=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(m.row,m.column),this.base.$insertRight=!0,this.completions=new oe(g.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",N)}var w=this.editor.getSession(),m=this.editor.getCursorPosition(),x=u.getCompletionPrefix(this.editor);this.base=w.doc.createAnchor(m.row,m.column-x.length),this.base.$insertRight=!0;var E={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:x,pos:m}).provideCompletions(this.editor,E,function(B,Y,z){var U=Y.filtered,H=u.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),z){if(!U.length){var ce=!this.autoShown&&this.emptyMessage;if(typeof ce=="function"&&(ce=this.emptyMessage(H)),ce){var Ke=[{caption:ce,value:""}];this.completions=new oe(Ke),this.openPopup(this.editor,H,N),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(U.length==1&&U[0].value==H&&!U[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&U.length==1)return this.insertMatch(U[0])}this.completions=!z&&this.showLoadingState?new oe(y.completionsForLoading.concat(U),Y.filterText):Y,this.openPopup(this.editor,H,N),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!z)}.bind(this)),this.showLoadingState&&!this.autoShown&&(!this.popup||!this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},y.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},y.prototype.updateDocTooltip=function(){var N=this.popup,g=this.completions.filtered,w=g&&(g[N.getHoveredRow()]||g[N.getRow()]),m=null;if(!w||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var x=this.editor.completers.length,E=0;E<x;E++){var B=this.editor.completers[E];if(B.getDocTooltip&&w.completerId===B.id){m=B.getDocTooltip(w);break}}if(!m&&typeof w!="string"&&(m=w),typeof m=="string"&&(m={docText:m}),!m||!m.docHTML&&!m.docText)return this.hideDocTooltip();this.showDocTooltip(m)},y.prototype.showDocTooltip=function(N){this.tooltipNode||(this.tooltipNode=h.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",re));var g=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(g.isDark?"ace_dark ":"")+(g.cssClass||"");var w=this.tooltipNode;N.docHTML?w.innerHTML=N.docHTML:N.docText&&(w.textContent=N.docText),w.parentNode||this.popup.container.appendChild(this.tooltipNode);var m=this.popup,x=m.container.getBoundingClientRect();w.style.top=m.container.style.top,w.style.bottom=m.container.style.bottom,w.style.display="block",window.innerWidth-x.right<320?x.left<320?m.isTopdown?(w.style.top=x.bottom+"px",w.style.left=x.left+"px",w.style.right="",w.style.bottom=""):(w.style.top=m.container.offsetTop-w.offsetHeight+"px",w.style.left=x.left+"px",w.style.right="",w.style.bottom=""):(w.style.right=window.innerWidth-x.left+"px",w.style.left=""):(w.style.left=x.right+1+"px",w.style.right="")},y.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var N=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==N&&this.editor.focus(),this.tooltipNode=null,N.parentNode&&N.parentNode.removeChild(N)}},y.prototype.onTooltipClick=function(N){for(var g=N.target;g&&g!=this.tooltipNode;){if(g.nodeName=="A"&&g.href){g.rel="noreferrer",g.target="_blank";break}g=g.parentNode}},y.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var N=this.popup.container;N&&N.parentNode&&N.parentNode.removeChild(N)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",pe),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},y}();Oe.prototype.commands={Up:function(y){y.completer.goTo("up")},Down:function(y){y.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(y){y.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(y){y.completer.goTo("end")},Esc:function(y){y.completer.detach()},Return:function(y){return y.completer.insertMatch()},"Shift-Return":function(y){y.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(y){var N=y.completer.insertMatch();if(N||y.tabstopManager)return N;y.completer.goTo("down")},Backspace:function(y){y.execCommand("backspace");var N=u.getCompletionPrefix(y);!N&&y.completer&&y.completer.detach()},PageUp:function(y){y.completer.popup.gotoPageUp()},PageDown:function(y){y.completer.popup.gotoPageDown()}},Oe.for=function(y){return y.completer instanceof Oe||(y.completer&&(y.completer.destroy(),y.completer=null),le.get("sharedPopups")?(Oe.$sharedInstance||(Oe.$sharedInstance=new Oe),y.completer=Oe.$sharedInstance):(y.completer=new Oe,y.once("destroy",pe))),y.completer},Oe.startCommand={name:"startAutocomplete",exec:function(y,N){var g=Oe.for(y);g.autoInsert=!1,g.autoSelect=!0,g.autoShown=!1,g.showPopup(y,N),g.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var Je=function(){function y(N){this.initialPosition=N,this.active=!0}return y.prototype.insertByIndex=function(N,g,w){return!this.completions||!this.completions.filtered?!1:this.insertMatch(N,this.completions.filtered[g],w)},y.prototype.insertMatch=function(N,g,w){if(!g)return!1;if(N.startOperation({command:{name:"insertMatch"}}),g.completer&&g.completer.insertMatch)g.completer.insertMatch(N,g);else{if(!this.completions)return!1;var m=this.completions.filterText.length,x=0;if(g.range&&g.range.start.row===g.range.end.row&&(m-=this.initialPosition.prefix.length,m+=this.initialPosition.pos.column-g.range.start.column,x+=g.range.end.column-this.initialPosition.pos.column),m||x){var E;N.selection.getAllRanges?E=N.selection.getAllRanges():E=[N.getSelectionRange()];for(var B=0,Y;Y=E[B];B++)Y.start.column-=m,Y.end.column+=x,N.session.remove(Y)}g.snippet?J.insertSnippet(N,g.snippet):this.$insertString(N,g),g.completer&&g.completer.onInsert&&typeof g.completer.onInsert=="function"&&g.completer.onInsert(N,g),g.command&&g.command==="startAutocomplete"&&N.execCommand(g.command)}return N.endOperation(),!0},y.prototype.$insertString=function(N,g){var w=g.value||g;N.execCommand("insertstring",w)},y.prototype.gatherCompletions=function(N,g){var w=N.getSession(),m=N.getCursorPosition(),x=u.getCompletionPrefix(N),E=[];this.completers=N.completers;var B=N.completers.length;return N.completers.forEach(function(Y,z){Y.getCompletions(N,w,m,x,function(U,H){Y.hideInlinePreview&&(H=H.map(function(ce){return Object.assign(ce,{hideInlinePreview:Y.hideInlinePreview})})),!U&&H&&(E=E.concat(H)),g(null,{prefix:u.getCompletionPrefix(N),matches:E,finished:--B===0})})}),!0},y.prototype.provideCompletions=function(N,g,w){var m=function(Y){var z=Y.prefix,U=Y.matches;this.completions=new oe(U),g.exactMatch&&(this.completions.exactMatch=!0),g.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(z),(Y.finished||this.completions.filtered.length)&&w(null,this.completions,Y.finished)}.bind(this),x=!0,E=null;if(this.gatherCompletions(N,function(Y,z){if(this.active){Y&&(w(Y,[],!0),this.detach());var U=z.prefix;if(U.indexOf(z.prefix)===0){if(x){E=z;return}m(z)}}}.bind(this)),x=!1,E){var B=E;E=null,m(B)}},y.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(N){typeof N.cancel=="function"&&N.cancel()})},y}(),oe=function(){function y(N,g){this.all=N,this.filtered=N,this.filterText=g||"",this.exactMatch=!1,this.ignoreCaption=!1}return y.prototype.setFilter=function(N){if(N.length>this.filterText&&N.lastIndexOf(this.filterText,0)===0)var g=this.filtered;else var g=this.all;this.filterText=N,g=this.filterCompletions(g,this.filterText),g=g.sort(function(m,x){return x.exactMatch-m.exactMatch||x.$score-m.$score||(m.caption||m.value).localeCompare(x.caption||x.value)});var w=null;g=g.filter(function(m){var x=m.snippet||m.caption||m.value;return x===w?!1:(w=x,!0)}),this.filtered=g},y.prototype.filterCompletions=function(N,g){var w=[],m=g.toUpperCase(),x=g.toLowerCase();e:for(var E=0,B;B=N[E];E++){var Y=!this.ignoreCaption&&B.caption||B.value||B.snippet;if(Y){var z=-1,U=0,H=0,ce,Ke;if(this.exactMatch){if(g!==Y.substr(0,g.length))continue e}else{var d=Y.toLowerCase().indexOf(x);if(d>-1)H=d;else for(var rt=0;rt<g.length;rt++){var nt=Y.indexOf(x[rt],z+1),de=Y.indexOf(m[rt],z+1);if(ce=nt>=0&&(de<0||nt<de)?nt:de,ce<0)continue e;Ke=ce-z-1,Ke>0&&(z===-1&&(H+=10),H+=Ke,U|=1<<rt),z=ce}}B.matchMask=U,B.exactMatch=H?0:1,B.$score=(B.score||0)-H,w.push(B)}}return w},y}();l.Autocomplete=Oe,l.CompletionProvider=Je,l.FilteredList=oe}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(V,l,b){function A(u,D){var h=u.getTextRange(F.fromPoints({row:0,column:0},D));return h.split(I).length-1}function T(u,D){var h=A(u,D),J=u.getValue().split(I),le=Object.create(null),Se=J[h];return J.forEach(function(re,pe){if(!(!re||re===Se)){var Oe=Math.abs(h-pe),Je=J.length-Oe;le[re]?le[re]=Math.max(Je,le[re]):le[re]=Je}}),le}var F=V("../range").Range,I=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;l.getCompletions=function(u,D,h,J,le){var Se=T(D,h),re=Object.keys(Se);le(null,re.map(function(pe){return{caption:pe,value:pe,score:Se[pe],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(V,l,b){"use strict";var A=V("../snippets").snippetManager,T=V("../autocomplete").Autocomplete,F=V("../config"),I=V("../lib/lang"),u=V("../autocomplete/util"),D=V("../autocomplete/text_completer"),h={getCompletions:function(m,x,E,B,Y){if(x.$mode.completer)return x.$mode.completer.getCompletions(m,x,E,B,Y);var z=m.session.getState(E.row),U=x.$mode.getCompletions(z,x,E,B);U=U.map(function(H){return H.completerId=h.id,H}),Y(null,U)},id:"keywordCompleter"},J=function(m){var x={};return m.replace(/\${(\d+)(:(.*?))?}/g,function(E,B,Y,z){return x[B]=z||""}).replace(/\$(\d+?)/g,function(E,B){return x[B]})},le={getCompletions:function(m,x,E,B,Y){var z=[],U=x.getTokenAt(E.row,E.column);U&&U.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?z.push("html-tag"):z=A.getActiveScopes(m);var H=A.snippetMap,ce=[];z.forEach(function(Ke){for(var d=H[Ke]||[],rt=d.length;rt--;){var nt=d[rt],de=nt.name||nt.tabTrigger;de&&ce.push({caption:de,snippet:nt.content,meta:nt.tabTrigger&&!nt.name?nt.tabTrigger+"\u21E5 ":"snippet",completerId:le.id})}},this),Y(null,ce)},getDocTooltip:function(m){m.snippet&&!m.docHTML&&(m.docHTML=["<b>",I.escapeHTML(m.caption),"</b>","<hr></hr>",I.escapeHTML(J(m.snippet))].join(""))},id:"snippetCompleter"},Se=[le,D,h];l.setCompleters=function(m){Se.length=0,m&&Se.push.apply(Se,m)},l.addCompleter=function(m){Se.push(m)},l.textCompleter=D,l.keyWordCompleter=h,l.snippetCompleter=le;var re={name:"expandSnippet",exec:function(m){return A.expandWithTab(m)},bindKey:"Tab"},pe=function(m,x){Oe(x.session.$mode)},Oe=function(m){typeof m=="string"&&(m=F.$modes[m]),m&&(A.files||(A.files={}),Je(m.$id,m.snippetFileId),m.modes&&m.modes.forEach(Oe))},Je=function(m,x){!x||!m||A.files[m]||(A.files[m]={},F.loadModule(x,function(E){E&&(A.files[m]=E,!E.snippets&&E.snippetText&&(E.snippets=A.parseSnippetFile(E.snippetText)),A.register(E.snippets||[],E.scope),E.includeScopes&&(A.snippetMap[E.scope].includeScopes=E.includeScopes,E.includeScopes.forEach(function(B){Oe("ace/mode/"+B)})))}))},oe=function(m){var x=m.editor,E=x.completer&&x.completer.activated;if(m.command.name==="backspace")E&&!u.getCompletionPrefix(x)&&x.completer.detach();else if(m.command.name==="insertstring"&&!E){y=m;var B=m.editor.$liveAutocompletionDelay;B?N.delay(B):g(m)}},y,N=I.delayedCall(function(){g(y)},0),g=function(m){var x=m.editor,E=u.getCompletionPrefix(x),B=m.args,Y=u.triggerAutocomplete(x,B);if(E&&E.length>=x.$liveAutocompletionThreshold||Y){var z=T.for(x);z.autoShown=!0,z.showPopup(x)}},w=V("../editor").Editor;V("../config").defineOptions(w.prototype,"editor",{enableBasicAutocompletion:{set:function(m){m?(this.completers||(this.completers=Array.isArray(m)?m:Se),this.commands.addCommand(T.startCommand)):this.commands.removeCommand(T.startCommand)},value:!1},enableLiveAutocompletion:{set:function(m){m?(this.completers||(this.completers=Array.isArray(m)?m:Se),this.commands.on("afterExec",oe)):this.commands.off("afterExec",oe)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(m){m?(this.commands.addCommand(re),this.on("changeMode",pe),pe(null,this)):(this.commands.removeCommand(re),this.off("changeMode",pe))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(V){se&&(se.exports=V)})}()},97726:(se,Ce,$)=>{se=$.nmd(se),ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(V,l,b){"use strict";var A=V("../lib/oop"),T=V("./text_highlight_rules").TextHighlightRules,F=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};A.inherits(F,T),l.JsonHighlightRules=F}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(V,l,b){"use strict";var A=V("../range").Range,T=function(){};(function(){this.checkOutdent=function(F,I){return/^\s+$/.test(F)?/^\s*\}/.test(I):!1},this.autoOutdent=function(F,I){var u=F.getLine(I),D=u.match(/^(\s*\})/);if(!D)return 0;var h=D[1].length,J=F.findMatchingBracket({row:I,column:h});if(!J||J.row==I)return 0;var le=this.$getIndent(F.getLine(J.row));F.replace(new A(I,0,I,h-1),le)},this.$getIndent=function(F){return F.match(/^\s*/)[0]}}).call(T.prototype),l.MatchingBraceOutdent=T}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(V,l,b){"use strict";var A=V("../../lib/oop"),T=V("../../range").Range,F=V("./fold_mode").FoldMode,I=l.FoldMode=function(u){u&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+u.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+u.end)))};A.inherits(I,F),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(u,D,h){var J=u.getLine(h);if(this.singleLineBlockCommentRe.test(J)&&!this.startRegionRe.test(J)&&!this.tripleStarBlockCommentRe.test(J))return"";var le=this._getFoldWidgetBase(u,D,h);return!le&&this.startRegionRe.test(J)?"start":le},this.getFoldWidgetRange=function(u,D,h,J){var le=u.getLine(h);if(this.startRegionRe.test(le))return this.getCommentRegionBlock(u,le,h);var pe=le.match(this.foldingStartMarker);if(pe){var Se=pe.index;if(pe[1])return this.openingBracketBlock(u,pe[1],h,Se);var re=u.getCommentFoldRange(h,Se+pe[0].length,1);return re&&!re.isMultiLine()&&(J?re=this.getSectionRange(u,h):D!="all"&&(re=null)),re}if(D!=="markbegin"){var pe=le.match(this.foldingStopMarker);if(pe){var Se=pe.index+pe[0].length;return pe[1]?this.closingBracketBlock(u,pe[1],h,Se):u.getCommentFoldRange(h,Se,-1)}}},this.getSectionRange=function(u,D){var h=u.getLine(D),J=h.search(/\S/),le=D,Se=h.length;D+=1;for(var re=D,pe=u.getLength();++D<pe;){h=u.getLine(D);var Oe=h.search(/\S/);if(Oe!==-1){if(J>Oe)break;var Je=this.getFoldWidgetRange(u,"all",D);if(Je){if(Je.start.row<=le)break;if(Je.isMultiLine())D=Je.end.row;else if(J==Oe)break}re=D}}return new T(le,Se,re,u.getLine(re).length)},this.getCommentRegionBlock=function(u,D,h){for(var J=D.search(/\s*$/),le=u.getLength(),Se=h,re=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,pe=1;++h<le;){D=u.getLine(h);var Oe=re.exec(D);if(Oe&&(Oe[1]?pe--:pe++,!pe))break}var Je=h;if(Je>Se)return new T(Se,J,Je,D.length)}}.call(I.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle","ace/worker/worker_client"],function(V,l,b){"use strict";var A=V("../lib/oop"),T=V("./text").Mode,F=V("./json_highlight_rules").JsonHighlightRules,I=V("./matching_brace_outdent").MatchingBraceOutdent,u=V("./folding/cstyle").FoldMode,D=V("../worker/worker_client").WorkerClient,h=function(){this.HighlightRules=F,this.$outdent=new I,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new u};A.inherits(h,T),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(J,le,Se){var re=this.$getIndent(le);if(J=="start"){var pe=le.match(/^.*[\{\(\[]\s*$/);pe&&(re+=Se)}return re},this.checkOutdent=function(J,le,Se){return this.$outdent.checkOutdent(le,Se)},this.autoOutdent=function(J,le,Se){this.$outdent.autoOutdent(le,Se)},this.createWorker=function(J){var le=new D(["ace"],"ace/mode/json_worker","JsonWorker");return le.attachToDocument(J.getDocument()),le.on("annotate",function(Se){J.setAnnotations(Se.data)}),le.on("terminate",function(){J.clearAnnotations()}),le},this.$id="ace/mode/json"}.call(h.prototype),l.Mode=h}),function(){ace.require(["ace/mode/json"],function(V){se&&(se.exports=V)})}()},44210:(se,Ce,$)=>{se=$.nmd(se),ace.define("ace/theme/chrome-css",["require","exports","module"],function(V,l,b){b.exports=`.ace-chrome .ace_gutter {
  background: #ebebeb;
  color: #333;
  overflow : hidden;
}

.ace-chrome .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-chrome {
  background-color: #FFFFFF;
  color: black;
}

.ace-chrome .ace_cursor {
  color: black;
}

.ace-chrome .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-chrome .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-chrome .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-chrome .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-chrome .ace_invalid {
  background-color: rgb(153, 0, 0);
  color: white;
}

.ace-chrome .ace_fold {
}

.ace-chrome .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-chrome .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-chrome .ace_support.ace_type,
.ace-chrome .ace_support.ace_class
.ace-chrome .ace_support.ace_other {
  color: rgb(109, 121, 222);
}

.ace-chrome .ace_variable.ace_parameter {
  font-style:italic;
  color:#FD971F;
}
.ace-chrome .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-chrome .ace_comment {
  color: #236e24;
}

.ace-chrome .ace_comment.ace_doc {
  color: #236e24;
}

.ace-chrome .ace_comment.ace_doc.ace_tag {
  color: #236e24;
}

.ace-chrome .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-chrome .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-chrome .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-chrome .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-chrome .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-chrome .ace_list {
  color:rgb(185, 6, 144);
}

.ace-chrome .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-chrome .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-chrome .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-chrome .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-chrome .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-chrome .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-chrome .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-chrome .ace_storage,
.ace-chrome .ace_keyword,
.ace-chrome .ace_meta.ace_tag {
  color: rgb(147, 15, 128);
}

.ace-chrome .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-chrome .ace_string {
  color: #1A1AA6;
}

.ace-chrome .ace_entity.ace_other.ace_attribute-name {
  color: #994409;
}

.ace-chrome .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}
  
.ace-chrome .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/chrome",["require","exports","module","ace/theme/chrome-css","ace/lib/dom"],function(V,l,b){l.isDark=!1,l.cssClass="ace-chrome",l.cssText=V("./chrome-css");var A=V("../lib/dom");A.importCssString(l.cssText,l.cssClass,!1)}),function(){ace.require(["ace/theme/chrome"],function(V){se&&(se.exports=V)})}()},9285:(se,Ce,$)=>{se=$.nmd(se),ace.define("ace/theme/clouds_midnight-css",["require","exports","module"],function(V,l,b){b.exports=`.ace-clouds-midnight .ace_gutter {
  background: #232323;
  color: #929292
}

.ace-clouds-midnight .ace_print-margin {
  width: 1px;
  background: #232323
}

.ace-clouds-midnight {
  background-color: #191919;
  color: #929292
}

.ace-clouds-midnight .ace_cursor {
  color: #7DA5DC
}

.ace-clouds-midnight .ace_marker-layer .ace_selection {
  background: #000000
}

.ace-clouds-midnight.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #191919;
}

.ace-clouds-midnight .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-clouds-midnight .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #BFBFBF
}

.ace-clouds-midnight .ace_marker-layer .ace_active-line {
  background: rgba(215, 215, 215, 0.031)
}

.ace-clouds-midnight .ace_gutter-active-line {
  background-color: rgba(215, 215, 215, 0.031)
}

.ace-clouds-midnight .ace_marker-layer .ace_selected-word {
  border: 1px solid #000000
}

.ace-clouds-midnight .ace_invisible {
  color: #666
}

.ace-clouds-midnight .ace_keyword,
.ace-clouds-midnight .ace_meta,
.ace-clouds-midnight .ace_support.ace_constant.ace_property-value {
  color: #927C5D
}

.ace-clouds-midnight .ace_keyword.ace_operator {
  color: #4B4B4B
}

.ace-clouds-midnight .ace_keyword.ace_other.ace_unit {
  color: #366F1A
}

.ace-clouds-midnight .ace_constant.ace_language {
  color: #39946A
}

.ace-clouds-midnight .ace_constant.ace_numeric {
  color: #46A609
}

.ace-clouds-midnight .ace_constant.ace_character.ace_entity {
  color: #A165AC
}

.ace-clouds-midnight .ace_invalid {
  color: #FFFFFF;
  background-color: #E92E2E
}

.ace-clouds-midnight .ace_fold {
  background-color: #927C5D;
  border-color: #929292
}

.ace-clouds-midnight .ace_storage,
.ace-clouds-midnight .ace_support.ace_class,
.ace-clouds-midnight .ace_support.ace_function,
.ace-clouds-midnight .ace_support.ace_other,
.ace-clouds-midnight .ace_support.ace_type {
  color: #E92E2E
}

.ace-clouds-midnight .ace_string {
  color: #5D90CD
}

.ace-clouds-midnight .ace_comment {
  color: #3C403B
}

.ace-clouds-midnight .ace_entity.ace_name.ace_tag,
.ace-clouds-midnight .ace_entity.ace_other.ace_attribute-name {
  color: #606060
}

.ace-clouds-midnight .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y
}

.ace-clouds-midnight .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/clouds_midnight",["require","exports","module","ace/theme/clouds_midnight-css","ace/lib/dom"],function(V,l,b){l.isDark=!0,l.cssClass="ace-clouds-midnight",l.cssText=V("./clouds_midnight-css");var A=V("../lib/dom");A.importCssString(l.cssText,l.cssClass,!1)}),function(){ace.require(["ace/theme/clouds_midnight"],function(V){se&&(se.exports=V)})}()},51197:function(){"no use strict";(function(se){function Ce(l,b){for(var A=l,T="";A;){var F=b[A];if(typeof F=="string")return F+T;if(F)return F.location.replace(/\/*$/,"/")+(T||F.main||F.name);if(F===!1)return"";var I=A.lastIndexOf("/");if(I===-1)break;T=A.substr(I)+T,A=A.slice(0,I)}return l}if(!(typeof se.window!="undefined"&&se.document)&&!(se.require&&se.define)){se.console||(se.console=function(){var l=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:l})},se.console.error=se.console.warn=se.console.log=se.console.trace=se.console),se.window=se,se.ace=se,se.onerror=function(l,b,A,T,F){postMessage({type:"error",data:{message:l,data:F&&F.data,file:b,line:A,col:T,stack:F&&F.stack}})},se.normalizeModule=function(l,b){if(b.indexOf("!")!==-1){var A=b.split("!");return se.normalizeModule(l,A[0])+"!"+se.normalizeModule(l,A[1])}if(b.charAt(0)=="."){var T=l.split("/").slice(0,-1).join("/");for(b=(T?T+"/":"")+b;b.indexOf(".")!==-1&&F!=b;){var F=b;b=b.replace(/^\.\//,"").replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return b},se.require=function(l,b){if(b||(b=l,l=null),!b.charAt)throw new Error("worker.js require() accepts only (parentId, id) as arguments");b=se.normalizeModule(l,b);var A=se.require.modules[b];if(A)return A.initialized||(A.initialized=!0,A.exports=A.factory().exports),A.exports;if(!se.require.tlns)return console.log("unable to load "+b);var T=Ce(b,se.require.tlns);return T.slice(-3)!=".js"&&(T+=".js"),se.require.id=b,se.require.modules[b]={},importScripts(T),se.require(l,b)},se.require.modules={},se.require.tlns={},se.define=function(l,b,A){if(arguments.length==2?(A=b,typeof l!="string"&&(b=l,l=se.require.id)):arguments.length==1&&(A=l,b=[],l=se.require.id),typeof A!="function"){se.require.modules[l]={exports:A,initialized:!0};return}b.length||(b=["require","exports","module"]);var T=function(F){return se.require(l,F)};se.require.modules[l]={exports:{},factory:function(){var F=this,I=A.apply(this,b.slice(0,A.length).map(function(u){switch(u){case"require":return T;case"exports":return F.exports;case"module":return F;default:return T(u)}}));return I&&(F.exports=I),F}}},se.define.amd={},se.require.tlns={},se.initBaseUrls=function(l){for(var b in l)this.require.tlns[b]=l[b]},se.initSender=function(){var l=se.require("ace/lib/event_emitter").EventEmitter,b=se.require("ace/lib/oop"),A=function(){};return function(){b.implement(this,l),this.callback=function(T,F){postMessage({type:"call",id:F,data:T})},this.emit=function(T,F){postMessage({type:"event",name:T,data:F})}}.call(A.prototype),new A};var $=se.main=null,V=se.sender=null;se.onmessage=function(l){var b=l.data;if(b.event&&V)V._signal(b.event,b.data);else if(b.command)if($[b.command])$[b.command].apply($,b.args);else{if(!se[b.command])throw new Error("Unknown command:"+b.command);se[b.command].apply(se,b.args)}else if(b.init){se.initBaseUrls(b.tlns),V=se.sender=se.initSender();var A=this.require(b.module)[b.classname];$=se.main=new A(V)}}}})(this),ace.define("ace/lib/oop",[],function(se,Ce,$){"use strict";Ce.inherits=function(V,l){V.super_=l,V.prototype=Object.create(l.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}})},Ce.mixin=function(V,l){for(var b in l)V[b]=l[b];return V},Ce.implement=function(V,l){Ce.mixin(V,l)}}),ace.define("ace/apply_delta",[],function(se,Ce,$){"use strict";function V(A,T){throw console.log("Invalid Delta:",A),"Invalid Delta: "+T}function l(A,T){return T.row>=0&&T.row<A.length&&T.column>=0&&T.column<=A[T.row].length}function b(A,T){T.action!="insert"&&T.action!="remove"&&V(T,"delta.action must be 'insert' or 'remove'"),T.lines instanceof Array||V(T,"delta.lines must be an Array"),(!T.start||!T.end)&&V(T,"delta.start/end must be an present");var F=T.start;l(A,T.start)||V(T,"delta.start must be contained in document");var I=T.end;T.action=="remove"&&!l(A,I)&&V(T,"delta.end must contained in document for 'remove' actions");var u=I.row-F.row,D=I.column-(u==0?F.column:0);(u!=T.lines.length-1||T.lines[u].length!=D)&&V(T,"delta.range must match delta lines")}Ce.applyDelta=function(A,T,F){var I=T.start.row,u=T.start.column,D=A[I]||"";switch(T.action){case"insert":var h=T.lines;if(h.length===1)A[I]=D.substring(0,u)+T.lines[0]+D.substring(u);else{var J=[I,1].concat(T.lines);A.splice.apply(A,J),A[I]=D.substring(0,u)+A[I],A[I+T.lines.length-1]+=D.substring(u)}break;case"remove":var le=T.end.column,Se=T.end.row;I===Se?A[I]=D.substring(0,u)+D.substring(le):A.splice(I,Se-I+1,D.substring(0,u)+A[Se].substring(le))}}}),ace.define("ace/lib/event_emitter",[],function(se,Ce,$){"use strict";var V={},l=function(){this.propagationStopped=!0},b=function(){this.defaultPrevented=!0};V._emit=V._dispatchEvent=function(A,T){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var F=this._eventRegistry[A]||[],I=this._defaultHandlers[A];if(!(!F.length&&!I)){(typeof T!="object"||!T)&&(T={}),T.type||(T.type=A),T.stopPropagation||(T.stopPropagation=l),T.preventDefault||(T.preventDefault=b),F=F.slice();for(var u=0;u<F.length&&(F[u](T,this),!T.propagationStopped);u++);if(I&&!T.defaultPrevented)return I(T,this)}},V._signal=function(A,T){var F=(this._eventRegistry||{})[A];if(F){F=F.slice();for(var I=0;I<F.length;I++)F[I](T,this)}},V.once=function(A,T){var F=this;if(this.on(A,function I(){F.off(A,I),T.apply(null,arguments)}),!T)return new Promise(function(I){T=I})},V.setDefaultHandler=function(A,T){var F=this._defaultHandlers;if(F||(F=this._defaultHandlers={_disabled_:{}}),F[A]){var I=F[A],u=F._disabled_[A];u||(F._disabled_[A]=u=[]),u.push(I);var D=u.indexOf(T);D!=-1&&u.splice(D,1)}F[A]=T},V.removeDefaultHandler=function(A,T){var F=this._defaultHandlers;if(F){var I=F._disabled_[A];if(F[A]==T)I&&this.setDefaultHandler(A,I.pop());else if(I){var u=I.indexOf(T);u!=-1&&I.splice(u,1)}}},V.on=V.addEventListener=function(A,T,F){this._eventRegistry=this._eventRegistry||{};var I=this._eventRegistry[A];return I||(I=this._eventRegistry[A]=[]),I.indexOf(T)==-1&&I[F?"unshift":"push"](T),T},V.off=V.removeListener=V.removeEventListener=function(A,T){this._eventRegistry=this._eventRegistry||{};var F=this._eventRegistry[A];if(F){var I=F.indexOf(T);I!==-1&&F.splice(I,1)}},V.removeAllListeners=function(A){A||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[A]=void 0),this._defaultHandlers&&(this._defaultHandlers[A]=void 0)},Ce.EventEmitter=V}),ace.define("ace/range",[],function(se,Ce,$){"use strict";var V=function(){function l(b,A,T,F){this.start={row:b,column:A},this.end={row:T,column:F}}return l.prototype.isEqual=function(b){return this.start.row===b.start.row&&this.end.row===b.end.row&&this.start.column===b.start.column&&this.end.column===b.end.column},l.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},l.prototype.contains=function(b,A){return this.compare(b,A)==0},l.prototype.compareRange=function(b){var A,T=b.end,F=b.start;return A=this.compare(T.row,T.column),A==1?(A=this.compare(F.row,F.column),A==1?2:A==0?1:0):A==-1?-2:(A=this.compare(F.row,F.column),A==-1?-1:A==1?42:0)},l.prototype.comparePoint=function(b){return this.compare(b.row,b.column)},l.prototype.containsRange=function(b){return this.comparePoint(b.start)==0&&this.comparePoint(b.end)==0},l.prototype.intersects=function(b){var A=this.compareRange(b);return A==-1||A==0||A==1},l.prototype.isEnd=function(b,A){return this.end.row==b&&this.end.column==A},l.prototype.isStart=function(b,A){return this.start.row==b&&this.start.column==A},l.prototype.setStart=function(b,A){typeof b=="object"?(this.start.column=b.column,this.start.row=b.row):(this.start.row=b,this.start.column=A)},l.prototype.setEnd=function(b,A){typeof b=="object"?(this.end.column=b.column,this.end.row=b.row):(this.end.row=b,this.end.column=A)},l.prototype.inside=function(b,A){return this.compare(b,A)==0?!(this.isEnd(b,A)||this.isStart(b,A)):!1},l.prototype.insideStart=function(b,A){return this.compare(b,A)==0?!this.isEnd(b,A):!1},l.prototype.insideEnd=function(b,A){return this.compare(b,A)==0?!this.isStart(b,A):!1},l.prototype.compare=function(b,A){return!this.isMultiLine()&&b===this.start.row?A<this.start.column?-1:A>this.end.column?1:0:b<this.start.row?-1:b>this.end.row?1:this.start.row===b?A>=this.start.column?0:-1:this.end.row===b?A<=this.end.column?0:1:0},l.prototype.compareStart=function(b,A){return this.start.row==b&&this.start.column==A?-1:this.compare(b,A)},l.prototype.compareEnd=function(b,A){return this.end.row==b&&this.end.column==A?1:this.compare(b,A)},l.prototype.compareInside=function(b,A){return this.end.row==b&&this.end.column==A?1:this.start.row==b&&this.start.column==A?-1:this.compare(b,A)},l.prototype.clipRows=function(b,A){if(this.end.row>A)var T={row:A+1,column:0};else if(this.end.row<b)var T={row:b,column:0};if(this.start.row>A)var F={row:A+1,column:0};else if(this.start.row<b)var F={row:b,column:0};return l.fromPoints(F||this.start,T||this.end)},l.prototype.extend=function(b,A){var T=this.compare(b,A);if(T==0)return this;if(T==-1)var F={row:b,column:A};else var I={row:b,column:A};return l.fromPoints(F||this.start,I||this.end)},l.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},l.prototype.isMultiLine=function(){return this.start.row!==this.end.row},l.prototype.clone=function(){return l.fromPoints(this.start,this.end)},l.prototype.collapseRows=function(){return this.end.column==0?new l(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new l(this.start.row,0,this.end.row,0)},l.prototype.toScreenRange=function(b){var A=b.documentToScreenPosition(this.start),T=b.documentToScreenPosition(this.end);return new l(A.row,A.column,T.row,T.column)},l.prototype.moveBy=function(b,A){this.start.row+=b,this.start.column+=A,this.end.row+=b,this.end.column+=A},l}();V.fromPoints=function(l,b){return new V(l.row,l.column,b.row,b.column)},V.comparePoints=function(l,b){return l.row-b.row||l.column-b.column},Ce.Range=V}),ace.define("ace/anchor",[],function(se,Ce,$){"use strict";function V(F,I,u){var D=u?F.column<=I.column:F.column<I.column;return F.row<I.row||F.row==I.row&&D}function l(F,I,u){var D=F.action=="insert",h=(D?1:-1)*(F.end.row-F.start.row),J=(D?1:-1)*(F.end.column-F.start.column),le=F.start,Se=D?le:F.end;return V(I,le,u)?{row:I.row,column:I.column}:V(Se,I,!u)?{row:I.row+h,column:I.column+(I.row==Se.row?J:0)}:{row:le.row,column:le.column}}var b=se("./lib/oop"),A=se("./lib/event_emitter").EventEmitter,T=function(){function F(I,u,D){this.$onChange=this.onChange.bind(this),this.attach(I),typeof u!="number"?this.setPosition(u.row,u.column):this.setPosition(u,D)}return F.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},F.prototype.getDocument=function(){return this.document},F.prototype.onChange=function(I){if(!(I.start.row==I.end.row&&I.start.row!=this.row)&&!(I.start.row>this.row)){var u=l(I,{row:this.row,column:this.column},this.$insertRight);this.setPosition(u.row,u.column,!0)}},F.prototype.setPosition=function(I,u,D){var h;if(D?h={row:I,column:u}:h=this.$clipPositionToDocument(I,u),!(this.row==h.row&&this.column==h.column)){var J={row:this.row,column:this.column};this.row=h.row,this.column=h.column,this._signal("change",{old:J,value:h})}},F.prototype.detach=function(){this.document.off("change",this.$onChange)},F.prototype.attach=function(I){this.document=I||this.document,this.document.on("change",this.$onChange)},F.prototype.$clipPositionToDocument=function(I,u){var D={};return I>=this.document.getLength()?(D.row=Math.max(0,this.document.getLength()-1),D.column=this.document.getLine(D.row).length):I<0?(D.row=0,D.column=0):(D.row=I,D.column=Math.min(this.document.getLine(D.row).length,Math.max(0,u))),u<0&&(D.column=0),D},F}();T.prototype.$insertRight=!1,b.implement(T.prototype,A),Ce.Anchor=T}),ace.define("ace/document",[],function(se,Ce,$){"use strict";var V=se("./lib/oop"),l=se("./apply_delta").applyDelta,b=se("./lib/event_emitter").EventEmitter,A=se("./range").Range,T=se("./anchor").Anchor,F=function(){function I(u){this.$lines=[""],u.length===0?this.$lines=[""]:Array.isArray(u)?this.insertMergedLines({row:0,column:0},u):this.insert({row:0,column:0},u)}return I.prototype.setValue=function(u){var D=this.getLength()-1;this.remove(new A(0,0,D,this.getLine(D).length)),this.insert({row:0,column:0},u||"")},I.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},I.prototype.createAnchor=function(u,D){return new T(this,u,D)},I.prototype.$detectNewLine=function(u){var D=u.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=D?D[1]:`
`,this._signal("changeNewLineMode")},I.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},I.prototype.setNewLineMode=function(u){this.$newLineMode!==u&&(this.$newLineMode=u,this._signal("changeNewLineMode"))},I.prototype.getNewLineMode=function(){return this.$newLineMode},I.prototype.isNewLine=function(u){return u==`\r
`||u=="\r"||u==`
`},I.prototype.getLine=function(u){return this.$lines[u]||""},I.prototype.getLines=function(u,D){return this.$lines.slice(u,D+1)},I.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},I.prototype.getLength=function(){return this.$lines.length},I.prototype.getTextRange=function(u){return this.getLinesForRange(u).join(this.getNewLineCharacter())},I.prototype.getLinesForRange=function(u){var D;if(u.start.row===u.end.row)D=[this.getLine(u.start.row).substring(u.start.column,u.end.column)];else{D=this.getLines(u.start.row,u.end.row),D[0]=(D[0]||"").substring(u.start.column);var h=D.length-1;u.end.row-u.start.row==h&&(D[h]=D[h].substring(0,u.end.column))}return D},I.prototype.insertLines=function(u,D){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(u,D)},I.prototype.removeLines=function(u,D){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(u,D)},I.prototype.insertNewLine=function(u){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(u,["",""])},I.prototype.insert=function(u,D){return this.getLength()<=1&&this.$detectNewLine(D),this.insertMergedLines(u,this.$split(D))},I.prototype.insertInLine=function(u,D){var h=this.clippedPos(u.row,u.column),J=this.pos(u.row,u.column+D.length);return this.applyDelta({start:h,end:J,action:"insert",lines:[D]},!0),this.clonePos(J)},I.prototype.clippedPos=function(u,D){var h=this.getLength();u===void 0?u=h:u<0?u=0:u>=h&&(u=h-1,D=void 0);var J=this.getLine(u);return D==null&&(D=J.length),D=Math.min(Math.max(D,0),J.length),{row:u,column:D}},I.prototype.clonePos=function(u){return{row:u.row,column:u.column}},I.prototype.pos=function(u,D){return{row:u,column:D}},I.prototype.$clipPosition=function(u){var D=this.getLength();return u.row>=D?(u.row=Math.max(0,D-1),u.column=this.getLine(D-1).length):(u.row=Math.max(0,u.row),u.column=Math.min(Math.max(u.column,0),this.getLine(u.row).length)),u},I.prototype.insertFullLines=function(u,D){u=Math.min(Math.max(u,0),this.getLength());var h=0;u<this.getLength()?(D=D.concat([""]),h=0):(D=[""].concat(D),u--,h=this.$lines[u].length),this.insertMergedLines({row:u,column:h},D)},I.prototype.insertMergedLines=function(u,D){var h=this.clippedPos(u.row,u.column),J={row:h.row+D.length-1,column:(D.length==1?h.column:0)+D[D.length-1].length};return this.applyDelta({start:h,end:J,action:"insert",lines:D}),this.clonePos(J)},I.prototype.remove=function(u){var D=this.clippedPos(u.start.row,u.start.column),h=this.clippedPos(u.end.row,u.end.column);return this.applyDelta({start:D,end:h,action:"remove",lines:this.getLinesForRange({start:D,end:h})}),this.clonePos(D)},I.prototype.removeInLine=function(u,D,h){var J=this.clippedPos(u,D),le=this.clippedPos(u,h);return this.applyDelta({start:J,end:le,action:"remove",lines:this.getLinesForRange({start:J,end:le})},!0),this.clonePos(J)},I.prototype.removeFullLines=function(u,D){u=Math.min(Math.max(0,u),this.getLength()-1),D=Math.min(Math.max(0,D),this.getLength()-1);var h=D==this.getLength()-1&&u>0,J=D<this.getLength()-1,le=h?u-1:u,Se=h?this.getLine(le).length:0,re=J?D+1:D,pe=J?0:this.getLine(re).length,Oe=new A(le,Se,re,pe),Je=this.$lines.slice(u,D+1);return this.applyDelta({start:Oe.start,end:Oe.end,action:"remove",lines:this.getLinesForRange(Oe)}),Je},I.prototype.removeNewLine=function(u){u<this.getLength()-1&&u>=0&&this.applyDelta({start:this.pos(u,this.getLine(u).length),end:this.pos(u+1,0),action:"remove",lines:["",""]})},I.prototype.replace=function(u,D){if(u instanceof A||(u=A.fromPoints(u.start,u.end)),D.length===0&&u.isEmpty())return u.start;if(D==this.getTextRange(u))return u.end;this.remove(u);var h;return D?h=this.insert(u.start,D):h=u.start,h},I.prototype.applyDeltas=function(u){for(var D=0;D<u.length;D++)this.applyDelta(u[D])},I.prototype.revertDeltas=function(u){for(var D=u.length-1;D>=0;D--)this.revertDelta(u[D])},I.prototype.applyDelta=function(u,D){var h=u.action=="insert";(h?u.lines.length<=1&&!u.lines[0]:!A.comparePoints(u.start,u.end))||(h&&u.lines.length>2e4?this.$splitAndapplyLargeDelta(u,2e4):(l(this.$lines,u,D),this._signal("change",u)))},I.prototype.$safeApplyDelta=function(u){var D=this.$lines.length;(u.action=="remove"&&u.start.row<D&&u.end.row<D||u.action=="insert"&&u.start.row<=D)&&this.applyDelta(u)},I.prototype.$splitAndapplyLargeDelta=function(u,D){for(var h=u.lines,J=h.length-D+1,le=u.start.row,Se=u.start.column,re=0,pe=0;re<J;re=pe){pe+=D-1;var Oe=h.slice(re,pe);Oe.push(""),this.applyDelta({start:this.pos(le+re,Se),end:this.pos(le+pe,Se=0),action:u.action,lines:Oe},!0)}u.lines=h.slice(re),u.start.row=le+re,u.start.column=Se,this.applyDelta(u,!0)},I.prototype.revertDelta=function(u){this.$safeApplyDelta({start:this.clonePos(u.start),end:this.clonePos(u.end),action:u.action=="insert"?"remove":"insert",lines:u.lines.slice()})},I.prototype.indexToPosition=function(u,D){for(var h=this.$lines||this.getAllLines(),J=this.getNewLineCharacter().length,le=D||0,Se=h.length;le<Se;le++)if(u-=h[le].length+J,u<0)return{row:le,column:u+h[le].length+J};return{row:Se-1,column:u+h[Se-1].length+J}},I.prototype.positionToIndex=function(u,D){for(var h=this.$lines||this.getAllLines(),J=this.getNewLineCharacter().length,le=0,Se=Math.min(u.row,h.length),re=D||0;re<Se;++re)le+=h[re].length+J;return le+u.column},I.prototype.$split=function(u){return u.split(/\r\n|\r|\n/)},I}();F.prototype.$autoNewLine="",F.prototype.$newLineMode="auto",V.implement(F.prototype,b),Ce.Document=F}),ace.define("ace/lib/deep_copy",[],function(se,Ce,$){Ce.deepCopy=function V(l){if(typeof l!="object"||!l)return l;var b;if(Array.isArray(l)){b=[];for(var A=0;A<l.length;A++)b[A]=V(l[A]);return b}if(Object.prototype.toString.call(l)!=="[object Object]")return l;b={};for(var A in l)b[A]=V(l[A]);return b}}),ace.define("ace/lib/lang",[],function(se,Ce,$){"use strict";Ce.last=function(b){return b[b.length-1]},Ce.stringReverse=function(b){return b.split("").reverse().join("")},Ce.stringRepeat=function(b,A){for(var T="";A>0;)A&1&&(T+=b),(A>>=1)&&(b+=b);return T};var V=/^\s\s*/,l=/\s\s*$/;Ce.stringTrimLeft=function(b){return b.replace(V,"")},Ce.stringTrimRight=function(b){return b.replace(l,"")},Ce.copyObject=function(b){var A={};for(var T in b)A[T]=b[T];return A},Ce.copyArray=function(b){for(var A=[],T=0,F=b.length;T<F;T++)b[T]&&typeof b[T]=="object"?A[T]=this.copyObject(b[T]):A[T]=b[T];return A},Ce.deepCopy=se("./deep_copy").deepCopy,Ce.arrayToMap=function(b){for(var A={},T=0;T<b.length;T++)A[b[T]]=1;return A},Ce.createMap=function(b){var A=Object.create(null);for(var T in b)A[T]=b[T];return A},Ce.arrayRemove=function(b,A){for(var T=0;T<=b.length;T++)A===b[T]&&b.splice(T,1)},Ce.escapeRegExp=function(b){return b.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},Ce.escapeHTML=function(b){return(""+b).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},Ce.getMatchOffsets=function(b,A){var T=[];return b.replace(A,function(F){T.push({offset:arguments[arguments.length-2],length:F.length})}),T},Ce.deferredCall=function(b){var A=null,T=function(){A=null,b()},F=function(I){return F.cancel(),A=setTimeout(T,I||0),F};return F.schedule=F,F.call=function(){return this.cancel(),b(),F},F.cancel=function(){return clearTimeout(A),A=null,F},F.isPending=function(){return A},F},Ce.delayedCall=function(b,A){var T=null,F=function(){T=null,b()},I=function(u){T==null&&(T=setTimeout(F,u||A))};return I.delay=function(u){T&&clearTimeout(T),T=setTimeout(F,u||A)},I.schedule=I,I.call=function(){this.cancel(),b()},I.cancel=function(){T&&clearTimeout(T),T=null},I.isPending=function(){return T},I},Ce.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch(b){return!1}return!0},Ce.skipEmptyMatch=function(b,A,T){return T&&b.codePointAt(A)>65535?2:1}}),ace.define("ace/worker/mirror",[],function(se,Ce,$){"use strict";var V=se("../document").Document,l=se("../lib/lang"),b=Ce.Mirror=function(A){this.sender=A;var T=this.doc=new V(""),F=this.deferredUpdate=l.delayedCall(this.onUpdate.bind(this)),I=this;A.on("change",function(u){var D=u.data;if(D[0].start)T.applyDeltas(D);else for(var h=0;h<D.length;h+=2){var J,le;if(Array.isArray(D[h+1])?J={action:"insert",start:D[h],lines:D[h+1]}:J={action:"remove",start:D[h],end:D[h+1]},(J.action=="insert"?J.start:J.end).row>=T.$lines.length)throw le=new Error("Invalid delta"),le.data={path:I.$path,linesLength:T.$lines.length,start:J.start,end:J.end},le;T.applyDelta(J,!0)}if(I.$timeout)return F.schedule(I.$timeout);I.onUpdate()})};(function(){this.$timeout=500,this.setTimeout=function(A){this.$timeout=A},this.setValue=function(A){this.doc.setValue(A),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(A){this.sender.callback(this.doc.getValue(),A)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(b.prototype)}),ace.define("ace/mode/json/json_parse",[],function(se,Ce,$){"use strict";var V,l,b={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},A,T=function(re){throw{name:"SyntaxError",message:re,at:V,text:A}},F=function(re){return re&&re!==l&&T("Expected '"+re+"' instead of '"+l+"'"),l=A.charAt(V),V+=1,l},I=function(){var re,pe="";for(l==="-"&&(pe="-",F("-"));l>="0"&&l<="9";)pe+=l,F();if(l===".")for(pe+=".";F()&&l>="0"&&l<="9";)pe+=l;if(l==="e"||l==="E")for(pe+=l,F(),(l==="-"||l==="+")&&(pe+=l,F());l>="0"&&l<="9";)pe+=l,F();if(re=+pe,!isNaN(re))return re;T("Bad number")},u=function(){var re,pe,Oe="",Je;if(l==='"')for(;F();){if(l==='"')return F(),Oe;if(l==="\\")if(F(),l==="u"){for(Je=0,pe=0;pe<4&&(re=parseInt(F(),16),!!isFinite(re));pe+=1)Je=Je*16+re;Oe+=String.fromCharCode(Je)}else{if(typeof b[l]!="string")break;Oe+=b[l]}else{if(l==`
`||l=="\r")break;Oe+=l}}T("Bad string")},D=function(){for(;l&&l<=" ";)F()},h=function(){switch(l){case"t":return F("t"),F("r"),F("u"),F("e"),!0;case"f":return F("f"),F("a"),F("l"),F("s"),F("e"),!1;case"n":return F("n"),F("u"),F("l"),F("l"),null}T("Unexpected '"+l+"'")},J,le=function(){var re=[];if(l==="["){if(F("["),D(),l==="]")return F("]"),re;for(;l;){if(re.push(J()),D(),l==="]")return F("]"),re;F(","),D()}}T("Bad array")},Se=function(){var re,pe={};if(l==="{"){if(F("{"),D(),l==="}")return F("}"),pe;for(;l;){if(re=u(),D(),F(":"),Object.hasOwnProperty.call(pe,re)&&T('Duplicate key "'+re+'"'),pe[re]=J(),D(),l==="}")return F("}"),pe;F(","),D()}}T("Bad object")};return J=function(){switch(D(),l){case"{":return Se();case"[":return le();case'"':return u();case"-":return I();default:return l>="0"&&l<="9"?I():h()}},function(re,pe){var Oe;return A=re,V=0,l=" ",Oe=J(),D(),l&&T("Syntax error"),typeof pe=="function"?function Je(oe,y){var N,g,w=oe[y];if(w&&typeof w=="object")for(N in w)Object.hasOwnProperty.call(w,N)&&(g=Je(w,N),g!==void 0?w[N]=g:delete w[N]);return pe.call(oe,y,w)}({"":Oe},""):Oe}}),ace.define("ace/mode/json_worker",[],function(se,Ce,$){"use strict";var V=se("../lib/oop"),l=se("../worker/mirror").Mirror,b=se("./json/json_parse"),A=Ce.JsonWorker=function(T){l.call(this,T),this.setTimeout(200)};V.inherits(A,l),function(){this.onUpdate=function(){var T=this.doc.getValue(),F=[];try{T&&b(T)}catch(u){var I=this.doc.indexToPosition(u.at-1);F.push({row:I.row,column:I.column,text:u.message,type:"error"})}this.sender.emit("annotate",F)}}.call(A.prototype)})},57051:function(se,Ce,$){(function(V,l){se.exports=Ce=l()})(this,function(){var V=V||function(l,b){var A;if(typeof window!="undefined"&&window.crypto&&(A=window.crypto),typeof self!="undefined"&&self.crypto&&(A=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(A=globalThis.crypto),!A&&typeof window!="undefined"&&window.msCrypto&&(A=window.msCrypto),!A&&typeof $.g!="undefined"&&$.g.crypto&&(A=$.g.crypto),!A)try{A=$(50477)}catch(oe){}var T=function(){if(A){if(typeof A.getRandomValues=="function")try{return A.getRandomValues(new Uint32Array(1))[0]}catch(oe){}if(typeof A.randomBytes=="function")try{return A.randomBytes(4).readInt32LE()}catch(oe){}}throw new Error("Native crypto module could not be used to get secure random number.")},F=Object.create||function(){function oe(){}return function(y){var N;return oe.prototype=y,N=new oe,oe.prototype=null,N}}(),I={},u=I.lib={},D=u.Base=function(){return{extend:function(oe){var y=F(this);return oe&&y.mixIn(oe),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var oe=this.extend();return oe.init.apply(oe,arguments),oe},init:function(){},mixIn:function(oe){for(var y in oe)oe.hasOwnProperty(y)&&(this[y]=oe[y]);oe.hasOwnProperty("toString")&&(this.toString=oe.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=u.WordArray=D.extend({init:function(oe,y){oe=this.words=oe||[],y!=b?this.sigBytes=y:this.sigBytes=oe.length*4},toString:function(oe){return(oe||le).stringify(this)},concat:function(oe){var y=this.words,N=oe.words,g=this.sigBytes,w=oe.sigBytes;if(this.clamp(),g%4)for(var m=0;m<w;m++){var x=N[m>>>2]>>>24-m%4*8&255;y[g+m>>>2]|=x<<24-(g+m)%4*8}else for(var E=0;E<w;E+=4)y[g+E>>>2]=N[E>>>2];return this.sigBytes+=w,this},clamp:function(){var oe=this.words,y=this.sigBytes;oe[y>>>2]&=4294967295<<32-y%4*8,oe.length=l.ceil(y/4)},clone:function(){var oe=D.clone.call(this);return oe.words=this.words.slice(0),oe},random:function(oe){for(var y=[],N=0;N<oe;N+=4)y.push(T());return new h.init(y,oe)}}),J=I.enc={},le=J.Hex={stringify:function(oe){for(var y=oe.words,N=oe.sigBytes,g=[],w=0;w<N;w++){var m=y[w>>>2]>>>24-w%4*8&255;g.push((m>>>4).toString(16)),g.push((m&15).toString(16))}return g.join("")},parse:function(oe){for(var y=oe.length,N=[],g=0;g<y;g+=2)N[g>>>3]|=parseInt(oe.substr(g,2),16)<<24-g%8*4;return new h.init(N,y/2)}},Se=J.Latin1={stringify:function(oe){for(var y=oe.words,N=oe.sigBytes,g=[],w=0;w<N;w++){var m=y[w>>>2]>>>24-w%4*8&255;g.push(String.fromCharCode(m))}return g.join("")},parse:function(oe){for(var y=oe.length,N=[],g=0;g<y;g++)N[g>>>2]|=(oe.charCodeAt(g)&255)<<24-g%4*8;return new h.init(N,y)}},re=J.Utf8={stringify:function(oe){try{return decodeURIComponent(escape(Se.stringify(oe)))}catch(y){throw new Error("Malformed UTF-8 data")}},parse:function(oe){return Se.parse(unescape(encodeURIComponent(oe)))}},pe=u.BufferedBlockAlgorithm=D.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(oe){typeof oe=="string"&&(oe=re.parse(oe)),this._data.concat(oe),this._nDataBytes+=oe.sigBytes},_process:function(oe){var y,N=this._data,g=N.words,w=N.sigBytes,m=this.blockSize,x=m*4,E=w/x;oe?E=l.ceil(E):E=l.max((E|0)-this._minBufferSize,0);var B=E*m,Y=l.min(B*4,w);if(B){for(var z=0;z<B;z+=m)this._doProcessBlock(g,z);y=g.splice(0,B),N.sigBytes-=Y}return new h.init(y,Y)},clone:function(){var oe=D.clone.call(this);return oe._data=this._data.clone(),oe},_minBufferSize:0}),Oe=u.Hasher=pe.extend({cfg:D.extend(),init:function(oe){this.cfg=this.cfg.extend(oe),this.reset()},reset:function(){pe.reset.call(this),this._doReset()},update:function(oe){return this._append(oe),this._process(),this},finalize:function(oe){oe&&this._append(oe);var y=this._doFinalize();return y},blockSize:512/32,_createHelper:function(oe){return function(y,N){return new oe.init(N).finalize(y)}},_createHmacHelper:function(oe){return function(y,N){return new Je.HMAC.init(oe,N).finalize(y)}}}),Je=I.algo={};return I}(Math);return V})},91778:function(se,Ce,$){(function(V,l){se.exports=Ce=l($(57051))})(this,function(V){return function(l){var b=V,A=b.lib,T=A.WordArray,F=A.Hasher,I=b.algo,u=[];(function(){for(var re=0;re<64;re++)u[re]=l.abs(l.sin(re+1))*4294967296|0})();var D=I.MD5=F.extend({_doReset:function(){this._hash=new T.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(re,pe){for(var Oe=0;Oe<16;Oe++){var Je=pe+Oe,oe=re[Je];re[Je]=(oe<<8|oe>>>24)&16711935|(oe<<24|oe>>>8)&4278255360}var y=this._hash.words,N=re[pe+0],g=re[pe+1],w=re[pe+2],m=re[pe+3],x=re[pe+4],E=re[pe+5],B=re[pe+6],Y=re[pe+7],z=re[pe+8],U=re[pe+9],H=re[pe+10],ce=re[pe+11],Ke=re[pe+12],d=re[pe+13],rt=re[pe+14],nt=re[pe+15],de=y[0],ve=y[1],ye=y[2],Ae=y[3];de=h(de,ve,ye,Ae,N,7,u[0]),Ae=h(Ae,de,ve,ye,g,12,u[1]),ye=h(ye,Ae,de,ve,w,17,u[2]),ve=h(ve,ye,Ae,de,m,22,u[3]),de=h(de,ve,ye,Ae,x,7,u[4]),Ae=h(Ae,de,ve,ye,E,12,u[5]),ye=h(ye,Ae,de,ve,B,17,u[6]),ve=h(ve,ye,Ae,de,Y,22,u[7]),de=h(de,ve,ye,Ae,z,7,u[8]),Ae=h(Ae,de,ve,ye,U,12,u[9]),ye=h(ye,Ae,de,ve,H,17,u[10]),ve=h(ve,ye,Ae,de,ce,22,u[11]),de=h(de,ve,ye,Ae,Ke,7,u[12]),Ae=h(Ae,de,ve,ye,d,12,u[13]),ye=h(ye,Ae,de,ve,rt,17,u[14]),ve=h(ve,ye,Ae,de,nt,22,u[15]),de=J(de,ve,ye,Ae,g,5,u[16]),Ae=J(Ae,de,ve,ye,B,9,u[17]),ye=J(ye,Ae,de,ve,ce,14,u[18]),ve=J(ve,ye,Ae,de,N,20,u[19]),de=J(de,ve,ye,Ae,E,5,u[20]),Ae=J(Ae,de,ve,ye,H,9,u[21]),ye=J(ye,Ae,de,ve,nt,14,u[22]),ve=J(ve,ye,Ae,de,x,20,u[23]),de=J(de,ve,ye,Ae,U,5,u[24]),Ae=J(Ae,de,ve,ye,rt,9,u[25]),ye=J(ye,Ae,de,ve,m,14,u[26]),ve=J(ve,ye,Ae,de,z,20,u[27]),de=J(de,ve,ye,Ae,d,5,u[28]),Ae=J(Ae,de,ve,ye,w,9,u[29]),ye=J(ye,Ae,de,ve,Y,14,u[30]),ve=J(ve,ye,Ae,de,Ke,20,u[31]),de=le(de,ve,ye,Ae,E,4,u[32]),Ae=le(Ae,de,ve,ye,z,11,u[33]),ye=le(ye,Ae,de,ve,ce,16,u[34]),ve=le(ve,ye,Ae,de,rt,23,u[35]),de=le(de,ve,ye,Ae,g,4,u[36]),Ae=le(Ae,de,ve,ye,x,11,u[37]),ye=le(ye,Ae,de,ve,Y,16,u[38]),ve=le(ve,ye,Ae,de,H,23,u[39]),de=le(de,ve,ye,Ae,d,4,u[40]),Ae=le(Ae,de,ve,ye,N,11,u[41]),ye=le(ye,Ae,de,ve,m,16,u[42]),ve=le(ve,ye,Ae,de,B,23,u[43]),de=le(de,ve,ye,Ae,U,4,u[44]),Ae=le(Ae,de,ve,ye,Ke,11,u[45]),ye=le(ye,Ae,de,ve,nt,16,u[46]),ve=le(ve,ye,Ae,de,w,23,u[47]),de=Se(de,ve,ye,Ae,N,6,u[48]),Ae=Se(Ae,de,ve,ye,Y,10,u[49]),ye=Se(ye,Ae,de,ve,rt,15,u[50]),ve=Se(ve,ye,Ae,de,E,21,u[51]),de=Se(de,ve,ye,Ae,Ke,6,u[52]),Ae=Se(Ae,de,ve,ye,m,10,u[53]),ye=Se(ye,Ae,de,ve,H,15,u[54]),ve=Se(ve,ye,Ae,de,g,21,u[55]),de=Se(de,ve,ye,Ae,z,6,u[56]),Ae=Se(Ae,de,ve,ye,nt,10,u[57]),ye=Se(ye,Ae,de,ve,B,15,u[58]),ve=Se(ve,ye,Ae,de,d,21,u[59]),de=Se(de,ve,ye,Ae,x,6,u[60]),Ae=Se(Ae,de,ve,ye,ce,10,u[61]),ye=Se(ye,Ae,de,ve,w,15,u[62]),ve=Se(ve,ye,Ae,de,U,21,u[63]),y[0]=y[0]+de|0,y[1]=y[1]+ve|0,y[2]=y[2]+ye|0,y[3]=y[3]+Ae|0},_doFinalize:function(){var re=this._data,pe=re.words,Oe=this._nDataBytes*8,Je=re.sigBytes*8;pe[Je>>>5]|=128<<24-Je%32;var oe=l.floor(Oe/4294967296),y=Oe;pe[(Je+64>>>9<<4)+15]=(oe<<8|oe>>>24)&16711935|(oe<<24|oe>>>8)&4278255360,pe[(Je+64>>>9<<4)+14]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,re.sigBytes=(pe.length+1)*4,this._process();for(var N=this._hash,g=N.words,w=0;w<4;w++){var m=g[w];g[w]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360}return N},clone:function(){var re=F.clone.call(this);return re._hash=this._hash.clone(),re}});function h(re,pe,Oe,Je,oe,y,N){var g=re+(pe&Oe|~pe&Je)+oe+N;return(g<<y|g>>>32-y)+pe}function J(re,pe,Oe,Je,oe,y,N){var g=re+(pe&Je|Oe&~Je)+oe+N;return(g<<y|g>>>32-y)+pe}function le(re,pe,Oe,Je,oe,y,N){var g=re+(pe^Oe^Je)+oe+N;return(g<<y|g>>>32-y)+pe}function Se(re,pe,Oe,Je,oe,y,N){var g=re+(Oe^(pe|~Je))+oe+N;return(g<<y|g>>>32-y)+pe}b.MD5=F._createHelper(D),b.HmacMD5=F._createHmacHelper(D)}(Math),V.MD5})},85589:function(se){(function(Ce,$){se.exports=$()})(this,function(){"use strict";function Ce(j,ne){return ne={exports:{}},j(ne,ne.exports),ne.exports}var $=Ce(function(j){var ne=j.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=ne)}),V=Ce(function(j){var ne=j.exports={version:"2.6.5"};typeof __e=="number"&&(__e=ne)}),l=V.version,b=function(j){return typeof j=="object"?j!==null:typeof j=="function"},A=function(j){if(!b(j))throw TypeError(j+" is not an object!");return j},T=function(j){try{return!!j()}catch(ne){return!0}},F=!T(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),I=$.document,u=b(I)&&b(I.createElement),D=function(j){return u?I.createElement(j):{}},h=!F&&!T(function(){return Object.defineProperty(D("div"),"a",{get:function(){return 7}}).a!=7}),J=function(j,ne){if(!b(j))return j;var He,$e;if(ne&&typeof(He=j.toString)=="function"&&!b($e=He.call(j))||typeof(He=j.valueOf)=="function"&&!b($e=He.call(j))||!ne&&typeof(He=j.toString)=="function"&&!b($e=He.call(j)))return $e;throw TypeError("Can't convert object to primitive value")},le=Object.defineProperty,Se=F?Object.defineProperty:function(ne,He,$e){if(A(ne),He=J(He,!0),A($e),h)try{return le(ne,He,$e)}catch(Xe){}if("get"in $e||"set"in $e)throw TypeError("Accessors not supported!");return"value"in $e&&(ne[He]=$e.value),ne},re={f:Se},pe=function(j,ne){return{enumerable:!(j&1),configurable:!(j&2),writable:!(j&4),value:ne}},Oe=F?function(j,ne,He){return re.f(j,ne,pe(1,He))}:function(j,ne,He){return j[ne]=He,j},Je={}.hasOwnProperty,oe=function(j,ne){return Je.call(j,ne)},y=0,N=Math.random(),g=function(j){return"Symbol(".concat(j===void 0?"":j,")_",(++y+N).toString(36))},w=!1,m=Ce(function(j){var ne="__core-js_shared__",He=$[ne]||($[ne]={});(j.exports=function($e,Xe){return He[$e]||(He[$e]=Xe!==void 0?Xe:{})})("versions",[]).push({version:V.version,mode:w?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})}),x=m("native-function-to-string",Function.toString),E=Ce(function(j){var ne=g("src"),He="toString",$e=(""+x).split(He);V.inspectSource=function(Xe){return x.call(Xe)},(j.exports=function(Xe,ot,mt,Nt){var Ft=typeof mt=="function";Ft&&(oe(mt,"name")||Oe(mt,"name",ot)),Xe[ot]!==mt&&(Ft&&(oe(mt,ne)||Oe(mt,ne,Xe[ot]?""+Xe[ot]:$e.join(String(ot)))),Xe===$?Xe[ot]=mt:Nt?Xe[ot]?Xe[ot]=mt:Oe(Xe,ot,mt):(delete Xe[ot],Oe(Xe,ot,mt)))})(Function.prototype,He,function(){return typeof this=="function"&&this[ne]||x.call(this)})}),B=function(j){if(typeof j!="function")throw TypeError(j+" is not a function!");return j},Y=function(j,ne,He){if(B(j),ne===void 0)return j;switch(He){case 1:return function($e){return j.call(ne,$e)};case 2:return function($e,Xe){return j.call(ne,$e,Xe)};case 3:return function($e,Xe,ot){return j.call(ne,$e,Xe,ot)}}return function(){return j.apply(ne,arguments)}},z="prototype",U=function(j,ne,He){var $e=j&U.F,Xe=j&U.G,ot=j&U.S,mt=j&U.P,Nt=j&U.B,Ft=Xe?$:ot?$[ne]||($[ne]={}):($[ne]||{})[z],bn=Xe?V:V[ne]||(V[ne]={}),vn=bn[z]||(bn[z]={}),Lt,tn,Bt,nn;Xe&&(He=ne);for(Lt in He)tn=!$e&&Ft&&Ft[Lt]!==void 0,Bt=(tn?Ft:He)[Lt],nn=Nt&&tn?Y(Bt,$):mt&&typeof Bt=="function"?Y(Function.call,Bt):Bt,Ft&&E(Ft,Lt,Bt,j&U.U),bn[Lt]!=Bt&&Oe(bn,Lt,nn),mt&&vn[Lt]!=Bt&&(vn[Lt]=Bt)};$.core=V,U.F=1,U.G=2,U.S=4,U.P=8,U.B=16,U.W=32,U.U=64,U.R=128;var H=U,ce=Math.ceil,Ke=Math.floor,d=function(j){return isNaN(j=+j)?0:(j>0?Ke:ce)(j)},rt=function(j){if(j==null)throw TypeError("Can't call method on  "+j);return j},nt=function(j){return function(ne,He){var $e=String(rt(ne)),Xe=d(He),ot=$e.length,mt,Nt;return Xe<0||Xe>=ot?j?"":void 0:(mt=$e.charCodeAt(Xe),mt<55296||mt>56319||Xe+1===ot||(Nt=$e.charCodeAt(Xe+1))<56320||Nt>57343?j?$e.charAt(Xe):mt:j?$e.slice(Xe,Xe+2):(mt-55296<<10)+(Nt-56320)+65536)}},de=nt(!1);H(H.P,"String",{codePointAt:function(ne){return de(this,ne)}});var ve=V.String.codePointAt,ye=Math.max,Ae=Math.min,zt=function(j,ne){return j=d(j),j<0?ye(j+ne,0):Ae(j,ne)},it=String.fromCharCode,kt=String.fromCodePoint;H(H.S+H.F*(!!kt&&kt.length!=1),"String",{fromCodePoint:function(ne){for(var He=arguments,$e=[],Xe=arguments.length,ot=0,mt;Xe>ot;){if(mt=+He[ot++],zt(mt,1114111)!==mt)throw RangeError(mt+" is not a valid code point");$e.push(mt<65536?it(mt):it(((mt-=65536)>>10)+55296,mt%1024+56320))}return $e.join("")}});var Xt=V.String.fromCodePoint,vt=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,En=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,Sn=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,Ut={Space_Separator:vt,ID_Start:En,ID_Continue:Sn},Et={isSpaceSeparator:function(ne){return typeof ne=="string"&&Ut.Space_Separator.test(ne)},isIdStartChar:function(ne){return typeof ne=="string"&&(ne>="a"&&ne<="z"||ne>="A"&&ne<="Z"||ne==="$"||ne==="_"||Ut.ID_Start.test(ne))},isIdContinueChar:function(ne){return typeof ne=="string"&&(ne>="a"&&ne<="z"||ne>="A"&&ne<="Z"||ne>="0"&&ne<="9"||ne==="$"||ne==="_"||ne==="\u200C"||ne==="\u200D"||Ut.ID_Continue.test(ne))},isDigit:function(ne){return typeof ne=="string"&&/[0-9]/.test(ne)},isHexDigit:function(ne){return typeof ne=="string"&&/[0-9A-Fa-f]/.test(ne)}},is,Rt,ln,Hn,mn,Gt,It,ls,Mn,zn=function(ne,He){is=String(ne),Rt="start",ln=[],Hn=0,mn=1,Gt=0,It=void 0,ls=void 0,Mn=void 0;do It=Hs(),M[Rt]();while(It.type!=="eof");return typeof He=="function"?cs({"":Mn},"",He):Mn};function cs(j,ne,He){var $e=j[ne];if($e!=null&&typeof $e=="object")if(Array.isArray($e))for(var Xe=0;Xe<$e.length;Xe++){var ot=String(Xe),mt=cs($e,ot,He);mt===void 0?delete $e[ot]:Object.defineProperty($e,ot,{value:mt,writable:!0,enumerable:!0,configurable:!0})}else for(var Nt in $e){var Ft=cs($e,Nt,He);Ft===void 0?delete $e[Nt]:Object.defineProperty($e,Nt,{value:Ft,writable:!0,enumerable:!0,configurable:!0})}return He.call(j,ne,$e)}var lt,at,Nn,Zt,pt;function Hs(){for(lt="default",at="",Nn=!1,Zt=1;;){pt=cn();var j=xs[lt]();if(j)return j}}function cn(){if(is[Hn])return String.fromCodePoint(is.codePointAt(Hn))}function he(){var j=cn();return j===`
`?(mn++,Gt=0):j?Gt+=j.length:Gt++,j&&(Hn+=j.length),j}var xs={default:function(){switch(pt){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":he();return;case"/":he(),lt="comment";return;case void 0:return he(),At("eof")}if(Et.isSpaceSeparator(pt)){he();return}return xs[Rt]()},comment:function(){switch(pt){case"*":he(),lt="multiLineComment";return;case"/":he(),lt="singleLineComment";return}throw bt(he())},multiLineComment:function(){switch(pt){case"*":he(),lt="multiLineCommentAsterisk";return;case void 0:throw bt(he())}he()},multiLineCommentAsterisk:function(){switch(pt){case"*":he();return;case"/":he(),lt="default";return;case void 0:throw bt(he())}he(),lt="multiLineComment"},singleLineComment:function(){switch(pt){case`
`:case"\r":case"\u2028":case"\u2029":he(),lt="default";return;case void 0:return he(),At("eof")}he()},value:function(){switch(pt){case"{":case"[":return At("punctuator",he());case"n":return he(),Dn("ull"),At("null",null);case"t":return he(),Dn("rue"),At("boolean",!0);case"f":return he(),Dn("alse"),At("boolean",!1);case"-":case"+":he()==="-"&&(Zt=-1),lt="sign";return;case".":at=he(),lt="decimalPointLeading";return;case"0":at=he(),lt="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":at=he(),lt="decimalInteger";return;case"I":return he(),Dn("nfinity"),At("numeric",1/0);case"N":return he(),Dn("aN"),At("numeric",NaN);case'"':case"'":Nn=he()==='"',at="",lt="string";return}throw bt(he())},identifierNameStartEscape:function(){if(pt!=="u")throw bt(he());he();var ne=Fn();switch(ne){case"$":case"_":break;default:if(!Et.isIdStartChar(ne))throw Z();break}at+=ne,lt="identifierName"},identifierName:function(){switch(pt){case"$":case"_":case"\u200C":case"\u200D":at+=he();return;case"\\":he(),lt="identifierNameEscape";return}if(Et.isIdContinueChar(pt)){at+=he();return}return At("identifier",at)},identifierNameEscape:function(){if(pt!=="u")throw bt(he());he();var ne=Fn();switch(ne){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!Et.isIdContinueChar(ne))throw Z();break}at+=ne,lt="identifierName"},sign:function(){switch(pt){case".":at=he(),lt="decimalPointLeading";return;case"0":at=he(),lt="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":at=he(),lt="decimalInteger";return;case"I":return he(),Dn("nfinity"),At("numeric",Zt*(1/0));case"N":return he(),Dn("aN"),At("numeric",NaN)}throw bt(he())},zero:function(){switch(pt){case".":at+=he(),lt="decimalPoint";return;case"e":case"E":at+=he(),lt="decimalExponent";return;case"x":case"X":at+=he(),lt="hexadecimal";return}return At("numeric",Zt*0)},decimalInteger:function(){switch(pt){case".":at+=he(),lt="decimalPoint";return;case"e":case"E":at+=he(),lt="decimalExponent";return}if(Et.isDigit(pt)){at+=he();return}return At("numeric",Zt*Number(at))},decimalPointLeading:function(){if(Et.isDigit(pt)){at+=he(),lt="decimalFraction";return}throw bt(he())},decimalPoint:function(){switch(pt){case"e":case"E":at+=he(),lt="decimalExponent";return}if(Et.isDigit(pt)){at+=he(),lt="decimalFraction";return}return At("numeric",Zt*Number(at))},decimalFraction:function(){switch(pt){case"e":case"E":at+=he(),lt="decimalExponent";return}if(Et.isDigit(pt)){at+=he();return}return At("numeric",Zt*Number(at))},decimalExponent:function(){switch(pt){case"+":case"-":at+=he(),lt="decimalExponentSign";return}if(Et.isDigit(pt)){at+=he(),lt="decimalExponentInteger";return}throw bt(he())},decimalExponentSign:function(){if(Et.isDigit(pt)){at+=he(),lt="decimalExponentInteger";return}throw bt(he())},decimalExponentInteger:function(){if(Et.isDigit(pt)){at+=he();return}return At("numeric",Zt*Number(at))},hexadecimal:function(){if(Et.isHexDigit(pt)){at+=he(),lt="hexadecimalInteger";return}throw bt(he())},hexadecimalInteger:function(){if(Et.isHexDigit(pt)){at+=he();return}return At("numeric",Zt*Number(at))},string:function(){switch(pt){case"\\":he(),at+=zs();return;case'"':if(Nn)return he(),At("string",at);at+=he();return;case"'":if(!Nn)return he(),At("string",at);at+=he();return;case`
`:case"\r":throw bt(he());case"\u2028":case"\u2029":Jn(pt);break;case void 0:throw bt(he())}at+=he()},start:function(){switch(pt){case"{":case"[":return At("punctuator",he())}lt="value"},beforePropertyName:function(){switch(pt){case"$":case"_":at=he(),lt="identifierName";return;case"\\":he(),lt="identifierNameStartEscape";return;case"}":return At("punctuator",he());case'"':case"'":Nn=he()==='"',lt="string";return}if(Et.isIdStartChar(pt)){at+=he(),lt="identifierName";return}throw bt(he())},afterPropertyName:function(){if(pt===":")return At("punctuator",he());throw bt(he())},beforePropertyValue:function(){lt="value"},afterPropertyValue:function(){switch(pt){case",":case"}":return At("punctuator",he())}throw bt(he())},beforeArrayValue:function(){if(pt==="]")return At("punctuator",he());lt="value"},afterArrayValue:function(){switch(pt){case",":case"]":return At("punctuator",he())}throw bt(he())},end:function(){throw bt(he())}};function At(j,ne){return{type:j,value:ne,line:mn,column:Gt}}function Dn(j){for(var ne=0,He=j;ne<He.length;ne+=1){var $e=He[ne],Xe=cn();if(Xe!==$e)throw bt(he());he()}}function zs(){var j=cn();switch(j){case"b":return he(),"\b";case"f":return he(),"\f";case"n":return he(),`
`;case"r":return he(),"\r";case"t":return he(),"	";case"v":return he(),"\v";case"0":if(he(),Et.isDigit(cn()))throw bt(he());return"\0";case"x":return he(),Js();case"u":return he(),Fn();case`
`:case"\u2028":case"\u2029":return he(),"";case"\r":return he(),cn()===`
`&&he(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw bt(he());case void 0:throw bt(he())}return he()}function Js(){var j="",ne=cn();if(!Et.isHexDigit(ne)||(j+=he(),ne=cn(),!Et.isHexDigit(ne)))throw bt(he());return j+=he(),String.fromCodePoint(parseInt(j,16))}function Fn(){for(var j="",ne=4;ne-- >0;){var He=cn();if(!Et.isHexDigit(He))throw bt(he());j+=he()}return String.fromCodePoint(parseInt(j,16))}var M={start:function(){if(It.type==="eof")throw un();qe()},beforePropertyName:function(){switch(It.type){case"identifier":case"string":ls=It.value,Rt="afterPropertyName";return;case"punctuator":R();return;case"eof":throw un()}},afterPropertyName:function(){if(It.type==="eof")throw un();Rt="beforePropertyValue"},beforePropertyValue:function(){if(It.type==="eof")throw un();qe()},beforeArrayValue:function(){if(It.type==="eof")throw un();if(It.type==="punctuator"&&It.value==="]"){R();return}qe()},afterPropertyValue:function(){if(It.type==="eof")throw un();switch(It.value){case",":Rt="beforePropertyName";return;case"}":R()}},afterArrayValue:function(){if(It.type==="eof")throw un();switch(It.value){case",":Rt="beforeArrayValue";return;case"]":R()}},end:function(){}};function qe(){var j;switch(It.type){case"punctuator":switch(It.value){case"{":j={};break;case"[":j=[];break}break;case"null":case"boolean":case"numeric":case"string":j=It.value;break}if(Mn===void 0)Mn=j;else{var ne=ln[ln.length-1];Array.isArray(ne)?ne.push(j):Object.defineProperty(ne,ls,{value:j,writable:!0,enumerable:!0,configurable:!0})}if(j!==null&&typeof j=="object")ln.push(j),Array.isArray(j)?Rt="beforeArrayValue":Rt="beforePropertyName";else{var He=ln[ln.length-1];He==null?Rt="end":Array.isArray(He)?Rt="afterArrayValue":Rt="afterPropertyValue"}}function R(){ln.pop();var j=ln[ln.length-1];j==null?Rt="end":Array.isArray(j)?Rt="afterArrayValue":Rt="afterPropertyValue"}function bt(j){return Cn(j===void 0?"JSON5: invalid end of input at "+mn+":"+Gt:"JSON5: invalid character '"+Ys(j)+"' at "+mn+":"+Gt)}function un(){return Cn("JSON5: invalid end of input at "+mn+":"+Gt)}function Z(){return Gt-=5,Cn("JSON5: invalid identifier character at "+mn+":"+Gt)}function Jn(j){console.warn("JSON5: '"+Ys(j)+"' in strings is not valid ECMAScript; consider escaping")}function Ys(j){var ne={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(ne[j])return ne[j];if(j<" "){var He=j.charCodeAt(0).toString(16);return"\\x"+("00"+He).substring(He.length)}return j}function Cn(j){var ne=new SyntaxError(j);return ne.lineNumber=mn,ne.columnNumber=Gt,ne}var en=function(ne,He,$e){var Xe=[],ot="",mt,Nt,Ft="",bn;if(He!=null&&typeof He=="object"&&!Array.isArray(He)&&($e=He.space,bn=He.quote,He=He.replacer),typeof He=="function")Nt=He;else if(Array.isArray(He)){mt=[];for(var vn=0,Lt=He;vn<Lt.length;vn+=1){var tn=Lt[vn],Bt=void 0;typeof tn=="string"?Bt=tn:(typeof tn=="number"||tn instanceof String||tn instanceof Number)&&(Bt=String(tn)),Bt!==void 0&&mt.indexOf(Bt)<0&&mt.push(Bt)}}return $e instanceof Number?$e=Number($e):$e instanceof String&&($e=String($e)),typeof $e=="number"?$e>0&&($e=Math.min(10,Math.floor($e)),Ft="          ".substr(0,$e)):typeof $e=="string"&&(Ft=$e.substr(0,10)),nn("",{"":ne});function nn(ht,Ot){var st=Ot[ht];switch(st!=null&&(typeof st.toJSON5=="function"?st=st.toJSON5(ht):typeof st.toJSON=="function"&&(st=st.toJSON(ht))),Nt&&(st=Nt.call(Ot,ht,st)),st instanceof Number?st=Number(st):st instanceof String?st=String(st):st instanceof Boolean&&(st=st.valueOf()),st){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof st=="string")return Kn(st,!1);if(typeof st=="number")return String(st);if(typeof st=="object")return Array.isArray(st)?Ss(st):Es(st)}function Kn(ht){for(var Ot={"'":.1,'"':.2},st={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},Mt="",Jt=0;Jt<ht.length;Jt++){var _t=ht[Jt];switch(_t){case"'":case'"':Ot[_t]++,Mt+=_t;continue;case"\0":if(Et.isDigit(ht[Jt+1])){Mt+="\\x00";continue}}if(st[_t]){Mt+=st[_t];continue}if(_t<" "){var sn=_t.charCodeAt(0).toString(16);Mt+="\\x"+("00"+sn).substring(sn.length);continue}Mt+=_t}var rn=bn||Object.keys(Ot).reduce(function(dn,An){return Ot[dn]<Ot[An]?dn:An});return Mt=Mt.replace(new RegExp(rn,"g"),st[rn]),rn+Mt+rn}function Es(ht){if(Xe.indexOf(ht)>=0)throw TypeError("Converting circular structure to JSON5");Xe.push(ht);var Ot=ot;ot=ot+Ft;for(var st=mt||Object.keys(ht),Mt=[],Jt=0,_t=st;Jt<_t.length;Jt+=1){var sn=_t[Jt],rn=nn(sn,ht);if(rn!==void 0){var dn=_n(sn)+":";Ft!==""&&(dn+=" "),dn+=rn,Mt.push(dn)}}var An;if(Mt.length===0)An="{}";else{var Gn;if(Ft==="")Gn=Mt.join(","),An="{"+Gn+"}";else{var xn=`,
`+ot;Gn=Mt.join(xn),An=`{
`+ot+Gn+`,
`+Ot+"}"}}return Xe.pop(),ot=Ot,An}function _n(ht){if(ht.length===0)return Kn(ht,!0);var Ot=String.fromCodePoint(ht.codePointAt(0));if(!Et.isIdStartChar(Ot))return Kn(ht,!0);for(var st=Ot.length;st<ht.length;st++)if(!Et.isIdContinueChar(String.fromCodePoint(ht.codePointAt(st))))return Kn(ht,!0);return ht}function Ss(ht){if(Xe.indexOf(ht)>=0)throw TypeError("Converting circular structure to JSON5");Xe.push(ht);var Ot=ot;ot=ot+Ft;for(var st=[],Mt=0;Mt<ht.length;Mt++){var Jt=nn(String(Mt),ht);st.push(Jt!==void 0?Jt:"null")}var _t;if(st.length===0)_t="[]";else if(Ft===""){var sn=st.join(",");_t="["+sn+"]"}else{var rn=`,
`+ot,dn=st.join(rn);_t=`[
`+ot+dn+`,
`+Ot+"]"}return Xe.pop(),ot=Ot,_t}},ws={parse:zn,stringify:en},Yn=ws,On=Yn;return On})},55946:se=>{"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Ce=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;function l(A){if(A==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(A)}function b(){try{if(!Object.assign)return!1;var A=new String("abc");if(A[5]="de",Object.getOwnPropertyNames(A)[0]==="5")return!1;for(var T={},F=0;F<10;F++)T["_"+String.fromCharCode(F)]=F;var I=Object.getOwnPropertyNames(T).map(function(D){return T[D]});if(I.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(D){u[D]=D}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch(D){return!1}}se.exports=b()?Object.assign:function(A,T){for(var F,I=l(A),u,D=1;D<arguments.length;D++){F=Object(arguments[D]);for(var h in F)$.call(F,h)&&(I[h]=F[h]);if(Ce){u=Ce(F);for(var J=0;J<u.length;J++)V.call(F,u[J])&&(I[u[J]]=F[u[J]])}}return I}}}]);

//# sourceMappingURL=vendors-node_modules_iobroker_json-config_build_index_js-node_modules_iobroker_json-config_no-675983.937890fd.chunk.js.map