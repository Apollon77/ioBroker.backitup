var Li=Object.defineProperty,Ui=Object.defineProperties;var Bi=Object.getOwnPropertyDescriptors;var Br=Object.getOwnPropertySymbols;var Ws=Object.prototype.hasOwnProperty,xs=Object.prototype.propertyIsEnumerable;var js=(H,e,o)=>e in H?Li(H,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):H[e]=o,B=(H,e)=>{for(var o in e||(e={}))Ws.call(e,o)&&js(H,o,e[o]);if(Br)for(var o of Br(e))xs.call(e,o)&&js(H,o,e[o]);return H},Ie=(H,e)=>Ui(H,Bi(e));var ar=(H,e)=>{var o={};for(var i in H)Ws.call(H,i)&&e.indexOf(i)<0&&(o[i]=H[i]);if(H!=null&&Br)for(var i of Br(H))e.indexOf(i)<0&&xs.call(H,i)&&(o[i]=H[i]);return o};var Oe=(H,e,o)=>new Promise((i,u)=>{var g=E=>{try{T(o.next(E))}catch(y){u(y)}},v=E=>{try{T(o.throw(E))}catch(y){u(y)}},T=E=>E.done?i(E.value):Promise.resolve(E.value).then(g,v);T((o=o.apply(H,e)).next())});(self.webpackChunkiobroker_admin_component_backitup=self.webpackChunkiobroker_admin_component_backitup||[]).push([["vendors-node_modules_sentry_browser_cjs_index_js-node_modules_iobroker_socket-client_dist_cjs-6a932d"],{7944:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;e.DEBUG_BUILD=o},60927:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(7944),g=o(21143),v={};function T(h){const I=v[h];if(I)return I;let b=g.WINDOW[h];if(i.isNativeFunction(b))return v[h]=b.bind(g.WINDOW);const f=g.WINDOW.document;if(f&&typeof f.createElement=="function")try{const d=f.createElement("iframe");d.hidden=!0,f.head.appendChild(d);const m=d.contentWindow;m&&m[h]&&(b=m[h]),f.head.removeChild(d)}catch(d){u.DEBUG_BUILD&&i.logger.warn(`Could not create sandbox iframe for ${h} check, bailing to window.${h}: `,d)}return b&&(v[h]=b.bind(g.WINDOW))}function E(h){v[h]=void 0}function y(...h){return T("fetch")(...h)}function p(...h){return T("setTimeout")(...h)}e.clearCachedImplementation=E,e.fetch=y,e.getNativeImplementation=T,e.setTimeout=p},82138:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(9515),u=o(57627),g=o(22610),v=o(67686),T=o(60927),E=o(104),y=o(23609);e.addClsInstrumentationHandler=i.addClsInstrumentationHandler,e.addFidInstrumentationHandler=i.addFidInstrumentationHandler,e.addLcpInstrumentationHandler=i.addLcpInstrumentationHandler,e.addPerformanceInstrumentationHandler=i.addPerformanceInstrumentationHandler,e.addTtfbInstrumentationHandler=i.addTtfbInstrumentationHandler,e.addPerformanceEntries=u.addPerformanceEntries,e.startTrackingInteractions=u.startTrackingInteractions,e.startTrackingLongTasks=u.startTrackingLongTasks,e.startTrackingWebVitals=u.startTrackingWebVitals,e.addClickKeypressInstrumentationHandler=g.addClickKeypressInstrumentationHandler,e.addHistoryInstrumentationHandler=v.addHistoryInstrumentationHandler,e.clearCachedImplementation=T.clearCachedImplementation,e.fetch=T.fetch,e.getNativeImplementation=T.getNativeImplementation,e.setTimeout=T.setTimeout,e.SENTRY_XHR_DATA_KEY=E.SENTRY_XHR_DATA_KEY,e.addXhrInstrumentationHandler=E.addXhrInstrumentationHandler,e.startTrackingINP=y.startTrackingINP},22610:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(21143),g=1e3;let v,T,E;function y(d){const m="dom";i.addHandler(m,d),i.maybeInstrument(m,p)}function p(){if(!u.WINDOW.document)return;const d=i.triggerHandlers.bind(null,"dom"),m=b(d,!0);u.WINDOW.document.addEventListener("click",m,!1),u.WINDOW.document.addEventListener("keypress",m,!1),["EventTarget","Node"].forEach(l=>{const C=u.WINDOW[l]&&u.WINDOW[l].prototype;!C||!C.hasOwnProperty||!C.hasOwnProperty("addEventListener")||(i.fill(C,"addEventListener",function(_){return function(r,n,a){if(r==="click"||r=="keypress")try{const S=this,R=S.__sentry_instrumentation_handlers__=S.__sentry_instrumentation_handlers__||{},A=R[r]=R[r]||{refCount:0};if(!A.handler){const M=b(d);A.handler=M,_.call(this,r,M,a)}A.refCount++}catch(S){}return _.call(this,r,n,a)}}),i.fill(C,"removeEventListener",function(_){return function(r,n,a){if(r==="click"||r=="keypress")try{const S=this,R=S.__sentry_instrumentation_handlers__||{},A=R[r];A&&(A.refCount--,A.refCount<=0&&(_.call(this,r,A.handler,a),A.handler=void 0,delete R[r]),Object.keys(R).length===0&&delete S.__sentry_instrumentation_handlers__)}catch(S){}return _.call(this,r,n,a)}}))})}function h(d){if(d.type!==T)return!1;try{if(!d.target||d.target._sentryId!==E)return!1}catch(m){}return!0}function I(d,m){return d!=="keypress"?!1:!m||!m.tagName?!0:!(m.tagName==="INPUT"||m.tagName==="TEXTAREA"||m.isContentEditable)}function b(d,m=!1){return l=>{if(!l||l._sentryCaptured)return;const C=f(l);if(I(l.type,C))return;i.addNonEnumerableProperty(l,"_sentryCaptured",!0),C&&!C._sentryId&&i.addNonEnumerableProperty(C,"_sentryId",i.uuid4());const _=l.type==="keypress"?"input":l.type;h(l)||(d({event:l,name:_,global:m}),T=l.type,E=C?C._sentryId:void 0),clearTimeout(v),v=u.WINDOW.setTimeout(()=>{E=void 0,T=void 0},g)}}function f(d){try{return d.target}catch(m){return null}}e.addClickKeypressInstrumentationHandler=y,e.instrumentDOM=p},67686:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(21143);let g;function v(E){const y="history";i.addHandler(y,E),i.maybeInstrument(y,T)}function T(){if(!i.supportsHistory())return;const E=u.WINDOW.onpopstate;u.WINDOW.onpopstate=function(...p){const h=u.WINDOW.location.href,I=g;g=h;const b={from:I,to:h};if(i.triggerHandlers("history",b),E)try{return E.apply(this,p)}catch(f){}};function y(p){return function(...h){const I=h.length>2?h[2]:void 0;if(I){const b=g,f=String(I);g=f;const d={from:b,to:f};i.triggerHandlers("history",d)}return p.apply(this,h)}}i.fill(u.WINDOW.history,"pushState",y),i.fill(u.WINDOW.history,"replaceState",y)}e.addHistoryInstrumentationHandler=v},104:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(21143),g="__sentry_xhr_v3__";function v(y){const p="xhr";i.addHandler(p,y),i.maybeInstrument(p,T)}function T(){if(!u.WINDOW.XMLHttpRequest)return;const y=XMLHttpRequest.prototype;i.fill(y,"open",function(p){return function(...h){const I=i.timestampInSeconds()*1e3,b=i.isString(h[0])?h[0].toUpperCase():void 0,f=E(h[1]);if(!b||!f)return p.apply(this,h);this[g]={method:b,url:f,request_headers:{}},b==="POST"&&f.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const d=()=>{const m=this[g];if(m&&this.readyState===4){try{m.status_code=this.status}catch(C){}const l={endTimestamp:i.timestampInSeconds()*1e3,startTimestamp:I,xhr:this};i.triggerHandlers("xhr",l)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?i.fill(this,"onreadystatechange",function(m){return function(...l){return d(),m.apply(this,l)}}):this.addEventListener("readystatechange",d),i.fill(this,"setRequestHeader",function(m){return function(...l){const[C,_]=l,r=this[g];return r&&i.isString(C)&&i.isString(_)&&(r.request_headers[C.toLowerCase()]=_),m.apply(this,l)}}),p.apply(this,h)}}),i.fill(y,"send",function(p){return function(...h){const I=this[g];if(!I)return p.apply(this,h);h[0]!==void 0&&(I.body=h[0]);const b={startTimestamp:i.timestampInSeconds()*1e3,xhr:this};return i.triggerHandlers("xhr",b),p.apply(this,h)}})}function E(y){if(i.isString(y))return y;try{return y.toString()}catch(p){}}e.SENTRY_XHR_DATA_KEY=g,e.addXhrInstrumentationHandler=v,e.instrumentXHR=T},57627:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(17077),g=o(7944),v=o(21143),T=o(9515),E=o(32357),y=o(58637),p=o(14147),h=2147483647;let I=0,b={},f,d;function m(){const Y=E.getBrowserPerformanceAPI();if(Y&&u.browserPerformanceTimeOrigin){Y.mark&&v.WINDOW.performance.mark("sentry-tracing-init");const L=n(),V=_(),q=r(),oe=a();return()=>{L(),V(),q(),oe()}}return()=>{}}function l(){T.addPerformanceInstrumentationHandler("longtask",({entries:Y})=>{for(const L of Y){if(!i.getActiveSpan())return;const V=E.msToSec(u.browserPerformanceTimeOrigin+L.startTime),q=E.msToSec(L.duration),oe=i.startInactiveSpan({name:"Main UI thread blocked",op:"ui.long-task",startTime:V,attributes:{[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}});oe&&oe.end(V+q)}})}function C(){T.addPerformanceInstrumentationHandler("event",({entries:Y})=>{for(const L of Y){if(!i.getActiveSpan())return;if(L.name==="click"){const V=E.msToSec(u.browserPerformanceTimeOrigin+L.startTime),q=E.msToSec(L.duration),oe={name:u.htmlTreeAsString(L.target),op:`ui.interaction.${L.name}`,startTime:V,attributes:{[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}},fe=u.getComponentName(L.target);fe&&(oe.attributes["ui.component_name"]=fe);const he=i.startInactiveSpan(oe);he&&he.end(V+q)}}})}function _(){return T.addClsInstrumentationHandler(({metric:Y})=>{const L=Y.entries[Y.entries.length-1];L&&(g.DEBUG_BUILD&&u.logger.log("[Measurements] Adding CLS"),b.cls={value:Y.value,unit:""},d=L)},!0)}function r(){return T.addLcpInstrumentationHandler(({metric:Y})=>{const L=Y.entries[Y.entries.length-1];L&&(g.DEBUG_BUILD&&u.logger.log("[Measurements] Adding LCP"),b.lcp={value:Y.value,unit:"millisecond"},f=L)},!0)}function n(){return T.addFidInstrumentationHandler(({metric:Y})=>{const L=Y.entries[Y.entries.length-1];if(!L)return;const V=E.msToSec(u.browserPerformanceTimeOrigin),q=E.msToSec(L.startTime);g.DEBUG_BUILD&&u.logger.log("[Measurements] Adding FID"),b.fid={value:Y.value,unit:"millisecond"},b["mark.fid"]={value:V+q,unit:"second"}})}function a(){return T.addTtfbInstrumentationHandler(({metric:Y})=>{Y.entries[Y.entries.length-1]&&(g.DEBUG_BUILD&&u.logger.log("[Measurements] Adding TTFB"),b.ttfb={value:Y.value,unit:"millisecond"})})}function S(Y){const L=E.getBrowserPerformanceAPI();if(!L||!v.WINDOW.performance.getEntries||!u.browserPerformanceTimeOrigin)return;g.DEBUG_BUILD&&u.logger.log("[Tracing] Adding & adjusting spans using Performance API");const V=E.msToSec(u.browserPerformanceTimeOrigin),q=L.getEntries(),{op:oe,start_timestamp:fe}=i.spanToJSON(Y);if(q.slice(I).forEach(he=>{const ee=E.msToSec(he.startTime),ne=E.msToSec(he.duration);if(!(oe==="navigation"&&fe&&V+ee<fe))switch(he.entryType){case"navigation":{A(Y,he,V);break}case"mark":case"paint":case"measure":{R(Y,he,ee,ne,V);const _e=p.getVisibilityWatcher(),Te=he.startTime<_e.firstHiddenTime;he.name==="first-paint"&&Te&&(g.DEBUG_BUILD&&u.logger.log("[Measurements] Adding FP"),b.fp={value:he.startTime,unit:"millisecond"}),he.name==="first-contentful-paint"&&Te&&(g.DEBUG_BUILD&&u.logger.log("[Measurements] Adding FCP"),b.fcp={value:he.startTime,unit:"millisecond"});break}case"resource":{x(Y,he,he.name,ee,ne,V);break}}}),I=Math.max(q.length-1,0),$(Y),oe==="pageload"){K(b),["fcp","fp","lcp"].forEach(ee=>{if(!b[ee]||!fe||V>=fe)return;const ne=b[ee].value,_e=V+E.msToSec(ne),Te=Math.abs((_e-fe)*1e3),Ne=Te-ne;g.DEBUG_BUILD&&u.logger.log(`[Measurements] Normalized ${ee} from ${ne} to ${Te} (${Ne})`),b[ee].value=Te});const he=b["mark.fid"];he&&b.fid&&(E.startAndEndSpan(Y,he.value,he.value+E.msToSec(b.fid.value),{name:"first input delay",op:"ui.action",attributes:{[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}),delete b["mark.fid"]),"fcp"in b||delete b.cls,Object.keys(b).forEach(ee=>{i.setMeasurement(ee,b[ee].value,b[ee].unit)}),X(Y)}f=void 0,d=void 0,b={}}function R(Y,L,V,q,oe){const fe=oe+V,he=fe+q;return E.startAndEndSpan(Y,fe,he,{name:L.name,op:L.entryType,attributes:{[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.resource.browser.metrics"}}),fe}function A(Y,L,V){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(q=>{M(Y,L,q,V)}),M(Y,L,"secureConnection",V,"TLS/SSL","connectEnd"),M(Y,L,"fetch",V,"cache","domainLookupStart"),M(Y,L,"domainLookup",V,"DNS"),P(Y,L,V)}function M(Y,L,V,q,oe,fe){const he=fe?L[fe]:L[`${V}End`],ee=L[`${V}Start`];!ee||!he||E.startAndEndSpan(Y,q+E.msToSec(ee),q+E.msToSec(he),{op:"browser",name:oe||V,attributes:{[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}})}function P(Y,L,V){L.responseEnd&&(E.startAndEndSpan(Y,V+E.msToSec(L.requestStart),V+E.msToSec(L.responseEnd),{op:"browser",name:"request",attributes:{[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}),E.startAndEndSpan(Y,V+E.msToSec(L.responseStart),V+E.msToSec(L.responseEnd),{op:"browser",name:"response",attributes:{[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.ui.browser.metrics"}}))}function x(Y,L,V,q,oe,fe){if(L.initiatorType==="xmlhttprequest"||L.initiatorType==="fetch")return;const he=u.parseUrl(V),ee={[i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.resource.browser.metrics"};W(ee,L,"transferSize","http.response_transfer_size"),W(ee,L,"encodedBodySize","http.response_content_length"),W(ee,L,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in L&&(ee["resource.render_blocking_status"]=L.renderBlockingStatus),he.protocol&&(ee["url.scheme"]=he.protocol.split(":").pop()),he.host&&(ee["server.address"]=he.host),ee["url.same_origin"]=V.includes(v.WINDOW.location.origin);const ne=fe+q,_e=ne+oe;E.startAndEndSpan(Y,ne,_e,{name:V.replace(v.WINDOW.location.origin,""),op:L.initiatorType?`resource.${L.initiatorType}`:"resource.other",attributes:ee})}function $(Y){const L=v.WINDOW.navigator;if(!L)return;const V=L.connection;V&&(V.effectiveType&&Y.setAttribute("effectiveConnectionType",V.effectiveType),V.type&&Y.setAttribute("connectionType",V.type),E.isMeasurementValue(V.rtt)&&(b["connection.rtt"]={value:V.rtt,unit:"millisecond"})),E.isMeasurementValue(L.deviceMemory)&&Y.setAttribute("deviceMemory",`${L.deviceMemory} GB`),E.isMeasurementValue(L.hardwareConcurrency)&&Y.setAttribute("hardwareConcurrency",String(L.hardwareConcurrency))}function X(Y){f&&(g.DEBUG_BUILD&&u.logger.log("[Measurements] Adding LCP Data"),f.element&&Y.setAttribute("lcp.element",u.htmlTreeAsString(f.element)),f.id&&Y.setAttribute("lcp.id",f.id),f.url&&Y.setAttribute("lcp.url",f.url.trim().slice(0,200)),Y.setAttribute("lcp.size",f.size)),d&&d.sources&&(g.DEBUG_BUILD&&u.logger.log("[Measurements] Adding CLS Data"),d.sources.forEach((L,V)=>Y.setAttribute(`cls.source.${V+1}`,u.htmlTreeAsString(L.node))))}function W(Y,L,V,q){const oe=L[V];oe!=null&&oe<h&&(Y[q]=oe)}function K(Y){const L=y.getNavigationEntry();if(!L)return;const{responseStart:V,requestStart:q}=L;q<=V&&(g.DEBUG_BUILD&&u.logger.log("[Measurements] Adding TTFB Request Time"),Y["ttfb.requestTime"]={value:V-q,unit:"millisecond"})}e._addMeasureSpans=R,e._addResourceSpans=x,e.addPerformanceEntries=S,e.startTrackingInteractions=C,e.startTrackingLongTasks=l,e.startTrackingWebVitals=m},23609:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(17077),g=o(9515),v=o(32357);function T(){if(v.getBrowserPerformanceAPI()&&u.browserPerformanceTimeOrigin){const h=y();return()=>{h()}}return()=>{}}const E={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function y(){return g.addInpInstrumentationHandler(({metric:p})=>{const h=i.getClient();if(!h||p.value==null)return;const I=p.entries.find($=>$.duration===p.value&&E[$.name]);if(!I)return;const b=E[I.name],f=h.getOptions(),d=v.msToSec(u.browserPerformanceTimeOrigin+I.startTime),m=v.msToSec(p.value),l=i.getCurrentScope(),C=i.getActiveSpan(),_=C?i.getRootSpan(C):void 0,r=_?i.spanToJSON(_).description:void 0,n=l.getUser(),a=h.getIntegrationByName("Replay"),S=a&&a.getReplayId(),R=n!==void 0?n.email||n.id||n.ip_address:void 0;let A;try{A=l.getScopeData().contexts.profile.profile_id}catch($){}const M=u.htmlTreeAsString(I.target),P=u.dropUndefinedKeys({release:f.release,environment:f.environment,transaction:r,[i.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME]:p.value,user:R||void 0,profile_id:A||void 0,replay_id:S||void 0}),x=i.startInactiveSpan({name:M,op:`ui.interaction.${b}`,attributes:P,startTime:d,experimental:{standalone:!0}});x.addEvent("inp",{[i.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:"millisecond",[i.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:p.value}),x.end(d+m)})}e.startTrackingINP=T},9515:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(7944),g=o(93163),v=o(62660),T=o(92110),E=o(79532),y=o(65967),p=o(39466),h={},I={};let b,f,d,m,l;function C(L,V=!1){return X("cls",L,A,b,V)}function _(L,V=!1){return X("lcp",L,P,d,V)}function r(L){return X("fid",L,M,f)}function n(L){return X("ttfb",L,x,m)}function a(L){return X("inp",L,$,l)}function S(L,V){return K(L,V),I[L]||(W(L),I[L]=!0),Y(L,V)}function R(L,V){const q=h[L];if(!(!q||!q.length))for(const oe of q)try{oe(V)}catch(fe){u.DEBUG_BUILD&&i.logger.error(`Error while triggering instrumentation handler.
Type: ${L}
Name: ${i.getFunctionName(oe)}
Error:`,fe)}}function A(){return g.onCLS(L=>{R("cls",{metric:L}),b=L},{reportAllChanges:!0})}function M(){return v.onFID(L=>{R("fid",{metric:L}),f=L})}function P(){return E.onLCP(L=>{R("lcp",{metric:L}),d=L},{reportAllChanges:!0})}function x(){return p.onTTFB(L=>{R("ttfb",{metric:L}),m=L})}function $(){return T.onINP(L=>{R("inp",{metric:L}),l=L})}function X(L,V,q,oe,fe=!1){K(L,V);let he;return I[L]||(he=q(),I[L]=!0),oe&&V({metric:oe}),Y(L,V,fe?he:void 0)}function W(L){const V={};L==="event"&&(V.durationThreshold=0),y.observe(L,q=>{R(L,{entries:q})},V)}function K(L,V){h[L]=h[L]||[],h[L].push(V)}function Y(L,V,q){return()=>{q&&q();const oe=h[L];if(!oe)return;const fe=oe.indexOf(V);fe!==-1&&oe.splice(fe,1)}}e.addClsInstrumentationHandler=C,e.addFidInstrumentationHandler=r,e.addInpInstrumentationHandler=a,e.addLcpInstrumentationHandler=_,e.addPerformanceInstrumentationHandler=S,e.addTtfbInstrumentationHandler=n},32357:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(21143);function g(y){return typeof y=="number"&&isFinite(y)}function v(y,p,h,b){var I=ar(b,[]);const f=i.spanToJSON(y).start_timestamp;return f&&f>p&&typeof y.updateStartTime=="function"&&y.updateStartTime(p),i.withActiveSpan(y,()=>{const d=i.startInactiveSpan(B({startTime:p},I));return d&&d.end(h),d})}function T(){return u.WINDOW&&u.WINDOW.addEventListener&&u.WINDOW.performance}function E(y){return y/1e3}e.getBrowserPerformanceAPI=T,e.isMeasurementValue=g,e.msToSec=E,e.startAndEndSpan=v},93163:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(88833),u=o(69901),g=o(65967),v=o(93546),T=o(79447),E=o(2597),y=[.1,.25],p=(h,I={})=>{E.onFCP(T.runOnce(()=>{const b=u.initMetric("CLS",0);let f,d=0,m=[];const l=_=>{_.forEach(r=>{if(!r.hadRecentInput){const n=m[0],a=m[m.length-1];d&&r.startTime-a.startTime<1e3&&r.startTime-n.startTime<5e3?(d+=r.value,m.push(r)):(d=r.value,m=[r])}}),d>b.value&&(b.value=d,b.entries=m,f())},C=g.observe("layout-shift",l);C&&(f=i.bindReporter(h,b,y,I.reportAllChanges),v.onHidden(()=>{l(C.takeRecords()),f(!0)}),setTimeout(f,0))}))};e.CLSThresholds=y,e.onCLS=p},62660:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(88833),u=o(14147),g=o(69901),v=o(65967),T=o(93546),E=o(79447),y=o(8208),p=[100,300],h=(I,b={})=>{y.whenActivated(()=>{const f=u.getVisibilityWatcher(),d=g.initMetric("FID");let m;const l=r=>{r.startTime<f.firstHiddenTime&&(d.value=r.processingStart-r.startTime,d.entries.push(r),m(!0))},C=r=>{r.forEach(l)},_=v.observe("first-input",C);m=i.bindReporter(I,d,p,b.reportAllChanges),_&&T.onHidden(E.runOnce(()=>{C(_.takeRecords()),_.disconnect()}))})};e.FIDThresholds=p,e.onFID=h},92110:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(21143),u=o(88833),g=o(69901),v=o(65967),T=o(93546),E=o(20954),y=o(8208),p=[200,500],h=0,I=()=>E.getInteractionCount()-h,b=10,f=[],d={},m=_=>{const r=f[f.length-1],n=d[_.interactionId];if(n||f.length<b||_.duration>r.latency){if(n)n.entries.push(_),n.latency=Math.max(n.latency,_.duration);else{const a={id:_.interactionId,latency:_.duration,entries:[_]};d[a.id]=a,f.push(a)}f.sort((a,S)=>S.latency-a.latency),f.splice(b).forEach(a=>{delete d[a.id]})}},l=()=>{const _=Math.min(f.length-1,Math.floor(I()/50));return f[_]},C=(_,r={})=>{y.whenActivated(()=>{E.initInteractionCountPolyfill();const n=g.initMetric("INP");let a;const S=A=>{A.forEach(P=>{P.interactionId&&m(P),P.entryType==="first-input"&&!f.some($=>$.entries.some(X=>P.duration===X.duration&&P.startTime===X.startTime))&&m(P)});const M=l();M&&M.latency!==n.value&&(n.value=M.latency,n.entries=M.entries,a())},R=v.observe("event",S,{durationThreshold:r.durationThreshold!=null?r.durationThreshold:40});a=u.bindReporter(_,n,p,r.reportAllChanges),R&&("PerformanceEventTiming"in i.WINDOW&&"interactionId"in PerformanceEventTiming.prototype&&R.observe({type:"first-input",buffered:!0}),T.onHidden(()=>{S(R.takeRecords()),n.value<0&&I()>0&&(n.value=0,n.entries=[]),a(!0)}))})};e.INPThresholds=p,e.onINP=C},79532:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(21143),u=o(88833),g=o(403),v=o(14147),T=o(69901),E=o(65967),y=o(93546),p=o(79447),h=o(8208),I=[2500,4e3],b={},f=(d,m={})=>{h.whenActivated(()=>{const l=v.getVisibilityWatcher(),C=T.initMetric("LCP");let _;const r=a=>{const S=a[a.length-1];S&&S.startTime<l.firstHiddenTime&&(C.value=Math.max(S.startTime-g.getActivationStart(),0),C.entries=[S],_())},n=E.observe("largest-contentful-paint",r);if(n){_=u.bindReporter(d,C,I,m.reportAllChanges);const a=p.runOnce(()=>{b[C.id]||(r(n.takeRecords()),n.disconnect(),b[C.id]=!0,_(!0))});["keydown","click"].forEach(S=>{i.WINDOW.document&&addEventListener(S,()=>setTimeout(a,0),!0)}),y.onHidden(a)}})};e.LCPThresholds=I,e.onLCP=f},88833:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=(u,g)=>u>g[1]?"poor":u>g[0]?"needs-improvement":"good",i=(u,g,v,T)=>{let E,y;return p=>{g.value>=0&&(p||T)&&(y=g.value-(E||0),(y||E===void 0)&&(E=g.value,g.delta=y,g.rating=o(g.value,v),u(g)))}};e.bindReporter=i},5958:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`;e.generateUniqueID=o},403:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(58637),u=()=>{const g=i.getNavigationEntry();return g&&g.activationStart||0};e.getActivationStart=u},58637:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(21143),u=()=>i.WINDOW.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];e.getNavigationEntry=u},14147:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(21143);let u=-1;const g=()=>{u=i.WINDOW.document.visibilityState==="hidden"&&!i.WINDOW.document.prerendering?0:1/0},v=y=>{i.WINDOW.document.visibilityState==="hidden"&&u>-1&&(u=y.type==="visibilitychange"?y.timeStamp:0,removeEventListener("visibilitychange",v,!0),removeEventListener("prerenderingchange",v,!0))},T=()=>{addEventListener("visibilitychange",v,!0),addEventListener("prerenderingchange",v,!0)},E=()=>(i.WINDOW.document&&u<0&&(g(),T()),{get firstHiddenTime(){return u}});e.getVisibilityWatcher=E},69901:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(21143),u=o(5958),g=o(403),v=o(58637),T=(E,y)=>{const p=v.getNavigationEntry();let h="navigate";return p&&(i.WINDOW.document&&i.WINDOW.document.prerendering||g.getActivationStart()>0?h="prerender":i.WINDOW.document&&i.WINDOW.document.wasDiscarded?h="restore":p.type&&(h=p.type.replace(/_/g,"-"))),{name:E,value:typeof y=="undefined"?-1:y,rating:"good",delta:0,entries:[],id:u.generateUniqueID(),navigationType:h}};e.initMetric=T},65967:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=(i,u,g)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(i)){const v=new PerformanceObserver(T=>{Promise.resolve().then(()=>{u(T.getEntries())})});return v.observe(Object.assign({type:i,buffered:!0},g||{})),v}}catch(v){}};e.observe=o},93546:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(21143),u=g=>{const v=T=>{(T.type==="pagehide"||i.WINDOW.document&&i.WINDOW.document.visibilityState==="hidden")&&g(T)};i.WINDOW.document&&(addEventListener("visibilitychange",v,!0),addEventListener("pagehide",v,!0))};e.onHidden=u},20954:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(65967);let u=0,g=1/0,v=0;const T=h=>{h.forEach(I=>{I.interactionId&&(g=Math.min(g,I.interactionId),v=Math.max(v,I.interactionId),u=v?(v-g)/7+1:0)})};let E;const y=()=>E?u:performance.interactionCount||0,p=()=>{"interactionCount"in performance||E||(E=i.observe("event",T,{type:"event",buffered:!0,durationThreshold:0}))};e.getInteractionCount=y,e.initInteractionCountPolyfill=p},79447:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=i=>{let u=!1;return g=>{u||(i(g),u=!0)}};e.runOnce=o},8208:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(21143),u=g=>{i.WINDOW.document&&i.WINDOW.document.prerendering?addEventListener("prerenderingchange",()=>g(),!0):g()};e.whenActivated=u},2597:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(88833),u=o(403),g=o(14147),v=o(69901),T=o(65967),E=o(8208),y=[1800,3e3],p=(h,I={})=>{E.whenActivated(()=>{const b=g.getVisibilityWatcher(),f=v.initMetric("FCP");let d;const m=C=>{C.forEach(_=>{_.name==="first-contentful-paint"&&(l.disconnect(),_.startTime<b.firstHiddenTime&&(f.value=Math.max(_.startTime-u.getActivationStart(),0),f.entries.push(_),d(!0)))})},l=T.observe("paint",m);l&&(d=i.bindReporter(h,f,y,I.reportAllChanges))})};e.FCPThresholds=y,e.onFCP=p},39466:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(21143),u=o(88833),g=o(403),v=o(58637),T=o(69901),E=o(8208),y=[800,1800],p=I=>{i.WINDOW.document&&i.WINDOW.document.prerendering?E.whenActivated(()=>p(I)):i.WINDOW.document&&i.WINDOW.document.readyState!=="complete"?addEventListener("load",()=>p(I),!0):setTimeout(I,0)},h=(I,b={})=>{const f=T.initMetric("TTFB"),d=u.bindReporter(I,f,y,b.reportAllChanges);p(()=>{const m=v.getNavigationEntry();if(m){const l=m.responseStart;if(l<=0||l>performance.now())return;f.value=Math.max(l-g.getActivationStart(),0),f.entries=[m],d(!0)}})};e.TTFBThresholds=y,e.onTTFB=h},21143:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const u=o(17077).GLOBAL_OBJ;e.WINDOW=u},88723:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(17077),g=u.GLOBAL_OBJ,v=g.document,T=g.navigator,E="Report a Bug",y="Cancel",p="Send Bug Report",h="Confirm",I="Report a Bug",b="your.email@example.org",f="Email",d="What's the bug? What did you expect?",m="Description",l="Your Name",C="Name",_="Thank you for your report!",r="(required)",n="Add a screenshot",a="Remove screenshot",S="widget",R="api",A=5e3,M=(w,k={includeReplay:!0})=>{if(!w.message)throw new Error("Unable to submit feedback with empty message");const U=i.getClient();if(!U)throw new Error("No client setup, cannot send feedback.");const J=i.captureFeedback(B({source:R,url:u.getLocationHref()},w),k);return new Promise((Z,te)=>{const ge=setTimeout(()=>te("Unable to determine if Feedback was correctly sent."),5e3);U.on("afterSendEvent",(Ee,be)=>{if(Ee.event_id===J){if(clearTimeout(ge),be&&typeof be.statusCode=="number"&&(be.statusCode<200||be.statusCode>=300))return be.statusCode===0?te("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):te("Unable to send Feedback. Invalid response from server.");Z(J)}})})},P=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;function x(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(T.userAgent)||!isSecureContext)}function $(w,k){return Ie(B(B({},w),k),{onFormOpen:()=>{k.onFormOpen&&k.onFormOpen(),w.onFormOpen&&w.onFormOpen()},onFormClose:()=>{k.onFormClose&&k.onFormClose(),w.onFormClose&&w.onFormClose()},onSubmitSuccess:U=>{k.onSubmitSuccess&&k.onSubmitSuccess(U),w.onSubmitSuccess&&w.onSubmitSuccess(U)},onSubmitError:U=>{k.onSubmitError&&k.onSubmitError(U),w.onSubmitError&&w.onSubmitError(U)},onFormSubmitted:()=>{k.onFormSubmitted&&k.onFormSubmitted(),w.onFormSubmitted&&w.onFormSubmitted()},themeDark:B(B({},w.themeDark),k.themeDark),themeLight:B(B({},w.themeLight),k.themeLight)})}function X(){const w=v.createElement("style");return w.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,w}function W(w,k){return Object.entries(k).forEach(([U,J])=>{w.setAttributeNS(null,U,J)}),w}const K=20,Y="http://www.w3.org/2000/svg";function L(){const w=Ee=>g.document.createElementNS(Y,Ee),k=W(w("svg"),{width:`${K}`,height:`${K}`,viewBox:`0 0 ${K} ${K}`,fill:"var(--foreground)"}),U=W(w("g"),{clipPath:"url(#clip0_57_80)"}),J=W(w("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});k.appendChild(U).appendChild(J);const Z=w("defs"),te=W(w("clipPath"),{id:"clip0_57_80"}),ge=W(w("rect"),{width:`${K}`,height:`${K}`,fill:"white"});return te.appendChild(ge),Z.appendChild(te),k.appendChild(Z).appendChild(te).appendChild(ge),k}function V({triggerLabel:w,shadow:k}){const U=v.createElement("button");if(U.type="button",U.className="widget__actor",U.ariaHidden="false",U.ariaLabel=w,U.appendChild(L()),w){const Z=v.createElement("span");Z.appendChild(v.createTextNode(w)),U.appendChild(Z)}const J=X();return{el:U,appendToDom(){k.appendChild(J),k.appendChild(U)},removeFromDom(){k.removeChild(U),k.removeChild(J)},show(){U.ariaHidden="false"},hide(){U.ariaHidden="true"}}}const q="rgba(88, 74, 192, 1)",oe={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:q,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},fe={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:q,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function he(w){return`
  --foreground: ${w.foreground};
  --background: ${w.background};
  --accent-foreground: ${w.accentForeground};
  --accent-background: ${w.accentBackground};
  --success-color: ${w.successColor};
  --error-color: ${w.errorColor};
  --border: ${w.border};
  --box-shadow: ${w.boxShadow};
  --outline: ${w.outline};
  --interactive-filter: ${w.interactiveFilter};
  `}function ee({colorScheme:w,themeDark:k,themeLight:U}){const J=v.createElement("style");return J.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${w!=="system"?"color-scheme: only light;":""}

  ${he(w==="dark"?B(B({},fe),k):B(B({},oe),U))}
}

${w==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${he(B(B({},fe),k))}
  }
}`:""}
}
`,J}const ne=({lazyLoadIntegration:w,getModalIntegration:k,getScreenshotIntegration:U})=>({id:Z="sentry-feedback",showBranding:te=!0,autoInject:ge=!0,showEmail:Ee=!0,showName:be=!0,enableScreenshot:pe=!0,useSentryUser:Ue={email:"email",name:"username"},isNameRequired:se=!1,isEmailRequired:je=!1,colorScheme:Ce="system",themeLight:Ze={},themeDark:mt={},addScreenshotButtonLabel:ct=n,cancelButtonLabel:Re=y,confirmButtonLabel:Me=h,emailLabel:We=f,emailPlaceholder:Ke=b,formTitle:It=I,isRequiredLabel:Wt=r,messageLabel:Fe=m,messagePlaceholder:Kt=d,nameLabel:rt=C,namePlaceholder:Mt=l,removeScreenshotButtonLabel:Rn=a,submitButtonLabel:Gn=p,successMessageText:zn=_,triggerLabel:nr=E,onFormOpen:An,onFormClose:Nn,onSubmitSuccess:kt,onSubmitError:en,onFormSubmitted:Mn}={})=>{const xt={id:Z,autoInject:ge,showBranding:te,isEmailRequired:je,isNameRequired:se,showEmail:Ee,showName:be,enableScreenshot:pe,useSentryUser:Ue,colorScheme:Ce,themeDark:mt,themeLight:Ze,triggerLabel:nr,cancelButtonLabel:Re,submitButtonLabel:Gn,confirmButtonLabel:Me,formTitle:It,emailLabel:We,emailPlaceholder:Ke,messageLabel:Fe,messagePlaceholder:Kt,nameLabel:rt,namePlaceholder:Mt,successMessageText:zn,isRequiredLabel:Wt,addScreenshotButtonLabel:ct,removeScreenshotButtonLabel:Rn,onFormClose:Nn,onFormOpen:An,onSubmitError:en,onSubmitSuccess:kt,onFormSubmitted:Mn};let Jt=null,wn=[];const an=gt=>{if(!Jt){const Et=v.createElement("div");Et.id=String(gt.id),v.body.appendChild(Et),Jt=Et.attachShadow({mode:"open"}),Jt.appendChild(ee(gt))}return Jt},Or=(gt,Et,$t)=>Oe(this,null,function*(){const Ot=i.getClient(),Bt=Ot&&Ot.getIntegrationByName(gt);if(Bt)return Bt;const Dt=(Et&&Et()||(yield w($t)))();return Ot&&Ot.addIntegration(Dt),Dt}),Rr=gt=>Oe(this,null,function*(){const Et=gt.enableScreenshot&&x(),[$t,Ot]=yield Promise.all([Or("FeedbackModal",k,"feedbackModalIntegration"),Et?Or("FeedbackScreenshot",U,"feedbackScreenshotIntegration"):void 0]);if(!$t)throw P&&u.logger.error("[Feedback] Missing feedback modal integration. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!");return Et&&!Ot&&P&&u.logger.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots."),$t.createDialog({options:gt,screenshotIntegration:Et?Ot:void 0,sendFeedback:M,shadow:an(gt)})}),Ar=(gt,Et={})=>{const $t=$(xt,Et),Ot=typeof gt=="string"?v.querySelector(gt):typeof gt.addEventListener=="function"?gt:null;if(!Ot)throw P&&u.logger.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let Bt=null;const sr=()=>Oe(this,null,function*(){Bt||(Bt=yield Rr(Ie(B({},$t),{onFormClose:()=>{Bt&&Bt.close(),$t.onFormClose&&$t.onFormClose()},onFormSubmitted:()=>{Bt&&Bt.removeFromDom(),$t.onFormSubmitted&&$t.onFormSubmitted()}}))),Bt.appendToDom(),Bt.open()});Ot.addEventListener("click",sr);const Dt=()=>{wn=wn.filter(Yn=>Yn!==Dt),Bt&&Bt.removeFromDom(),Bt=null,Ot.removeEventListener("click",sr)};return wn.push(Dt),Dt},rr=(gt={})=>{const Et=$(xt,gt),$t=an(Et),Ot=V({triggerLabel:Et.triggerLabel,shadow:$t});return Ar(Ot.el,Ie(B({},Et),{onFormOpen(){Ot.hide()},onFormClose(){Ot.show()},onFormSubmitted(){Ot.show()}})),Ot};return{name:"Feedback",setupOnce(){!u.isBrowser()||!xt.autoInject||(v.readyState==="loading"?v.addEventListener("DOMContentLoaded",()=>rr().appendToDom):rr().appendToDom())},attachTo:Ar,createWidget(gt={}){const Et=rr($(xt,gt));return Et.appendToDom(),Et},createForm(){return Oe(this,arguments,function*(gt={}){return Rr($(xt,gt))})},remove(){Jt&&(Jt.parentElement&&Jt.parentElement.remove(),Jt=null),wn.forEach(gt=>gt()),wn=[]}}};function _e(){const w=i.getClient();return w&&w.getIntegrationByName("Feedback")}var Te,Ne,Qe,z,re,ae,le,de={},ve=[],Le=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Pe=Array.isArray;function He(w,k){for(var U in k)w[U]=k[U];return w}function Xe(w){var k=w.parentNode;k&&k.removeChild(w)}function me(w,k,U){var J,Z,te,ge={};for(te in k)te=="key"?J=k[te]:te=="ref"?Z=k[te]:ge[te]=k[te];if(arguments.length>2&&(ge.children=arguments.length>3?Te.call(arguments,2):U),typeof w=="function"&&w.defaultProps!=null)for(te in w.defaultProps)ge[te]===void 0&&(ge[te]=w.defaultProps[te]);return lt(w,ge,J,Z,null)}function lt(w,k,U,J,Z){var te={type:w,props:k,key:U,ref:J,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:Z==null?++Qe:Z,__i:-1,__u:0};return Z==null&&Ne.vnode!=null&&Ne.vnode(te),te}function Tt(w){return w.children}function Ct(w,k){this.props=w,this.context=k}function Nt(w,k){if(k==null)return w.__?Nt(w.__,w.__i+1):null;for(var U;k<w.__k.length;k++)if((U=w.__k[k])!=null&&U.__e!=null)return U.__e;return typeof w.type=="function"?Nt(w):null}function ln(w,k,U){var J,Z=w.__v,te=Z.__e,ge=w.__P;if(ge)return(J=He({},Z)).__v=Z.__v+1,Ne.vnode&&Ne.vnode(J),rn(ge,J,Z,w.__n,ge.ownerSVGElement!==void 0,32&Z.__u?[te]:null,k,te==null?Nt(Z):te,!!(32&Z.__u),U),J.__.__k[J.__i]=J,J.__d=void 0,J.__e!=te&&Ft(J),J}function Ft(w){var k,U;if((w=w.__)!=null&&w.__c!=null){for(w.__e=w.__c.base=null,k=0;k<w.__k.length;k++)if((U=w.__k[k])!=null&&U.__e!=null){w.__e=w.__c.base=U.__e;break}return Ft(w)}}function Ht(w){(!w.__d&&(w.__d=!0)&&z.push(w)&&!ft.__r++||re!==Ne.debounceRendering)&&((re=Ne.debounceRendering)||ae)(ft)}function ft(){var w,k,U,J=[],Z=[];for(z.sort(le);w=z.shift();)w.__d&&(U=z.length,k=ln(w,J,Z)||k,U===0||z.length>U?(un(J,k,Z),Z.length=J.length=0,k=void 0,z.sort(le)):k&&Ne.__c&&Ne.__c(k,ve));k&&un(J,k,Z),ft.__r=0}function Pt(w,k,U,J,Z,te,ge,Ee,be,pe,Ue){var se,je,Ce,Ze,mt,ct=J&&J.__k||ve,Re=k.length;for(U.__d=be,_t(U,k,ct),be=U.__d,se=0;se<Re;se++)(Ce=U.__k[se])!=null&&typeof Ce!="boolean"&&typeof Ce!="function"&&(je=Ce.__i===-1?de:ct[Ce.__i]||de,Ce.__i=se,rn(w,Ce,je,Z,te,ge,Ee,be,pe,Ue),Ze=Ce.__e,Ce.ref&&je.ref!=Ce.ref&&(je.ref&&Kn(je.ref,null,Ce),Ue.push(Ce.ref,Ce.__c||Ze,Ce)),mt==null&&Ze!=null&&(mt=Ze),65536&Ce.__u||je.__k===Ce.__k?be=zt(Ce,be,w):typeof Ce.type=="function"&&Ce.__d!==void 0?be=Ce.__d:Ze&&(be=Ze.nextSibling),Ce.__d=void 0,Ce.__u&=-196609);U.__d=be,U.__e=mt}function _t(w,k,U){var J,Z,te,ge,Ee,be=k.length,pe=U.length,Ue=pe,se=0;for(w.__k=[],J=0;J<be;J++)(Z=w.__k[J]=(Z=k[J])==null||typeof Z=="boolean"||typeof Z=="function"?null:typeof Z=="string"||typeof Z=="number"||typeof Z=="bigint"||Z.constructor==String?lt(null,Z,null,null,Z):Pe(Z)?lt(Tt,{children:Z},null,null,null):Z.constructor===void 0&&Z.__b>0?lt(Z.type,Z.props,Z.key,Z.ref?Z.ref:null,Z.__v):Z)!=null?(Z.__=w,Z.__b=w.__b+1,Ee=hn(Z,U,ge=J+se,Ue),Z.__i=Ee,te=null,Ee!==-1&&(Ue--,(te=U[Ee])&&(te.__u|=131072)),te==null||te.__v===null?(Ee==-1&&se--,typeof Z.type!="function"&&(Z.__u|=65536)):Ee!==ge&&(Ee===ge+1?se++:Ee>ge?Ue>be-ge?se+=Ee-ge:se--:se=Ee<ge&&Ee==ge-1?Ee-ge:0,Ee!==J+se&&(Z.__u|=65536))):(te=U[J])&&te.key==null&&te.__e&&(te.__e==w.__d&&(w.__d=Nt(te)),Jn(te,te,!1),U[J]=null,Ue--);if(Ue)for(J=0;J<pe;J++)(te=U[J])!=null&&!(131072&te.__u)&&(te.__e==w.__d&&(w.__d=Nt(te)),Jn(te,te))}function zt(w,k,U){var J,Z;if(typeof w.type=="function"){for(J=w.__k,Z=0;J&&Z<J.length;Z++)J[Z]&&(J[Z].__=w,k=zt(J[Z],k,U));return k}w.__e!=k&&(U.insertBefore(w.__e,k||null),k=w.__e);do k=k&&k.nextSibling;while(k!=null&&k.nodeType===8);return k}function hn(w,k,U,J){var Z=w.key,te=w.type,ge=U-1,Ee=U+1,be=k[U];if(be===null||be&&Z==be.key&&te===be.type)return U;if(J>(be!=null&&!(131072&be.__u)?1:0))for(;ge>=0||Ee<k.length;){if(ge>=0){if((be=k[ge])&&!(131072&be.__u)&&Z==be.key&&te===be.type)return ge;ge--}if(Ee<k.length){if((be=k[Ee])&&!(131072&be.__u)&&Z==be.key&&te===be.type)return Ee;Ee++}}return-1}function mn(w,k,U){k[0]==="-"?w.setProperty(k,U==null?"":U):w[k]=U==null?"":typeof U!="number"||Le.test(k)?U:U+"px"}function En(w,k,U,J,Z){var te;e:if(k==="style")if(typeof U=="string")w.style.cssText=U;else{if(typeof J=="string"&&(w.style.cssText=J=""),J)for(k in J)U&&k in U||mn(w.style,k,"");if(U)for(k in U)J&&U[k]===J[k]||mn(w.style,k,U[k])}else if(k[0]==="o"&&k[1]==="n")te=k!==(k=k.replace(/(PointerCapture)$|Capture$/i,"$1")),k=k.toLowerCase()in w?k.toLowerCase().slice(2):k.slice(2),w.l||(w.l={}),w.l[k+te]=U,U?J?U.u=J.u:(U.u=Date.now(),w.addEventListener(k,te?ur:cr,te)):w.removeEventListener(k,te?ur:cr,te);else{if(Z)k=k.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(k!=="width"&&k!=="height"&&k!=="href"&&k!=="list"&&k!=="form"&&k!=="tabIndex"&&k!=="download"&&k!=="rowSpan"&&k!=="colSpan"&&k!=="role"&&k in w)try{w[k]=U==null?"":U;break e}catch(ge){}typeof U=="function"||(U==null||U===!1&&k[4]!=="-"?w.removeAttribute(k):w.setAttribute(k,U))}}function cr(w){if(this.l){var k=this.l[w.type+!1];if(w.t){if(w.t<=k.u)return}else w.t=Date.now();return k(Ne.event?Ne.event(w):w)}}function ur(w){if(this.l)return this.l[w.type+!0](Ne.event?Ne.event(w):w)}function rn(w,k,U,J,Z,te,ge,Ee,be,pe){var Ue,se,je,Ce,Ze,mt,ct,Re,Me,We,Ke,It,Wt,Fe,Kt,rt=k.type;if(k.constructor!==void 0)return null;128&U.__u&&(be=!!(32&U.__u),te=[Ee=k.__e=U.__e]),(Ue=Ne.__b)&&Ue(k);e:if(typeof rt=="function")try{if(Re=k.props,Me=(Ue=rt.contextType)&&J[Ue.__c],We=Ue?Me?Me.props.value:Ue.__:J,U.__c?ct=(se=k.__c=U.__c).__=se.__E:("prototype"in rt&&rt.prototype.render?k.__c=se=new rt(Re,We):(k.__c=se=new Ct(Re,We),se.constructor=rt,se.render=Fr),Me&&Me.sub(se),se.props=Re,se.state||(se.state={}),se.context=We,se.__n=J,je=se.__d=!0,se.__h=[],se._sb=[]),se.__s==null&&(se.__s=se.state),rt.getDerivedStateFromProps!=null&&(se.__s==se.state&&(se.__s=He({},se.__s)),He(se.__s,rt.getDerivedStateFromProps(Re,se.__s))),Ce=se.props,Ze=se.state,se.__v=k,je)rt.getDerivedStateFromProps==null&&se.componentWillMount!=null&&se.componentWillMount(),se.componentDidMount!=null&&se.__h.push(se.componentDidMount);else{if(rt.getDerivedStateFromProps==null&&Re!==Ce&&se.componentWillReceiveProps!=null&&se.componentWillReceiveProps(Re,We),!se.__e&&(se.shouldComponentUpdate!=null&&se.shouldComponentUpdate(Re,se.__s,We)===!1||k.__v===U.__v)){for(k.__v!==U.__v&&(se.props=Re,se.state=se.__s,se.__d=!1),k.__e=U.__e,k.__k=U.__k,k.__k.forEach(function(Mt){Mt&&(Mt.__=k)}),Ke=0;Ke<se._sb.length;Ke++)se.__h.push(se._sb[Ke]);se._sb=[],se.__h.length&&ge.push(se);break e}se.componentWillUpdate!=null&&se.componentWillUpdate(Re,se.__s,We),se.componentDidUpdate!=null&&se.__h.push(function(){se.componentDidUpdate(Ce,Ze,mt)})}if(se.context=We,se.props=Re,se.__P=w,se.__e=!1,It=Ne.__r,Wt=0,"prototype"in rt&&rt.prototype.render){for(se.state=se.__s,se.__d=!1,It&&It(k),Ue=se.render(se.props,se.state,se.context),Fe=0;Fe<se._sb.length;Fe++)se.__h.push(se._sb[Fe]);se._sb=[]}else do se.__d=!1,It&&It(k),Ue=se.render(se.props,se.state,se.context),se.state=se.__s;while(se.__d&&++Wt<25);se.state=se.__s,se.getChildContext!=null&&(J=He(He({},J),se.getChildContext())),je||se.getSnapshotBeforeUpdate==null||(mt=se.getSnapshotBeforeUpdate(Ce,Ze)),Pt(w,Pe(Kt=Ue!=null&&Ue.type===Tt&&Ue.key==null?Ue.props.children:Ue)?Kt:[Kt],k,U,J,Z,te,ge,Ee,be,pe),se.base=k.__e,k.__u&=-161,se.__h.length&&ge.push(se),ct&&(se.__E=se.__=null)}catch(Mt){k.__v=null,be||te!=null?(k.__e=Ee,k.__u|=be?160:32,te[te.indexOf(Ee)]=null):(k.__e=U.__e,k.__k=U.__k),Ne.__e(Mt,k,U)}else te==null&&k.__v===U.__v?(k.__k=U.__k,k.__e=U.__e):k.__e=gn(U.__e,k,U,J,Z,te,ge,be,pe);(Ue=Ne.diffed)&&Ue(k)}function un(w,k,U){for(var J=0;J<U.length;J++)Kn(U[J],U[++J],U[++J]);Ne.__c&&Ne.__c(k,w),w.some(function(Z){try{w=Z.__h,Z.__h=[],w.some(function(te){te.call(Z)})}catch(te){Ne.__e(te,Z.__v)}})}function gn(w,k,U,J,Z,te,ge,Ee,be){var pe,Ue,se,je,Ce,Ze,mt,ct=U.props,Re=k.props,Me=k.type;if(Me==="svg"&&(Z=!0),te!=null){for(pe=0;pe<te.length;pe++)if((Ce=te[pe])&&"setAttribute"in Ce==!!Me&&(Me?Ce.localName===Me:Ce.nodeType===3)){w=Ce,te[pe]=null;break}}if(w==null){if(Me===null)return document.createTextNode(Re);w=Z?document.createElementNS("http://www.w3.org/2000/svg",Me):document.createElement(Me,Re.is&&Re),te=null,Ee=!1}if(Me===null)ct===Re||Ee&&w.data===Re||(w.data=Re);else{if(te=te&&Te.call(w.childNodes),ct=U.props||de,!Ee&&te!=null)for(ct={},pe=0;pe<w.attributes.length;pe++)ct[(Ce=w.attributes[pe]).name]=Ce.value;for(pe in ct)Ce=ct[pe],pe=="children"||(pe=="dangerouslySetInnerHTML"?se=Ce:pe==="key"||pe in Re||En(w,pe,null,Ce,Z));for(pe in Re)Ce=Re[pe],pe=="children"?je=Ce:pe=="dangerouslySetInnerHTML"?Ue=Ce:pe=="value"?Ze=Ce:pe=="checked"?mt=Ce:pe==="key"||Ee&&typeof Ce!="function"||ct[pe]===Ce||En(w,pe,Ce,ct[pe],Z);if(Ue)Ee||se&&(Ue.__html===se.__html||Ue.__html===w.innerHTML)||(w.innerHTML=Ue.__html),k.__k=[];else if(se&&(w.innerHTML=""),Pt(w,Pe(je)?je:[je],k,U,J,Z&&Me!=="foreignObject",te,ge,te?te[0]:U.__k&&Nt(U,0),Ee,be),te!=null)for(pe=te.length;pe--;)te[pe]!=null&&Xe(te[pe]);Ee||(pe="value",Ze!==void 0&&(Ze!==w[pe]||Me==="progress"&&!Ze||Me==="option"&&Ze!==ct[pe])&&En(w,pe,Ze,ct[pe],!1),pe="checked",mt!==void 0&&mt!==w[pe]&&En(w,pe,mt,ct[pe],!1))}return w}function Kn(w,k,U){try{typeof w=="function"?w(k):w.current=k}catch(J){Ne.__e(J,U)}}function Jn(w,k,U){var J,Z;if(Ne.unmount&&Ne.unmount(w),(J=w.ref)&&(J.current&&J.current!==w.__e||Kn(J,null,k)),(J=w.__c)!=null){if(J.componentWillUnmount)try{J.componentWillUnmount()}catch(te){Ne.__e(te,k)}J.base=J.__P=null,w.__c=void 0}if(J=w.__k)for(Z=0;Z<J.length;Z++)J[Z]&&Jn(J[Z],k,U||typeof w.type!="function");U||w.__e==null||Xe(w.__e),w.__=w.__e=w.__d=void 0}function Fr(w,k,U){return this.constructor(w,U)}function Hr(w,k,U){var J,Z,te,ge;Ne.__&&Ne.__(w,k),Z=(J=typeof U=="function")?null:U&&U.__k||k.__k,te=[],ge=[],rn(k,w=(!J&&U||k).__k=me(Tt,null,[w]),Z||de,de,k.ownerSVGElement!==void 0,!J&&U?[U]:Z?null:k.firstChild?Te.call(k.childNodes):null,te,!J&&U?U:Z?Z.__e:k.firstChild,J,ge),w.__d=void 0,un(te,w,ge)}Te=ve.slice,Ne={__e:function(w,k,U,J){for(var Z,te,ge;k=k.__;)if((Z=k.__c)&&!Z.__)try{if((te=Z.constructor)&&te.getDerivedStateFromError!=null&&(Z.setState(te.getDerivedStateFromError(w)),ge=Z.__d),Z.componentDidCatch!=null&&(Z.componentDidCatch(w,J||{}),ge=Z.__d),ge)return Z.__E=Z}catch(Ee){w=Ee}throw w}},Qe=0,Ct.prototype.setState=function(w,k){var U;U=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=He({},this.state),typeof w=="function"&&(w=w(He({},U),this.props)),w&&He(U,w),w!=null&&this.__v&&(k&&this._sb.push(k),Ht(this))},Ct.prototype.forceUpdate=function(w){this.__v&&(this.__e=!0,w&&this.__h.push(w),Ht(this))},Ct.prototype.render=Tt,z=[],ae=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,le=function(w,k){return w.__v.__b-k.__v.__b},ft.__r=0;var bn,ht,it,lr,qt=0,dr=[],Zt=[],Ve=Ne,dn=Ve.__b,Xn=Ve.__r,Sn=Ve.diffed,Zn=Ve.__c,Un=Ve.unmount,Tn=Ve.__;function Bn(w,k){Ve.__h&&Ve.__h(ht,w,qt||k),qt=0;var U=ht.__H||(ht.__H={__:[],__h:[]});return w>=U.__.length&&U.__.push({__V:Zt}),U.__[w]}function fn(w){return qt=1,fr(hr,w)}function fr(w,k,U){var J=Bn(bn++,2);if(J.t=w,!J.__c&&(J.__=[U?U(k):hr(void 0,k),function(Ee){var be=J.__N?J.__N[0]:J.__[0],pe=J.t(be,Ee);be!==pe&&(J.__N=[pe,J.__[1]],J.__c.setState({}))}],J.__c=ht,!ht.u)){var Z=function(Ee,be,pe){if(!J.__c.__H)return!0;var Ue=J.__c.__H.__.filter(function(je){return!!je.__c});if(Ue.every(function(je){return!je.__N}))return!te||te.call(this,Ee,be,pe);var se=!1;return Ue.forEach(function(je){if(je.__N){var Ce=je.__[0];je.__=je.__N,je.__N=void 0,Ce!==je.__[0]&&(se=!0)}}),!(!se&&J.__c.props===Ee)&&(!te||te.call(this,Ee,be,pe))};ht.u=!0;var te=ht.shouldComponentUpdate,ge=ht.componentWillUpdate;ht.componentWillUpdate=function(Ee,be,pe){if(this.__e){var Ue=te;te=void 0,Z(Ee,be,pe),te=Ue}ge&&ge.call(this,Ee,be,pe)},ht.shouldComponentUpdate=Z}return J.__N||J.__}function Fn(w,k){var U=Bn(bn++,3);!Ve.__s&&Wn(U.__H,k)&&(U.__=w,U.i=k,ht.__H.__h.push(U))}function jt(w){return qt=5,In(function(){return{current:w}},[])}function In(w,k){var U=Bn(bn++,7);return Wn(U.__H,k)?(U.__V=w(),U.i=k,U.__h=w,U.__V):U.__}function Yt(w,k){return qt=8,In(function(){return w},k)}function pr(){for(var w;w=dr.shift();)if(w.__P&&w.__H)try{w.__H.__h.forEach(vn),w.__H.__h.forEach(jn),w.__H.__h=[]}catch(k){w.__H.__h=[],Ve.__e(k,w.__v)}}Ve.__b=function(w){ht=null,dn&&dn(w)},Ve.__=function(w,k){k.__k&&k.__k.__m&&(w.__m=k.__k.__m),Tn&&Tn(w,k)},Ve.__r=function(w){Xn&&Xn(w),bn=0;var k=(ht=w.__c).__H;k&&(it===ht?(k.__h=[],ht.__h=[],k.__.forEach(function(U){U.__N&&(U.__=U.__N),U.__V=Zt,U.__N=U.i=void 0})):(k.__h.forEach(vn),k.__h.forEach(jn),k.__h=[],bn=0)),it=ht},Ve.diffed=function(w){Sn&&Sn(w);var k=w.__c;k&&k.__H&&(k.__H.__h.length&&(dr.push(k)!==1&&lr===Ve.requestAnimationFrame||((lr=Ve.requestAnimationFrame)||jr)(pr)),k.__H.__.forEach(function(U){U.i&&(U.__H=U.i),U.__V!==Zt&&(U.__=U.__V),U.i=void 0,U.__V=Zt})),it=ht=null},Ve.__c=function(w,k){k.some(function(U){try{U.__h.forEach(vn),U.__h=U.__h.filter(function(J){return!J.__||jn(J)})}catch(J){k.some(function(Z){Z.__h&&(Z.__h=[])}),k=[],Ve.__e(J,U.__v)}}),Zn&&Zn(w,k)},Ve.unmount=function(w){Un&&Un(w);var k,U=w.__c;U&&U.__H&&(U.__H.__.forEach(function(J){try{vn(J)}catch(Z){k=Z}}),U.__H=void 0,k&&Ve.__e(k,U.__v))};var Hn=typeof requestAnimationFrame=="function";function jr(w){var k,U=function(){clearTimeout(J),Hn&&cancelAnimationFrame(k),setTimeout(w)},J=setTimeout(U,100);Hn&&(k=requestAnimationFrame(U))}function vn(w){var k=ht,U=w.__c;typeof U=="function"&&(w.__c=void 0,U()),ht=k}function jn(w){var k=ht;w.__c=w.__(),ht=k}function Wn(w,k){return!w||w.length!==k.length||k.some(function(U,J){return U!==w[J]})}function hr(w,k){return typeof k=="function"?k(w):k}const mr="http://www.w3.org/2000/svg";function Wr(){const w=J=>v.createElementNS(mr,J),k=W(w("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),U=W(w("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return k.appendChild(U),k}const gr="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/DialogHeader.tsx";function Sr({options:w}){const k=In(()=>({__html:Wr().outerHTML}),[]);return me("h2",{class:"dialog__header",__self:this,__source:{fileName:gr,lineNumber:16}},w.formTitle,w.showBranding?me("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:k,__self:this,__source:{fileName:gr,lineNumber:19}}):null)}function yr(w,k){const U=[];return k.isNameRequired&&!w.name&&U.push(k.nameLabel),k.isEmailRequired&&!w.email&&U.push(k.emailLabel),w.message||U.push(k.messageLabel),U}const at="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Form.tsx";function Qn(w,k){const U=w.get(k);return typeof U=="string"?U.trim():""}function xn({options:w,defaultEmail:k,defaultName:U,onFormClose:J,onSubmit:Z,onSubmitSuccess:te,onSubmitError:ge,showEmail:Ee,showName:be,screenshotInput:pe}){const{addScreenshotButtonLabel:Ue,removeScreenshotButtonLabel:se,cancelButtonLabel:je,emailLabel:Ce,emailPlaceholder:Ze,isEmailRequired:mt,isNameRequired:ct,messageLabel:Re,messagePlaceholder:Me,nameLabel:We,namePlaceholder:Ke,submitButtonLabel:It,isRequiredLabel:Wt}=w,[Fe,Kt]=fn(null),[rt,Mt]=fn(!1),Rn=pe&&pe.input,[Gn,zn]=fn(null),nr=Yt(kt=>{zn(kt),Mt(!1)},[]),An=Yt(kt=>{const en=yr(kt,{emailLabel:Ce,isEmailRequired:mt,isNameRequired:ct,messageLabel:Re,nameLabel:We});return en.length>0?Kt(`Please enter in the following required fields: ${en.join(", ")}`):Kt(null),en.length===0},[Ce,mt,ct,Re,We]),Nn=Yt(kt=>Oe(this,null,function*(){try{if(kt.preventDefault(),!(kt.target instanceof HTMLFormElement))return;const en=new FormData(kt.target),Mn=yield pe&&rt?pe.value():void 0,xt={name:Qn(en,"name"),email:Qn(en,"email"),message:Qn(en,"message"),attachments:Mn?[Mn]:void 0};if(!An(xt))return;try{yield Z({name:xt.name,email:xt.email,message:xt.message,source:S},{attachments:xt.attachments}),te(xt)}catch(Jt){P&&u.logger.error(Jt),Kt("There was a problem submitting feedback, please wait and try again."),ge(Jt)}}catch(en){}}),[pe&&rt,te,ge]);return me("form",{class:"form",onSubmit:Nn,__self:this,__source:{fileName:at,lineNumber:142}},Rn&&rt?me(Rn,{onError:nr,__self:this,__source:{fileName:at,lineNumber:144}}):null,me("div",{class:"form__right","data-sentry-feedback":!0,__self:this,__source:{fileName:at,lineNumber:147}},me("div",{class:"form__top",__self:this,__source:{fileName:at,lineNumber:148}},Fe?me("div",{class:"form__error-container",__self:this,__source:{fileName:at,lineNumber:149}},Fe):null,be?me("label",{for:"name",class:"form__label",__self:this,__source:{fileName:at,lineNumber:152}},me(qn,{label:We,isRequiredLabel:Wt,isRequired:ct,__self:this,__source:{fileName:at,lineNumber:153}}),me("input",{class:"form__input",defaultValue:U,id:"name",name:"name",placeholder:Ke,required:ct,type:"text",__self:this,__source:{fileName:at,lineNumber:154}})):me("input",{"aria-hidden":!0,value:U,name:"name",type:"hidden",__self:this,__source:{fileName:at,lineNumber:165}}),Ee?me("label",{for:"email",class:"form__label",__self:this,__source:{fileName:at,lineNumber:169}},me(qn,{label:Ce,isRequiredLabel:Wt,isRequired:mt,__self:this,__source:{fileName:at,lineNumber:170}}),me("input",{class:"form__input",defaultValue:k,id:"email",name:"email",placeholder:Ze,required:mt,type:"email",__self:this,__source:{fileName:at,lineNumber:171}})):me("input",{"aria-hidden":!0,value:k,name:"email",type:"hidden",__self:this,__source:{fileName:at,lineNumber:182}}),me("label",{for:"message",class:"form__label",__self:this,__source:{fileName:at,lineNumber:185}},me(qn,{label:Re,isRequiredLabel:Wt,isRequired:!0,__self:this,__source:{fileName:at,lineNumber:186}}),me("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:Me,required:!0,rows:5,__self:this,__source:{fileName:at,lineNumber:187}})),Rn?me("label",{for:"screenshot",class:"form__label",__self:this,__source:{fileName:at,lineNumber:199}},me("button",{class:"btn btn--default",type:"button",onClick:()=>{zn(null),Mt(kt=>!kt)},__self:this,__source:{fileName:at,lineNumber:200}},rt?se:Ue),Gn?me("div",{class:"form__error-container",__self:this,__source:{fileName:at,lineNumber:210}},Gn.message):null):null),me("div",{class:"btn-group",__self:this,__source:{fileName:at,lineNumber:214}},me("button",{class:"btn btn--primary",type:"submit",__self:this,__source:{fileName:at,lineNumber:215}},It),me("button",{class:"btn btn--default",type:"button",onClick:J,__self:this,__source:{fileName:at,lineNumber:218}},je))))}function qn({label:w,isRequired:k,isRequiredLabel:U}){return me("span",{class:"form__label__text",__self:this,__source:{fileName:at,lineNumber:233}},w,k&&me("span",{class:"form__label__text--required",__self:this,__source:{fileName:at,lineNumber:235}},U))}const $e=16,ze=17,wt="http://www.w3.org/2000/svg";function sn(){const w=be=>g.document.createElementNS(wt,be),k=W(w("svg"),{width:`${$e}`,height:`${ze}`,viewBox:`0 0 ${$e} ${ze}`,fill:"inherit"}),U=W(w("g"),{clipPath:"url(#clip0_57_156)"}),J=W(w("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),Z=W(w("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});k.appendChild(U).append(Z,J);const te=w("defs"),ge=W(w("clipPath"),{id:"clip0_57_156"}),Ee=W(w("rect"),{width:`${$e}`,height:`${$e}`,fill:"white",transform:"translate(0 0.5)"});return ge.appendChild(Ee),te.appendChild(ge),k.appendChild(te).appendChild(ge).appendChild(Ee),k}const on="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Dialog.tsx";function _r(J){var Z=J,{open:w,onFormSubmitted:k}=Z,U=ar(Z,["open","onFormSubmitted"]);const te=U.options,ge=In(()=>({__html:sn().outerHTML}),[]),[Ee,be]=fn(null),pe=Yt(()=>{Ee&&(clearTimeout(Ee),be(null)),k()},[Ee]),Ue=Yt(se=>{U.onSubmitSuccess(se),be(setTimeout(()=>{k(),be(null)},A))},[k]);return me(Tt,{__self:this,__source:{fileName:on,lineNumber:47}},Ee?me("div",{class:"success__position",onClick:pe,__self:this,__source:{fileName:on,lineNumber:49}},me("div",{class:"success__content",__self:this,__source:{fileName:on,lineNumber:50}},te.successMessageText,me("span",{class:"success__icon",dangerouslySetInnerHTML:ge,__self:this,__source:{fileName:on,lineNumber:52}}))):me("dialog",{class:"dialog",onClick:te.onFormClose,open:w,__self:this,__source:{fileName:on,lineNumber:56}},me("div",{class:"dialog__position",__self:this,__source:{fileName:on,lineNumber:57}},me("div",{class:"dialog__content",onClick:se=>{se.stopPropagation()},__self:this,__source:{fileName:on,lineNumber:58}},me(Sr,{options:te,__self:this,__source:{fileName:on,lineNumber:65}}),me(xn,Ie(B({},U),{onSubmitSuccess:Ue,__self:this,__source:{fileName:on,lineNumber:66}}))))))}const xr=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}
`,Er=`
.dialog__header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}

.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,$r=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form__right {
  width: var(--form-width, 272px);
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  flex: 1 0 auto;
}

@media (max-width: 600px) {
  .form__right {
    width: auto;
  }
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-foreground);
  fill: var(--error-foreground);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,er=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,br=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function Tr(){const w=v.createElement("style");return w.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${xr}
${Er}
${$r}
${er}
${br}
`,w}const Ir="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/integration.tsx";function vr(){const w=i.getCurrentScope().getUser(),k=i.getIsolationScope().getUser(),U=i.getGlobalScope().getUser();return w&&Object.keys(w).length?w:k&&Object.keys(k).length?k:U}const Cn=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:w,screenshotIntegration:k,sendFeedback:U,shadow:J})=>{const Z=J,te=w.useSentryUser,ge=vr(),Ee=v.createElement("div"),be=Tr();let pe="";const Ue={get el(){return Ee},appendToDom(){!Z.contains(be)&&!Z.contains(Ee)&&(Z.appendChild(be),Z.appendChild(Ee))},removeFromDom(){Z.removeChild(Ee),Z.removeChild(be)},open(){je(!0),w.onFormOpen&&w.onFormOpen(),pe=v.body.style.overflow,v.body.style.overflow="hidden"},close(){je(!1),v.body.style.overflow=pe}},se=k&&k.createInput(me,Ue,w),je=Ce=>{Hr(me(_r,{options:w,screenshotInput:se,showName:w.showName||w.isNameRequired,showEmail:w.showEmail||w.isEmailRequired,defaultName:te&&ge&&ge[te.name]||"",defaultEmail:te&&ge&&ge[te.email]||"",onFormClose:()=>{je(!1),w.onFormClose&&w.onFormClose()},onSubmit:U,onSubmitSuccess:Ze=>{je(!1),w.onSubmitSuccess&&w.onSubmitSuccess(Ze)},onSubmitError:Ze=>{w.onSubmitError&&w.onSubmitError(Ze)},onFormSubmitted:()=>{w.onFormSubmitted&&w.onFormSubmitted()},open:Ce,__self:void 0,__source:{fileName:Ir,lineNumber:72}}),Ee)};return Ue}});function Gr(){const w=v.createElement("style"),k="#1A141F",U="#302735";return w.textContent=`
.editor {
  padding: 10px;
  padding-top: 65px;
  padding-bottom: 65px;
  flex-grow: 1;

  background-color: ${k};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${k} 8px,
      ${k} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${U} 15px,
      ${U} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
}

.editor__canvas-container canvas {
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.editor__crop-btn-group {
  padding: 8px;
  gap: 8px;
  border-radius: var(--menu-border-radius, 6px);
  background: var(--button-primary-background, var(--background));
  width: 175px;
  position: absolute;
}

.editor__crop-corner {
  width: 30px;
  height: 30px;
  position: absolute;
  background: none;
  border: 3px solid #ffffff;
}

.editor__crop-corner--top-left {
  cursor: nwse-resize;
  border-right: none;
  border-bottom: none;
}
.editor__crop-corner--top-right {
  cursor: nesw-resize;
  border-left: none;
  border-bottom: none;
}
.editor__crop-corner--bottom-left {
  cursor: nesw-resize;
  border-right: none;
  border-top: none;
}
.editor__crop-corner--bottom-right {
  cursor: nwse-resize;
  border-left: none;
  border-top: none;
}
`,w}const zr=({onBeforeScreenshot:w,onScreenshot:k,onAfterScreenshot:U,onError:J})=>{Fn(()=>{Oe(this,null,function*(){w();const te=yield T.mediaDevices.getDisplayMedia({video:{width:g.innerWidth*g.devicePixelRatio,height:g.innerHeight*g.devicePixelRatio},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),ge=v.createElement("video");yield new Promise((Ee,be)=>{ge.srcObject=te,ge.onloadedmetadata=()=>{k(ge),te.getTracks().forEach(pe=>pe.stop()),Ee()},ge.play().catch(be)}),U()}).catch(J)},[])},Be="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/ScreenshotEditor.tsx",Lt=30,Ut=3,Vt=Lt+Ut,Qt=g.devicePixelRatio,On=w=>({x:Math.min(w.startX,w.endX),y:Math.min(w.startY,w.endY),width:Math.abs(w.startX-w.endX),height:Math.abs(w.startY-w.endY)}),tr=w=>{const k=w.clientHeight,U=w.clientWidth,J=w.width/w.height;let Z=k*J,te=k;Z>U&&(Z=U,te=U/J);const ge=(U-Z)/2,Ee=(k-te)/2;return{startX:ge,startY:Ee,endX:Z+ge,endY:te+Ee}};function Cr({imageBuffer:w,dialog:k,options:U}){return function({onError:Z}){const te=In(()=>({__html:Gr().innerText}),[]),ge=jt(null),Ee=jt(null),be=jt(null),[pe,Ue]=fn({startX:0,startY:0,endX:0,endY:0}),[se,je]=fn(!1);Fn(()=>{g.addEventListener("resize",Ce,!1)},[]);function Ce(){const Re=be.current,Me=On(tr(w));if(Re){Re.width=Me.width*Qt,Re.height=Me.height*Qt,Re.style.width=`${Me.width}px`,Re.style.height=`${Me.height}px`;const Ke=Re.getContext("2d");Ke&&Ke.scale(Qt,Qt)}const We=Ee.current;We&&(We.style.width=`${Me.width}px`,We.style.height=`${Me.height}px`,We.style.left=`${Me.x}px`,We.style.top=`${Me.y}px`),Ue({startX:0,startY:0,endX:Me.width,endY:Me.height})}Fn(()=>{const Re=be.current;if(!Re)return;const Me=Re.getContext("2d");if(!Me)return;const We=On(tr(w)),Ke=On(pe);Me.clearRect(0,0,We.width,We.height),Me.fillStyle="rgba(0, 0, 0, 0.5)",Me.fillRect(0,0,We.width,We.height),Me.clearRect(Ke.x,Ke.y,Ke.width,Ke.height),Me.strokeStyle="#ffffff",Me.lineWidth=3,Me.strokeRect(Ke.x+1,Ke.y+1,Ke.width-2,Ke.height-2),Me.strokeStyle="#000000",Me.lineWidth=1,Me.strokeRect(Ke.x+3,Ke.y+3,Ke.width-6,Ke.height-6)},[pe]);function Ze(Re,Me){je(!1);const We=mt(Me),Ke=()=>{v.removeEventListener("mousemove",We),v.removeEventListener("mouseup",Ke),je(!0)};v.addEventListener("mouseup",Ke),v.addEventListener("mousemove",We)}const mt=Yt(Re=>function(Me){if(!be.current)return;const We=be.current,Ke=We.getBoundingClientRect(),It=Me.clientX-Ke.x,Wt=Me.clientY-Ke.y;switch(Re){case"top-left":Ue(Fe=>Ie(B({},Fe),{startX:Math.min(Math.max(0,It),Fe.endX-Vt),startY:Math.min(Math.max(0,Wt),Fe.endY-Vt)}));break;case"top-right":Ue(Fe=>Ie(B({},Fe),{endX:Math.max(Math.min(It,We.width/Qt),Fe.startX+Vt),startY:Math.min(Math.max(0,Wt),Fe.endY-Vt)}));break;case"bottom-left":Ue(Fe=>Ie(B({},Fe),{startX:Math.min(Math.max(0,It),Fe.endX-Vt),endY:Math.max(Math.min(Wt,We.height/Qt),Fe.startY+Vt)}));break;case"bottom-right":Ue(Fe=>Ie(B({},Fe),{endX:Math.max(Math.min(It,We.width/Qt),Fe.startX+Vt),endY:Math.max(Math.min(Wt,We.height/Qt),Fe.startY+Vt)}));break}},[]);function ct(){const Re=v.createElement("canvas"),Me=On(tr(w)),We=On(pe);Re.width=We.width,Re.height=We.height;const Ke=Re.getContext("2d");Ke&&w&&Ke.drawImage(w,We.x/Me.width*w.width,We.y/Me.height*w.height,We.width/Me.width*w.width,We.height/Me.height*w.height,0,0,We.width,We.height);const It=w.getContext("2d");It&&(It.clearRect(0,0,w.width,w.height),w.width=Re.width,w.height=Re.height,It.drawImage(Re,0,0),Ce())}return zr({onBeforeScreenshot:Yt(()=>{k.el.style.display="none"},[]),onScreenshot:Yt(Re=>{const Me=w.getContext("2d");if(!Me)throw new Error("Could not get canvas context");w.width=Re.videoWidth,w.height=Re.videoHeight,Me.drawImage(Re,0,0)},[w]),onAfterScreenshot:Yt(()=>{k.el.style.display="block";const Re=ge.current;Re&&Re.appendChild(w),Ce()},[]),onError:Yt(Re=>{k.el.style.display="block",Z(Re)},[])}),me("div",{class:"editor",__self:this,__source:{fileName:Be,lineNumber:249}},me("style",{dangerouslySetInnerHTML:te,__self:this,__source:{fileName:Be,lineNumber:250}}),me("div",{class:"editor__canvas-container",ref:ge,__self:this,__source:{fileName:Be,lineNumber:251}},me("div",{class:"editor__crop-container",style:{position:"absolute"},ref:Ee,__self:this,__source:{fileName:Be,lineNumber:252}},me("canvas",{style:{position:"absolute"},ref:be,__self:this,__source:{fileName:Be,lineNumber:253}}),me($n,{left:pe.startX-Ut,top:pe.startY-Ut,onGrabButton:Ze,corner:"top-left",__self:this,__source:{fileName:Be,lineNumber:254}}),me($n,{left:pe.endX-Lt+Ut,top:pe.startY-Ut,onGrabButton:Ze,corner:"top-right",__self:this,__source:{fileName:Be,lineNumber:260}}),me($n,{left:pe.startX-Ut,top:pe.endY-Lt+Ut,onGrabButton:Ze,corner:"bottom-left",__self:this,__source:{fileName:Be,lineNumber:266}}),me($n,{left:pe.endX-Lt+Ut,top:pe.endY-Lt+Ut,onGrabButton:Ze,corner:"bottom-right",__self:this,__source:{fileName:Be,lineNumber:272}}),me("div",{style:{left:Math.max(0,pe.endX-191),top:Math.max(0,pe.endY+8),display:se?"flex":"none"},class:"editor__crop-btn-group",__self:this,__source:{fileName:Be,lineNumber:278}},me("button",{onClick:Re=>{Re.preventDefault(),be.current&&Ue({startX:0,startY:0,endX:be.current.width/Qt,endY:be.current.height/Qt}),je(!1)},class:"btn btn--default",__self:this,__source:{fileName:Be,lineNumber:286}},U.cancelButtonLabel),me("button",{onClick:Re=>{Re.preventDefault(),ct(),je(!1)},class:"btn btn--primary",__self:this,__source:{fileName:Be,lineNumber:303}},U.confirmButtonLabel)))))}}function $n({top:w,left:k,corner:U,onGrabButton:J}){return me("button",{class:`editor__crop-corner editor__crop-corner--${U} `,style:{top:w,left:k},onMouseDown:Z=>{Z.preventDefault(),J(Z,U)},onClick:Z=>{Z.preventDefault()},__self:this,__source:{fileName:Be,lineNumber:333}})}const Yr=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:(w,k,U)=>{const J=v.createElement("canvas");return{input:Cr({h:w,imageBuffer:J,dialog:k,options:U}),value:()=>Oe(this,null,function*(){const Z=yield new Promise(te=>{J.toBlob(te,"image/png")});if(Z)return{data:new Uint8Array(yield Z.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}})}}});e.buildFeedbackIntegration=ne,e.feedbackModalIntegration=Cn,e.feedbackScreenshotIntegration=Yr,e.getFeedback=_e,e.sendFeedback=M},4772:(H,e,o)=>{var{_optionalChain:i}=o(17077);Object.defineProperty(e,"__esModule",{value:!0});const u=o(95617);var g;(function(z){z[z.Document=0]="Document",z[z.DocumentType=1]="DocumentType",z[z.Element=2]="Element",z[z.Text=3]="Text",z[z.CDATA=4]="CDATA",z[z.Comment=5]="Comment"})(g||(g={}));function v(z,re){for(let ae=z.classList.length;ae--;){const le=z.classList[ae];if(re.test(le))return!0}return!1}function T(z,re,ae=1/0,le=0){return!z||z.nodeType!==z.ELEMENT_NODE||le>ae?-1:re(z)?le:T(z.parentNode,re,ae,le+1)}function E(z,re){return ae=>{const le=ae;if(le===null)return!1;try{if(z){if(typeof z=="string"){if(le.matches(`.${z}`))return!0}else if(v(le,z))return!0}return!!(re&&le.matches(re))}catch(de){return!1}}}const y=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let p={map:{},getId(){return console.error(y),-1},getNode(){return console.error(y),null},removeNodeFromMap(){console.error(y)},has(){return console.error(y),!1},reset(){console.error(y)}};typeof window!="undefined"&&window.Proxy&&window.Reflect&&(p=new Proxy(p,{get(z,re,ae){return re==="map"&&console.error(y),Reflect.get(z,re,ae)}}));function h(z,re,ae,le,de=window){const ve=de.Object.getOwnPropertyDescriptor(z,re);return de.Object.defineProperty(z,re,le?ae:{set(Le){C(()=>{ae.set.call(this,Le)},0),ve&&ve.set&&ve.set.call(this,Le)}}),()=>h(z,re,ve||{},!0)}function I(z,re,ae){try{if(!(re in z))return()=>{};const le=z[re],de=ae(le);return typeof de=="function"&&(de.prototype=de.prototype||{},Object.defineProperties(de,{__rrweb_original__:{enumerable:!1,value:le}})),z[re]=de,()=>{z[re]=le}}catch(le){return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function b(z){return z?z.nodeType===z.ELEMENT_NODE?z:z.parentElement:null}function f(z,re,ae,le,de){if(!z)return!1;const ve=b(z);if(!ve)return!1;const Le=E(re,ae);if(!de){const Xe=le&&ve.matches(le);return Le(ve)&&!Xe}const Pe=T(ve,Le);let He=-1;return Pe<0?!1:(le&&(He=T(ve,E(null,le))),Pe>-1&&He<0?!0:Pe<He)}const d={};function m(z){const re=d[z];if(re)return re;const ae=window.document;let le=window[z];if(ae&&typeof ae.createElement=="function")try{const de=ae.createElement("iframe");de.hidden=!0,ae.head.appendChild(de);const ve=de.contentWindow;ve&&ve[z]&&(le=ve[z]),ae.head.removeChild(de)}catch(de){}return d[z]=le.bind(window)}function l(...z){return m("requestAnimationFrame")(...z)}function C(...z){return m("setTimeout")(...z)}var _=(z=>(z[z["2D"]=0]="2D",z[z.WebGL=1]="WebGL",z[z.WebGL2=2]="WebGL2",z))(_||{});let r;function n(z){r=z}const a=z=>r?(...ae)=>{try{return z(...ae)}catch(le){if(r&&r(le)===!0)return()=>{};throw le}}:z;for(var S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R=typeof Uint8Array=="undefined"?[]:new Uint8Array(256),A=0;A<S.length;A++)R[S.charCodeAt(A)]=A;var M=function(z){var re=new Uint8Array(z),ae,le=re.length,de="";for(ae=0;ae<le;ae+=3)de+=S[re[ae]>>2],de+=S[(re[ae]&3)<<4|re[ae+1]>>4],de+=S[(re[ae+1]&15)<<2|re[ae+2]>>6],de+=S[re[ae+2]&63];return le%3===2?de=de.substring(0,de.length-1)+"=":le%3===1&&(de=de.substring(0,de.length-2)+"=="),de};const P=new Map;function x(z,re){let ae=P.get(z);return ae||(ae=new Map,P.set(z,ae)),ae.has(re)||ae.set(re,[]),ae.get(re)}const $=(z,re,ae)=>{if(!z||!(K(z,re)||typeof z=="object"))return;const le=z.constructor.name,de=x(ae,le);let ve=de.indexOf(z);return ve===-1&&(ve=de.length,de.push(z)),ve};function X(z,re,ae){if(z instanceof Array)return z.map(le=>X(le,re,ae));if(z===null)return z;if(z instanceof Float32Array||z instanceof Float64Array||z instanceof Int32Array||z instanceof Uint32Array||z instanceof Uint8Array||z instanceof Uint16Array||z instanceof Int16Array||z instanceof Int8Array||z instanceof Uint8ClampedArray)return{rr_type:z.constructor.name,args:[Object.values(z)]};if(z instanceof ArrayBuffer){const le=z.constructor.name,de=M(z);return{rr_type:le,base64:de}}else{if(z instanceof DataView)return{rr_type:z.constructor.name,args:[X(z.buffer,re,ae),z.byteOffset,z.byteLength]};if(z instanceof HTMLImageElement){const le=z.constructor.name,{src:de}=z;return{rr_type:le,src:de}}else if(z instanceof HTMLCanvasElement){const le="HTMLImageElement",de=z.toDataURL();return{rr_type:le,src:de}}else{if(z instanceof ImageData)return{rr_type:z.constructor.name,args:[X(z.data,re,ae),z.width,z.height]};if(K(z,re)||typeof z=="object"){const le=z.constructor.name,de=$(z,re,ae);return{rr_type:le,index:de}}}}return z}const W=(z,re,ae)=>z.map(le=>X(le,re,ae)),K=(z,re)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(de=>typeof re[de]=="function").find(de=>z instanceof re[de]);function Y(z,re,ae,le,de){const ve=[],Le=Object.getOwnPropertyNames(re.CanvasRenderingContext2D.prototype);for(const Pe of Le)try{if(typeof re.CanvasRenderingContext2D.prototype[Pe]!="function")continue;const He=I(re.CanvasRenderingContext2D.prototype,Pe,function(Xe){return function(...me){return f(this.canvas,ae,le,de,!0)||C(()=>{const lt=W(me,re,this);z(this.canvas,{type:_["2D"],property:Pe,args:lt})},0),Xe.apply(this,me)}});ve.push(He)}catch(He){const Xe=h(re.CanvasRenderingContext2D.prototype,Pe,{set(me){z(this.canvas,{type:_["2D"],property:Pe,args:[me],setter:!0})}});ve.push(Xe)}return()=>{ve.forEach(Pe=>Pe())}}function L(z){return z==="experimental-webgl"?"webgl":z}function V(z,re,ae,le,de){const ve=[];try{const Le=I(z.HTMLCanvasElement.prototype,"getContext",function(Pe){return function(He,...Xe){if(!f(this,re,ae,le,!0)){const me=L(He);if("__context"in this||(this.__context=me),de&&["webgl","webgl2"].includes(me))if(Xe[0]&&typeof Xe[0]=="object"){const lt=Xe[0];lt.preserveDrawingBuffer||(lt.preserveDrawingBuffer=!0)}else Xe.splice(0,1,{preserveDrawingBuffer:!0})}return Pe.apply(this,[He,...Xe])}});ve.push(Le)}catch(Le){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{ve.forEach(Le=>Le())}}function q(z,re,ae,le,de,ve,Le,Pe){const He=[],Xe=Object.getOwnPropertyNames(z);for(const me of Xe)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(me))try{if(typeof z[me]!="function")continue;const lt=I(z,me,function(Tt){return function(...Ct){const Nt=Tt.apply(this,Ct);if($(Nt,Pe,this),"tagName"in this.canvas&&!f(this.canvas,le,de,ve,!0)){const ln=W(Ct,Pe,this),Ft={type:re,property:me,args:ln};ae(this.canvas,Ft)}return Nt}});He.push(lt)}catch(lt){const Tt=h(z,me,{set(Ct){ae(this.canvas,{type:re,property:me,args:[Ct],setter:!0})}});He.push(Tt)}return He}function oe(z,re,ae,le,de,ve){const Le=[];return Le.push(...q(re.WebGLRenderingContext.prototype,_.WebGL,z,ae,le,de,ve,re)),typeof re.WebGL2RenderingContext!="undefined"&&Le.push(...q(re.WebGL2RenderingContext.prototype,_.WebGL2,z,ae,le,de,ve,re)),()=>{Le.forEach(Pe=>Pe())}}var fe='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function he(){const z=new Blob([fe]);return URL.createObjectURL(z)}class ee{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(re){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(lt,Tt)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(lt)||this.pendingCanvasMutations.set(lt,[]),this.pendingCanvasMutations.get(lt).push(Tt)};const{sampling:ae="all",win:le,blockClass:de,blockSelector:ve,unblockSelector:Le,maxCanvasSize:Pe,recordCanvas:He,dataURLOptions:Xe,errorHandler:me}=re;this.mutationCb=re.mutationCb,this.mirror=re.mirror,this.options=re,me&&n(me),!re.enableManualSnapshot&&a(()=>{He&&ae==="all"&&this.initCanvasMutationObserver(le,de,ve,Le),He&&typeof ae=="number"&&this.initCanvasFPSObserver(ae,le,de,ve,Le,Pe,{dataURLOptions:Xe})})()}initCanvasFPSObserver(re,ae,le,de,ve,Le,Pe){const He=V(ae,le,de,ve,!0),Xe=this.takeSnapshot(!1,re,ae,le,de,ve,Le,Pe.dataURLOptions);this.resetObservers=()=>{He(),cancelAnimationFrame(Xe)}}initCanvasMutationObserver(re,ae,le,de){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const ve=V(re,ae,le,de,!1),Le=Y(this.processMutation.bind(this),re,ae,le,de),Pe=oe(this.processMutation.bind(this),re,ae,le,de,this.mirror);this.resetObservers=()=>{ve(),Le(),Pe()}}snapshot(re){const{options:ae}=this,le=this.takeSnapshot(!0,ae.sampling==="all"?2:ae.sampling||2,ae.win,ae.blockClass,ae.blockSelector,ae.unblockSelector,ae.maxCanvasSize,ae.dataURLOptions,re);this.resetObservers=()=>{cancelAnimationFrame(le)}}takeSnapshot(re,ae,le,de,ve,Le,Pe,He,Xe){const me=new Map,lt=new Worker(he());lt.onmessage=Ht=>{const ft=Ht.data,{id:Pt}=ft;if(me.set(Pt,!1),!("base64"in ft))return;const{base64:_t,type:zt,width:hn,height:mn}=ft;this.mutationCb({id:Pt,type:_["2D"],commands:[{property:"clearRect",args:[0,0,hn,mn]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:_t}],type:zt}]},0,0,hn,mn]}]})};const Tt=1e3/ae;let Ct=0,Nt;const ln=Ht=>{if(Ht)return[Ht];const ft=[];return le.document.querySelectorAll("canvas").forEach(Pt=>{f(Pt,de,ve,Le,!0)||ft.push(Pt)}),ft},Ft=Ht=>{if(Ct&&Ht-Ct<Tt){Nt=l(Ft);return}Ct=Ht,ln(Xe).forEach(ft=>{const Pt=this.mirror.getId(ft);if(!me.get(Pt)&&!(!ft.width||!ft.height)){if(me.set(Pt,!0),!re&&["webgl","webgl2"].includes(ft.__context)){const _t=ft.getContext(ft.__context);i([_t,"optionalAccess",zt=>zt.getContextAttributes,"call",zt=>zt(),"optionalAccess",zt=>zt.preserveDrawingBuffer])===!1&&_t.clear(_t.COLOR_BUFFER_BIT)}createImageBitmap(ft).then(_t=>{lt.postMessage({id:Pt,bitmap:_t,width:ft.width,height:ft.height,dataURLOptions:He,maxCanvasSize:Pe},[_t])}).catch(_t=>{a(()=>{throw _t})()})}}),Nt=l(Ft)};return Nt=l(Ft),Nt}startPendingCanvasMutationFlusher(){l(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const re=ae=>{this.rafStamps.latestId=ae,l(re)};l(re)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((re,ae)=>{const le=this.mirror.getId(ae);this.flushPendingCanvasMutationFor(ae,le)}),l(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(re,ae){if(this.frozen||this.locked)return;const le=this.pendingCanvasMutations.get(re);if(!le||ae===-1)return;const de=le.map(Le=>{const Xe=Le,{type:Pe}=Xe;return ar(Xe,["type"])}),{type:ve}=le[0];this.mutationCb({id:ae,type:ve,commands:de}),this.pendingCanvasMutations.delete(re)}}const ne={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},_e="ReplayCanvas",Te=1280,Ne=(z={})=>{const[re,ae]=z.maxCanvasSize||[],le={quality:z.quality||"medium",enableManualSnapshot:z.enableManualSnapshot,maxCanvasSize:[re?Math.min(re,Te):Te,ae?Math.min(ae,Te):Te]};let de;const ve=new Promise(Pe=>de=Pe);return{name:_e,getOptions(){const{quality:Pe,enableManualSnapshot:He,maxCanvasSize:Xe}=le;return B({enableManualSnapshot:He,recordCanvas:!0,getCanvasManager:me=>{const lt=new ee(Ie(B({},me),{enableManualSnapshot:He,maxCanvasSize:Xe,errorHandler:Tt=>{try{typeof Tt=="object"&&(Tt.__rrweb__=!0)}catch(Ct){}}}));return de(lt),lt}},ne[Pe||"medium"]||ne.medium)},snapshot(Pe){return Oe(this,null,function*(){(yield ve).snapshot(Pe)})}}},Qe=u.defineIntegration(Ne);e.replayCanvasIntegration=Qe},3667:(H,e,o)=>{var{_nullishCoalesce:i,_optionalChain:u}=o(17077);Object.defineProperty(e,"__esModule",{value:!0});const g=o(95617),v=o(17077),T=o(82138),E=v.GLOBAL_OBJ,y="sentryReplaySession",p="replay_event",h="Unable to send Replay",I=3e5,b=9e5,f=5e3,d=5500,m=6e4,l=5e3,C=3,_=15e4,r=5e3,n=3e3,a=300,S=2e7,R=4999,A=15e3,M=36e5;function P(t,s){return t!=null?t:s()}function x(t){let s,c=t[0],O=1;for(;O<t.length;){const N=t[O],D=t[O+1];if(O+=2,(N==="optionalAccess"||N==="optionalCall")&&c==null)return;N==="access"||N==="optionalAccess"?(s=c,c=D(c)):(N==="call"||N==="optionalCall")&&(c=D((...F)=>c.call(s,...F)),s=void 0)}return c}var $;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})($||($={}));function X(t){return t.nodeType===t.ELEMENT_NODE}function W(t){const s=x([t,"optionalAccess",c=>c.host]);return x([s,"optionalAccess",c=>c.shadowRoot])===t}function K(t){return Object.prototype.toString.call(t)==="[object ShadowRoot]"}function Y(t){return t.includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t}function L(t){const{cssText:s}=t;if(s.split('"').length<3)return s;const c=["@import",`url(${JSON.stringify(t.href)})`];return t.layerName===""?c.push("layer"):t.layerName&&c.push(`layer(${t.layerName})`),t.supportsText&&c.push(`supports(${t.supportsText})`),t.media.length&&c.push(t.media.mediaText),c.join(" ")+";"}function V(t){try{const s=t.rules||t.cssRules;return s?Y(Array.from(s,q).join("")):null}catch(s){return null}}function q(t){let s;if(fe(t))try{s=V(t.styleSheet)||L(t)}catch(c){}else if(he(t)&&t.selectorText.includes(":"))return oe(t.cssText);return s||t.cssText}function oe(t){const s=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(s,"$1\\$2")}function fe(t){return"styleSheet"in t}function he(t){return"selectorText"in t}class ee{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(s){if(!s)return-1;const c=x([this,"access",O=>O.getMeta,"call",O=>O(s),"optionalAccess",O=>O.id]);return P(c,()=>-1)}getNode(s){return this.idNodeMap.get(s)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(s){return this.nodeMetaMap.get(s)||null}removeNodeFromMap(s){const c=this.getId(s);this.idNodeMap.delete(c),s.childNodes&&s.childNodes.forEach(O=>this.removeNodeFromMap(O))}has(s){return this.idNodeMap.has(s)}hasNode(s){return this.nodeMetaMap.has(s)}add(s,c){const O=c.id;this.idNodeMap.set(O,s),this.nodeMetaMap.set(s,c)}replace(s,c){const O=this.getNode(s);if(O){const N=this.nodeMetaMap.get(O);N&&this.nodeMetaMap.set(c,N)}this.idNodeMap.set(s,c)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function ne(){return new ee}function _e({maskInputOptions:t,tagName:s,type:c}){return s==="OPTION"&&(s="SELECT"),!!(t[s.toLowerCase()]||c&&t[c]||c==="password"||s==="INPUT"&&!c&&t.text)}function Te({isMasked:t,element:s,value:c,maskInputFn:O}){let N=c||"";return t?(O&&(N=O(N,s)),"*".repeat(N.length)):N}function Ne(t){return t.toLowerCase()}function Qe(t){return t.toUpperCase()}const z="__rrweb_original__";function re(t){const s=t.getContext("2d");if(!s)return!0;const c=50;for(let O=0;O<t.width;O+=c)for(let N=0;N<t.height;N+=c){const D=s.getImageData,F=z in D?D[z]:D;if(new Uint32Array(F.call(s,O,N,Math.min(c,t.width-O),Math.min(c,t.height-N)).data.buffer).some(j=>j!==0))return!1}return!0}function ae(t){const s=t.type;return t.hasAttribute("data-rr-is-password")?"password":s?Ne(s):null}function le(t,s,c){return s==="INPUT"&&(c==="radio"||c==="checkbox")?t.getAttribute("value")||"":t.value}let de=1;const ve=new RegExp("[^a-z0-9-_:]"),Le=-2;function Pe(){return de++}function He(t){if(t instanceof HTMLFormElement)return"form";const s=Ne(t.tagName);return ve.test(s)?"div":s}function Xe(t){let s="";return t.indexOf("//")>-1?s=t.split("/").slice(0,3).join("/"):s=t.split("/")[0],s=s.split("?")[0],s}let me,lt;const Tt=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Ct=/^(?:[a-z+]+:)?\/\//i,Nt=/^www\..*/i,ln=/^(data:)([^,]*),(.*)/i;function Ft(t,s){return(t||"").replace(Tt,(c,O,N,D,F,G)=>{const j=N||F||G,Q=O||D||"";if(!j)return c;if(Ct.test(j)||Nt.test(j))return`url(${Q}${j}${Q})`;if(ln.test(j))return`url(${Q}${j}${Q})`;if(j[0]==="/")return`url(${Q}${Xe(s)+j}${Q})`;const ie=s.split("/"),ue=j.split("/");ie.pop();for(const ce of ue)ce!=="."&&(ce===".."?ie.pop():ie.push(ce));return`url(${Q}${ie.join("/")}${Q})`})}const Ht=/^[^ \t\n\r\u000c]+/,ft=/^[, \t\n\r\u000c]+/;function Pt(t,s){if(s.trim()==="")return s;let c=0;function O(D){let F;const G=D.exec(s.substring(c));return G?(F=G[0],c+=F.length,F):""}const N=[];for(;O(ft),!(c>=s.length);){let D=O(Ht);if(D.slice(-1)===",")D=_t(t,D.substring(0,D.length-1)),N.push(D);else{let F="";D=_t(t,D);let G=!1;for(;;){const j=s.charAt(c);if(j===""){N.push((D+F).trim());break}else if(G)j===")"&&(G=!1);else if(j===","){c+=1,N.push((D+F).trim());break}else j==="("&&(G=!0);F+=j,c+=1}}}return N.join(", ")}function _t(t,s){if(!s||s.trim()==="")return s;const c=t.createElement("a");return c.href=s,c.href}function zt(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}function hn(){const t=document.createElement("a");return t.href="",t.href}function mn(t,s,c,O,N,D){return O&&(c==="src"||c==="href"&&!(s==="use"&&O[0]==="#")||c==="xlink:href"&&O[0]!=="#"||c==="background"&&(s==="table"||s==="td"||s==="th")?_t(t,O):c==="srcset"?Pt(t,O):c==="style"?Ft(O,hn()):s==="object"&&c==="data"?_t(t,O):typeof D=="function"?D(c,O,N):O)}function En(t,s,c){return(t==="video"||t==="audio")&&s==="autoplay"}function cr(t,s,c,O){try{if(O&&t.matches(O))return!1;if(typeof s=="string"){if(t.classList.contains(s))return!0}else for(let N=t.classList.length;N--;){const D=t.classList[N];if(s.test(D))return!0}if(c)return t.matches(c)}catch(N){}return!1}function ur(t,s){for(let c=t.classList.length;c--;){const O=t.classList[c];if(s.test(O))return!0}return!1}function rn(t,s,c=1/0,O=0){return!t||t.nodeType!==t.ELEMENT_NODE||O>c?-1:s(t)?O:rn(t.parentNode,s,c,O+1)}function un(t,s){return c=>{const O=c;if(O===null)return!1;try{if(t){if(typeof t=="string"){if(O.matches(`.${t}`))return!0}else if(ur(O,t))return!0}return!!(s&&O.matches(s))}catch(N){return!1}}}function gn(t,s,c,O,N,D){try{const F=t.nodeType===t.ELEMENT_NODE?t:t.parentElement;if(F===null)return!1;if(F.tagName==="INPUT"){const Q=F.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(Q))return!0}let G=-1,j=-1;if(D){if(j=rn(F,un(O,N)),j<0)return!0;G=rn(F,un(s,c),j>=0?j:1/0)}else{if(G=rn(F,un(s,c)),G<0)return!1;j=rn(F,un(O,N),G>=0?G:1/0)}return G>=0?j>=0?G<=j:!0:j>=0?!1:!!D}catch(F){}return!!D}function Kn(t,s,c){const O=t.contentWindow;if(!O)return;let N=!1,D;try{D=O.document.readyState}catch(G){return}if(D!=="complete"){const G=setTimeout(()=>{N||(s(),N=!0)},c);t.addEventListener("load",()=>{clearTimeout(G),N=!0,s()});return}const F="about:blank";if(O.location.href!==F||t.src===F||t.src==="")return setTimeout(s,0),t.addEventListener("load",s);t.addEventListener("load",s)}function Jn(t,s,c){let O=!1,N;try{N=t.sheet}catch(F){return}if(N)return;const D=setTimeout(()=>{O||(s(),O=!0)},c);t.addEventListener("load",()=>{clearTimeout(D),O=!0,s()})}function Fr(t,s){const{doc:c,mirror:O,blockClass:N,blockSelector:D,unblockSelector:F,maskAllText:G,maskAttributeFn:j,maskTextClass:Q,unmaskTextClass:ie,maskTextSelector:ue,unmaskTextSelector:ce,inlineStylesheet:ye,maskInputOptions:Se={},maskTextFn:Ae,maskInputFn:xe,dataURLOptions:we={},inlineImages:qe,recordCanvas:et,keepIframeSrcFn:tt,newlyAddedElement:St=!1}=s,Ge=Hr(c,O);switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:$.Document,childNodes:[],compatMode:t.compatMode}:{type:$.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:$.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:Ge};case t.ELEMENT_NODE:return ht(t,{doc:c,blockClass:N,blockSelector:D,unblockSelector:F,inlineStylesheet:ye,maskAttributeFn:j,maskInputOptions:Se,maskInputFn:xe,dataURLOptions:we,inlineImages:qe,recordCanvas:et,keepIframeSrcFn:tt,newlyAddedElement:St,rootId:Ge,maskAllText:G,maskTextClass:Q,unmaskTextClass:ie,maskTextSelector:ue,unmaskTextSelector:ce});case t.TEXT_NODE:return bn(t,{maskAllText:G,maskTextClass:Q,unmaskTextClass:ie,maskTextSelector:ue,unmaskTextSelector:ce,maskTextFn:Ae,maskInputOptions:Se,maskInputFn:xe,rootId:Ge});case t.CDATA_SECTION_NODE:return{type:$.CDATA,textContent:"",rootId:Ge};case t.COMMENT_NODE:return{type:$.Comment,textContent:t.textContent||"",rootId:Ge};default:return!1}}function Hr(t,s){if(!s.hasNode(t))return;const c=s.getId(t);return c===1?void 0:c}function bn(t,s){const{maskAllText:c,maskTextClass:O,unmaskTextClass:N,maskTextSelector:D,unmaskTextSelector:F,maskTextFn:G,maskInputOptions:j,maskInputFn:Q,rootId:ie}=s,ue=t.parentNode&&t.parentNode.tagName;let ce=t.textContent;const ye=ue==="STYLE"?!0:void 0,Se=ue==="SCRIPT"?!0:void 0,Ae=ue==="TEXTAREA"?!0:void 0;if(ye&&ce){try{t.nextSibling||t.previousSibling||x([t,"access",we=>we.parentNode,"access",we=>we.sheet,"optionalAccess",we=>we.cssRules])&&(ce=V(t.parentNode.sheet))}catch(we){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${we}`,t)}ce=Ft(ce,hn())}Se&&(ce="SCRIPT_PLACEHOLDER");const xe=gn(t,O,D,N,F,c);if(!ye&&!Se&&!Ae&&ce&&xe&&(ce=G?G(ce,t.parentElement):ce.replace(/[\S]/g,"*")),Ae&&ce&&(j.textarea||xe)&&(ce=Q?Q(ce,t.parentNode):ce.replace(/[\S]/g,"*")),ue==="OPTION"&&ce){const we=_e({type:null,tagName:ue,maskInputOptions:j});ce=Te({isMasked:gn(t,O,D,N,F,we),element:t,value:ce,maskInputFn:Q})}return{type:$.Text,textContent:ce||"",isStyle:ye,rootId:ie}}function ht(t,s){const{doc:c,blockClass:O,blockSelector:N,unblockSelector:D,inlineStylesheet:F,maskInputOptions:G={},maskAttributeFn:j,maskInputFn:Q,dataURLOptions:ie={},inlineImages:ue,recordCanvas:ce,keepIframeSrcFn:ye,newlyAddedElement:Se=!1,rootId:Ae,maskAllText:xe,maskTextClass:we,unmaskTextClass:qe,maskTextSelector:et,unmaskTextSelector:tt}=s,St=cr(t,O,N,D),Ge=He(t);let ke={};const Je=t.attributes.length;for(let De=0;De<Je;De++){const Ye=t.attributes[De];Ye.name&&!En(Ge,Ye.name,Ye.value)&&(ke[Ye.name]=mn(c,Ge,Ne(Ye.name),Ye.value,t,j))}if(Ge==="link"&&F){const De=Array.from(c.styleSheets).find(pt=>pt.href===t.href);let Ye=null;De&&(Ye=V(De)),Ye&&(delete ke.rel,delete ke.href,ke._cssText=Ft(Ye,De.href))}if(Ge==="style"&&t.sheet&&!(t.innerText||t.textContent||"").trim().length){const De=V(t.sheet);De&&(ke._cssText=Ft(De,hn()))}if(Ge==="input"||Ge==="textarea"||Ge==="select"||Ge==="option"){const De=t,Ye=ae(De),pt=le(De,Qe(Ge),Ye),Rt=De.checked;if(Ye!=="submit"&&Ye!=="button"&&pt){const vt=gn(De,we,et,qe,tt,_e({type:Ye,tagName:Qe(Ge),maskInputOptions:G}));ke.value=Te({isMasked:vt,element:De,value:pt,maskInputFn:Q})}Rt&&(ke.checked=Rt)}if(Ge==="option"&&(t.selected&&!G.select?ke.selected=!0:delete ke.selected),Ge==="canvas"&&ce){if(t.__context==="2d")re(t)||(ke.rr_dataURL=t.toDataURL(ie.type,ie.quality));else if(!("__context"in t)){const De=t.toDataURL(ie.type,ie.quality),Ye=document.createElement("canvas");Ye.width=t.width,Ye.height=t.height;const pt=Ye.toDataURL(ie.type,ie.quality);De!==pt&&(ke.rr_dataURL=De)}}if(Ge==="img"&&ue){me||(me=c.createElement("canvas"),lt=me.getContext("2d"));const De=t,Ye=De.crossOrigin;De.crossOrigin="anonymous";const pt=()=>{De.removeEventListener("load",pt);try{me.width=De.naturalWidth,me.height=De.naturalHeight,lt.drawImage(De,0,0),ke.rr_dataURL=me.toDataURL(ie.type,ie.quality)}catch(Rt){console.warn(`Cannot inline img src=${De.currentSrc}! Error: ${Rt}`)}Ye?ke.crossOrigin=Ye:De.removeAttribute("crossorigin")};De.complete&&De.naturalWidth!==0?pt():De.addEventListener("load",pt)}if((Ge==="audio"||Ge==="video")&&(ke.rr_mediaState=t.paused?"paused":"played",ke.rr_mediaCurrentTime=t.currentTime),Se||(t.scrollLeft&&(ke.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(ke.rr_scrollTop=t.scrollTop)),St){const{width:De,height:Ye}=t.getBoundingClientRect();ke={class:ke.class,rr_width:`${De}px`,rr_height:`${Ye}px`}}Ge==="iframe"&&!ye(ke.src)&&(t.contentDocument||(ke.rr_src=ke.src),delete ke.src);let bt;try{customElements.get(Ge)&&(bt=!0)}catch(De){}return{type:$.Element,tagName:Ge,attributes:ke,childNodes:[],isSVG:zt(t)||void 0,needBlock:St,rootId:Ae,isCustom:bt}}function it(t){return t==null?"":t.toLowerCase()}function lr(t,s){if(s.comment&&t.type===$.Comment)return!0;if(t.type===$.Element){if(s.script&&(t.tagName==="script"||t.tagName==="link"&&(t.attributes.rel==="preload"||t.attributes.rel==="modulepreload")&&t.attributes.as==="script"||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&t.attributes.href.endsWith(".js")))return!0;if(s.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(it(t.attributes.name).match(/^msapplication-tile(image|color)$/)||it(t.attributes.name)==="application-name"||it(t.attributes.rel)==="icon"||it(t.attributes.rel)==="apple-touch-icon"||it(t.attributes.rel)==="shortcut icon")))return!0;if(t.tagName==="meta"){if(s.headMetaDescKeywords&&it(t.attributes.name).match(/^description|keywords$/))return!0;if(s.headMetaSocial&&(it(t.attributes.property).match(/^(og|twitter|fb):/)||it(t.attributes.name).match(/^(og|twitter):/)||it(t.attributes.name)==="pinterest"))return!0;if(s.headMetaRobots&&(it(t.attributes.name)==="robots"||it(t.attributes.name)==="googlebot"||it(t.attributes.name)==="bingbot"))return!0;if(s.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0)return!0;if(s.headMetaAuthorship&&(it(t.attributes.name)==="author"||it(t.attributes.name)==="generator"||it(t.attributes.name)==="framework"||it(t.attributes.name)==="publisher"||it(t.attributes.name)==="progid"||it(t.attributes.property).match(/^article:/)||it(t.attributes.property).match(/^product:/)))return!0;if(s.headMetaVerification&&(it(t.attributes.name)==="google-site-verification"||it(t.attributes.name)==="yandex-verification"||it(t.attributes.name)==="csrf-token"||it(t.attributes.name)==="p:domain_verify"||it(t.attributes.name)==="verify-v1"||it(t.attributes.name)==="verification"||it(t.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function qt(t,s){const{doc:c,mirror:O,blockClass:N,blockSelector:D,unblockSelector:F,maskAllText:G,maskTextClass:j,unmaskTextClass:Q,maskTextSelector:ie,unmaskTextSelector:ue,skipChild:ce=!1,inlineStylesheet:ye=!0,maskInputOptions:Se={},maskAttributeFn:Ae,maskTextFn:xe,maskInputFn:we,slimDOMOptions:qe,dataURLOptions:et={},inlineImages:tt=!1,recordCanvas:St=!1,onSerialize:Ge,onIframeLoad:ke,iframeLoadTimeout:Je=5e3,onStylesheetLoad:bt,stylesheetLoadTimeout:De=5e3,keepIframeSrcFn:Ye=()=>!1,newlyAddedElement:pt=!1}=s;let{preserveWhiteSpace:Rt=!0}=s;const vt=Fr(t,{doc:c,mirror:O,blockClass:N,blockSelector:D,maskAllText:G,unblockSelector:F,maskTextClass:j,unmaskTextClass:Q,maskTextSelector:ie,unmaskTextSelector:ue,inlineStylesheet:ye,maskInputOptions:Se,maskAttributeFn:Ae,maskTextFn:xe,maskInputFn:we,dataURLOptions:et,inlineImages:tt,recordCanvas:St,keepIframeSrcFn:Ye,newlyAddedElement:pt});if(!vt)return console.warn(t,"not serialized"),null;let Gt;O.hasNode(t)?Gt=O.getId(t):lr(vt,qe)||!Rt&&vt.type===$.Text&&!vt.isStyle&&!vt.textContent.replace(/^\s+|\s+$/gm,"").length?Gt=Le:Gt=Pe();const ut=Object.assign(vt,{id:Gt});if(O.add(t,ut),Gt===Le)return null;Ge&&Ge(t);let tn=!ce;if(ut.type===$.Element){tn=tn&&!ut.needBlock,delete ut.needBlock;const At=t.shadowRoot;At&&K(At)&&(ut.isShadowHost=!0)}if((ut.type===$.Document||ut.type===$.Element)&&tn){qe.headWhitespace&&ut.type===$.Element&&ut.tagName==="head"&&(Rt=!1);const At={doc:c,mirror:O,blockClass:N,blockSelector:D,maskAllText:G,unblockSelector:F,maskTextClass:j,unmaskTextClass:Q,maskTextSelector:ie,unmaskTextSelector:ue,skipChild:ce,inlineStylesheet:ye,maskInputOptions:Se,maskAttributeFn:Ae,maskTextFn:xe,maskInputFn:we,slimDOMOptions:qe,dataURLOptions:et,inlineImages:tt,recordCanvas:St,preserveWhiteSpace:Rt,onSerialize:Ge,onIframeLoad:ke,iframeLoadTimeout:Je,onStylesheetLoad:bt,stylesheetLoadTimeout:De,keepIframeSrcFn:Ye};for(const nn of Array.from(t.childNodes)){const pn=qt(nn,At);pn&&ut.childNodes.push(pn)}if(X(t)&&t.shadowRoot)for(const nn of Array.from(t.shadowRoot.childNodes)){const pn=qt(nn,At);pn&&(K(t.shadowRoot)&&(pn.isShadow=!0),ut.childNodes.push(pn))}}return t.parentNode&&W(t.parentNode)&&K(t.parentNode)&&(ut.isShadow=!0),ut.type===$.Element&&ut.tagName==="iframe"&&Kn(t,()=>{const At=t.contentDocument;if(At&&ke){const nn=qt(At,{doc:At,mirror:O,blockClass:N,blockSelector:D,unblockSelector:F,maskAllText:G,maskTextClass:j,unmaskTextClass:Q,maskTextSelector:ie,unmaskTextSelector:ue,skipChild:!1,inlineStylesheet:ye,maskInputOptions:Se,maskAttributeFn:Ae,maskTextFn:xe,maskInputFn:we,slimDOMOptions:qe,dataURLOptions:et,inlineImages:tt,recordCanvas:St,preserveWhiteSpace:Rt,onSerialize:Ge,onIframeLoad:ke,iframeLoadTimeout:Je,onStylesheetLoad:bt,stylesheetLoadTimeout:De,keepIframeSrcFn:Ye});nn&&ke(t,nn)}},Je),ut.type===$.Element&&ut.tagName==="link"&&ut.attributes.rel==="stylesheet"&&Jn(t,()=>{if(bt){const At=qt(t,{doc:c,mirror:O,blockClass:N,blockSelector:D,unblockSelector:F,maskAllText:G,maskTextClass:j,unmaskTextClass:Q,maskTextSelector:ie,unmaskTextSelector:ue,skipChild:!1,inlineStylesheet:ye,maskInputOptions:Se,maskAttributeFn:Ae,maskTextFn:xe,maskInputFn:we,slimDOMOptions:qe,dataURLOptions:et,inlineImages:tt,recordCanvas:St,preserveWhiteSpace:Rt,onSerialize:Ge,onIframeLoad:ke,iframeLoadTimeout:Je,onStylesheetLoad:bt,stylesheetLoadTimeout:De,keepIframeSrcFn:Ye});At&&bt(t,At)}},De),ut}function dr(t,s){const{mirror:c=new ee,blockClass:O="rr-block",blockSelector:N=null,unblockSelector:D=null,maskAllText:F=!1,maskTextClass:G="rr-mask",unmaskTextClass:j=null,maskTextSelector:Q=null,unmaskTextSelector:ie=null,inlineStylesheet:ue=!0,inlineImages:ce=!1,recordCanvas:ye=!1,maskAllInputs:Se=!1,maskAttributeFn:Ae,maskTextFn:xe,maskInputFn:we,slimDOM:qe=!1,dataURLOptions:et,preserveWhiteSpace:tt,onSerialize:St,onIframeLoad:Ge,iframeLoadTimeout:ke,onStylesheetLoad:Je,stylesheetLoadTimeout:bt,keepIframeSrcFn:De=()=>!1}=s||{};return qt(t,{doc:t,mirror:c,blockClass:O,blockSelector:N,unblockSelector:D,maskAllText:F,maskTextClass:G,unmaskTextClass:j,maskTextSelector:Q,unmaskTextSelector:ie,skipChild:!1,inlineStylesheet:ue,maskInputOptions:Se===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:Se===!1?{}:Se,maskAttributeFn:Ae,maskTextFn:xe,maskInputFn:we,slimDOMOptions:qe===!0||qe==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:qe==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:qe===!1?{}:qe,dataURLOptions:et,inlineImages:ce,recordCanvas:ye,preserveWhiteSpace:tt,onSerialize:St,onIframeLoad:Ge,iframeLoadTimeout:ke,onStylesheetLoad:Je,stylesheetLoadTimeout:bt,keepIframeSrcFn:De,newlyAddedElement:!1})}function Zt(t){let s,c=t[0],O=1;for(;O<t.length;){const N=t[O],D=t[O+1];if(O+=2,(N==="optionalAccess"||N==="optionalCall")&&c==null)return;N==="access"||N==="optionalAccess"?(s=c,c=D(c)):(N==="call"||N==="optionalCall")&&(c=D((...F)=>c.call(s,...F)),s=void 0)}return c}function Ve(t,s,c=document){const O={capture:!0,passive:!0};return c.addEventListener(t,s,O),()=>c.removeEventListener(t,s,O)}const dn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Xn={map:{},getId(){return console.error(dn),-1},getNode(){return console.error(dn),null},removeNodeFromMap(){console.error(dn)},has(){return console.error(dn),!1},reset(){console.error(dn)}};typeof window!="undefined"&&window.Proxy&&window.Reflect&&(Xn=new Proxy(Xn,{get(t,s,c){return s==="map"&&console.error(dn),Reflect.get(t,s,c)}}));function Sn(t,s,c={}){let O=null,N=0;return function(...D){const F=Date.now();!N&&c.leading===!1&&(N=F);const G=s-(F-N),j=this;G<=0||G>s?(O&&(qn(O),O=null),N=F,t.apply(j,D)):!O&&c.trailing!==!1&&(O=xn(()=>{N=c.leading===!1?0:Date.now(),O=null,t.apply(j,D)},G))}}function Zn(t,s,c,O,N=window){const D=N.Object.getOwnPropertyDescriptor(t,s);return N.Object.defineProperty(t,s,O?c:{set(F){xn(()=>{c.set.call(this,F)},0),D&&D.set&&D.set.call(this,F)}}),()=>Zn(t,s,D||{},!0)}function Un(t,s,c){try{if(!(s in t))return()=>{};const O=t[s],N=c(O);return typeof N=="function"&&(N.prototype=N.prototype||{},Object.defineProperties(N,{__rrweb_original__:{enumerable:!1,value:O}})),t[s]=N,()=>{t[s]=O}}catch(O){return()=>{}}}let Tn=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Tn=()=>new Date().getTime());function Bn(t){const s=t.document;return{left:s.scrollingElement?s.scrollingElement.scrollLeft:t.pageXOffset!==void 0?t.pageXOffset:Zt([s,"optionalAccess",c=>c.documentElement,"access",c=>c.scrollLeft])||Zt([s,"optionalAccess",c=>c.body,"optionalAccess",c=>c.parentElement,"optionalAccess",c=>c.scrollLeft])||Zt([s,"optionalAccess",c=>c.body,"optionalAccess",c=>c.scrollLeft])||0,top:s.scrollingElement?s.scrollingElement.scrollTop:t.pageYOffset!==void 0?t.pageYOffset:Zt([s,"optionalAccess",c=>c.documentElement,"access",c=>c.scrollTop])||Zt([s,"optionalAccess",c=>c.body,"optionalAccess",c=>c.parentElement,"optionalAccess",c=>c.scrollTop])||Zt([s,"optionalAccess",c=>c.body,"optionalAccess",c=>c.scrollTop])||0}}function fn(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function fr(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Fn(t){return t?t.nodeType===t.ELEMENT_NODE?t:t.parentElement:null}function jt(t,s,c,O,N){if(!t)return!1;const D=Fn(t);if(!D)return!1;const F=un(s,c);if(!N){const Q=O&&D.matches(O);return F(D)&&!Q}const G=rn(D,F);let j=-1;return G<0?!1:(O&&(j=rn(D,un(null,O))),G>-1&&j<0?!0:G<j)}function In(t,s){return s.getId(t)!==-1}function Yt(t,s){return s.getId(t)===Le}function pr(t,s){if(W(t))return!1;const c=s.getId(t);return s.has(c)?t.parentNode&&t.parentNode.nodeType===t.DOCUMENT_NODE?!1:t.parentNode?pr(t.parentNode,s):!0:!0}function Hn(t){return!!t.changedTouches}function jr(t=window){"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...s)=>{let c=s[0];if(!(0 in s))throw new TypeError("1 argument is required");do if(this===c)return!0;while(c=c&&c.parentNode);return!1})}function vn(t,s){return!!(t.nodeName==="IFRAME"&&s.getMeta(t))}function jn(t,s){return!!(t.nodeName==="LINK"&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&t.getAttribute("rel")==="stylesheet"&&s.getMeta(t))}function Wn(t){return!!Zt([t,"optionalAccess",s=>s.shadowRoot])}class hr{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(s){return i(this.styleIDMap.get(s),()=>-1)}has(s){return this.styleIDMap.has(s)}add(s,c){if(this.has(s))return this.getId(s);let O;return c===void 0?O=this.id++:O=c,this.styleIDMap.set(s,O),this.idStyleMap.set(O,s),O}getStyle(s){return this.idStyleMap.get(s)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function mr(t){let s=null;return Zt([t,"access",c=>c.getRootNode,"optionalCall",c=>c(),"optionalAccess",c=>c.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&t.getRootNode().host&&(s=t.getRootNode().host),s}function Wr(t){let s=t,c;for(;c=mr(s);)s=c;return s}function gr(t){const s=t.ownerDocument;if(!s)return!1;const c=Wr(t);return s.contains(c)}function Sr(t){const s=t.ownerDocument;return s?s.contains(t)||gr(t):!1}const yr={};function at(t){const s=yr[t];if(s)return s;const c=window.document;let O=window[t];if(c&&typeof c.createElement=="function")try{const N=c.createElement("iframe");N.hidden=!0,c.head.appendChild(N);const D=N.contentWindow;D&&D[t]&&(O=D[t]),c.head.removeChild(N)}catch(N){}return yr[t]=O.bind(window)}function Qn(...t){return at("requestAnimationFrame")(...t)}function xn(...t){return at("setTimeout")(...t)}function qn(...t){return at("clearTimeout")(...t)}var $e=(t=>(t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t))($e||{}),ze=(t=>(t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t))(ze||{}),wt=(t=>(t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t))(wt||{}),sn=(t=>(t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t))(sn||{});function on(t){let s,c=t[0],O=1;for(;O<t.length;){const N=t[O],D=t[O+1];if(O+=2,(N==="optionalAccess"||N==="optionalCall")&&c==null)return;N==="access"||N==="optionalAccess"?(s=c,c=D(c)):(N==="call"||N==="optionalCall")&&(c=D((...F)=>c.call(s,...F)),s=void 0)}return c}function _r(t){return"__ln"in t}class xr{constructor(){this.length=0,this.head=null,this.tail=null}get(s){if(s>=this.length)throw new Error("Position outside of list range");let c=this.head;for(let O=0;O<s;O++)c=on([c,"optionalAccess",N=>N.next])||null;return c}addNode(s){const c={value:s,previous:null,next:null};if(s.__ln=c,s.previousSibling&&_r(s.previousSibling)){const O=s.previousSibling.__ln.next;c.next=O,c.previous=s.previousSibling.__ln,s.previousSibling.__ln.next=c,O&&(O.previous=c)}else if(s.nextSibling&&_r(s.nextSibling)&&s.nextSibling.__ln.previous){const O=s.nextSibling.__ln.previous;c.previous=O,c.next=s.nextSibling.__ln,s.nextSibling.__ln.previous=c,O&&(O.next=c)}else this.head&&(this.head.previous=c),c.next=this.head,this.head=c;c.next===null&&(this.tail=c),this.length++}removeNode(s){const c=s.__ln;this.head&&(c.previous?(c.previous.next=c.next,c.next?c.next.previous=c.previous:this.tail=c.previous):(this.head=c.next,this.head?this.head.previous=null:this.tail=null),s.__ln&&delete s.__ln,this.length--)}}const Er=(t,s)=>`${t}@${s}`;class $r{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=s=>{s.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const s=[],c=new Set,O=new xr,N=j=>{let Q=j,ie=Le;for(;ie===Le;)Q=Q&&Q.nextSibling,ie=Q&&this.mirror.getId(Q);return ie},D=j=>{if(!j.parentNode||!Sr(j))return;const Q=W(j.parentNode)?this.mirror.getId(mr(j)):this.mirror.getId(j.parentNode),ie=N(j);if(Q===-1||ie===-1)return O.addNode(j);const ue=qt(j,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:ce=>{vn(ce,this.mirror)&&this.iframeManager.addIframe(ce),jn(ce,this.mirror)&&this.stylesheetManager.trackLinkElement(ce),Wn(j)&&this.shadowDomManager.addShadowRoot(j.shadowRoot,this.doc)},onIframeLoad:(ce,ye)=>{this.iframeManager.attachIframe(ce,ye),this.shadowDomManager.observeAttachShadow(ce)},onStylesheetLoad:(ce,ye)=>{this.stylesheetManager.attachLinkElement(ce,ye)}});ue&&(s.push({parentId:Q,nextId:ie,node:ue}),c.add(ue.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const j of this.movedSet)br(this.removes,j,this.mirror)&&!this.movedSet.has(j.parentNode)||D(j);for(const j of this.addedSet)!Ir(this.droppedSet,j)&&!br(this.removes,j,this.mirror)||Ir(this.movedSet,j)?D(j):this.droppedSet.add(j);let F=null;for(;O.length;){let j=null;if(F){const Q=this.mirror.getId(F.value.parentNode),ie=N(F.value);Q!==-1&&ie!==-1&&(j=F)}if(!j){let Q=O.tail;for(;Q;){const ie=Q;if(Q=Q.previous,ie){const ue=this.mirror.getId(ie.value.parentNode);if(N(ie.value)===-1)continue;if(ue!==-1){j=ie;break}else{const ye=ie.value;if(ye.parentNode&&ye.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const Se=ye.parentNode.host;if(this.mirror.getId(Se)!==-1){j=ie;break}}}}}}if(!j){for(;O.head;)O.removeNode(O.head.value);break}F=j.previous,O.removeNode(j.value),D(j.value)}const G={texts:this.texts.map(j=>({id:this.mirror.getId(j.node),value:j.value})).filter(j=>!c.has(j.id)).filter(j=>this.mirror.has(j.id)),attributes:this.attributes.map(j=>{const{attributes:Q}=j;if(typeof Q.style=="string"){const ie=JSON.stringify(j.styleDiff),ue=JSON.stringify(j._unchangedStyles);ie.length<Q.style.length&&(ie+ue).split("var(").length===Q.style.split("var(").length&&(Q.style=j.styleDiff)}return{id:this.mirror.getId(j.node),attributes:Q}}).filter(j=>!c.has(j.id)).filter(j=>this.mirror.has(j.id)),removes:this.removes,adds:s};!G.texts.length&&!G.attributes.length&&!G.removes.length&&!G.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(G))},this.processMutation=s=>{if(!Yt(s.target,this.mirror))switch(s.type){case"characterData":{const c=s.target.textContent;!jt(s.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&c!==s.oldValue&&this.texts.push({value:gn(s.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&c?this.maskTextFn?this.maskTextFn(c,Fn(s.target)):c.replace(/[\S]/g,"*"):c,node:s.target});break}case"attributes":{const c=s.target;let O=s.attributeName,N=s.target.getAttribute(O);if(O==="value"){const F=ae(c),G=c.tagName;N=le(c,G,F);const j=_e({maskInputOptions:this.maskInputOptions,tagName:G,type:F}),Q=gn(s.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,j);N=Te({isMasked:Q,element:c,value:N,maskInputFn:this.maskInputFn})}if(jt(s.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||N===s.oldValue)return;let D=this.attributeMap.get(s.target);if(c.tagName==="IFRAME"&&O==="src"&&!this.keepIframeSrcFn(N))if(!c.contentDocument)O="rr_src";else return;if(D||(D={node:s.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(D),this.attributeMap.set(s.target,D)),O==="type"&&c.tagName==="INPUT"&&(s.oldValue||"").toLowerCase()==="password"&&c.setAttribute("data-rr-is-password","true"),!En(c.tagName,O)&&(D.attributes[O]=mn(this.doc,Ne(c.tagName),Ne(O),N,c,this.maskAttributeFn),O==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(G){this.unattachedDoc=this.doc}const F=this.unattachedDoc.createElement("span");s.oldValue&&F.setAttribute("style",s.oldValue);for(const G of Array.from(c.style)){const j=c.style.getPropertyValue(G),Q=c.style.getPropertyPriority(G);j!==F.style.getPropertyValue(G)||Q!==F.style.getPropertyPriority(G)?Q===""?D.styleDiff[G]=j:D.styleDiff[G]=[j,Q]:D._unchangedStyles[G]=[j,Q]}for(const G of Array.from(F.style))c.style.getPropertyValue(G)===""&&(D.styleDiff[G]=!1)}break}case"childList":{if(jt(s.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;s.addedNodes.forEach(c=>this.genAdds(c,s.target)),s.removedNodes.forEach(c=>{const O=this.mirror.getId(c),N=W(s.target)?this.mirror.getId(s.target.host):this.mirror.getId(s.target);jt(s.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Yt(c,this.mirror)||!In(c,this.mirror)||(this.addedSet.has(c)?(er(this.addedSet,c),this.droppedSet.add(c)):this.addedSet.has(s.target)&&O===-1||pr(s.target,this.mirror)||(this.movedSet.has(c)&&this.movedMap[Er(O,N)]?er(this.movedSet,c):this.removes.push({parentId:N,id:O,isShadow:W(s.target)&&K(s.target)?!0:void 0})),this.mapRemoves.push(c))});break}}},this.genAdds=(s,c)=>{if(!this.processedNodeManager.inOtherBuffer(s,this)&&!(this.addedSet.has(s)||this.movedSet.has(s))){if(this.mirror.hasNode(s)){if(Yt(s,this.mirror))return;this.movedSet.add(s);let O=null;c&&this.mirror.hasNode(c)&&(O=this.mirror.getId(c)),O&&O!==-1&&(this.movedMap[Er(this.mirror.getId(s),O)]=!0)}else this.addedSet.add(s),this.droppedSet.delete(s);jt(s,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(s.childNodes.forEach(O=>this.genAdds(O)),Wn(s)&&s.shadowRoot.childNodes.forEach(O=>{this.processedNodeManager.add(O,this),this.genAdds(O,s)}))}}}init(s){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(c=>{this[c]=s[c]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function er(t,s){t.delete(s),s.childNodes.forEach(c=>er(t,c))}function br(t,s,c){return t.length===0?!1:Tr(t,s,c)}function Tr(t,s,c){const{parentNode:O}=s;if(!O)return!1;const N=c.getId(O);return t.some(D=>D.id===N)?!0:Tr(t,O,c)}function Ir(t,s){return t.size===0?!1:vr(t,s)}function vr(t,s){const{parentNode:c}=s;return c?t.has(c)?!0:vr(t,c):!1}let Cn;function Gr(t){Cn=t}function zr(){Cn=void 0}const Be=t=>Cn?(...c)=>{try{return t(...c)}catch(O){if(Cn&&Cn(O)===!0)return()=>{};throw O}}:t;function Lt(t){let s,c=t[0],O=1;for(;O<t.length;){const N=t[O],D=t[O+1];if(O+=2,(N==="optionalAccess"||N==="optionalCall")&&c==null)return;N==="access"||N==="optionalAccess"?(s=c,c=D(c)):(N==="call"||N==="optionalCall")&&(c=D((...F)=>c.call(s,...F)),s=void 0)}return c}const Ut=[];function Vt(t){try{if("composedPath"in t){const s=t.composedPath();if(s.length)return s[0]}else if("path"in t&&t.path.length)return t.path[0]}catch(s){}return t&&t.target}function Qt(t,s){const c=new $r;Ut.push(c),c.init(t);let O=window.MutationObserver||window.__rrMutationObserver;const N=Lt([window,"optionalAccess",F=>F.Zone,"optionalAccess",F=>F.__symbol__,"optionalCall",F=>F("MutationObserver")]);N&&window[N]&&(O=window[N]);const D=new O(Be(F=>{t.onMutation&&t.onMutation(F)===!1||c.processMutations.bind(c)(F)}));return D.observe(s,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),D}function On({mousemoveCb:t,sampling:s,doc:c,mirror:O}){if(s.mousemove===!1)return()=>{};const N=typeof s.mousemove=="number"?s.mousemove:50,D=typeof s.mousemoveCallback=="number"?s.mousemoveCallback:500;let F=[],G;const j=Sn(Be(ue=>{const ce=Date.now()-G;t(F.map(ye=>(ye.timeOffset-=ce,ye)),ue),F=[],G=null}),D),Q=Be(Sn(Be(ue=>{const ce=Vt(ue),{clientX:ye,clientY:Se}=Hn(ue)?ue.changedTouches[0]:ue;G||(G=Tn()),F.push({x:ye,y:Se,id:O.getId(ce),timeOffset:Tn()-G}),j(typeof DragEvent!="undefined"&&ue instanceof DragEvent?ze.Drag:ue instanceof MouseEvent?ze.MouseMove:ze.TouchMove)}),N,{trailing:!1})),ie=[Ve("mousemove",Q,c),Ve("touchmove",Q,c),Ve("drag",Q,c)];return Be(()=>{ie.forEach(ue=>ue())})}function tr({mouseInteractionCb:t,doc:s,mirror:c,blockClass:O,blockSelector:N,unblockSelector:D,sampling:F}){if(F.mouseInteraction===!1)return()=>{};const G=F.mouseInteraction===!0||F.mouseInteraction===void 0?{}:F.mouseInteraction,j=[];let Q=null;const ie=ue=>ce=>{const ye=Vt(ce);if(jt(ye,O,N,D,!0))return;let Se=null,Ae=ue;if("pointerType"in ce){switch(ce.pointerType){case"mouse":Se=sn.Mouse;break;case"touch":Se=sn.Touch;break;case"pen":Se=sn.Pen;break}Se===sn.Touch?wt[ue]===wt.MouseDown?Ae="TouchStart":wt[ue]===wt.MouseUp&&(Ae="TouchEnd"):sn.Pen}else Hn(ce)&&(Se=sn.Touch);Se!==null?(Q=Se,(Ae.startsWith("Touch")&&Se===sn.Touch||Ae.startsWith("Mouse")&&Se===sn.Mouse)&&(Se=null)):wt[ue]===wt.Click&&(Se=Q,Q=null);const xe=Hn(ce)?ce.changedTouches[0]:ce;if(!xe)return;const we=c.getId(ye),{clientX:qe,clientY:et}=xe;Be(t)(B({type:wt[Ae],id:we,x:qe,y:et},Se!==null&&{pointerType:Se}))};return Object.keys(wt).filter(ue=>Number.isNaN(Number(ue))&&!ue.endsWith("_Departed")&&G[ue]!==!1).forEach(ue=>{let ce=Ne(ue);const ye=ie(ue);if(window.PointerEvent)switch(wt[ue]){case wt.MouseDown:case wt.MouseUp:ce=ce.replace("mouse","pointer");break;case wt.TouchStart:case wt.TouchEnd:return}j.push(Ve(ce,ye,s))}),Be(()=>{j.forEach(ue=>ue())})}function Cr({scrollCb:t,doc:s,mirror:c,blockClass:O,blockSelector:N,unblockSelector:D,sampling:F}){const G=Be(Sn(Be(j=>{const Q=Vt(j);if(!Q||jt(Q,O,N,D,!0))return;const ie=c.getId(Q);if(Q===s&&s.defaultView){const ue=Bn(s.defaultView);t({id:ie,x:ue.left,y:ue.top})}else t({id:ie,x:Q.scrollLeft,y:Q.scrollTop})}),F.scroll||100));return Ve("scroll",G,s)}function $n({viewportResizeCb:t},{win:s}){let c=-1,O=-1;const N=Be(Sn(Be(()=>{const D=fn(),F=fr();(c!==D||O!==F)&&(t({width:Number(F),height:Number(D)}),c=D,O=F)}),200));return Ve("resize",N,s)}const Yr=["INPUT","TEXTAREA","SELECT"],w=new WeakMap;function k({inputCb:t,doc:s,mirror:c,blockClass:O,blockSelector:N,unblockSelector:D,ignoreClass:F,ignoreSelector:G,maskInputOptions:j,maskInputFn:Q,sampling:ie,userTriggeredOnInput:ue,maskTextClass:ce,unmaskTextClass:ye,maskTextSelector:Se,unmaskTextSelector:Ae}){function xe(ke){let Je=Vt(ke);const bt=ke.isTrusted,De=Je&&Qe(Je.tagName);if(De==="OPTION"&&(Je=Je.parentElement),!Je||!De||Yr.indexOf(De)<0||jt(Je,O,N,D,!0))return;const Ye=Je;if(Ye.classList.contains(F)||G&&Ye.matches(G))return;const pt=ae(Je);let Rt=le(Ye,De,pt),vt=!1;const Gt=_e({maskInputOptions:j,tagName:De,type:pt}),ut=gn(Je,ce,Se,ye,Ae,Gt);(pt==="radio"||pt==="checkbox")&&(vt=Je.checked),Rt=Te({isMasked:ut,element:Je,value:Rt,maskInputFn:Q}),we(Je,ue?{text:Rt,isChecked:vt,userTriggered:bt}:{text:Rt,isChecked:vt});const tn=Je.name;pt==="radio"&&tn&&vt&&s.querySelectorAll(`input[type="radio"][name="${tn}"]`).forEach(At=>{if(At!==Je){const nn=Te({isMasked:ut,element:At,value:le(At,De,pt),maskInputFn:Q});we(At,ue?{text:nn,isChecked:!vt,userTriggered:!1}:{text:nn,isChecked:!vt})}})}function we(ke,Je){const bt=w.get(ke);if(!bt||bt.text!==Je.text||bt.isChecked!==Je.isChecked){w.set(ke,Je);const De=c.getId(ke);Be(t)(Ie(B({},Je),{id:De}))}}const et=(ie.input==="last"?["change"]:["input","change"]).map(ke=>Ve(ke,Be(xe),s)),tt=s.defaultView;if(!tt)return()=>{et.forEach(ke=>ke())};const St=tt.Object.getOwnPropertyDescriptor(tt.HTMLInputElement.prototype,"value"),Ge=[[tt.HTMLInputElement.prototype,"value"],[tt.HTMLInputElement.prototype,"checked"],[tt.HTMLSelectElement.prototype,"value"],[tt.HTMLTextAreaElement.prototype,"value"],[tt.HTMLSelectElement.prototype,"selectedIndex"],[tt.HTMLOptionElement.prototype,"selected"]];return St&&St.set&&et.push(...Ge.map(ke=>Zn(ke[0],ke[1],{set(){Be(xe)({target:this,isTrusted:!1})}},!1,tt))),Be(()=>{et.forEach(ke=>ke())})}function U(t){const s=[];function c(O,N){if(je("CSSGroupingRule")&&O.parentRule instanceof CSSGroupingRule||je("CSSMediaRule")&&O.parentRule instanceof CSSMediaRule||je("CSSSupportsRule")&&O.parentRule instanceof CSSSupportsRule||je("CSSConditionRule")&&O.parentRule instanceof CSSConditionRule){const F=Array.from(O.parentRule.cssRules).indexOf(O);N.unshift(F)}else if(O.parentStyleSheet){const F=Array.from(O.parentStyleSheet.cssRules).indexOf(O);N.unshift(F)}return N}return c(t,s)}function J(t,s,c){let O,N;return t?(t.ownerNode?O=s.getId(t.ownerNode):N=c.getId(t),{styleId:N,id:O}):{}}function Z({styleSheetRuleCb:t,mirror:s,stylesheetManager:c},{win:O}){if(!O.CSSStyleSheet||!O.CSSStyleSheet.prototype)return()=>{};const N=O.CSSStyleSheet.prototype.insertRule;O.CSSStyleSheet.prototype.insertRule=new Proxy(N,{apply:Be((ie,ue,ce)=>{const[ye,Se]=ce,{id:Ae,styleId:xe}=J(ue,s,c.styleMirror);return(Ae&&Ae!==-1||xe&&xe!==-1)&&t({id:Ae,styleId:xe,adds:[{rule:ye,index:Se}]}),ie.apply(ue,ce)})});const D=O.CSSStyleSheet.prototype.deleteRule;O.CSSStyleSheet.prototype.deleteRule=new Proxy(D,{apply:Be((ie,ue,ce)=>{const[ye]=ce,{id:Se,styleId:Ae}=J(ue,s,c.styleMirror);return(Se&&Se!==-1||Ae&&Ae!==-1)&&t({id:Se,styleId:Ae,removes:[{index:ye}]}),ie.apply(ue,ce)})});let F;O.CSSStyleSheet.prototype.replace&&(F=O.CSSStyleSheet.prototype.replace,O.CSSStyleSheet.prototype.replace=new Proxy(F,{apply:Be((ie,ue,ce)=>{const[ye]=ce,{id:Se,styleId:Ae}=J(ue,s,c.styleMirror);return(Se&&Se!==-1||Ae&&Ae!==-1)&&t({id:Se,styleId:Ae,replace:ye}),ie.apply(ue,ce)})}));let G;O.CSSStyleSheet.prototype.replaceSync&&(G=O.CSSStyleSheet.prototype.replaceSync,O.CSSStyleSheet.prototype.replaceSync=new Proxy(G,{apply:Be((ie,ue,ce)=>{const[ye]=ce,{id:Se,styleId:Ae}=J(ue,s,c.styleMirror);return(Se&&Se!==-1||Ae&&Ae!==-1)&&t({id:Se,styleId:Ae,replaceSync:ye}),ie.apply(ue,ce)})}));const j={};Ce("CSSGroupingRule")?j.CSSGroupingRule=O.CSSGroupingRule:(Ce("CSSMediaRule")&&(j.CSSMediaRule=O.CSSMediaRule),Ce("CSSConditionRule")&&(j.CSSConditionRule=O.CSSConditionRule),Ce("CSSSupportsRule")&&(j.CSSSupportsRule=O.CSSSupportsRule));const Q={};return Object.entries(j).forEach(([ie,ue])=>{Q[ie]={insertRule:ue.prototype.insertRule,deleteRule:ue.prototype.deleteRule},ue.prototype.insertRule=new Proxy(Q[ie].insertRule,{apply:Be((ce,ye,Se)=>{const[Ae,xe]=Se,{id:we,styleId:qe}=J(ye.parentStyleSheet,s,c.styleMirror);return(we&&we!==-1||qe&&qe!==-1)&&t({id:we,styleId:qe,adds:[{rule:Ae,index:[...U(ye),xe||0]}]}),ce.apply(ye,Se)})}),ue.prototype.deleteRule=new Proxy(Q[ie].deleteRule,{apply:Be((ce,ye,Se)=>{const[Ae]=Se,{id:xe,styleId:we}=J(ye.parentStyleSheet,s,c.styleMirror);return(xe&&xe!==-1||we&&we!==-1)&&t({id:xe,styleId:we,removes:[{index:[...U(ye),Ae]}]}),ce.apply(ye,Se)})})}),Be(()=>{O.CSSStyleSheet.prototype.insertRule=N,O.CSSStyleSheet.prototype.deleteRule=D,F&&(O.CSSStyleSheet.prototype.replace=F),G&&(O.CSSStyleSheet.prototype.replaceSync=G),Object.entries(j).forEach(([ie,ue])=>{ue.prototype.insertRule=Q[ie].insertRule,ue.prototype.deleteRule=Q[ie].deleteRule})})}function te({mirror:t,stylesheetManager:s},c){let O=null;c.nodeName==="#document"?O=t.getId(c):O=t.getId(c.host);const N=c.nodeName==="#document"?Lt([c,"access",F=>F.defaultView,"optionalAccess",F=>F.Document]):Lt([c,"access",F=>F.ownerDocument,"optionalAccess",F=>F.defaultView,"optionalAccess",F=>F.ShadowRoot]),D=Lt([N,"optionalAccess",F=>F.prototype])?Object.getOwnPropertyDescriptor(Lt([N,"optionalAccess",F=>F.prototype]),"adoptedStyleSheets"):void 0;return O===null||O===-1||!N||!D?()=>{}:(Object.defineProperty(c,"adoptedStyleSheets",{configurable:D.configurable,enumerable:D.enumerable,get(){return Lt([D,"access",F=>F.get,"optionalAccess",F=>F.call,"call",F=>F(this)])},set(F){const G=Lt([D,"access",j=>j.set,"optionalAccess",j=>j.call,"call",j=>j(this,F)]);if(O!==null&&O!==-1)try{s.adoptStyleSheets(F,O)}catch(j){}return G}}),Be(()=>{Object.defineProperty(c,"adoptedStyleSheets",{configurable:D.configurable,enumerable:D.enumerable,get:D.get,set:D.set})}))}function ge({styleDeclarationCb:t,mirror:s,ignoreCSSAttributes:c,stylesheetManager:O},{win:N}){const D=N.CSSStyleDeclaration.prototype.setProperty;N.CSSStyleDeclaration.prototype.setProperty=new Proxy(D,{apply:Be((G,j,Q)=>{const[ie,ue,ce]=Q;if(c.has(ie))return D.apply(j,[ie,ue,ce]);const{id:ye,styleId:Se}=J(Lt([j,"access",Ae=>Ae.parentRule,"optionalAccess",Ae=>Ae.parentStyleSheet]),s,O.styleMirror);return(ye&&ye!==-1||Se&&Se!==-1)&&t({id:ye,styleId:Se,set:{property:ie,value:ue,priority:ce},index:U(j.parentRule)}),G.apply(j,Q)})});const F=N.CSSStyleDeclaration.prototype.removeProperty;return N.CSSStyleDeclaration.prototype.removeProperty=new Proxy(F,{apply:Be((G,j,Q)=>{const[ie]=Q;if(c.has(ie))return F.apply(j,[ie]);const{id:ue,styleId:ce}=J(Lt([j,"access",ye=>ye.parentRule,"optionalAccess",ye=>ye.parentStyleSheet]),s,O.styleMirror);return(ue&&ue!==-1||ce&&ce!==-1)&&t({id:ue,styleId:ce,remove:{property:ie},index:U(j.parentRule)}),G.apply(j,Q)})}),Be(()=>{N.CSSStyleDeclaration.prototype.setProperty=D,N.CSSStyleDeclaration.prototype.removeProperty=F})}function Ee({mediaInteractionCb:t,blockClass:s,blockSelector:c,unblockSelector:O,mirror:N,sampling:D,doc:F}){const G=Be(Q=>Sn(Be(ie=>{const ue=Vt(ie);if(!ue||jt(ue,s,c,O,!0))return;const{currentTime:ce,volume:ye,muted:Se,playbackRate:Ae}=ue;t({type:Q,id:N.getId(ue),currentTime:ce,volume:ye,muted:Se,playbackRate:Ae})}),D.media||500)),j=[Ve("play",G(0),F),Ve("pause",G(1),F),Ve("seeked",G(2),F),Ve("volumechange",G(3),F),Ve("ratechange",G(4),F)];return Be(()=>{j.forEach(Q=>Q())})}function be({fontCb:t,doc:s}){const c=s.defaultView;if(!c)return()=>{};const O=[],N=new WeakMap,D=c.FontFace;c.FontFace=function(j,Q,ie){const ue=new D(j,Q,ie);return N.set(ue,{family:j,buffer:typeof Q!="string",descriptors:ie,fontSource:typeof Q=="string"?Q:JSON.stringify(Array.from(new Uint8Array(Q)))}),ue};const F=Un(s.fonts,"add",function(G){return function(j){return xn(Be(()=>{const Q=N.get(j);Q&&(t(Q),N.delete(j))}),0),G.apply(this,[j])}});return O.push(()=>{c.FontFace=D}),O.push(F),Be(()=>{O.forEach(G=>G())})}function pe(t){const{doc:s,mirror:c,blockClass:O,blockSelector:N,unblockSelector:D,selectionCb:F}=t;let G=!0;const j=Be(()=>{const Q=s.getSelection();if(!Q||G&&Lt([Q,"optionalAccess",ce=>ce.isCollapsed]))return;G=Q.isCollapsed||!1;const ie=[],ue=Q.rangeCount||0;for(let ce=0;ce<ue;ce++){const ye=Q.getRangeAt(ce),{startContainer:Se,startOffset:Ae,endContainer:xe,endOffset:we}=ye;jt(Se,O,N,D,!0)||jt(xe,O,N,D,!0)||ie.push({start:c.getId(Se),startOffset:Ae,end:c.getId(xe),endOffset:we})}F({ranges:ie})});return j(),Ve("selectionchange",j)}function Ue({doc:t,customElementCb:s}){const c=t.defaultView;return!c||!c.customElements?()=>{}:Un(c.customElements,"define",function(N){return function(D,F,G){try{s({define:{name:D}})}catch(j){}return N.apply(this,[D,F,G])}})}function se(t,s={}){const c=t.doc.defaultView;if(!c)return()=>{};const O=Qt(t,t.doc),N=On(t),D=tr(t),F=Cr(t),G=$n(t,{win:c}),j=k(t),Q=Ee(t),ie=Z(t,{win:c}),ue=te(t,t.doc),ce=ge(t,{win:c}),ye=t.collectFonts?be(t):()=>{},Se=pe(t),Ae=Ue(t),xe=[];for(const we of t.plugins)xe.push(we.observer(we.callback,c,we.options));return Be(()=>{Ut.forEach(we=>we.reset()),O.disconnect(),N(),D(),F(),G(),j(),Q(),ie(),ue(),ce(),ye(),Se(),Ae(),xe.forEach(we=>we())})}function je(t){return typeof window[t]!="undefined"}function Ce(t){return!!(typeof window[t]!="undefined"&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}class Ze{constructor(s){this.generateIdFn=s,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(s,c,O,N){const D=O||this.getIdToRemoteIdMap(s),F=N||this.getRemoteIdToIdMap(s);let G=D.get(c);return G||(G=this.generateIdFn(),D.set(c,G),F.set(G,c)),G}getIds(s,c){const O=this.getIdToRemoteIdMap(s),N=this.getRemoteIdToIdMap(s);return c.map(D=>this.getId(s,D,O,N))}getRemoteId(s,c,O){const N=O||this.getRemoteIdToIdMap(s);if(typeof c!="number")return c;const D=N.get(c);return D||-1}getRemoteIds(s,c){const O=this.getRemoteIdToIdMap(s);return c.map(N=>this.getRemoteId(s,N,O))}reset(s){if(!s){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(s),this.iframeRemoteIdToIdMap.delete(s)}getIdToRemoteIdMap(s){let c=this.iframeIdToRemoteIdMap.get(s);return c||(c=new Map,this.iframeIdToRemoteIdMap.set(s,c)),c}getRemoteIdToIdMap(s){let c=this.iframeRemoteIdToIdMap.get(s);return c||(c=new Map,this.iframeRemoteIdToIdMap.set(s,c)),c}}function mt(t){let s,c=t[0],O=1;for(;O<t.length;){const N=t[O],D=t[O+1];if(O+=2,(N==="optionalAccess"||N==="optionalCall")&&c==null)return;N==="access"||N==="optionalAccess"?(s=c,c=D(c)):(N==="call"||N==="optionalCall")&&(c=D((...F)=>c.call(s,...F)),s=void 0)}return c}class ct{constructor(){this.crossOriginIframeMirror=new Ze(Pe),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Re{constructor(s){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Ze(Pe),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=s.mutationCb,this.wrappedEmit=s.wrappedEmit,this.stylesheetManager=s.stylesheetManager,this.recordCrossOriginIframes=s.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Ze(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=s.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(s){this.iframes.set(s,!0),s.contentWindow&&this.crossOriginIframeMap.set(s.contentWindow,s)}addLoadListener(s){this.loadListener=s}attachIframe(s,c){this.mutationCb({adds:[{parentId:this.mirror.getId(s),nextId:null,node:c}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),mt([this,"access",O=>O.loadListener,"optionalCall",O=>O(s)]),s.contentDocument&&s.contentDocument.adoptedStyleSheets&&s.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(s.contentDocument.adoptedStyleSheets,this.mirror.getId(s.contentDocument))}handleMessage(s){const c=s;if(c.data.type!=="rrweb"||c.origin!==c.data.origin||!s.source)return;const N=this.crossOriginIframeMap.get(s.source);if(!N)return;const D=this.transformCrossOriginEvent(N,c.data.event);D&&this.wrappedEmit(D,c.data.isCheckout)}transformCrossOriginEvent(s,c){switch(c.type){case $e.FullSnapshot:{this.crossOriginIframeMirror.reset(s),this.crossOriginIframeStyleMirror.reset(s),this.replaceIdOnNode(c.data.node,s);const O=c.data.node.id;return this.crossOriginIframeRootIdMap.set(s,O),this.patchRootIdOnNode(c.data.node,O),{timestamp:c.timestamp,type:$e.IncrementalSnapshot,data:{source:ze.Mutation,adds:[{parentId:this.mirror.getId(s),nextId:null,node:c.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case $e.Meta:case $e.Load:case $e.DomContentLoaded:return!1;case $e.Plugin:return c;case $e.Custom:return this.replaceIds(c.data.payload,s,["id","parentId","previousId","nextId"]),c;case $e.IncrementalSnapshot:switch(c.data.source){case ze.Mutation:return c.data.adds.forEach(O=>{this.replaceIds(O,s,["parentId","nextId","previousId"]),this.replaceIdOnNode(O.node,s);const N=this.crossOriginIframeRootIdMap.get(s);N&&this.patchRootIdOnNode(O.node,N)}),c.data.removes.forEach(O=>{this.replaceIds(O,s,["parentId","id"])}),c.data.attributes.forEach(O=>{this.replaceIds(O,s,["id"])}),c.data.texts.forEach(O=>{this.replaceIds(O,s,["id"])}),c;case ze.Drag:case ze.TouchMove:case ze.MouseMove:return c.data.positions.forEach(O=>{this.replaceIds(O,s,["id"])}),c;case ze.ViewportResize:return!1;case ze.MediaInteraction:case ze.MouseInteraction:case ze.Scroll:case ze.CanvasMutation:case ze.Input:return this.replaceIds(c.data,s,["id"]),c;case ze.StyleSheetRule:case ze.StyleDeclaration:return this.replaceIds(c.data,s,["id"]),this.replaceStyleIds(c.data,s,["styleId"]),c;case ze.Font:return c;case ze.Selection:return c.data.ranges.forEach(O=>{this.replaceIds(O,s,["start","end"])}),c;case ze.AdoptedStyleSheet:return this.replaceIds(c.data,s,["id"]),this.replaceStyleIds(c.data,s,["styleIds"]),mt([c,"access",O=>O.data,"access",O=>O.styles,"optionalAccess",O=>O.forEach,"call",O=>O(N=>{this.replaceStyleIds(N,s,["styleId"])})]),c}}return!1}replace(s,c,O,N){for(const D of N)!Array.isArray(c[D])&&typeof c[D]!="number"||(Array.isArray(c[D])?c[D]=s.getIds(O,c[D]):c[D]=s.getId(O,c[D]));return c}replaceIds(s,c,O){return this.replace(this.crossOriginIframeMirror,s,c,O)}replaceStyleIds(s,c,O){return this.replace(this.crossOriginIframeStyleMirror,s,c,O)}replaceIdOnNode(s,c){this.replaceIds(s,c,["id","rootId"]),"childNodes"in s&&s.childNodes.forEach(O=>{this.replaceIdOnNode(O,c)})}patchRootIdOnNode(s,c){s.type!==$.Document&&!s.rootId&&(s.rootId=c),"childNodes"in s&&s.childNodes.forEach(O=>{this.patchRootIdOnNode(O,c)})}}class Me{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class We{constructor(s){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=s.mutationCb,this.scrollCb=s.scrollCb,this.bypassOptions=s.bypassOptions,this.mirror=s.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(s,c){if(!K(s)||this.shadowDoms.has(s))return;this.shadowDoms.add(s);const O=Qt(Ie(B({},this.bypassOptions),{doc:c,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),s);this.restoreHandlers.push(()=>O.disconnect()),this.restoreHandlers.push(Cr(Ie(B({},this.bypassOptions),{scrollCb:this.scrollCb,doc:s,mirror:this.mirror}))),xn(()=>{s.adoptedStyleSheets&&s.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(s.adoptedStyleSheets,this.mirror.getId(s.host)),this.restoreHandlers.push(te({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},s))},0)}observeAttachShadow(s){!s.contentWindow||!s.contentDocument||this.patchAttachShadow(s.contentWindow.Element,s.contentDocument)}patchAttachShadow(s,c){const O=this;this.restoreHandlers.push(Un(s.prototype,"attachShadow",function(N){return function(D){const F=N.call(this,D);return this.shadowRoot&&Sr(this)&&O.addShadowRoot(this.shadowRoot,c),F}}))}reset(){this.restoreHandlers.forEach(s=>{try{s()}catch(c){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class Ke{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class It{constructor(s){this.trackedLinkElements=new WeakSet,this.styleMirror=new hr,this.mutationCb=s.mutationCb,this.adoptedStyleSheetCb=s.adoptedStyleSheetCb}attachLinkElement(s,c){"_cssText"in c.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:c.id,attributes:c.attributes}]}),this.trackLinkElement(s)}trackLinkElement(s){this.trackedLinkElements.has(s)||(this.trackedLinkElements.add(s),this.trackStylesheetInLinkElement(s))}adoptStyleSheets(s,c){if(s.length===0)return;const O={id:c,styleIds:[]},N=[];for(const D of s){let F;this.styleMirror.has(D)?F=this.styleMirror.getId(D):(F=this.styleMirror.add(D),N.push({styleId:F,rules:Array.from(D.rules||CSSRule,(G,j)=>({rule:q(G),index:j}))})),O.styleIds.push(F)}N.length>0&&(O.styles=N),this.adoptedStyleSheetCb(O)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(s){}}class Wt{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){Qn(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(s,c){const O=this.nodeMap.get(s);return O&&Array.from(O).some(N=>N!==c)}add(s,c){this.nodeMap.set(s,(this.nodeMap.get(s)||new Set).add(c))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let Fe,Kt;const rt=ne();function Mt(t={}){const{emit:s,checkoutEveryNms:c,checkoutEveryNth:O,blockClass:N="rr-block",blockSelector:D=null,unblockSelector:F=null,ignoreClass:G="rr-ignore",ignoreSelector:j=null,maskAllText:Q=!1,maskTextClass:ie="rr-mask",unmaskTextClass:ue=null,maskTextSelector:ce=null,unmaskTextSelector:ye=null,inlineStylesheet:Se=!0,maskAllInputs:Ae,maskInputOptions:xe,slimDOMOptions:we,maskAttributeFn:qe,maskInputFn:et,maskTextFn:tt,maxCanvasSize:St=null,packFn:Ge,sampling:ke={},dataURLOptions:Je={},mousemoveWait:bt,recordCanvas:De=!1,recordCrossOriginIframes:Ye=!1,recordAfter:pt=t.recordAfter==="DOMContentLoaded"?t.recordAfter:"load",userTriggeredOnInput:Rt=!1,collectFonts:vt=!1,inlineImages:Gt=!1,plugins:ut,keepIframeSrcFn:tn=()=>!1,ignoreCSSAttributes:At=new Set([]),errorHandler:nn,onMutation:pn,getCanvasManager:wi}=t;Gr(nn);const ns=Ye?window.parent===window:!0;let Pr=!1;if(!ns)try{window.parent.document&&(Pr=!1)}catch(st){Pr=!0}if(ns&&!s)throw new Error("emit function is required");bt!==void 0&&ke.mousemove===void 0&&(ke.mousemove=bt),rt.reset();const rs=Ae===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:xe!==void 0?xe:{},ss=we===!0||we==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:we==="all",headMetaDescKeywords:we==="all"}:we||{};jr();let os,is=0;const Bs=st=>{for(const cn of ut||[])cn.eventProcessor&&(st=cn.eventProcessor(st));return Ge&&!Pr&&(st=Ge(st)),st};Fe=(st,cn)=>{const nt=st;if(nt.timestamp=Tn(),u([Ut,"access",yt=>yt[0],"optionalAccess",yt=>yt.isFrozen,"call",yt=>yt()])&&nt.type!==$e.FullSnapshot&&!(nt.type===$e.IncrementalSnapshot&&nt.data.source===ze.Mutation)&&Ut.forEach(yt=>yt.unfreeze()),ns)u([s,"optionalCall",yt=>yt(Bs(nt),cn)]);else if(Pr){const yt={type:"rrweb",event:Bs(nt),origin:window.location.origin,isCheckout:cn};window.parent.postMessage(yt,"*")}if(nt.type===$e.FullSnapshot)os=nt,is=0;else if(nt.type===$e.IncrementalSnapshot){if(nt.data.source===ze.Mutation&&nt.data.isAttachIframe)return;is++;const yt=O&&is>=O,ot=c&&os&&nt.timestamp-os.timestamp>c;(yt||ot)&&cs(!0)}};const Lr=st=>{Fe({type:$e.IncrementalSnapshot,data:B({source:ze.Mutation},st)})},Fs=st=>Fe({type:$e.IncrementalSnapshot,data:B({source:ze.Scroll},st)}),ki=st=>Fe({type:$e.IncrementalSnapshot,data:B({source:ze.CanvasMutation},st)}),Di=st=>Fe({type:$e.IncrementalSnapshot,data:B({source:ze.AdoptedStyleSheet},st)}),Dn=new It({mutationCb:Lr,adoptedStyleSheetCb:Di}),Pn=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new ct:new Re({mirror:rt,mutationCb:Lr,stylesheetManager:Dn,recordCrossOriginIframes:Ye,wrappedEmit:Fe});for(const st of ut||[])st.getMirror&&st.getMirror({nodeMirror:rt,crossOriginIframeMirror:Pn.crossOriginIframeMirror,crossOriginIframeStyleMirror:Pn.crossOriginIframeStyleMirror});const as=new Wt,Hs=Gn(wi,{mirror:rt,win:window,mutationCb:st=>Fe({type:$e.IncrementalSnapshot,data:B({source:ze.CanvasMutation},st)}),recordCanvas:De,blockClass:N,blockSelector:D,unblockSelector:F,maxCanvasSize:St,sampling:ke.canvas,dataURLOptions:Je,errorHandler:nn}),Ur=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Me:new We({mutationCb:Lr,scrollCb:Fs,bypassOptions:{onMutation:pn,blockClass:N,blockSelector:D,unblockSelector:F,maskAllText:Q,maskTextClass:ie,unmaskTextClass:ue,maskTextSelector:ce,unmaskTextSelector:ye,inlineStylesheet:Se,maskInputOptions:rs,dataURLOptions:Je,maskAttributeFn:qe,maskTextFn:tt,maskInputFn:et,recordCanvas:De,inlineImages:Gt,sampling:ke,slimDOMOptions:ss,iframeManager:Pn,stylesheetManager:Dn,canvasManager:Hs,keepIframeSrcFn:tn,processedNodeManager:as},mirror:rt}),cs=(st=!1)=>{Fe({type:$e.Meta,data:{href:window.location.href,width:fr(),height:fn()}},st),Dn.reset(),Ur.init(),Ut.forEach(nt=>nt.lock());const cn=dr(document,{mirror:rt,blockClass:N,blockSelector:D,unblockSelector:F,maskAllText:Q,maskTextClass:ie,unmaskTextClass:ue,maskTextSelector:ce,unmaskTextSelector:ye,inlineStylesheet:Se,maskAllInputs:rs,maskAttributeFn:qe,maskInputFn:et,maskTextFn:tt,slimDOM:ss,dataURLOptions:Je,recordCanvas:De,inlineImages:Gt,onSerialize:nt=>{vn(nt,rt)&&Pn.addIframe(nt),jn(nt,rt)&&Dn.trackLinkElement(nt),Wn(nt)&&Ur.addShadowRoot(nt.shadowRoot,document)},onIframeLoad:(nt,yt)=>{Pn.attachIframe(nt,yt),Ur.observeAttachShadow(nt)},onStylesheetLoad:(nt,yt)=>{Dn.attachLinkElement(nt,yt)},keepIframeSrcFn:tn});if(!cn)return console.warn("Failed to snapshot the document");Fe({type:$e.FullSnapshot,data:{node:cn,initialOffset:Bn(window)}}),Ut.forEach(nt=>nt.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Dn.adoptStyleSheets(document.adoptedStyleSheets,rt.getId(document))};Kt=cs;try{const st=[],cn=yt=>Be(se)({onMutation:pn,mutationCb:Lr,mousemoveCb:(ot,Ln)=>Fe({type:$e.IncrementalSnapshot,data:{source:Ln,positions:ot}}),mouseInteractionCb:ot=>Fe({type:$e.IncrementalSnapshot,data:B({source:ze.MouseInteraction},ot)}),scrollCb:Fs,viewportResizeCb:ot=>Fe({type:$e.IncrementalSnapshot,data:B({source:ze.ViewportResize},ot)}),inputCb:ot=>Fe({type:$e.IncrementalSnapshot,data:B({source:ze.Input},ot)}),mediaInteractionCb:ot=>Fe({type:$e.IncrementalSnapshot,data:B({source:ze.MediaInteraction},ot)}),styleSheetRuleCb:ot=>Fe({type:$e.IncrementalSnapshot,data:B({source:ze.StyleSheetRule},ot)}),styleDeclarationCb:ot=>Fe({type:$e.IncrementalSnapshot,data:B({source:ze.StyleDeclaration},ot)}),canvasMutationCb:ki,fontCb:ot=>Fe({type:$e.IncrementalSnapshot,data:B({source:ze.Font},ot)}),selectionCb:ot=>{Fe({type:$e.IncrementalSnapshot,data:B({source:ze.Selection},ot)})},customElementCb:ot=>{Fe({type:$e.IncrementalSnapshot,data:B({source:ze.CustomElement},ot)})},blockClass:N,ignoreClass:G,ignoreSelector:j,maskAllText:Q,maskTextClass:ie,unmaskTextClass:ue,maskTextSelector:ce,unmaskTextSelector:ye,maskInputOptions:rs,inlineStylesheet:Se,sampling:ke,recordCanvas:De,inlineImages:Gt,userTriggeredOnInput:Rt,collectFonts:vt,doc:yt,maskAttributeFn:qe,maskInputFn:et,maskTextFn:tt,keepIframeSrcFn:tn,blockSelector:D,unblockSelector:F,slimDOMOptions:ss,dataURLOptions:Je,mirror:rt,iframeManager:Pn,stylesheetManager:Dn,shadowDomManager:Ur,processedNodeManager:as,canvasManager:Hs,ignoreCSSAttributes:At,plugins:u([ut,"optionalAccess",ot=>ot.filter,"call",ot=>ot(Ln=>Ln.observer),"optionalAccess",ot=>ot.map,"call",ot=>ot(Ln=>({observer:Ln.observer,options:Ln.options,callback:Pi=>Fe({type:$e.Plugin,data:{plugin:Ln.name,payload:Pi}})}))])||[]},{});Pn.addLoadListener(yt=>{try{st.push(cn(yt.contentDocument))}catch(ot){console.warn(ot)}});const nt=()=>{cs(),st.push(cn(document))};return document.readyState==="interactive"||document.readyState==="complete"?nt():(st.push(Ve("DOMContentLoaded",()=>{Fe({type:$e.DomContentLoaded,data:{}}),pt==="DOMContentLoaded"&&nt()})),st.push(Ve("load",()=>{Fe({type:$e.Load,data:{}}),pt==="load"&&nt()},window))),()=>{st.forEach(yt=>yt()),as.destroy(),Kt=void 0,zr()}}catch(st){console.warn(st)}}function Rn(t){if(!Kt)throw new Error("please take full snapshot after start recording");Kt(t)}Mt.mirror=rt,Mt.takeFullSnapshot=Rn;function Gn(t,s){try{return t?t(s):new Ke}catch(c){return console.warn("Unable to initialize CanvasManager"),new Ke}}const zn=3,nr=5;function An(t){return t>9999999999?t:t*1e3}function Nn(t){return t>9999999999?t/1e3:t}function kt(t,s){s.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(s.category)?t.triggerUserActivity():t.checkAndHandleExpiredSession(),t.addUpdate(()=>(t.throttledAddEvent({type:$e.Custom,timestamp:(s.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:v.normalize(s,10,1e3)}}),s.category==="console")))}const en="button,a";function Mn(t){return t.closest(en)||t}function xt(t){const s=Jt(t);return!s||!(s instanceof Element)?s:Mn(s)}function Jt(t){return wn(t)?t.target:t}function wn(t){return typeof t=="object"&&!!t&&"target"in t}let an;function Or(t){return an||(an=[],Rr()),an.push(t),()=>{const s=an?an.indexOf(t):-1;s>-1&&an.splice(s,1)}}function Rr(){v.fill(E,"open",function(t){return function(...s){if(an)try{an.forEach(c=>c())}catch(c){}return t.apply(E,s)}})}function Ar(t,s,c){t.handleClick(s,c)}class rr{constructor(s,c,O=kt){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=c.timeout/1e3,this._threshold=c.threshold/1e3,this._scollTimeout=c.scrollTimeout/1e3,this._replay=s,this._ignoreSelector=c.ignoreSelector,this._addBreadcrumbEvent=O}addListeners(){const s=Or(()=>{this._lastMutation=$t()});this._teardown=()=>{s(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(s,c){if(gt(c,this._ignoreSelector)||!Et(s))return;const O={timestamp:Nn(s.timestamp),clickBreadcrumb:s,clickCount:0,node:c};this._clicks.some(N=>N.node===O.node&&Math.abs(N.timestamp-O.timestamp)<1)||(this._clicks.push(O),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(s=Date.now()){this._lastMutation=Nn(s)}registerScroll(s=Date.now()){this._lastScroll=Nn(s)}registerClick(s){const c=Mn(s);this._handleMultiClick(c)}_handleMultiClick(s){this._getClicks(s).forEach(c=>{c.clickCount++})}_getClicks(s){return this._clicks.filter(c=>c.node===s)}_checkClicks(){const s=[],c=$t();this._clicks.forEach(O=>{!O.mutationAfter&&this._lastMutation&&(O.mutationAfter=O.timestamp<=this._lastMutation?this._lastMutation-O.timestamp:void 0),!O.scrollAfter&&this._lastScroll&&(O.scrollAfter=O.timestamp<=this._lastScroll?this._lastScroll-O.timestamp:void 0),O.timestamp+this._timeout<=c&&s.push(O)});for(const O of s){const N=this._clicks.indexOf(O);N>-1&&(this._generateBreadcrumbs(O),this._clicks.splice(N,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(s){const c=this._replay,O=s.scrollAfter&&s.scrollAfter<=this._scollTimeout,N=s.mutationAfter&&s.mutationAfter<=this._threshold,D=!O&&!N,{clickCount:F,clickBreadcrumb:G}=s;if(D){const j=Math.min(s.mutationAfter||this._timeout,this._timeout)*1e3,Q=j<this._timeout*1e3?"mutation":"timeout",ie={type:"default",message:G.message,timestamp:G.timestamp,category:"ui.slowClickDetected",data:Ie(B({},G.data),{url:E.location.href,route:c.getCurrentRoute(),timeAfterClickMs:j,endReason:Q,clickCount:F||1})};this._addBreadcrumbEvent(c,ie);return}if(F>1){const j={type:"default",message:G.message,timestamp:G.timestamp,category:"ui.multiClick",data:Ie(B({},G.data),{url:E.location.href,route:c.getCurrentRoute(),clickCount:F,metric:!0})};this._addBreadcrumbEvent(c,j)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=T.setTimeout(()=>this._checkClicks(),1e3)}}const $s=["A","BUTTON","INPUT"];function gt(t,s){return!!(!$s.includes(t.tagName)||t.tagName==="INPUT"&&!["submit","button"].includes(t.getAttribute("type")||"")||t.tagName==="A"&&(t.hasAttribute("download")||t.hasAttribute("target")&&t.getAttribute("target")!=="_self")||s&&t.matches(s))}function Et(t){return!!(t.data&&typeof t.data.nodeId=="number"&&t.timestamp)}function $t(){return Date.now()/1e3}function Ot(t,s){try{if(!Bt(s))return;const{source:c}=s.data;if(c===ze.Mutation&&t.registerMutation(s.timestamp),c===ze.Scroll&&t.registerScroll(s.timestamp),sr(s)){const{type:O,id:N}=s.data,D=Mt.mirror.getNode(N);D instanceof HTMLElement&&O===wt.Click&&t.registerClick(D)}}catch(c){}}function Bt(t){return t.type===zn}function sr(t){return t.data.source===ze.MouseInteraction}function Dt(t){return B({timestamp:Date.now()/1e3,type:"default"},t)}var Yn;(function(t){t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment"})(Yn||(Yn={}));const Gs=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function zs(t){const s={};!t["data-sentry-component"]&&t["data-sentry-element"]&&(t["data-sentry-component"]=t["data-sentry-element"]);for(const c in t)if(Gs.has(c)){let O=c;(c==="data-testid"||c==="data-test-id")&&(O="testId"),s[O]=t[c]}return s}const Ys=t=>s=>{if(!t.isEnabled())return;const c=Vs(s);if(!c)return;const O=s.name==="click",N=O?s.event:void 0;O&&t.clickDetector&&N&&N.target&&!N.altKey&&!N.metaKey&&!N.ctrlKey&&!N.shiftKey&&Ar(t.clickDetector,c,xt(s.event)),kt(t,c)};function us(t,s){const c=Mt.mirror.getId(t),O=c&&Mt.mirror.getNode(c),N=O&&Mt.mirror.getMeta(O),D=N&&Js(N)?N:null;return{message:s,data:D?{nodeId:c,node:{id:c,tagName:D.tagName,textContent:Array.from(D.childNodes).map(F=>F.type===Yn.Text&&F.textContent).filter(Boolean).map(F=>F.trim()).join(""),attributes:zs(D.attributes)}}:{}}}function Vs(t){const{target:s,message:c}=Ks(t);return Dt(B({category:`ui.${t.name}`},us(s,c)))}function Ks(t){const s=t.name==="click";let c,O=null;try{O=s?xt(t.event):Jt(t.event),c=v.htmlTreeAsString(O,{maxStringLength:200})||"<unknown>"}catch(N){c="<unknown>"}return{target:O,message:c}}function Js(t){return t.type===Yn.Element}function Xs(t,s){if(!t.isEnabled())return;t.updateUserActivity();const c=Zs(s);c&&kt(t,c)}function Zs(t){const{metaKey:s,shiftKey:c,ctrlKey:O,altKey:N,key:D,target:F}=t;if(!F||Qs(F)||!D)return null;const G=s||O||N,j=D.length===1;if(!G&&j)return null;const Q=v.htmlTreeAsString(F,{maxStringLength:200})||"<unknown>",ie=us(F,Q);return Dt({category:"ui.keyDown",message:Q,data:Ie(B({},ie.data),{metaKey:s,shiftKey:c,ctrlKey:O,altKey:N,key:D})})}function Qs(t){return t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable}const ls={resource:ro,paint:to,navigation:no};function qs(t){return t.map(eo).filter(Boolean)}function eo(t){return ls[t.entryType]?ls[t.entryType](t):null}function Vn(t){return((v.browserPerformanceTimeOrigin||E.performance.timeOrigin)+t)/1e3}function to(t){const{duration:s,entryType:c,name:O,startTime:N}=t,D=Vn(N);return{type:c,name:O,start:D,end:D+s,data:void 0}}function no(t){const{entryType:s,name:c,decodedBodySize:O,duration:N,domComplete:D,encodedBodySize:F,domContentLoadedEventStart:G,domContentLoadedEventEnd:j,domInteractive:Q,loadEventStart:ie,loadEventEnd:ue,redirectCount:ce,startTime:ye,transferSize:Se,type:Ae}=t;return N===0?null:{type:`${s}.${Ae}`,start:Vn(ye),end:Vn(D),name:c,data:{size:Se,decodedBodySize:O,encodedBodySize:F,duration:N,domInteractive:Q,domContentLoadedEventStart:G,domContentLoadedEventEnd:j,loadEventStart:ie,loadEventEnd:ue,domComplete:D,redirectCount:ce}}}function ro(t){const{entryType:s,initiatorType:c,name:O,responseEnd:N,startTime:D,decodedBodySize:F,encodedBodySize:G,responseStatus:j,transferSize:Q}=t;return["fetch","xmlhttprequest"].includes(c)?null:{type:`${s}.${c}`,start:Vn(D),end:Vn(N),name:O,data:{size:Q,statusCode:j,decodedBodySize:F,encodedBodySize:G}}}function so(t){const s=t.entries,c=s[s.length-1],O=c?c.element:void 0,N=t.value,D=Vn(N);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:D,end:D,data:{value:N,size:N,nodeId:O?Mt.mirror.getId(O):void 0}}}function oo(t){function s(N){t.performanceEntries.includes(N)||t.performanceEntries.push(N)}function c({entries:N}){N.forEach(s)}const O=[];return["navigation","paint","resource"].forEach(N=>{O.push(T.addPerformanceInstrumentationHandler(N,c))}),O.push(T.addLcpInstrumentationHandler(({metric:N})=>{t.replayPerformanceEntries.push(so(N))})),()=>{O.forEach(N=>N())}}const dt=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__,io='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(J)return J.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function ao(){const t=new Blob([io]);return URL.createObjectURL(t)}function Xt(t,s){dt&&(v.logger.info(t),s&&ds(t))}function kn(t,s){dt&&(v.logger.info(t),s&&T.setTimeout(()=>{ds(t)},0))}function ds(t){g.addBreadcrumb({category:"console",data:{logger:"replay"},level:"info",message:t},{level:"info"})}class Vr extends Error{constructor(){super(`Event buffer exceeded maximum size of ${S}.`)}}class fs{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}addEvent(s){return Oe(this,null,function*(){const c=JSON.stringify(s).length;if(this._totalSize+=c,this._totalSize>S)throw new Vr;this.events.push(s)})}finish(){return new Promise(s=>{const c=this.events;this.clear(),s(JSON.stringify(c))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const s=this.events.map(c=>c.timestamp).sort()[0];return s?An(s):null}}class co{constructor(s){this._worker=s,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((s,c)=>{this._worker.addEventListener("message",({data:O})=>{O.success?s():c()},{once:!0}),this._worker.addEventListener("error",O=>{c(O)},{once:!0})}),this._ensureReadyPromise)}destroy(){Xt("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(s,c){const O=this._getAndIncrementId();return new Promise((N,D)=>{const F=({data:G})=>{const j=G;if(j.method===s&&j.id===O){if(this._worker.removeEventListener("message",F),!j.success){dt&&v.logger.error("[Replay]",j.response),D(new Error("Error in compression worker"));return}N(j.response)}};this._worker.addEventListener("message",F),this._worker.postMessage({id:O,method:s,arg:c})})}_getAndIncrementId(){return this._id++}}class uo{constructor(s){this._worker=new co(s),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(s){const c=An(s.timestamp);(!this._earliestTimestamp||c<this._earliestTimestamp)&&(this._earliestTimestamp=c);const O=JSON.stringify(s);return this._totalSize+=O.length,this._totalSize>S?Promise.reject(new Vr):this._sendEventToWorker(O)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,s=>{dt&&v.logger.warn('[Replay] Sending "clear" message to worker failed',s)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(s){return this._worker.postMessage("addEvent",s)}_finishRequest(){return Oe(this,null,function*(){const s=yield this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,s})}}class lo{constructor(s){this._fallback=new fs,this._compression=new uo(s),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(s){this._used.hasCheckout=s}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(s){return this._used.addEvent(s)}finish(){return Oe(this,null,function*(){return yield this.ensureWorkerIsLoaded(),this._used.finish()})}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}_ensureWorkerIsLoaded(){return Oe(this,null,function*(){try{yield this._compression.ensureReady()}catch(s){Xt("[Replay] Failed to load the compression worker, falling back to simple buffer");return}yield this._switchToCompressionWorker()})}_switchToCompressionWorker(){return Oe(this,null,function*(){const{events:s,hasCheckout:c}=this._fallback,O=[];for(const N of s)O.push(this._compression.addEvent(N));this._compression.hasCheckout=c,this._used=this._compression;try{yield Promise.all(O)}catch(N){dt&&v.logger.warn("[Replay] Failed to add events when switching buffers.",N)}})}}function fo({useCompression:t,workerUrl:s}){if(t&&window.Worker){const c=po(s);if(c)return c}return Xt("[Replay] Using simple buffer"),new fs}function po(t){try{const s=t||ho();if(!s)return;Xt(`[Replay] Using compression worker${t?` from ${t}`:""}`);const c=new Worker(s);return new lo(c)}catch(s){Xt("[Replay] Failed to create compression worker")}}function ho(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__=="undefined"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?ao():""}function Kr(){try{return"sessionStorage"in E&&!!E.sessionStorage}catch(t){return!1}}function mo(t){go(),t.session=void 0}function go(){if(Kr())try{E.sessionStorage.removeItem(y)}catch(t){}}function ps(t){return t===void 0?!1:Math.random()<t}function hs(t){const s=Date.now(),c=t.id||v.uuid4(),O=t.started||s,N=t.lastActivity||s,D=t.segmentId||0,F=t.sampled,G=t.previousSessionId;return{id:c,started:O,lastActivity:N,segmentId:D,sampled:F,previousSessionId:G}}function Jr(t){if(Kr())try{E.sessionStorage.setItem(y,JSON.stringify(t))}catch(s){}}function So(t,s){return ps(t)?"session":s?"buffer":!1}function ms({sessionSampleRate:t,allowBuffering:s,stickySession:c=!1},{previousSessionId:O}={}){const N=So(t,s),D=hs({sampled:N,previousSessionId:O});return c&&Jr(D),D}function yo(t){if(!Kr())return null;try{const s=E.sessionStorage.getItem(y);if(!s)return null;const c=JSON.parse(s);return kn("[Replay] Loading existing session",t),hs(c)}catch(s){return null}}function Xr(t,s,c=+new Date){return t===null||s===void 0||s<0?!0:s===0?!1:t+s<=c}function gs(t,{maxReplayDuration:s,sessionIdleExpire:c,targetTime:O=Date.now()}){return Xr(t.started,s,O)||Xr(t.lastActivity,c,O)}function Ss(t,{sessionIdleExpire:s,maxReplayDuration:c}){return!(!gs(t,{sessionIdleExpire:s,maxReplayDuration:c})||t.sampled==="buffer"&&t.segmentId===0)}function Zr({traceInternals:t,sessionIdleExpire:s,maxReplayDuration:c,previousSessionId:O},N){const D=N.stickySession&&yo(t);return D?Ss(D,{sessionIdleExpire:s,maxReplayDuration:c})?(kn("[Replay] Session in sessionStorage is expired, creating new one..."),ms(N,{previousSessionId:D.id})):D:(kn("[Replay] Creating new session",t),ms(N,{previousSessionId:O}))}function _o(t){return t.type===$e.Custom}function Qr(t,s,c){return _s(t,s)?(ys(t,s,c),!0):!1}function Eo(t,s,c){return _s(t,s)?ys(t,s,c):Promise.resolve(null)}function ys(t,s,c){return Oe(this,null,function*(){if(!t.eventBuffer)return null;try{c&&t.recordingMode==="buffer"&&t.eventBuffer.clear(),c&&(t.eventBuffer.hasCheckout=!0);const O=t.getOptions(),N=bo(s,O.beforeAddRecordingEvent);return N?yield t.eventBuffer.addEvent(N):void 0}catch(O){const N=O&&O instanceof Vr?"addEventSizeExceeded":"addEvent";dt&&v.logger.error(O),yield t.stop({reason:N});const D=g.getClient();D&&D.recordDroppedEvent("internal_sdk_error","replay")}})}function _s(t,s){if(!t.eventBuffer||t.isPaused()||!t.isEnabled())return!1;const c=An(s.timestamp);return c+t.timeouts.sessionIdlePause<Date.now()?!1:c>t.getContext().initialTimestamp+t.getOptions().maxReplayDuration?(kn(`[Replay] Skipping event with timestamp ${c} because it is after maxReplayDuration`,t.getOptions()._experiments.traceInternals),!1):!0}function bo(t,s){try{if(typeof s=="function"&&_o(t))return s(t)}catch(c){return dt&&v.logger.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",c),null}return t}function qr(t){return!t.type}function es(t){return t.type==="transaction"}function To(t){return t.type==="replay_event"}function Es(t){return t.type==="feedback"}function Io(t){return(s,c)=>{if(!t.isEnabled()||!qr(s)&&!es(s))return;const O=c&&c.statusCode;if(!(!O||O<200||O>=300)){if(es(s)){vo(t,s);return}Co(t,s)}}}function vo(t,s){const c=t.getContext();s.contexts&&s.contexts.trace&&s.contexts.trace.trace_id&&c.traceIds.size<100&&c.traceIds.add(s.contexts.trace.trace_id)}function Co(t,s){const c=t.getContext();if(s.event_id&&c.errorIds.size<100&&c.errorIds.add(s.event_id),t.recordingMode!=="buffer"||!s.tags||!s.tags.replayId)return;const{beforeErrorSampling:O}=t.getOptions();typeof O=="function"&&!O(s)||T.setTimeout(()=>{t.sendBufferedReplayOrFlush()})}function Oo(t){return s=>{!t.isEnabled()||!qr(s)||Ro(t,s)}}function Ro(t,s){const c=s.exception&&s.exception.values&&s.exception.values[0].value;if(typeof c=="string"&&(c.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||c.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const O=Dt({category:"replay.hydrate-error"});kt(t,O)}}function Ao(t){const s=g.getClient();s&&s.on("beforeAddBreadcrumb",c=>No(t,c))}function No(t,s){if(!t.isEnabled()||!bs(s))return;const c=Mo(s);c&&kt(t,c)}function Mo(t){return!bs(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui.")?null:t.category==="console"?wo(t):Dt(t)}function wo(t){const s=t.data&&t.data.arguments;if(!Array.isArray(s)||s.length===0)return Dt(t);let c=!1;const O=s.map(N=>{if(!N)return N;if(typeof N=="string")return N.length>r?(c=!0,`${N.slice(0,r)}\u2026`):N;if(typeof N=="object")try{const D=v.normalize(N,7);return JSON.stringify(D).length>r?(c=!0,`${JSON.stringify(D,null,2).slice(0,r)}\u2026`):D}catch(D){}return N});return Dt(Ie(B({},t),{data:B(Ie(B({},t.data),{arguments:O}),c?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}))}function bs(t){return!!t.category}function ko(t,s){return t.type||!t.exception||!t.exception.values||!t.exception.values.length?!1:!!(s.originalException&&s.originalException.__rrweb__)}function Do(t,s){t.triggerUserActivity(),t.addUpdate(()=>s.timestamp?(t.throttledAddEvent({type:$e.Custom,timestamp:s.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:s.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:s.event_id}}}}),!1):!0)}function Po(t,s){return t.recordingMode!=="buffer"||s.message===h||!s.exception||s.type?!1:ps(t.getOptions().errorSampleRate)}function Lo(t){return Object.assign((s,c)=>t.isEnabled()?To(s)?(delete s.breadcrumbs,s):!qr(s)&&!es(s)&&!Es(s)||!t.checkAndHandleExpiredSession()?s:Es(s)?(t.flush(),s.contexts.feedback.replay_id=t.getSessionId(),Do(t,s),s):ko(s,c)&&!t.getOptions()._experiments.captureExceptions?(dt&&v.logger.log("[Replay] Ignoring error from rrweb internals",s),null):((Po(t,s)||t.recordingMode==="session")&&(s.tags=Ie(B({},s.tags),{replayId:t.getSessionId()})),s):s,{id:"Replay"})}function Nr(t,s){return s.map(({type:c,start:O,end:N,name:D,data:F})=>{const G=t.throttledAddEvent({type:$e.Custom,timestamp:O,data:{tag:"performanceSpan",payload:{op:c,description:D,startTimestamp:O,endTimestamp:N,data:F}}});return typeof G=="string"?Promise.resolve(null):G})}function Uo(t){const{from:s,to:c}=t,O=Date.now()/1e3;return{type:"navigation.push",start:O,end:O,name:c,data:{previous:s}}}function Bo(t){return s=>{if(!t.isEnabled())return;const c=Uo(s);c!==null&&(t.getContext().urls.push(c.name),t.triggerUserActivity(),t.addUpdate(()=>(Nr(t,[c]),!1)))}}function Fo(t,s){return dt&&t.getOptions()._experiments.traceInternals?!1:g.isSentryRequestUrl(s,g.getClient())}function Ts(t,s){t.isEnabled()&&s!==null&&(Fo(t,s.name)||t.addUpdate(()=>(Nr(t,[s]),!0)))}function Mr(t){if(!t)return;const s=new TextEncoder;try{if(typeof t=="string")return s.encode(t).length;if(t instanceof URLSearchParams)return s.encode(t.toString()).length;if(t instanceof FormData){const c=Os(t);return s.encode(c).length}if(t instanceof Blob)return t.size;if(t instanceof ArrayBuffer)return t.byteLength}catch(c){}}function Is(t){if(!t)return;const s=parseInt(t,10);return isNaN(s)?void 0:s}function vs(t){try{if(typeof t=="string")return[t];if(t instanceof URLSearchParams)return[t.toString()];if(t instanceof FormData)return[Os(t)];if(!t)return[void 0]}catch(s){return dt&&v.logger.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return dt&&v.logger.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function wr(t,s){if(!t)return{headers:{},size:void 0,_meta:{warnings:[s]}};const c=B({},t._meta),O=c.warnings||[];return c.warnings=[...O,s],t._meta=c,t}function Cs(t,s){if(!s)return null;const{startTimestamp:c,endTimestamp:O,url:N,method:D,statusCode:F,request:G,response:j}=s;return{type:t,start:c/1e3,end:O/1e3,name:N,data:v.dropUndefinedKeys({method:D,statusCode:F,request:G,response:j})}}function or(t){return{headers:{},size:t,_meta:{warnings:["URL_SKIPPED"]}}}function yn(t,s,c){if(!s&&Object.keys(t).length===0)return;if(!s)return{headers:t};if(!c)return{headers:t,size:s};const O={headers:t,size:s},{body:N,warnings:D}=Ho(c);return O.body=N,D&&D.length>0&&(O._meta={warnings:D}),O}function ts(t,s){return Object.keys(t).reduce((c,O)=>{const N=O.toLowerCase();return s.includes(N)&&t[O]&&(c[N]=t[O]),c},{})}function Os(t){return new URLSearchParams(t).toString()}function Ho(t){if(!t||typeof t!="string")return{body:t};const s=t.length>_,c=jo(t);if(s){const O=t.slice(0,_);return c?{body:O,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${O}\u2026`,warnings:["TEXT_TRUNCATED"]}}if(c)try{return{body:JSON.parse(t)}}catch(O){}return{body:t}}function jo(t){const s=t[0],c=t[t.length-1];return s==="["&&c==="]"||s==="{"&&c==="}"}function kr(t,s){const c=Wo(t);return v.stringMatchesSomePattern(c,s)}function Wo(t,s=E.document.baseURI){if(t.startsWith("http://")||t.startsWith("https://")||t.startsWith(E.location.origin))return t;const c=new URL(t,s);if(c.origin!==new URL(s).origin)return t;const O=c.href;return!t.endsWith("/")&&O.endsWith("/")?O.slice(0,-1):O}function xo(t,s,c){return Oe(this,null,function*(){try{const O=yield Go(t,s,c),N=Cs("resource.fetch",O);Ts(c.replay,N)}catch(O){dt&&v.logger.error("[Replay] Failed to capture fetch breadcrumb",O)}})}function $o(t,s){const{input:c,response:O}=s,N=c?Rs(c):void 0,D=Mr(N),F=O?Is(O.headers.get("content-length")):void 0;D!==void 0&&(t.data.request_body_size=D),F!==void 0&&(t.data.response_body_size=F)}function Go(t,s,c){return Oe(this,null,function*(){const O=Date.now(),{startTimestamp:N=O,endTimestamp:D=O}=s,{url:F,method:G,status_code:j=0,request_body_size:Q,response_body_size:ie}=t.data,ue=kr(F,c.networkDetailAllowUrls)&&!kr(F,c.networkDetailDenyUrls),ce=ue?zo(c,s.input,Q):or(Q),ye=yield Yo(ue,c,s.response,ie);return{startTimestamp:N,endTimestamp:D,url:F,method:G,statusCode:j,request:ce,response:ye}})}function zo({networkCaptureBodies:t,networkRequestHeaders:s},c,O){const N=c?Jo(c,s):{};if(!t)return yn(N,O,void 0);const D=Rs(c),[F,G]=vs(D),j=yn(N,O,F);return G?wr(j,G):j}function Yo(D,F,G,j){return Oe(this,arguments,function*(t,{networkCaptureBodies:s,networkResponseHeaders:c},O,N){if(!t&&N!==void 0)return or(N);const Q=O?As(O.headers,c):{};if(!O||!s&&N!==void 0)return yn(Q,N,void 0);const[ie,ue]=yield Ko(O),ce=Vo(ie,{networkCaptureBodies:s,responseBodySize:N,captureDetails:t,headers:Q});return ue?wr(ce,ue):ce})}function Vo(t,{networkCaptureBodies:s,responseBodySize:c,captureDetails:O,headers:N}){try{const D=t&&t.length&&c===void 0?Mr(t):c;return O?s?yn(N,D,t):yn(N,D,void 0):or(D)}catch(D){return dt&&v.logger.warn("[Replay] Failed to serialize response body",D),yn(N,c,void 0)}}function Ko(t){return Oe(this,null,function*(){const s=Xo(t);if(!s)return[void 0,"BODY_PARSE_ERROR"];try{return[yield Zo(s)]}catch(c){return dt&&v.logger.warn("[Replay] Failed to get text body from response",c),[void 0,"BODY_PARSE_ERROR"]}})}function Rs(t=[]){if(!(t.length!==2||typeof t[1]!="object"))return t[1].body}function As(t,s){const c={};return s.forEach(O=>{t.get(O)&&(c[O]=t.get(O))}),c}function Jo(t,s){return t.length===1&&typeof t[0]!="string"?Ns(t[0],s):t.length===2?Ns(t[1],s):{}}function Ns(t,s){if(!t)return{};const c=t.headers;return c?c instanceof Headers?As(c,s):Array.isArray(c)?{}:ts(c,s):{}}function Xo(t){try{return t.clone()}catch(s){dt&&v.logger.warn("[Replay] Failed to clone response body",s)}}function Zo(t){return new Promise((s,c)=>{const O=T.setTimeout(()=>c(new Error("Timeout while trying to read response body")),500);Qo(t).then(N=>s(N),N=>c(N)).finally(()=>clearTimeout(O))})}function Qo(t){return Oe(this,null,function*(){return yield t.text()})}function qo(t,s,c){return Oe(this,null,function*(){try{const O=ti(t,s,c),N=Cs("resource.xhr",O);Ts(c.replay,N)}catch(O){dt&&v.logger.error("[Replay] Failed to capture xhr breadcrumb",O)}})}function ei(t,s){const{xhr:c,input:O}=s;if(!c)return;const N=Mr(O),D=c.getResponseHeader("content-length")?Is(c.getResponseHeader("content-length")):oi(c.response,c.responseType);N!==void 0&&(t.data.request_body_size=N),D!==void 0&&(t.data.response_body_size=D)}function ti(t,s,c){const O=Date.now(),{startTimestamp:N=O,endTimestamp:D=O,input:F,xhr:G}=s,{url:j,method:Q,status_code:ie=0,request_body_size:ue,response_body_size:ce}=t.data;if(!j)return null;if(!G||!kr(j,c.networkDetailAllowUrls)||kr(j,c.networkDetailDenyUrls)){const Ge=or(ue),ke=or(ce);return{startTimestamp:N,endTimestamp:D,url:j,method:Q,statusCode:ie,request:Ge,response:ke}}const ye=G[T.SENTRY_XHR_DATA_KEY],Se=ye?ts(ye.request_headers,c.networkRequestHeaders):{},Ae=ts(ni(G),c.networkResponseHeaders),[xe,we]=c.networkCaptureBodies?vs(F):[void 0],[qe,et]=c.networkCaptureBodies?ri(G):[void 0],tt=yn(Se,ue,xe),St=yn(Ae,ce,qe);return{startTimestamp:N,endTimestamp:D,url:j,method:Q,statusCode:ie,request:we?wr(tt,we):tt,response:et?wr(St,et):St}}function ni(t){const s=t.getAllResponseHeaders();return s?s.split(`\r
`).reduce((c,O)=>{const[N,D]=O.split(": ");return c[N.toLowerCase()]=D,c},{}):{}}function ri(t){const s=[];try{return[t.responseText]}catch(c){s.push(c)}try{return si(t.response,t.responseType)}catch(c){s.push(c)}return dt&&v.logger.warn("[Replay] Failed to get xhr response body",...s),[void 0]}function si(t,s){try{if(typeof t=="string")return[t];if(t instanceof Document)return[t.body.outerHTML];if(s==="json"&&t&&typeof t=="object")return[JSON.stringify(t)];if(!t)return[void 0]}catch(c){return dt&&v.logger.warn("[Replay] Failed to serialize body",t),[void 0,"BODY_PARSE_ERROR"]}return dt&&v.logger.info("[Replay] Skipping network body because of body type",t),[void 0,"UNPARSEABLE_BODY_TYPE"]}function oi(t,s){try{const c=s==="json"&&t&&typeof t=="object"?JSON.stringify(t):t;return Mr(c)}catch(c){return}}function ii(t){const s=g.getClient();try{const{networkDetailAllowUrls:c,networkDetailDenyUrls:O,networkCaptureBodies:N,networkRequestHeaders:D,networkResponseHeaders:F}=t.getOptions(),G={replay:t,networkDetailAllowUrls:c,networkDetailDenyUrls:O,networkCaptureBodies:N,networkRequestHeaders:D,networkResponseHeaders:F};s&&s.on("beforeAddBreadcrumb",(j,Q)=>ai(G,j,Q))}catch(c){}}function ai(t,s,c){if(s.data)try{ci(s)&&li(c)&&(ei(s,c),qo(s,c,t)),ui(s)&&di(c)&&($o(s,c),xo(s,c,t))}catch(O){dt&&v.logger.warn("Error when enriching network breadcrumb")}}function ci(t){return t.category==="xhr"}function ui(t){return t.category==="fetch"}function li(t){return t&&t.xhr}function di(t){return t&&t.response}function fi(t){const s=g.getClient();T.addClickKeypressInstrumentationHandler(Ys(t)),T.addHistoryInstrumentationHandler(Bo(t)),Ao(t),ii(t);const c=Lo(t);g.addEventProcessor(c),s&&(s.on("beforeSendEvent",Oo(t)),s.on("afterSendEvent",Io(t)),s.on("createDsc",O=>{const N=t.getSessionId();N&&t.isEnabled()&&t.recordingMode==="session"&&t.checkAndHandleExpiredSession()&&(O.replay_id=N)}),s.on("spanStart",O=>{t.lastActiveSpan=O}),s.on("spanEnd",O=>{t.lastActiveSpan=O}),s.on("beforeSendFeedback",(O,N)=>{const D=t.getSessionId();N&&N.includeReplay&&t.isEnabled()&&D&&O.contexts&&O.contexts.feedback&&(O.contexts.feedback.replay_id=D)}))}function pi(t){return Oe(this,null,function*(){try{return Promise.all(Nr(t,[hi(E.performance.memory)]))}catch(s){return[]}})}function hi(t){const{jsHeapSizeLimit:s,totalJSHeapSize:c,usedJSHeapSize:O}=t,N=Date.now()/1e3;return{type:"memory",name:"memory",start:N,end:N,data:{memory:{jsHeapSizeLimit:s,totalJSHeapSize:c,usedJSHeapSize:O}}}}function mi(t,s,c){let O,N,D;const F=c&&c.maxWait?Math.max(c.maxWait,s):0;function G(){return j(),O=t(),O}function j(){N!==void 0&&clearTimeout(N),D!==void 0&&clearTimeout(D),N=D=void 0}function Q(){return N!==void 0||D!==void 0?G():O}function ie(){return N&&clearTimeout(N),N=T.setTimeout(G,s),F&&D===void 0&&(D=T.setTimeout(G,F)),O}return ie.cancel=j,ie.flush=Q,ie}function gi(t){let s=!1;return(c,O)=>{if(!t.checkAndHandleExpiredSession()){dt&&v.logger.warn("[Replay] Received replay event after session expired.");return}const N=O||!s;s=!0,t.clickDetector&&Ot(t.clickDetector,c),t.addUpdate(()=>{if(t.recordingMode==="buffer"&&N&&t.setInitialState(),!Qr(t,c,N))return!0;if(!N)return!1;if(yi(t,N),t.session&&t.session.previousSessionId)return!0;if(t.recordingMode==="buffer"&&t.session&&t.eventBuffer){const D=t.eventBuffer.getEarliestTimestamp();D&&(Xt(`[Replay] Updating session start time to earliest event in buffer to ${new Date(D)}`,t.getOptions()._experiments.traceInternals),t.session.started=D,t.getOptions().stickySession&&Jr(t.session))}return t.recordingMode==="session"&&t.flush(),!0})}}function Si(t){const s=t.getOptions();return{type:$e.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:t.isRecordingCanvas(),sessionSampleRate:s.sessionSampleRate,errorSampleRate:s.errorSampleRate,useCompressionOption:s.useCompression,blockAllMedia:s.blockAllMedia,maskAllText:s.maskAllText,maskAllInputs:s.maskAllInputs,useCompression:t.eventBuffer?t.eventBuffer.type==="worker":!1,networkDetailHasUrls:s.networkDetailAllowUrls.length>0,networkCaptureBodies:s.networkCaptureBodies,networkRequestHasHeaders:s.networkRequestHeaders.length>0,networkResponseHasHeaders:s.networkResponseHeaders.length>0}}}}function yi(t,s){!s||!t.session||t.session.segmentId!==0||Qr(t,Si(t),!1)}function _i(t,s,c,O){return v.createEnvelope(v.createEventEnvelopeHeaders(t,v.getSdkMetadataForEnvelopeHeader(t),O,c),[[{type:"replay_event"},t],[{type:"replay_recording",length:typeof s=="string"?new TextEncoder().encode(s).length:s.length},s]])}function Ei({recordingData:t,headers:s}){let c;const O=`${JSON.stringify(s)}
`;if(typeof t=="string")c=`${O}${t}`;else{const D=new TextEncoder().encode(O);c=new Uint8Array(D.length+t.length),c.set(D),c.set(t,D.length)}return c}function bi(N){return Oe(this,arguments,function*({client:t,scope:s,replayId:c,event:O}){const D=typeof t._integrations=="object"&&t._integrations!==null&&!Array.isArray(t._integrations)?Object.keys(t._integrations):void 0,F={event_id:c,integrations:D};t.emit("preprocessEvent",O,F);const G=yield g.prepareEvent(t.getOptions(),O,F,s,t,g.getIsolationScope());if(!G)return null;G.platform=G.platform||"javascript";const j=t.getSdkMetadata(),{name:Q,version:ie}=j&&j.sdk||{};return G.sdk=Ie(B({},G.sdk),{name:Q||"sentry.javascript.unknown",version:ie||"0.0.0"}),G})}function Ti(F){return Oe(this,arguments,function*({recordingData:t,replayId:s,segmentId:c,eventContext:O,timestamp:N,session:D}){const G=Ei({recordingData:t,headers:{segment_id:c}}),{urls:j,errorIds:Q,traceIds:ie,initialTimestamp:ue}=O,ce=g.getClient(),ye=g.getCurrentScope(),Se=ce&&ce.getTransport(),Ae=ce&&ce.getDsn();if(!ce||!Se||!Ae||!D.sampled)return v.resolvedSyncPromise({});const xe={type:p,replay_start_timestamp:ue/1e3,timestamp:N/1e3,error_ids:Q,trace_ids:ie,urls:j,replay_id:s,segment_id:c,replay_type:D.sampled},we=yield bi({scope:ye,client:ce,replayId:s,event:xe});if(!we)return ce.recordDroppedEvent("event_processor","replay",xe),Xt("An event processor returned `null`, will not send event."),v.resolvedSyncPromise({});delete we.sdkProcessingMetadata;const qe=_i(we,G,Ae,ce.getOptions().tunnel);let et;try{et=yield Se.send(qe)}catch(St){const Ge=new Error(h);try{Ge.cause=St}catch(ke){}throw Ge}if(typeof et.statusCode=="number"&&(et.statusCode<200||et.statusCode>=300))throw new Ms(et.statusCode);const tt=v.updateRateLimits({},et);if(v.isRateLimited(tt,"replay"))throw new ws(tt);return et})}class Ms extends Error{constructor(s){super(`Transport returned status code ${s}`)}}class ws extends Error{constructor(s){super("Rate limit hit"),this.rateLimits=s}}function ks(c){return Oe(this,arguments,function*(t,s={count:0,interval:l}){const{recordingData:O,options:N}=t;if(O.length)try{return yield Ti(t),!0}catch(D){if(D instanceof Ms||D instanceof ws)throw D;if(g.setContext("Replays",{_retryCount:s.count}),dt&&N._experiments&&N._experiments.captureExceptions&&g.captureException(D),s.count>=C){const F=new Error(`${h} - max retries exceeded`);try{F.cause=D}catch(G){}throw F}return s.interval*=++s.count,new Promise((F,G)=>{T.setTimeout(()=>Oe(this,null,function*(){try{yield ks(t,s),F(!0)}catch(j){G(j)}}),s.interval)})}})}const Ds="__THROTTLED",Ii="__SKIPPED";function vi(t,s,c){const O=new Map,N=G=>{const j=G-c;O.forEach((Q,ie)=>{ie<j&&O.delete(ie)})},D=()=>[...O.values()].reduce((G,j)=>G+j,0);let F=!1;return(...G)=>{const j=Math.floor(Date.now()/1e3);if(N(j),D()>=s){const ie=F;return F=!0,ie?Ii:Ds}F=!1;const Q=O.get(j)||0;return O.set(j,Q+1),t(...G)}}class _n{constructor({options:s,recordingOptions:c}){_n.prototype.__init.call(this),_n.prototype.__init2.call(this),_n.prototype.__init3.call(this),_n.prototype.__init4.call(this),_n.prototype.__init5.call(this),_n.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:I,sessionIdleExpire:b},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=c,this._options=s,this._debouncedFlush=mi(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=vi((F,G)=>Eo(this,F,G),300,5);const{slowClickTimeout:O,slowClickIgnoreSelectors:N}=this.getOptions(),D=O?{threshold:Math.min(n,O),timeout:O,scrollTimeout:a,ignoreSelector:N?N.join(","):""}:void 0;D&&(this.clickDetector=new rr(this,D))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}initializeSampling(s){const{errorSampleRate:c,sessionSampleRate:O}=this._options,N=c<=0&&O<=0;if(this._requiresManualStart=N,!N){if(this._initializeSessionForSampling(s),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",kn(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");kn("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const s=Zr({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=s,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");kn("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const s=Zr({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=s,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const s=this._canvas;this._stopRecording=Mt(B(Ie(B(B({},this._recordingOptions),this.recordingMode==="buffer"&&{checkoutEveryNms:m}),{emit:gi(this),onMutation:this._onMutationHandler}),s?{recordCanvas:s.recordCanvas,getCanvasManager:s.getCanvasManager,sampling:s.sampling,dataURLOptions:s.dataURLOptions}:{}))}catch(s){this._handleException(s)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(s){return this._handleException(s),!1}}stop(){return Oe(this,arguments,function*({forceFlush:s=!1,reason:c}={}){if(this._isEnabled){this._isEnabled=!1;try{Xt(`[Replay] Stopping Replay${c?` triggered by ${c}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),s&&(yield this._flush({force:!0})),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,mo(this)}catch(O){this._handleException(O)}}})}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Xt("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),Xt("[Replay] Resuming replay",this._options._experiments.traceInternals))}sendBufferedReplayOrFlush(){return Oe(this,arguments,function*({continueRecording:s=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const c=Date.now();Xt("[Replay] Converting buffer to session",this._options._experiments.traceInternals),yield this.flushImmediate();const O=this.stopRecording();!s||!O||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(c),this._updateSessionActivity(c),this._maybeSaveSession()),this.startRecording())})}addUpdate(s){const c=s();this.recordingMode!=="buffer"&&c!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Xr(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const s=`${E.location.pathname}${E.location.hash}${E.location.search}`,c=`${E.location.origin}${s}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=c,this._context.initialTimestamp=Date.now(),this._context.urls.push(c)}throttledAddEvent(s,c){const O=this._throttledAddEvent(s,c);if(O===Ds){const N=Dt({category:"replay.throttled"});this.addUpdate(()=>!Qr(this,{type:nr,timestamp:N.timestamp||0,data:{tag:"breadcrumb",payload:N,metric:!0}}))}return O}getCurrentRoute(){const s=this.lastActiveSpan||g.getActiveSpan(),c=s&&g.getRootSpan(s),N=(c&&g.spanToJSON(c).data||{})[g.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];if(!(!c||!N||!["route","custom"].includes(N)))return g.spanToJSON(c).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=fo({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(s){dt&&v.logger.error("[Replay]",s),dt&&this._options._experiments&&this._options._experiments.captureExceptions&&g.captureException(s)}_initializeSessionForSampling(s){const c=this._options.errorSampleRate>0,O=Zr({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:s},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:c});this.session=O}_checkSession(){if(!this.session)return!1;const s=this.session;return Ss(s,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(s),!1):!0}_refreshSession(s){return Oe(this,null,function*(){this._isEnabled&&(yield this.stop({reason:"refresh session"}),this.initializeSampling(s.id))})}_addListeners(){try{E.document.addEventListener("visibilitychange",this._handleVisibilityChange),E.addEventListener("blur",this._handleWindowBlur),E.addEventListener("focus",this._handleWindowFocus),E.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(fi(this),this._hasInitializedCoreListeners=!0)}catch(s){this._handleException(s)}this._performanceCleanupCallback=oo(this)}_removeListeners(){try{E.document.removeEventListener("visibilitychange",this._handleVisibilityChange),E.removeEventListener("blur",this._handleWindowBlur),E.removeEventListener("focus",this._handleWindowFocus),E.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(s){this._handleException(s)}}__init(){this._handleVisibilityChange=()=>{E.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const s=Dt({category:"ui.blur"});this._doChangeToBackgroundTasks(s)}}__init3(){this._handleWindowFocus=()=>{const s=Dt({category:"ui.focus"});this._doChangeToForegroundTasks(s)}}__init4(){this._handleKeyboardEvent=s=>{Xs(this,s)}}_doChangeToBackgroundTasks(s){!this.session||gs(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(s&&this._createCustomBreadcrumb(s),this.conditionalFlush())}_doChangeToForegroundTasks(s){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){Xt("[Replay] Document has become active, but session has expired");return}s&&this._createCustomBreadcrumb(s)}_updateUserActivity(s=Date.now()){this._lastActivity=s}_updateSessionActivity(s=Date.now()){this.session&&(this.session.lastActivity=s,this._maybeSaveSession())}_createCustomBreadcrumb(s){this.addUpdate(()=>{this.throttledAddEvent({type:$e.Custom,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s}})})}_addPerformanceEntries(){const s=qs(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(Nr(this,s))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:s,eventBuffer:c}=this;if(!s||!c||this._requiresManualStart||s.segmentId)return;const O=c.getEarliestTimestamp();O&&O<this._context.initialTimestamp&&(this._context.initialTimestamp=O)}_popEventContext(){const s={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),s}_runFlush(){return Oe(this,null,function*(){const s=this.getSessionId();if(!this.session||!this.eventBuffer||!s){dt&&v.logger.error("[Replay] No session or eventBuffer found to flush.");return}if(yield this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(yield pi(this),!!this.eventBuffer&&s===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const c=Date.now();if(c-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const O=this._popEventContext(),N=this.session.segmentId++;this._maybeSaveSession();const D=yield this.eventBuffer.finish();yield ks({replayId:s,recordingData:D,segmentId:N,eventContext:O,session:this.session,options:this.getOptions(),timestamp:c})}catch(c){this._handleException(c),this.stop({reason:"sendReplay"});const O=g.getClient();O&&O.recordDroppedEvent("send_error","replay")}})}__init5(){this._flush=(...c)=>Oe(this,[...c],function*({force:s=!1}={}){if(!this._isEnabled&&!s)return;if(!this.checkAndHandleExpiredSession()){dt&&v.logger.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const O=this.session.started,D=Date.now()-O;this._debouncedFlush.cancel();const F=D<this._options.minReplayDuration,G=D>this._options.maxReplayDuration+5e3;if(F||G){Xt(`[Replay] Session duration (${Math.floor(D/1e3)}s) is too ${F?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),F&&this._debouncedFlush();return}const j=this.eventBuffer;if(j&&this.session.segmentId===0&&!j.hasCheckout&&Xt("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),yield this._flushLock,this._flushLock=void 0;return}try{yield this._flushLock}catch(Q){dt&&v.logger.error(Q)}finally{this._debouncedFlush()}})}_maybeSaveSession(){this.session&&this._options.stickySession&&Jr(this.session)}__init6(){this._onMutationHandler=s=>{const c=s.length,O=this._options.mutationLimit,N=this._options.mutationBreadcrumbLimit,D=O&&c>O;if(c>N||D){const F=Dt({category:"replay.mutations",data:{count:c,limit:D}});this._createCustomBreadcrumb(F)}return D?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function ir(t,s){return[...t,...s].join(",")}function Ci({mask:t,unmask:s,block:c,unblock:O,ignore:N}){const D=['base[href="/"]'],F=ir(t,[".sentry-mask","[data-sentry-mask]"]),G=ir(s,[]);return{maskTextSelector:F,unmaskTextSelector:G,blockSelector:ir(c,[".sentry-block","[data-sentry-block]",...D]),unblockSelector:ir(O,[]),ignoreSelector:ir(N,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function Oi({el:t,key:s,maskAttributes:c,maskAllText:O,privacyOptions:N,value:D}){return!O||N.unmaskTextSelector&&t.matches(N.unmaskTextSelector)?D:c.includes(s)||s==="value"&&t.tagName==="INPUT"&&["submit","button"].includes(t.getAttribute("type")||"")?D.replace(/[\S]/g,"*"):D}const Ps='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Ri=["content-length","content-type","accept"];let Ls=!1;const Ai=t=>new Dr(t);class Dr{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:s=f,flushMaxDelay:c=d,minReplayDuration:O=R,maxReplayDuration:N=M,stickySession:D=!0,useCompression:F=!0,workerUrl:G,_experiments:j={},maskAllText:Q=!0,maskAllInputs:ie=!0,blockAllMedia:ue=!0,mutationBreadcrumbLimit:ce=750,mutationLimit:ye=1e4,slowClickTimeout:Se=7e3,slowClickIgnoreSelectors:Ae=[],networkDetailAllowUrls:xe=[],networkDetailDenyUrls:we=[],networkCaptureBodies:qe=!0,networkRequestHeaders:et=[],networkResponseHeaders:tt=[],mask:St=[],maskAttributes:Ge=["title","placeholder"],unmask:ke=[],block:Je=[],unblock:bt=[],ignore:De=[],maskFn:Ye,beforeAddRecordingEvent:pt,beforeErrorSampling:Rt}={}){this.name=Dr.id;const vt=Ci({mask:St,unmask:ke,block:Je,unblock:bt,ignore:De});if(this._recordingOptions=Ie(B({maskAllInputs:ie,maskAllText:Q,maskInputOptions:{password:!0},maskTextFn:Ye,maskInputFn:Ye,maskAttributeFn:(Gt,ut,tn)=>Oi({maskAttributes:Ge,maskAllText:Q,privacyOptions:vt,key:Gt,value:ut,el:tn})},vt),{slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:Gt=>{try{Gt.__rrweb__=!0}catch(ut){}}}),this._initialOptions={flushMinDelay:s,flushMaxDelay:c,minReplayDuration:Math.min(O,A),maxReplayDuration:Math.min(N,M),stickySession:D,useCompression:F,workerUrl:G,blockAllMedia:ue,maskAllInputs:ie,maskAllText:Q,mutationBreadcrumbLimit:ce,mutationLimit:ye,slowClickTimeout:Se,slowClickIgnoreSelectors:Ae,networkDetailAllowUrls:xe,networkDetailDenyUrls:we,networkCaptureBodies:qe,networkRequestHeaders:Us(et),networkResponseHeaders:Us(tt),beforeAddRecordingEvent:pt,beforeErrorSampling:Rt,_experiments:j},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Ps}`:Ps),this._isInitialized&&v.isBrowser())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Ls}set _isInitialized(s){Ls=s}setupOnce(){v.isBrowser()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(s){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(s)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const s=Ni(this._initialOptions);this._replay=new _n({options:s,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const c=g.getClient().getIntegrationByName("ReplayCanvas");if(!c)return;this._replay._canvas=c.getOptions()}catch(s){}}}Dr.__initStatic();function Ni(t){const s=g.getClient(),c=s&&s.getOptions(),O=B({sessionSampleRate:0,errorSampleRate:0},v.dropUndefinedKeys(t));if(!c)return v.consoleSandbox(()=>{console.warn("SDK client is not available.")}),O;const N=g.parseSampleRate(c.replaysSessionSampleRate),D=g.parseSampleRate(c.replaysOnErrorSampleRate);return N==null&&D==null&&v.consoleSandbox(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),N!=null&&(O.sessionSampleRate=N),D!=null&&(O.errorSampleRate=D),O}function Us(t){return[...Ri,...t.map(s=>s.toLowerCase())]}function Mi(){const t=g.getClient();return t&&t.getIntegrationByName("Replay")}e.getReplay=Mi,e.replayIntegration=Ai},71185:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(17077),g=o(93894),v=o(75921),T=o(46229),E=o(63386);class y extends i.BaseClient{constructor(h){const I=B({parentSpanIsAlwaysRootSpan:!0},h),b=T.WINDOW.SENTRY_SDK_SOURCE||u.getSDKSource();i.applySdkMetadata(I,"browser",["browser"],b),super(I),I.sendClientReports&&T.WINDOW.document&&T.WINDOW.document.addEventListener("visibilitychange",()=>{T.WINDOW.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(h,I){return v.eventFromException(this._options.stackParser,h,I,this._options.attachStacktrace)}eventFromMessage(h,I="info",b){return v.eventFromMessage(this._options.stackParser,h,I,b,this._options.attachStacktrace)}captureUserFeedback(h){if(!this._isEnabled()){g.DEBUG_BUILD&&u.logger.warn("SDK not enabled, will not capture user feedback.");return}const I=E.createUserFeedbackEnvelope(h,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(I)}_prepareEvent(h,I,b){return h.platform=h.platform||"javascript",super._prepareEvent(h,I,b)}_flushOutcomes(){const h=this._clearOutcomes();if(h.length===0){g.DEBUG_BUILD&&u.logger.log("No outcomes to send");return}if(!this._dsn){g.DEBUG_BUILD&&u.logger.log("No dsn provided, will not send outcomes");return}g.DEBUG_BUILD&&u.logger.log("Sending outcomes:",h);const I=u.createClientReportEnvelope(h,this._options.tunnel&&u.dsnToString(this._dsn));this.sendEnvelope(I)}}e.BrowserClient=y},93894:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;e.DEBUG_BUILD=o},75921:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(17077);function g(r,n){const a=E(r,n),S={type:n&&n.name,value:I(n)};return a.length&&(S.stacktrace={frames:a}),S.type===void 0&&S.value===""&&(S.value="Unrecoverable error caught"),S}function v(r,n,a,S){const R=i.getClient(),A=R&&R.getOptions().normalizeDepth,M=_(n),P={__serialized__:u.normalizeToSize(n,A)};if(M)return{exception:{values:[g(r,M)]},extra:P};const x={exception:{values:[{type:u.isEvent(n)?n.constructor.name:S?"UnhandledRejection":"Error",value:l(n,{isUnhandledRejection:S})}]},extra:P};if(a){const $=E(r,a);$.length&&(x.exception.values[0].stacktrace={frames:$})}return x}function T(r,n){return{exception:{values:[g(r,n)]}}}function E(r,n){const a=n.stacktrace||n.stack||"",S=p(n),R=h(n);try{return r(a,S,R)}catch(A){}return[]}const y=/Minified React error #\d+;/i;function p(r){return r&&y.test(r.message)?1:0}function h(r){return typeof r.framesToPop=="number"?r.framesToPop:0}function I(r){const n=r&&r.message;return n?n.error&&typeof n.error.message=="string"?n.error.message:n:"No error message"}function b(r,n,a,S){const R=a&&a.syntheticException||void 0,A=d(r,n,R,S);return u.addExceptionMechanism(A),A.level="error",a&&a.event_id&&(A.event_id=a.event_id),u.resolvedSyncPromise(A)}function f(r,n,a="info",S,R){const A=S&&S.syntheticException||void 0,M=m(r,n,A,R);return M.level=a,S&&S.event_id&&(M.event_id=S.event_id),u.resolvedSyncPromise(M)}function d(r,n,a,S,R){let A;if(u.isErrorEvent(n)&&n.error)return T(r,n.error);if(u.isDOMError(n)||u.isDOMException(n)){const M=n;if("stack"in n)A=T(r,n);else{const P=M.name||(u.isDOMError(M)?"DOMError":"DOMException"),x=M.message?`${P}: ${M.message}`:P;A=m(r,x,a,S),u.addExceptionTypeValue(A,x)}return"code"in M&&(A.tags=Ie(B({},A.tags),{"DOMException.code":`${M.code}`})),A}return u.isError(n)?T(r,n):u.isPlainObject(n)||u.isEvent(n)?(A=v(r,n,a,R),u.addExceptionMechanism(A,{synthetic:!0}),A):(A=m(r,n,a,S),u.addExceptionTypeValue(A,`${n}`,void 0),u.addExceptionMechanism(A,{synthetic:!0}),A)}function m(r,n,a,S){const R={};if(S&&a){const A=E(r,a);A.length&&(R.exception={values:[{value:n,stacktrace:{frames:A}}]})}if(u.isParameterizedString(n)){const{__sentry_template_string__:A,__sentry_template_values__:M}=n;return R.logentry={message:A,params:M},R}return R.message=n,R}function l(r,{isUnhandledRejection:n}){const a=u.extractExceptionKeysForMessage(r),S=n?"promise rejection":"exception";return u.isErrorEvent(r)?`Event \`ErrorEvent\` captured as ${S} with message \`${r.message}\``:u.isEvent(r)?`Event \`${C(r)}\` (type=${r.type}) captured as ${S}`:`Object captured as ${S} with keys: ${a}`}function C(r){try{const n=Object.getPrototypeOf(r);return n?n.constructor.name:void 0}catch(n){}}function _(r){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)){const a=r[n];if(a instanceof Error)return a}}e.eventFromException=b,e.eventFromMessage=f,e.eventFromUnknownInput=d,e.exceptionFromError=g},26057:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(88723),u=o(59846),g=i.buildFeedbackIntegration({lazyLoadIntegration:u.lazyLoadIntegration});e.feedbackAsyncIntegration=g},27442:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(88723),u=o(59846),g=i.buildFeedbackIntegration({lazyLoadIntegration:u.lazyLoadIntegration,getModalIntegration:()=>i.feedbackModalIntegration,getScreenshotIntegration:()=>i.feedbackScreenshotIntegration});e.feedbackSyncIntegration=g},46229:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(17077),g=u.GLOBAL_OBJ;let v=0;function T(){return v>0}function E(){v++,setTimeout(()=>{v--})}function y(p,h={},I){if(typeof p!="function")return p;try{const f=p.__sentry_wrapped__;if(f)return f;if(u.getOriginalFunction(p))return p}catch(f){return p}const b=function(){const f=Array.prototype.slice.call(arguments);try{I&&typeof I=="function"&&I.apply(this,arguments);const d=f.map(m=>y(m,h));return p.apply(this,d)}catch(d){throw E(),i.withScope(m=>{m.addEventProcessor(l=>(h.mechanism&&(u.addExceptionTypeValue(l,void 0,void 0),u.addExceptionMechanism(l,h.mechanism)),l.extra=Ie(B({},l.extra),{arguments:f}),l)),i.captureException(d)}),d}};try{for(const f in p)Object.prototype.hasOwnProperty.call(p,f)&&(b[f]=p[f])}catch(f){}u.markFunctionWrapped(b,p),u.addNonEnumerableProperty(p,"__sentry_wrapped__",b);try{Object.getOwnPropertyDescriptor(b,"name").configurable&&Object.defineProperty(b,"name",{get(){return p.name}})}catch(f){}return b}e.WINDOW=g,e.ignoreNextOnError=E,e.shouldIgnoreOnError=T,e.wrap=y},66440:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(46229),g=o(71185),v=o(36267),T=o(67417),E=o(75921),y=o(63386),p=o(33944),h=o(53008),I=o(14458),b=o(6049),f=o(28950),d=o(67323),m=o(59846),l=o(39946),C=o(36383),_=o(47726),r=o(3667),n=o(4772),a=o(26057),S=o(27442),R=o(88723),A=o(92441),M=o(15756),P=o(69905),x=o(28712),$=o(4275);e.SDK_VERSION=i.SDK_VERSION,e.SEMANTIC_ATTRIBUTE_SENTRY_OP=i.SEMANTIC_ATTRIBUTE_SENTRY_OP,e.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=i.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,e.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=i.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,e.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=i.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,e.Scope=i.Scope,e.addBreadcrumb=i.addBreadcrumb,e.addEventProcessor=i.addEventProcessor,e.addIntegration=i.addIntegration,e.addTracingExtensions=i.addTracingExtensions,e.captureConsoleIntegration=i.captureConsoleIntegration,e.captureEvent=i.captureEvent,e.captureException=i.captureException,e.captureFeedback=i.captureFeedback,e.captureMessage=i.captureMessage,e.captureSession=i.captureSession,e.close=i.close,e.continueTrace=i.continueTrace,e.createTransport=i.createTransport,e.debugIntegration=i.debugIntegration,e.dedupeIntegration=i.dedupeIntegration,e.endSession=i.endSession,e.extraErrorDataIntegration=i.extraErrorDataIntegration,e.flush=i.flush,e.functionToStringIntegration=i.functionToStringIntegration,e.getActiveSpan=i.getActiveSpan,e.getClient=i.getClient,e.getCurrentHub=i.getCurrentHub,e.getCurrentScope=i.getCurrentScope,e.getGlobalScope=i.getGlobalScope,e.getIsolationScope=i.getIsolationScope,e.getRootSpan=i.getRootSpan,e.getSpanDescendants=i.getSpanDescendants,e.getSpanStatusFromHttpCode=i.getSpanStatusFromHttpCode,e.inboundFiltersIntegration=i.inboundFiltersIntegration,e.isInitialized=i.isInitialized,e.lastEventId=i.lastEventId,e.makeMultiplexedTransport=i.makeMultiplexedTransport,e.moduleMetadataIntegration=i.moduleMetadataIntegration,e.parameterize=i.parameterize,e.registerSpanErrorInstrumentation=i.registerSpanErrorInstrumentation,e.rewriteFramesIntegration=i.rewriteFramesIntegration,e.sessionTimingIntegration=i.sessionTimingIntegration,e.setContext=i.setContext,e.setCurrentClient=i.setCurrentClient,e.setExtra=i.setExtra,e.setExtras=i.setExtras,e.setHttpStatus=i.setHttpStatus,e.setMeasurement=i.setMeasurement,e.setTag=i.setTag,e.setTags=i.setTags,e.setUser=i.setUser,e.spanToBaggageHeader=i.spanToBaggageHeader,e.spanToJSON=i.spanToJSON,e.spanToTraceHeader=i.spanToTraceHeader,e.startInactiveSpan=i.startInactiveSpan,e.startNewTrace=i.startNewTrace,e.startSession=i.startSession,e.startSpan=i.startSpan,e.startSpanManual=i.startSpanManual,e.withActiveSpan=i.withActiveSpan,e.withIsolationScope=i.withIsolationScope,e.withScope=i.withScope,e.zodErrorsIntegration=i.zodErrorsIntegration,e.WINDOW=u.WINDOW,e.BrowserClient=g.BrowserClient,e.makeFetchTransport=v.makeFetchTransport,e.chromeStackLineParser=T.chromeStackLineParser,e.defaultStackLineParsers=T.defaultStackLineParsers,e.defaultStackParser=T.defaultStackParser,e.geckoStackLineParser=T.geckoStackLineParser,e.opera10StackLineParser=T.opera10StackLineParser,e.opera11StackLineParser=T.opera11StackLineParser,e.winjsStackLineParser=T.winjsStackLineParser,e.eventFromException=E.eventFromException,e.eventFromMessage=E.eventFromMessage,e.exceptionFromError=E.exceptionFromError,e.createUserFeedbackEnvelope=y.createUserFeedbackEnvelope,e.captureUserFeedback=p.captureUserFeedback,e.forceLoad=p.forceLoad,e.getDefaultIntegrations=p.getDefaultIntegrations,e.init=p.init,e.onLoad=p.onLoad,e.showReportDialog=p.showReportDialog,e.breadcrumbsIntegration=h.breadcrumbsIntegration,e.globalHandlersIntegration=I.globalHandlersIntegration,e.httpContextIntegration=b.httpContextIntegration,e.linkedErrorsIntegration=f.linkedErrorsIntegration,e.browserApiErrorsIntegration=d.browserApiErrorsIntegration,e.lazyLoadIntegration=m.lazyLoadIntegration,e.reportingObserverIntegration=l.reportingObserverIntegration,e.httpClientIntegration=C.httpClientIntegration,e.contextLinesIntegration=_.contextLinesIntegration,e.getReplay=r.getReplay,e.replayIntegration=r.replayIntegration,e.replayCanvasIntegration=n.replayCanvasIntegration,e.feedbackAsyncIntegration=a.feedbackAsyncIntegration,e.feedbackIntegration=S.feedbackSyncIntegration,e.feedbackSyncIntegration=S.feedbackSyncIntegration,e.getFeedback=R.getFeedback,e.sendFeedback=R.sendFeedback,e.metrics=A.metrics,e.defaultRequestInstrumentationOptions=M.defaultRequestInstrumentationOptions,e.instrumentOutgoingRequests=M.instrumentOutgoingRequests,e.browserTracingIntegration=P.browserTracingIntegration,e.startBrowserTracingNavigationSpan=P.startBrowserTracingNavigationSpan,e.startBrowserTracingPageLoadSpan=P.startBrowserTracingPageLoadSpan,e.makeBrowserOfflineTransport=x.makeBrowserOfflineTransport,e.browserProfilingIntegration=$.browserProfilingIntegration},53008:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(82138),u=o(95617),g=o(17077),v=o(93894),T=o(46229),E=1024,y="Breadcrumbs",p=(_={})=>{const r=B({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},_);return{name:y,setup(n){r.console&&g.addConsoleInstrumentationHandler(f(n)),r.dom&&i.addClickKeypressInstrumentationHandler(b(n,r.dom)),r.xhr&&i.addXhrInstrumentationHandler(d(n)),r.fetch&&g.addFetchInstrumentationHandler(m(n)),r.history&&i.addHistoryInstrumentationHandler(l(n)),r.sentry&&n.on("beforeSendEvent",I(n))}}},h=u.defineIntegration(p);function I(_){return function(n){u.getClient()===_&&u.addBreadcrumb({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:g.getEventDescription(n)},{event:n})}}function b(_,r){return function(a){if(u.getClient()!==_)return;let S,R,A=typeof r=="object"?r.serializeAttribute:void 0,M=typeof r=="object"&&typeof r.maxStringLength=="number"?r.maxStringLength:void 0;M&&M>E&&(v.DEBUG_BUILD&&g.logger.warn(`\`dom.maxStringLength\` cannot exceed ${E}, but a value of ${M} was configured. Sentry will use ${E} instead.`),M=E),typeof A=="string"&&(A=[A]);try{const x=a.event,$=C(x)?x.target:x;S=g.htmlTreeAsString($,{keyAttrs:A,maxStringLength:M}),R=g.getComponentName($)}catch(x){S="<unknown>"}if(S.length===0)return;const P={category:`ui.${a.name}`,message:S};R&&(P.data={"ui.component_name":R}),u.addBreadcrumb(P,{event:a.event,name:a.name,global:a.global})}}function f(_){return function(n){if(u.getClient()!==_)return;const a={category:"console",data:{arguments:n.args,logger:"console"},level:g.severityLevelFromString(n.level),message:g.safeJoin(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)a.message=`Assertion failed: ${g.safeJoin(n.args.slice(1)," ")||"console.assert"}`,a.data.arguments=n.args.slice(1);else return;u.addBreadcrumb(a,{input:n.args,level:n.level})}}function d(_){return function(n){if(u.getClient()!==_)return;const{startTimestamp:a,endTimestamp:S}=n,R=n.xhr[i.SENTRY_XHR_DATA_KEY];if(!a||!S||!R)return;const{method:A,url:M,status_code:P,body:x}=R,$={method:A,url:M,status_code:P},X={xhr:n.xhr,input:x,startTimestamp:a,endTimestamp:S};u.addBreadcrumb({category:"xhr",data:$,type:"http"},X)}}function m(_){return function(n){if(u.getClient()!==_)return;const{startTimestamp:a,endTimestamp:S}=n;if(S&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const R=n.fetchData,A={data:n.error,input:n.args,startTimestamp:a,endTimestamp:S};u.addBreadcrumb({category:"fetch",data:R,level:"error",type:"http"},A)}else{const R=n.response,A=Ie(B({},n.fetchData),{status_code:R&&R.status}),M={input:n.args,response:R,startTimestamp:a,endTimestamp:S};u.addBreadcrumb({category:"fetch",data:A,type:"http"},M)}}}function l(_){return function(n){if(u.getClient()!==_)return;let a=n.from,S=n.to;const R=g.parseUrl(T.WINDOW.location.href);let A=a?g.parseUrl(a):void 0;const M=g.parseUrl(S);(!A||!A.path)&&(A=R),R.protocol===M.protocol&&R.host===M.host&&(S=M.relative),R.protocol===A.protocol&&R.host===A.host&&(a=A.relative),u.addBreadcrumb({category:"navigation",data:{from:a,to:S}})}}function C(_){return!!_&&!!_.target}e.breadcrumbsIntegration=h},67323:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(17077),g=o(46229),v=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],T="BrowserApiErrors",E=(f={})=>{const d=B({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},f);return{name:T,setupOnce(){d.setTimeout&&u.fill(g.WINDOW,"setTimeout",p),d.setInterval&&u.fill(g.WINDOW,"setInterval",p),d.requestAnimationFrame&&u.fill(g.WINDOW,"requestAnimationFrame",h),d.XMLHttpRequest&&"XMLHttpRequest"in g.WINDOW&&u.fill(XMLHttpRequest.prototype,"send",I);const m=d.eventTarget;m&&(Array.isArray(m)?m:v).forEach(b)}}},y=i.defineIntegration(E);function p(f){return function(...d){const m=d[0];return d[0]=g.wrap(m,{mechanism:{data:{function:u.getFunctionName(f)},handled:!1,type:"instrument"}}),f.apply(this,d)}}function h(f){return function(d){return f.apply(this,[g.wrap(d,{mechanism:{data:{function:"requestAnimationFrame",handler:u.getFunctionName(f)},handled:!1,type:"instrument"}})])}}function I(f){return function(...d){const m=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(C=>{C in m&&typeof m[C]=="function"&&u.fill(m,C,function(_){const r={mechanism:{data:{function:C,handler:u.getFunctionName(_)},handled:!1,type:"instrument"}},n=u.getOriginalFunction(_);return n&&(r.mechanism.data.handler=u.getFunctionName(n)),g.wrap(_,r)})}),f.apply(this,d)}}function b(f){const d=g.WINDOW,m=d[f]&&d[f].prototype;!m||!m.hasOwnProperty||!m.hasOwnProperty("addEventListener")||(u.fill(m,"addEventListener",function(l){return function(C,_,r){try{typeof _.handleEvent=="function"&&(_.handleEvent=g.wrap(_.handleEvent,{mechanism:{data:{function:"handleEvent",handler:u.getFunctionName(_),target:f},handled:!1,type:"instrument"}}))}catch(n){}return l.apply(this,[C,g.wrap(_,{mechanism:{data:{function:"addEventListener",handler:u.getFunctionName(_),target:f},handled:!1,type:"instrument"}}),r])}}),u.fill(m,"removeEventListener",function(l){return function(C,_,r){const n=_;try{const a=n&&n.__sentry_wrapped__;a&&l.call(this,C,a,r)}catch(a){}return l.call(this,C,n,r)}}))}e.browserApiErrorsIntegration=y},47726:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(17077),g=u.GLOBAL_OBJ,v=7,T="ContextLines",E=(I={})=>{const b=I.frameContextLines!=null?I.frameContextLines:v;return{name:T,processEvent(f){return p(f,b)}}},y=i.defineIntegration(E);function p(I,b){const f=g.document,d=g.location&&u.stripUrlQueryAndFragment(g.location.href);if(!f||!d)return I;const m=I.exception&&I.exception.values;if(!m||!m.length)return I;const l=f.documentElement.innerHTML;if(!l)return I;const C=["<!DOCTYPE html>","<html>",...l.split(`
`),"</html>"];return m.forEach(_=>{const r=_.stacktrace;r&&r.frames&&(r.frames=r.frames.map(n=>h(n,C,d,b)))}),I}function h(I,b,f,d){return I.filename!==f||!I.lineno||!b.length||u.addContextToFrame(b,I,d),I}e.applySourceContextToFrame=h,e.contextLinesIntegration=y},14458:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(17077),g=o(93894),v=o(75921),T=o(46229),E="GlobalHandlers",y=(C={})=>{const _=B({onerror:!0,onunhandledrejection:!0},C);return{name:E,setupOnce(){Error.stackTraceLimit=50},setup(r){_.onerror&&(h(r),m("onerror")),_.onunhandledrejection&&(I(r),m("onunhandledrejection"))}}},p=i.defineIntegration(y);function h(C){u.addGlobalErrorInstrumentationHandler(_=>{const{stackParser:r,attachStacktrace:n}=l();if(i.getClient()!==C||T.shouldIgnoreOnError())return;const{msg:a,url:S,line:R,column:A,error:M}=_,P=d(v.eventFromUnknownInput(r,M||a,void 0,n,!1),S,R,A);P.level="error",i.captureEvent(P,{originalException:M,mechanism:{handled:!1,type:"onerror"}})})}function I(C){u.addGlobalUnhandledRejectionInstrumentationHandler(_=>{const{stackParser:r,attachStacktrace:n}=l();if(i.getClient()!==C||T.shouldIgnoreOnError())return;const a=b(_),S=u.isPrimitive(a)?f(a):v.eventFromUnknownInput(r,a,void 0,n,!0);S.level="error",i.captureEvent(S,{originalException:a,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function b(C){if(u.isPrimitive(C))return C;try{if("reason"in C)return C.reason;if("detail"in C&&"reason"in C.detail)return C.detail.reason}catch(_){}return C}function f(C){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(C)}`}]}}}function d(C,_,r,n){const a=C.exception=C.exception||{},S=a.values=a.values||[],R=S[0]=S[0]||{},A=R.stacktrace=R.stacktrace||{},M=A.frames=A.frames||[],P=isNaN(parseInt(n,10))?void 0:n,x=isNaN(parseInt(r,10))?void 0:r,$=u.isString(_)&&_.length>0?_:u.getLocationHref();return M.length===0&&M.push({colno:P,filename:$,function:u.UNKNOWN_FUNCTION,in_app:!0,lineno:x}),C}function m(C){g.DEBUG_BUILD&&u.logger.log(`Global Handler attached: ${C}`)}function l(){const C=i.getClient();return C&&C.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}e.globalHandlersIntegration=p},36383:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(82138),u=o(95617),g=o(17077),v=o(93894),T="HttpClient",E=(R={})=>{const A=B({failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/]},R);return{name:T,setup(M){C(M,A),_(M,A)}}},y=u.defineIntegration(E);function p(R,A,M,P){if(r(R,M.status,M.url)){const x=a(A,P);let $,X,W,K;S()&&([{headers:$,cookies:W},{headers:X,cookies:K}]=[{cookieHeader:"Cookie",obj:x},{cookieHeader:"Set-Cookie",obj:M}].map(({cookieHeader:L,obj:V})=>{const q=f(V.headers);let oe;try{const fe=q[L]||q[L.toLowerCase()]||void 0;fe&&(oe=b(fe))}catch(fe){v.DEBUG_BUILD&&g.logger.log(`Could not extract cookies from header ${L}`)}return{headers:q,cookies:oe}}));const Y=n({url:x.url,method:x.method,status:M.status,requestHeaders:$,responseHeaders:X,requestCookies:W,responseCookies:K});u.captureEvent(Y)}}function h(R,A,M,P){if(r(R,A.status,A.responseURL)){let x,$,X;if(S()){try{const K=A.getResponseHeader("Set-Cookie")||A.getResponseHeader("set-cookie")||void 0;K&&($=b(K))}catch(K){v.DEBUG_BUILD&&g.logger.log("Could not extract cookies from response headers")}try{X=d(A)}catch(K){v.DEBUG_BUILD&&g.logger.log("Could not extract headers from response")}x=P}const W=n({url:A.responseURL,method:M,status:A.status,requestHeaders:x,responseHeaders:X,responseCookies:$});u.captureEvent(W)}}function I(R){if(R){const A=R["Content-Length"]||R["content-length"];if(A)return parseInt(A,10)}}function b(R){return R.split("; ").reduce((A,M)=>{const[P,x]=M.split("=");return A[P]=x,A},{})}function f(R){const A={};return R.forEach((M,P)=>{A[P]=M}),A}function d(R){const A=R.getAllResponseHeaders();return A?A.split(`\r
`).reduce((M,P)=>{const[x,$]=P.split(": ");return M[x]=$,M},{}):{}}function m(R,A){return R.some(M=>typeof M=="string"?A.includes(M):M.test(A))}function l(R,A){return R.some(M=>typeof M=="number"?M===A:A>=M[0]&&A<=M[1])}function C(R,A){g.supportsNativeFetch()&&g.addFetchInstrumentationHandler(M=>{if(u.getClient()!==R)return;const{response:P,args:x}=M,[$,X]=x;P&&p(A,$,P,X)})}function _(R,A){"XMLHttpRequest"in g.GLOBAL_OBJ&&i.addXhrInstrumentationHandler(M=>{if(u.getClient()!==R)return;const P=M.xhr,x=P[i.SENTRY_XHR_DATA_KEY];if(!x)return;const{method:$,request_headers:X}=x;try{h(A,P,$,X)}catch(W){v.DEBUG_BUILD&&g.logger.warn("Error while extracting response event form XHR response",W)}})}function r(R,A,M){return l(R.failedRequestStatusCodes,A)&&m(R.failedRequestTargets,M)&&!u.isSentryRequestUrl(M,u.getClient())}function n(R){const A=`HTTP Client Error with status code: ${R.status}`,M={message:A,exception:{values:[{type:"Error",value:A}]},request:{url:R.url,method:R.method,headers:R.requestHeaders,cookies:R.requestCookies},contexts:{response:{status_code:R.status,headers:R.responseHeaders,cookies:R.responseCookies,body_size:I(R.responseHeaders)}}};return g.addExceptionMechanism(M,{type:"http.client",handled:!1}),M}function a(R,A){return!A&&R instanceof Request||R instanceof Request&&R.bodyUsed?R:new Request(R,A)}function S(){const R=u.getClient();return R?!!R.getOptions().sendDefaultPii:!1}e.httpClientIntegration=y},6049:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(46229),g=i.defineIntegration(()=>({name:"HttpContext",preprocessEvent(v){if(!u.WINDOW.navigator&&!u.WINDOW.location&&!u.WINDOW.document)return;const T=v.request&&v.request.url||u.WINDOW.location&&u.WINDOW.location.href,{referrer:E}=u.WINDOW.document||{},{userAgent:y}=u.WINDOW.navigator||{},p=B(B(B({},v.request&&v.request.headers),E&&{Referer:E}),y&&{"User-Agent":y}),h=Ie(B(B({},v.request),T&&{url:T}),{headers:p});v.request=h}}));e.httpContextIntegration=g},28950:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(17077),g=o(75921),v="cause",T=5,E="LinkedErrors",y=(h={})=>{const I=h.limit||T,b=h.key||v;return{name:E,preprocessEvent(f,d,m){const l=m.getOptions();u.applyAggregateErrorsToEvent(g.exceptionFromError,l.stackParser,l.maxValueLength,b,I,f,d)}}},p=i.defineIntegration(y);e.linkedErrorsIntegration=p},39946:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(17077),g=u.GLOBAL_OBJ,v="ReportingObserver",T=new WeakMap,E=(p={})=>{const h=p.types||["crash","deprecation","intervention"];function I(b){if(T.has(i.getClient()))for(const f of b)i.withScope(d=>{d.setExtra("url",f.url);const m=`ReportingObserver [${f.type}]`;let l="No details available";if(f.body){const C={};for(const _ in f.body)C[_]=f.body[_];if(d.setExtra("body",C),f.type==="crash"){const _=f.body;l=[_.crashId||"",_.reason||""].join(" ").trim()||l}else l=f.body.message||l}i.captureMessage(`${m}: ${l}`)})}return{name:v,setupOnce(){if(!u.supportsReportingObserver())return;new g.ReportingObserver(I,{buffered:!0,types:h}).observe()},setup(b){T.set(b,!0)}}},y=i.defineIntegration(E);e.reportingObserverIntegration=y},92441:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617);function u(p,h=1,I){i.metrics.increment(i.BrowserMetricsAggregator,p,h,I)}function g(p,h,I){i.metrics.distribution(i.BrowserMetricsAggregator,p,h,I)}function v(p,h,I){i.metrics.set(i.BrowserMetricsAggregator,p,h,I)}function T(p,h,I){i.metrics.gauge(i.BrowserMetricsAggregator,p,h,I)}function E(p,h,I="second",b){return i.metrics.timing(i.BrowserMetricsAggregator,p,h,I,b)}const y={increment:u,distribution:g,set:v,gauge:T,timing:E};e.metrics=y},4275:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(17077),g=o(93894),v=o(5245),T=o(12676),E="BrowserProfiling",y=()=>({name:E,setup(h){const I=i.getActiveSpan(),b=I&&i.getRootSpan(I);b&&T.isAutomatedPageLoadSpan(b)&&T.shouldProfileSpan(b)&&v.startProfileForSpan(b),h.on("spanStart",f=>{f===i.getRootSpan(f)&&T.shouldProfileSpan(f)&&v.startProfileForSpan(f)}),h.on("beforeEnvelope",f=>{if(!T.getActiveProfilesCount())return;const d=T.findProfiledTransactionsFromEnvelope(f);if(!d.length)return;const m=[];for(const l of d){const C=l&&l.contexts,_=C&&C.profile&&C.profile.profile_id,r=C&&C.profile&&C.profile.start_timestamp;if(typeof _!="string"){g.DEBUG_BUILD&&u.logger.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!_){g.DEBUG_BUILD&&u.logger.log("[Profiling] cannot find profile for a span without a profile context");continue}C&&C.profile&&delete C.profile;const n=T.takeProfileFromGlobalCache(_);if(!n){g.DEBUG_BUILD&&u.logger.log(`[Profiling] Could not retrieve profile for span: ${_}`);continue}const a=T.createProfilingEvent(_,r,n,l);a&&m.push(a)}T.addProfilesToEnvelope(f,m)})}}),p=i.defineIntegration(y);e.browserProfilingIntegration=p},5245:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(17077),g=o(93894),v=o(46229),T=o(12676);function E(y){let p;T.isAutomatedPageLoadSpan(y)&&(p=u.timestampInSeconds()*1e3);const h=T.startJSSelfProfile();if(!h)return;g.DEBUG_BUILD&&u.logger.log(`[Profiling] started profiling span: ${i.spanToJSON(y).description}`);const I=u.uuid4();i.getCurrentScope().setContext("profile",{profile_id:I,start_timestamp:p});function b(){return Oe(this,null,function*(){if(y&&h)return h.stop().then(l=>{if(f&&(v.WINDOW.clearTimeout(f),f=void 0),g.DEBUG_BUILD&&u.logger.log(`[Profiling] stopped profiling of span: ${i.spanToJSON(y).description}`),!l){g.DEBUG_BUILD&&u.logger.log(`[Profiling] profiler returned null profile for: ${i.spanToJSON(y).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}T.addProfileToGlobalCache(I,l)}).catch(l=>{g.DEBUG_BUILD&&u.logger.log("[Profiling] error while stopping profiler:",l)})})}let f=v.WINDOW.setTimeout(()=>{g.DEBUG_BUILD&&u.logger.log("[Profiling] max profile duration elapsed, stopping profiling for:",i.spanToJSON(y).description),b()},T.MAX_PROFILE_DURATION_MS);const d=y.end.bind(y);function m(){return y?(b().then(()=>{d()},()=>{d()}),y):d()}y.end=m}e.startProfileForSpan=E},12676:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(17077),g=o(93894),v=o(46229),T=1e6,E=String(0),y="main";let p="",h="",I="",b=v.WINDOW.navigator&&v.WINDOW.navigator.userAgent||"",f="";const d=v.WINDOW.navigator&&v.WINDOW.navigator.language||v.WINDOW.navigator&&v.WINDOW.navigator.languages&&v.WINDOW.navigator.languages[0]||"";function m(ee){return typeof ee=="object"&&ee!==null&&"getHighEntropyValues"in ee}const l=v.WINDOW.navigator&&v.WINDOW.navigator.userAgentData;m(l)&&l.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(ee=>{if(p=ee.platform||"",I=ee.architecture||"",f=ee.model||"",h=ee.platformVersion||"",ee.fullVersionList&&ee.fullVersionList.length>0){const ne=ee.fullVersionList[ee.fullVersionList.length-1];b=`${ne.brand} ${ne.version}`}}).catch(ee=>{});function C(ee){return!("thread_metadata"in ee)}function _(ee){return C(ee)?S(ee):ee}function r(ee){const ne=ee&&ee.contexts&&ee.contexts.trace&&ee.contexts.trace.trace_id;return typeof ne=="string"&&ne.length!==32&&g.DEBUG_BUILD&&u.logger.log(`[Profiling] Invalid traceId: ${ne} on profiled event`),typeof ne!="string"?"":ne}function n(ee,ne,_e,Te){if(Te.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(_e==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${_e} instead.`);const Ne=r(Te),Qe=_(_e),z=ne||(typeof Te.start_timestamp=="number"?Te.start_timestamp*1e3:u.timestampInSeconds()*1e3),re=typeof Te.timestamp=="number"?Te.timestamp*1e3:u.timestampInSeconds()*1e3;return{event_id:ee,timestamp:new Date(z).toISOString(),platform:"javascript",version:"1",release:Te.release||"",environment:Te.environment||i.DEFAULT_ENVIRONMENT,runtime:{name:"javascript",version:v.WINDOW.navigator.userAgent},os:{name:p,version:h,build_number:b},device:{locale:d,model:f,manufacturer:b,architecture:I,is_emulator:!1},debug_meta:{images:P(_e.resources)},profile:Qe,transactions:[{name:Te.transaction||"",id:Te.event_id||u.uuid4(),trace_id:Ne,active_thread_id:E,relative_start_ns:"0",relative_end_ns:((re-z)*1e6).toFixed(0)}]}}function a(ee){return i.spanToJSON(ee).op==="pageload"}function S(ee){let ne,_e=0;const Te={samples:[],stacks:[],frames:[],thread_metadata:{[E]:{name:y}}};if(!ee.samples.length)return Te;const Ne=ee.samples[0].timestamp,Qe=typeof performance.timeOrigin=="number"?performance.timeOrigin:u.browserPerformanceTimeOrigin||0,z=Qe-(u.browserPerformanceTimeOrigin||Qe);for(let re=0;re<ee.samples.length;re++){const ae=ee.samples[re];if(ae.stackId===void 0){ne===void 0&&(ne=_e,Te.stacks[ne]=[],_e++),Te.samples[re]={elapsed_since_start_ns:((ae.timestamp+z-Ne)*T).toFixed(0),stack_id:ne,thread_id:E};continue}let le=ee.stacks[ae.stackId];const de=[];for(;le;){de.push(le.frameId);const Le=ee.frames[le.frameId];Te.frames[le.frameId]===void 0&&(Te.frames[le.frameId]={function:Le.name,abs_path:typeof Le.resourceId=="number"?ee.resources[Le.resourceId]:void 0,lineno:Le.line,colno:Le.column}),le=le.parentId===void 0?void 0:ee.stacks[le.parentId]}const ve={elapsed_since_start_ns:((ae.timestamp+z-Ne)*T).toFixed(0),stack_id:_e,thread_id:E};Te.stacks[_e]=de,Te.samples[re]=ve,_e++}return Te}function R(ee,ne){if(!ne.length)return ee;for(const _e of ne)ee[1].push([{type:"profile"},_e]);return ee}function A(ee){const ne=[];return u.forEachEnvelopeItem(ee,(_e,Te)=>{if(Te==="transaction")for(let Ne=1;Ne<_e.length;Ne++){const Qe=_e[Ne];Qe&&Qe.contexts&&Qe.contexts.profile&&Qe.contexts.profile.profile_id&&ne.push(_e[Ne])}}),ne}const M=new WeakMap;function P(ee){const ne=u.GLOBAL_OBJ._sentryDebugIds;if(!ne)return[];const _e=i.getClient(),Te=_e&&_e.getOptions(),Ne=Te&&Te.stackParser;if(!Ne)return[];let Qe;const z=M.get(Ne);z?Qe=z:(Qe=new Map,M.set(Ne,Qe));const re=Object.keys(ne).reduce((le,de)=>{let ve;const Le=Qe.get(de);Le?ve=Le:(ve=Ne(de),Qe.set(de,ve));for(let Pe=ve.length-1;Pe>=0;Pe--){const He=ve[Pe],Xe=He&&He.filename;if(He&&Xe){le[Xe]=ne[de];break}}return le},{}),ae=[];for(const le of ee)le&&re[le]&&ae.push({type:"sourcemap",code_file:le,debug_id:re[le]});return ae}function x(ee){return typeof ee!="number"&&typeof ee!="boolean"||typeof ee=="number"&&isNaN(ee)?(g.DEBUG_BUILD&&u.logger.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(ee)} of type ${JSON.stringify(typeof ee)}.`),!1):ee===!0||ee===!1?!0:ee<0||ee>1?(g.DEBUG_BUILD&&u.logger.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${ee}.`),!1):!0}function $(ee){return ee.samples.length<2?(g.DEBUG_BUILD&&u.logger.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):ee.frames.length?!0:(g.DEBUG_BUILD&&u.logger.log("[Profiling] Discarding profile because it contains no frames"),!1)}let X=!1;const W=3e4;function K(ee){return typeof ee=="function"}function Y(){const ee=v.WINDOW.Profiler;if(!K(ee)){g.DEBUG_BUILD&&u.logger.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const ne=10,_e=Math.floor(W/ne);try{return new ee({sampleInterval:ne,maxBufferSize:_e})}catch(Te){g.DEBUG_BUILD&&(u.logger.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),u.logger.log("[Profiling] Disabling profiling for current user session.")),X=!0}}function L(ee){if(X)return g.DEBUG_BUILD&&u.logger.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!ee.isRecording())return g.DEBUG_BUILD&&u.logger.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const ne=i.getClient(),_e=ne&&ne.getOptions();if(!_e)return g.DEBUG_BUILD&&u.logger.log("[Profiling] Profiling disabled, no options found."),!1;const Te=_e.profilesSampleRate;return x(Te)?Te?(Te===!0?!0:Math.random()<Te)?!0:(g.DEBUG_BUILD&&u.logger.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(Te)})`),!1):(g.DEBUG_BUILD&&u.logger.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(g.DEBUG_BUILD&&u.logger.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function V(ee,ne,_e,Te){return $(_e)?n(ee,ne,_e,Te):null}const q=new Map;function oe(){return q.size}function fe(ee){const ne=q.get(ee);return ne&&q.delete(ee),ne}function he(ee,ne){if(q.set(ee,ne),q.size>30){const _e=q.keys().next().value;q.delete(_e)}}e.MAX_PROFILE_DURATION_MS=W,e.addProfileToGlobalCache=he,e.addProfilesToEnvelope=R,e.applyDebugMetadata=P,e.convertJSSelfProfileToSampledFormat=S,e.createProfilePayload=n,e.createProfilingEvent=V,e.enrichWithThreadInformation=_,e.findProfiledTransactionsFromEnvelope=A,e.getActiveProfilesCount=oe,e.isAutomatedPageLoadSpan=a,e.isValidSampleRate=x,e.shouldProfileSpan=L,e.startJSSelfProfile=Y,e.takeProfileFromGlobalCache=fe},33944:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(17077),g=o(82138),v=o(71185),T=o(93894),E=o(46229),y=o(53008),p=o(67323),h=o(14458),I=o(6049),b=o(28950),f=o(67417),d=o(36267);function m(A){return[i.inboundFiltersIntegration(),i.functionToStringIntegration(),p.browserApiErrorsIntegration(),y.breadcrumbsIntegration(),h.globalHandlersIntegration(),b.linkedErrorsIntegration(),i.dedupeIntegration(),I.httpContextIntegration()]}function l(A={}){const M={defaultIntegrations:m(),release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:E.WINDOW.SENTRY_RELEASE&&E.WINDOW.SENTRY_RELEASE.id?E.WINDOW.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return B(B({},M),A)}function C(){const A=E.WINDOW,M=A.chrome?"chrome":"browser",P=A[M],x=P&&P.runtime&&P.runtime.id,$=E.WINDOW.location&&E.WINDOW.location.href||"",X=["chrome-extension:","moz-extension:","ms-browser-extension:"],W=!!x&&E.WINDOW===E.WINDOW.top&&X.some(K=>$.startsWith(`${K}//`));return!!x&&!W}function _(A={}){const M=l(A);if(C()){u.consoleSandbox(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}T.DEBUG_BUILD&&(u.supportsFetch()||u.logger.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));const P=Ie(B({},M),{stackParser:u.stackParserFromStackParserOptions(M.stackParser||f.defaultStackParser),integrations:i.getIntegrationsToSetup(M),transport:M.transport||d.makeFetchTransport});i.initAndBind(v.BrowserClient,P),M.autoSessionTracking&&S()}function r(A={}){if(!E.WINDOW.document){T.DEBUG_BUILD&&u.logger.error("Global document not defined in showReportDialog call");return}const M=i.getCurrentScope(),P=M.getClient(),x=P&&P.getDsn();if(!x){T.DEBUG_BUILD&&u.logger.error("DSN not configured for showReportDialog call");return}if(M&&(A.user=B(B({},M.getUser()),A.user)),!A.eventId){const K=i.lastEventId();K&&(A.eventId=K)}const $=E.WINDOW.document.createElement("script");$.async=!0,$.crossOrigin="anonymous",$.src=i.getReportDialogEndpoint(x,A),A.onLoad&&($.onload=A.onLoad);const{onClose:X}=A;if(X){const K=Y=>{if(Y.data==="__sentry_reportdialog_closed__")try{X()}finally{E.WINDOW.removeEventListener("message",K)}};E.WINDOW.addEventListener("message",K)}const W=E.WINDOW.document.head||E.WINDOW.document.body;W?W.appendChild($):T.DEBUG_BUILD&&u.logger.error("Not injecting report dialog. No injection point found in HTML")}function n(){}function a(A){A()}function S(){if(typeof E.WINDOW.document=="undefined"){T.DEBUG_BUILD&&u.logger.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}i.startSession({ignoreDuration:!0}),i.captureSession(),g.addHistoryInstrumentationHandler(({from:A,to:M})=>{A!==void 0&&A!==M&&(i.startSession({ignoreDuration:!0}),i.captureSession())})}function R(A){const M=i.getClient();M&&M.captureUserFeedback(A)}e.captureUserFeedback=R,e.forceLoad=n,e.getDefaultIntegrations=m,e.init=_,e.onLoad=a,e.showReportDialog=r},67417:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=10,g=20,v=30,T=40,E=50;function y(W,K,Y,L){const V={filename:W,function:K==="<anonymous>"?i.UNKNOWN_FUNCTION:K,in_app:!0};return Y!==void 0&&(V.lineno=Y),L!==void 0&&(V.colno=L),V}const p=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,h=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,I=/\((\S*)(?::(\d+))(?::(\d+))\)/,f=[v,W=>{const K=p.exec(W);if(K){const[,L,V,q]=K;return y(L,i.UNKNOWN_FUNCTION,+V,+q)}const Y=h.exec(W);if(Y){if(Y[2]&&Y[2].indexOf("eval")===0){const oe=I.exec(Y[2]);oe&&(Y[2]=oe[1],Y[3]=oe[2],Y[4]=oe[3])}const[V,q]=X(Y[1]||i.UNKNOWN_FUNCTION,Y[2]);return y(q,V,Y[3]?+Y[3]:void 0,Y[4]?+Y[4]:void 0)}}],d=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,m=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,C=[E,W=>{const K=d.exec(W);if(K){if(K[3]&&K[3].indexOf(" > eval")>-1){const q=m.exec(K[3]);q&&(K[1]=K[1]||"eval",K[3]=q[1],K[4]=q[2],K[5]="")}let L=K[3],V=K[1]||i.UNKNOWN_FUNCTION;return[V,L]=X(V,L),y(L,V,K[4]?+K[4]:void 0,K[5]?+K[5]:void 0)}}],_=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,n=[T,W=>{const K=_.exec(W);return K?y(K[2],K[1]||i.UNKNOWN_FUNCTION,+K[3],K[4]?+K[4]:void 0):void 0}],a=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,R=[u,W=>{const K=a.exec(W);return K?y(K[2],K[3]||i.UNKNOWN_FUNCTION,+K[1]):void 0}],A=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,P=[g,W=>{const K=A.exec(W);return K?y(K[5],K[3]||K[4]||i.UNKNOWN_FUNCTION,+K[1],+K[2]):void 0}],x=[f,C],$=i.createStackParser(...x),X=(W,K)=>{const Y=W.indexOf("safari-extension")!==-1,L=W.indexOf("safari-web-extension")!==-1;return Y||L?[W.indexOf("@")!==-1?W.split("@")[0]:i.UNKNOWN_FUNCTION,Y?`safari-extension:${K}`:`safari-web-extension:${K}`]:[W,K]};e.chromeStackLineParser=f,e.defaultStackLineParsers=x,e.defaultStackParser=$,e.geckoStackLineParser=C,e.opera10StackLineParser=R,e.opera11StackLineParser=P,e.winjsStackLineParser=n},70554:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(17077),g=o(93894),v=o(46229);function T(){v.WINDOW&&v.WINDOW.document?v.WINDOW.document.addEventListener("visibilitychange",()=>{const E=i.getActiveSpan();if(!E)return;const y=i.getRootSpan(E);if(v.WINDOW.document.hidden&&y){const p="cancelled",{op:h,status:I}=i.spanToJSON(y);g.DEBUG_BUILD&&u.logger.log(`[Tracing] Transaction: ${p} -> since tab moved to the background, op: ${h}`),I||y.setStatus({code:i.SPAN_STATUS_ERROR,message:p}),y.setAttribute("sentry.cancellation_reason","document.hidden"),y.end()}}):g.DEBUG_BUILD&&u.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}e.registerBackgroundTabDetection=T},69905:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(82138),u=o(95617),g=o(17077),v=o(93894),T=o(46229),E=o(70554),y=o(15756),p="BrowserTracing",h=B(Ie(B({},u.TRACING_DEFAULTS),{instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!0,_experiments:{}}),y.defaultRequestInstrumentationOptions),I=(l={})=>{u.registerSpanErrorInstrumentation();const{enableInp:C,enableLongTask:_,_experiments:{enableInteractions:r},beforeStartSpan:n,idleTimeout:a,finalTimeout:S,childSpanTimeout:R,markBackgroundSpan:A,traceFetch:M,traceXHR:P,shouldCreateSpanForRequest:x,enableHTTPTimings:$,instrumentPageLoad:X,instrumentNavigation:W}=B(B({},h),l),K=i.startTrackingWebVitals();C&&i.startTrackingINP(),_&&i.startTrackingLongTasks(),r&&i.startTrackingInteractions();const Y={name:void 0,source:void 0};function L(V,q){const oe=q.op==="pageload",fe=n?n(q):q,he=fe.attributes||{};q.name!==fe.name&&(he[u.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]="custom",fe.attributes=he),Y.name=fe.name,Y.source=he[u.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];const ee=u.startIdleSpan(fe,{idleTimeout:a,finalTimeout:S,childSpanTimeout:R,disableAutoFinish:oe,beforeSpanEnd:_e=>{K(),i.addPerformanceEntries(_e)}});function ne(){["interactive","complete"].includes(T.WINDOW.document.readyState)&&V.emit("idleSpanEnableAutoFinish",ee)}return oe&&T.WINDOW.document&&(T.WINDOW.document.addEventListener("readystatechange",()=>{ne()}),ne()),ee}return{name:p,afterAllSetup(V){let q,oe=T.WINDOW.location&&T.WINDOW.location.href;V.on("startNavigationSpan",fe=>{u.getClient()===V&&(q&&(v.DEBUG_BUILD&&g.logger.log(`[Tracing] Finishing current root span with op: ${u.spanToJSON(q).op}`),q.end()),q=L(V,B({op:"navigation"},fe)))}),V.on("startPageLoadSpan",(fe,he={})=>{if(u.getClient()!==V)return;q&&(v.DEBUG_BUILD&&g.logger.log(`[Tracing] Finishing current root span with op: ${u.spanToJSON(q).op}`),q.end());const ee=he.sentryTrace||d("sentry-trace"),ne=he.baggage||d("baggage"),_e=g.propagationContextFromHeaders(ee,ne);u.getCurrentScope().setPropagationContext(_e),q=L(V,B({op:"pageload"},fe))}),V.on("spanEnd",fe=>{const he=u.spanToJSON(fe).op;if(fe!==u.getRootSpan(fe)||he!=="navigation"&&he!=="pageload")return;const ee=u.getCurrentScope(),ne=ee.getPropagationContext();ee.setPropagationContext(Ie(B({},ne),{sampled:ne.sampled!==void 0?ne.sampled:u.spanIsSampled(fe),dsc:ne.dsc||u.getDynamicSamplingContextFromSpan(fe)}))}),T.WINDOW.location&&(X&&b(V,{name:T.WINDOW.location.pathname,startTime:g.browserPerformanceTimeOrigin?g.browserPerformanceTimeOrigin/1e3:void 0,attributes:{[u.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url",[u.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.pageload.browser"}}),W&&i.addHistoryInstrumentationHandler(({to:fe,from:he})=>{if(he===void 0&&oe&&oe.indexOf(fe)!==-1){oe=void 0;return}he!==fe&&(oe=void 0,f(V,{name:T.WINDOW.location.pathname,attributes:{[u.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"url",[u.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.navigation.browser"}}))})),A&&E.registerBackgroundTabDetection(),r&&m(a,S,R,Y),y.instrumentOutgoingRequests({traceFetch:M,traceXHR:P,tracePropagationTargets:V.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:x,enableHTTPTimings:$})}}};function b(l,C,_){l.emit("startPageLoadSpan",C,_),u.getCurrentScope().setTransactionName(C.name);const r=u.getActiveSpan();return(r&&u.spanToJSON(r).op)==="pageload"?r:void 0}function f(l,C){u.getIsolationScope().setPropagationContext(g.generatePropagationContext()),u.getCurrentScope().setPropagationContext(g.generatePropagationContext()),l.emit("startNavigationSpan",C),u.getCurrentScope().setTransactionName(C.name);const _=u.getActiveSpan();return(_&&u.spanToJSON(_).op)==="navigation"?_:void 0}function d(l){const C=g.getDomElement(`meta[name=${l}]`);return C?C.getAttribute("content"):void 0}function m(l,C,_,r){let n;const a=()=>{const S="ui.action.click",R=u.getActiveSpan(),A=R&&u.getRootSpan(R);if(A){const M=u.spanToJSON(A).op;if(["navigation","pageload"].includes(M)){v.DEBUG_BUILD&&g.logger.warn(`[Tracing] Did not create ${S} span because a pageload or navigation span is in progress.`);return}}if(n&&(n.setAttribute(u.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,"interactionInterrupted"),n.end(),n=void 0),!r.name){v.DEBUG_BUILD&&g.logger.warn(`[Tracing] Did not create ${S} transaction because _latestRouteName is missing.`);return}n=u.startIdleSpan({name:r.name,op:S,attributes:{[u.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:r.source||"url"}},{idleTimeout:l,finalTimeout:C,childSpanTimeout:_})};T.WINDOW.document&&addEventListener("click",a,{once:!1,capture:!0})}e.BROWSER_TRACING_INTEGRATION_ID=p,e.browserTracingIntegration=I,e.getMetaContent=d,e.startBrowserTracingNavigationSpan=f,e.startBrowserTracingPageLoadSpan=b},15756:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(82138),u=o(95617),g=o(17077),v=o(46229),T={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function E(_){const{traceFetch:r,traceXHR:n,shouldCreateSpanForRequest:a,enableHTTPTimings:S,tracePropagationTargets:R}=B({traceFetch:T.traceFetch,traceXHR:T.traceXHR},_),A=typeof a=="function"?a:x=>!0,M=x=>f(x,R),P={};r&&g.addFetchInstrumentationHandler(x=>{const $=u.instrumentFetchRequest(x,A,M,P);if($){const X=C(x.fetchData.url),W=X?g.parseUrl(X).host:void 0;$.setAttributes({"http.url":X,"server.address":W})}S&&$&&p($)}),n&&i.addXhrInstrumentationHandler(x=>{const $=d(x,A,M,P);S&&$&&p($)})}function y(_){return _.entryType==="resource"&&"initiatorType"in _&&typeof _.nextHopProtocol=="string"&&(_.initiatorType==="fetch"||_.initiatorType==="xmlhttprequest")}function p(_){const{url:r}=u.spanToJSON(_).data||{};if(!r||typeof r!="string")return;const n=i.addPerformanceInstrumentationHandler("resource",({entries:a})=>{a.forEach(S=>{y(S)&&S.name.endsWith(r)&&(b(S).forEach(A=>_.setAttribute(...A)),setTimeout(n))})})}function h(_){let r="unknown",n="unknown",a="";for(const S of _){if(S==="/"){[r,n]=_.split("/");break}if(!isNaN(Number(S))){r=a==="h"?"http":a,n=_.split(a)[1];break}a+=S}return a===_&&(r=a),{name:r,version:n}}function I(_=0){return((g.browserPerformanceTimeOrigin||performance.timeOrigin)+_)/1e3}function b(_){const{name:r,version:n}=h(_.nextHopProtocol),a=[];return a.push(["network.protocol.version",n],["network.protocol.name",r]),g.browserPerformanceTimeOrigin?[...a,["http.request.redirect_start",I(_.redirectStart)],["http.request.fetch_start",I(_.fetchStart)],["http.request.domain_lookup_start",I(_.domainLookupStart)],["http.request.domain_lookup_end",I(_.domainLookupEnd)],["http.request.connect_start",I(_.connectStart)],["http.request.secure_connection_start",I(_.secureConnectionStart)],["http.request.connection_end",I(_.connectEnd)],["http.request.request_start",I(_.requestStart)],["http.request.response_start",I(_.responseStart)],["http.request.response_end",I(_.responseEnd)]]:a}function f(_,r){const n=v.WINDOW.location&&v.WINDOW.location.href;if(n){let a,S;try{a=new URL(_,n),S=new URL(n).origin}catch(A){return!1}const R=a.origin===S;return r?g.stringMatchesSomePattern(a.toString(),r)||R&&g.stringMatchesSomePattern(a.pathname,r):R}else{const a=!!_.match(/^\/(?!\/)/);return r?g.stringMatchesSomePattern(_,r):a}}function d(_,r,n,a){const S=_.xhr,R=S&&S[i.SENTRY_XHR_DATA_KEY];if(!S||S.__sentry_own_request__||!R)return;const A=u.hasTracingEnabled()&&r(R.url);if(_.endTimestamp&&A){const W=S.__sentry_xhr_span_id__;if(!W)return;const K=a[W];K&&R.status_code!==void 0&&(u.setHttpStatus(K,R.status_code),K.end(),delete a[W]);return}const M=C(R.url),P=M?g.parseUrl(M).host:void 0,x=!!u.getActiveSpan(),$=A&&x?u.startInactiveSpan({name:`${R.method} ${R.url}`,attributes:{type:"xhr","http.method":R.method,"http.url":M,url:R.url,"server.address":P,[u.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.http.browser",[u.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client"}}):new u.SentryNonRecordingSpan;S.__sentry_xhr_span_id__=$.spanContext().spanId,a[S.__sentry_xhr_span_id__]=$;const X=u.getClient();return S.setRequestHeader&&n(R.url)&&X&&m(S,X,u.hasTracingEnabled()&&x?$:void 0),$}function m(_,r,n){const a=u.getCurrentScope(),S=u.getIsolationScope(),{traceId:R,spanId:A,sampled:M,dsc:P}=B(B({},S.getPropagationContext()),a.getPropagationContext()),x=n&&u.hasTracingEnabled()?u.spanToTraceHeader(n):g.generateSentryTraceHeader(R,A,M),$=g.dynamicSamplingContextToSentryBaggageHeader(P||(n?u.getDynamicSamplingContextFromSpan(n):u.getDynamicSamplingContextFromClient(R,r)));l(_,x,$)}function l(_,r,n){try{_.setRequestHeader("sentry-trace",r),n&&_.setRequestHeader(g.BAGGAGE_HEADER_NAME,n)}catch(a){}}function C(_){try{return new URL(_,v.WINDOW.location.origin).href}catch(r){return}}e.defaultRequestInstrumentationOptions=T,e.extractNetworkProtocol=h,e.instrumentOutgoingRequests=E,e.shouldAttachHeaders=f,e.xhrCallback=d},36267:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(82138),u=o(95617),g=o(17077);function v(T,E=i.getNativeImplementation("fetch")){let y=0,p=0;function h(I){const b=I.body.length;y+=b,p++;const f=B({body:I.body,method:"POST",referrerPolicy:"origin",headers:T.headers,keepalive:y<=6e4&&p<15},T.fetchOptions);if(!E)return i.clearCachedImplementation("fetch"),g.rejectedSyncPromise("No fetch implementation available");try{return E(T.url,f).then(d=>(y-=b,p--,{statusCode:d.status,headers:{"x-sentry-rate-limits":d.headers.get("X-Sentry-Rate-Limits"),"retry-after":d.headers.get("Retry-After")}}))}catch(d){return i.clearCachedImplementation("fetch"),y-=b,p--,g.rejectedSyncPromise(d)}}return u.createTransport(T,h)}e.makeFetchTransport=v},28712:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(17077),g=o(36267);function v(d){return new Promise((m,l)=>{d.oncomplete=d.onsuccess=()=>m(d.result),d.onabort=d.onerror=()=>l(d.error)})}function T(d,m){const l=indexedDB.open(d);l.onupgradeneeded=()=>l.result.createObjectStore(m);const C=v(l);return _=>C.then(r=>_(r.transaction(m,"readwrite").objectStore(m)))}function E(d){return v(d.getAllKeys())}function y(d,m,l){return d(C=>E(C).then(_=>{if(!(_.length>=l))return C.put(m,Math.max(..._,0)+1),v(C.transaction)}))}function p(d,m,l){return d(C=>E(C).then(_=>{if(!(_.length>=l))return C.put(m,Math.min(..._,0)-1),v(C.transaction)}))}function h(d){return d(m=>E(m).then(l=>{if(l.length!==0)return v(m.get(l[0])).then(C=>(m.delete(l[0]),v(m.transaction).then(()=>C)))}))}function I(d){let m;function l(){return m==null&&(m=T(d.dbName||"sentry-offline",d.storeName||"queue")),m}return{push:C=>Oe(this,null,function*(){try{const _=yield u.serializeEnvelope(C);yield y(l(),_,d.maxQueueSize||30)}catch(_){}}),unshift:C=>Oe(this,null,function*(){try{const _=yield u.serializeEnvelope(C);yield p(l(),_,d.maxQueueSize||30)}catch(_){}}),shift:()=>Oe(this,null,function*(){try{const C=yield h(l());if(C)return u.parseEnvelope(C)}catch(C){}})}}function b(d){return m=>d(Ie(B({},m),{createStore:I}))}function f(d=g.makeFetchTransport){return b(i.makeOfflineTransport(d))}e.createStore=T,e.makeBrowserOfflineTransport=f,e.push=y,e.shift=h,e.unshift=p},63386:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077);function u(v,{metadata:T,tunnel:E,dsn:y}){const p=B(B({event_id:v.event_id,sent_at:new Date().toISOString()},T&&T.sdk&&{sdk:{name:T.sdk.name,version:T.sdk.version}}),!!E&&!!y&&{dsn:i.dsnToString(y)}),h=g(v);return i.createEnvelope(p,[h])}function g(v){return[{type:"user_report"},v]}e.createUserFeedbackEnvelope=u},59846:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(95617),u=o(46229),g={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",debugIntegration:"debug",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",sessionTimingIntegration:"sessiontiming",browserProfilingIntegration:"browserprofiling"},v=u.WINDOW;function T(y){return Oe(this,null,function*(){const p=g[y],h=v.Sentry=v.Sentry||{};if(!p)throw new Error(`Cannot lazy load integration: ${y}`);const I=h[y];if(typeof I=="function")return I;const b=E(p),f=u.WINDOW.document.createElement("script");f.src=b,f.crossOrigin="anonymous";const d=new Promise((l,C)=>{f.addEventListener("load",()=>l()),f.addEventListener("error",C)});u.WINDOW.document.body.appendChild(f);try{yield d}catch(l){throw new Error(`Error when loading integration: ${y}`)}const m=h[y];if(typeof m!="function")throw new Error(`Could not load integration: ${y}`);return m})}function E(y){const p=i.getClient(),h=p&&p.getOptions(),I=h&&h.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${i.SDK_VERSION}/${y}.min.js`,I).toString()}e.lazyLoadIntegration=T},41385:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u="7";function g(p){const h=p.protocol?`${p.protocol}:`:"",I=p.port?`:${p.port}`:"";return`${h}//${p.host}${I}${p.path?`/${p.path}`:""}/api/`}function v(p){return`${g(p)}${p.projectId}/envelope/`}function T(p,h){return i.urlEncode(B({sentry_key:p.publicKey,sentry_version:u},h&&{sentry_client:`${h.name}/${h.version}`}))}function E(p,h,I){return h||`${v(p)}?${T(p,I)}`}function y(p,h){const I=i.makeDsn(p);if(!I)return"";const b=`${g(I)}embed/error-page/`;let f=`dsn=${i.dsnToString(I)}`;for(const d in h)if(d!=="dsn"&&d!=="onClose")if(d==="user"){const m=h.user;if(!m)continue;m.name&&(f+=`&name=${encodeURIComponent(m.name)}`),m.email&&(f+=`&email=${encodeURIComponent(m.email)}`)}else f+=`&${encodeURIComponent(d)}=${encodeURIComponent(h[d])}`;return`${b}?${f}`}e.getEnvelopeEndpointWithUrlEncodedAuth=E,e.getReportDialogEndpoint=y},82473:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(99909),u=o(74760);function g(T){const E=i.getMainCarrier(),y=i.getSentryCarrier(E);y.acs=T}function v(T){const E=i.getSentryCarrier(T);return E.acs?E.acs:u.getStackAsyncContextStrategy()}e.getAsyncContextStrategy=v,e.setAsyncContextStrategy=g},74760:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(56485),g=o(25),v=o(99909);class T{constructor(f,d){let m;f?m=f:m=new g.Scope;let l;d?l=d:l=new g.Scope,this._stack=[{scope:m}],this._isolationScope=l}withScope(f){const d=this._pushScope();let m;try{m=f(d)}catch(l){throw this._popScope(),l}return i.isThenable(m)?m.then(l=>(this._popScope(),l),l=>{throw this._popScope(),l}):(this._popScope(),m)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const f=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:f}),f}_popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}}function E(){const b=v.getMainCarrier(),f=v.getSentryCarrier(b);return f.stack=f.stack||new T(u.getDefaultCurrentScope(),u.getDefaultIsolationScope())}function y(b){return E().withScope(b)}function p(b,f){const d=E();return d.withScope(()=>(d.getStackTop().scope=b,f(b)))}function h(b){return E().withScope(()=>b(E().getIsolationScope()))}function I(){return{withIsolationScope:h,withScope:y,withSetScope:p,withSetIsolationScope:(b,f)=>h(f),getCurrentScope:()=>E().getScope(),getIsolationScope:()=>E().getIsolationScope()}}e.AsyncContextStack=T,e.getStackAsyncContextStrategy=I},4343:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(41385),g=o(28625),v=o(76335),T=o(11757),E=o(58219),y=o(45681),p=o(93729),h=o(2564),I=o(19730),b="Not capturing exception because it's already been captured.";class f{constructor(r){if(this._options=r,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],r.dsn?this._dsn=i.makeDsn(r.dsn):v.DEBUG_BUILD&&i.logger.warn("No DSN provided, client will not send events."),this._dsn){const n=u.getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,r.tunnel,r._metadata?r._metadata.sdk:void 0);this._transport=r.transport(Ie(B({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this)},r.transportOptions),{url:n}))}}captureException(r,n,a){const S=i.uuid4();if(i.checkOrSetAlreadyCaught(r))return v.DEBUG_BUILD&&i.logger.log(b),S;const R=B({event_id:S},n);return this._process(this.eventFromException(r,R).then(A=>this._captureEvent(A,R,a))),R.event_id}captureMessage(r,n,a,S){const R=B({event_id:i.uuid4()},a),A=i.isParameterizedString(r)?r:String(r),M=i.isPrimitive(r)?this.eventFromMessage(A,n,R):this.eventFromException(r,R);return this._process(M.then(P=>this._captureEvent(P,R,S))),R.event_id}captureEvent(r,n,a){const S=i.uuid4();if(n&&n.originalException&&i.checkOrSetAlreadyCaught(n.originalException))return v.DEBUG_BUILD&&i.logger.log(b),S;const R=B({event_id:S},n),M=(r.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(r,R,M||a)),R.event_id}captureSession(r){typeof r.release!="string"?v.DEBUG_BUILD&&i.logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(r),y.updateSession(r,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(r){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(r).then(a=>n.flush(r).then(S=>a&&S))):i.resolvedSyncPromise(!0)}close(r){return this.flush(r).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(r){this._eventProcessors.push(r)}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationByName(r){return this._integrations[r]}addIntegration(r){const n=this._integrations[r.name];E.setupIntegration(this,r,this._integrations),n||E.afterSetupIntegrations(this,[r])}sendEvent(r,n={}){this.emit("beforeSendEvent",r,n);let a=T.createEventEnvelope(r,this._dsn,this._options._metadata,this._options.tunnel);for(const R of n.attachments||[])a=i.addItemToEnvelope(a,i.createAttachmentEnvelopeItem(R));const S=this.sendEnvelope(a);S&&S.then(R=>this.emit("afterSendEvent",r,R),null)}sendSession(r){const n=T.createSessionEnvelope(r,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(n)}recordDroppedEvent(r,n,a){if(this._options.sendClientReports){const S=`${r}:${n}`;v.DEBUG_BUILD&&i.logger.log(`Adding outcome: "${S}"`),this._outcomes[S]=this._outcomes[S]+1||1}}on(r,n){this._hooks[r]||(this._hooks[r]=[]),this._hooks[r].push(n)}emit(r,...n){this._hooks[r]&&this._hooks[r].forEach(a=>a(...n))}sendEnvelope(r){return this.emit("beforeEnvelope",r),this._isEnabled()&&this._transport?this._transport.send(r).then(null,n=>(v.DEBUG_BUILD&&i.logger.error("Error while sending event:",n),n)):(v.DEBUG_BUILD&&i.logger.error("Transport disabled"),i.resolvedSyncPromise({}))}_setupIntegrations(){const{integrations:r}=this._options;this._integrations=E.setupIntegrations(this,r),E.afterSetupIntegrations(this,r)}_updateSessionFromEvent(r,n){let a=!1,S=!1;const R=n.exception&&n.exception.values;if(R){S=!0;for(const P of R){const x=P.mechanism;if(x&&x.handled===!1){a=!0;break}}}const A=r.status==="ok";(A&&r.errors===0||A&&a)&&(y.updateSession(r,Ie(B({},a&&{status:"crashed"}),{errors:r.errors||Number(S||a)})),this.captureSession(r))}_isClientDoneProcessing(r){return new i.SyncPromise(n=>{let a=0;const S=1,R=setInterval(()=>{this._numProcessing==0?(clearInterval(R),n(!0)):(a+=S,r&&a>=r&&(clearInterval(R),n(!1)))},S)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(r,n,a,S=g.getIsolationScope()){const R=this.getOptions(),A=Object.keys(this._integrations);return!n.integrations&&A.length>0&&(n.integrations=A),this.emit("preprocessEvent",r,n),r.type||S.setLastEventId(r.event_id||n.event_id),I.prepareEvent(R,r,n,a,this,S).then(M=>{if(M===null)return M;const P=B(B({},S.getPropagationContext()),a?a.getPropagationContext():void 0);if(!(M.contexts&&M.contexts.trace)&&P){const{traceId:$,spanId:X,parentSpanId:W,dsc:K}=P;M.contexts=B({trace:i.dropUndefinedKeys({trace_id:$,span_id:X,parent_span_id:W})},M.contexts);const Y=K||p.getDynamicSamplingContextFromClient($,this);M.sdkProcessingMetadata=B({dynamicSamplingContext:Y},M.sdkProcessingMetadata)}return M})}_captureEvent(r,n={},a){return this._processEvent(r,n,a).then(S=>S.event_id,S=>{if(v.DEBUG_BUILD){const R=S;R.logLevel==="log"?i.logger.log(R.message):i.logger.warn(R)}})}_processEvent(r,n,a){const S=this.getOptions(),{sampleRate:R}=S,A=C(r),M=l(r),P=r.type||"error",x=`before send for type \`${P}\``,$=typeof R=="undefined"?void 0:h.parseSampleRate(R);if(M&&typeof $=="number"&&Math.random()>$)return this.recordDroppedEvent("sample_rate","error",r),i.rejectedSyncPromise(new i.SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${R})`,"log"));const X=P==="replay_event"?"replay":P,K=(r.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(r,n,a,K).then(Y=>{if(Y===null)throw this.recordDroppedEvent("event_processor",X,r),new i.SentryError("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return Y;const V=m(S,Y,n);return d(V,x)}).then(Y=>{if(Y===null)throw this.recordDroppedEvent("before_send",X,r),new i.SentryError(`${x} returned \`null\`, will not send event.`,"log");const L=a&&a.getSession();!A&&L&&this._updateSessionFromEvent(L,Y);const V=Y.transaction_info;if(A&&V&&Y.transaction!==r.transaction){const q="custom";Y.transaction_info=Ie(B({},V),{source:q})}return this.sendEvent(Y,n),Y}).then(null,Y=>{throw Y instanceof i.SentryError?Y:(this.captureException(Y,{data:{__sentry__:!0},originalException:Y}),new i.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${Y}`))})}_process(r){this._numProcessing++,r.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const r=this._outcomes;return this._outcomes={},Object.keys(r).map(n=>{const[a,S]=n.split(":");return{reason:a,category:S,quantity:r[n]}})}}function d(_,r){const n=`${r} must return \`null\` or a valid event.`;if(i.isThenable(_))return _.then(a=>{if(!i.isPlainObject(a)&&a!==null)throw new i.SentryError(n);return a},a=>{throw new i.SentryError(`${r} rejected with ${a}`)});if(!i.isPlainObject(_)&&_!==null)throw new i.SentryError(n);return _}function m(_,r,n){const{beforeSend:a,beforeSendTransaction:S,beforeSendSpan:R}=_;if(l(r)&&a)return a(r,n);if(C(r)){if(r.spans&&R){const A=[];for(const M of r.spans){const P=R(M);P&&A.push(P)}r.spans=A}if(S)return S(r,n)}return r}function l(_){return _.type===void 0}function C(_){return _.type==="transaction"}e.BaseClient=f},26931:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(28625),g=100;function v(T,E){const y=u.getClient(),p=u.getIsolationScope();if(!y)return;const{beforeBreadcrumb:h=null,maxBreadcrumbs:I=g}=y.getOptions();if(I<=0)return;const b=i.dateTimestampInSeconds(),f=B({timestamp:b},T),d=h?i.consoleSandbox(()=>h(f,E)):f;d!==null&&(y.emit&&y.emit("beforeAddBreadcrumb",d,E),p.addBreadcrumb(d,I))}e.addBreadcrumb=v},99909:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077);function u(){return g(i.GLOBAL_OBJ),i.GLOBAL_OBJ}function g(v){const T=v.__SENTRY__=v.__SENTRY__||{};return T.version=T.version||i.SDK_VERSION,T[i.SDK_VERSION]=T[i.SDK_VERSION]||{}}e.getMainCarrier=u,e.getSentryCarrier=g},2086:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077);function u(v,T,E,y,p){const h={sent_at:new Date().toISOString()};E&&E.sdk&&(h.sdk={name:E.sdk.name,version:E.sdk.version}),y&&p&&(h.dsn=i.dsnToString(p)),T&&(h.trace=i.dropUndefinedKeys(T));const I=g(v);return i.createEnvelope(h,[I])}function g(v){return[{type:"check_in"},v]}e.createCheckInEnvelope=u},41480:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o="production";e.DEFAULT_ENVIRONMENT=o},28625:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(82473),g=o(99909),v=o(25);function T(){const b=g.getMainCarrier();return u.getAsyncContextStrategy(b).getCurrentScope()}function E(){const b=g.getMainCarrier();return u.getAsyncContextStrategy(b).getIsolationScope()}function y(){return i.getGlobalSingleton("globalScope",()=>new v.Scope)}function p(...b){const f=g.getMainCarrier(),d=u.getAsyncContextStrategy(f);if(b.length===2){const[m,l]=b;return m?d.withSetScope(m,l):d.withScope(l)}return d.withScope(b[0])}function h(...b){const f=g.getMainCarrier(),d=u.getAsyncContextStrategy(f);if(b.length===2){const[m,l]=b;return m?d.withSetIsolationScope(m,l):d.withIsolationScope(l)}return d.withIsolationScope(b[0])}function I(){return T().getClient()}e.getClient=I,e.getCurrentScope=T,e.getGlobalScope=y,e.getIsolationScope=E,e.withIsolationScope=h,e.withScope=p},76335:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;e.DEBUG_BUILD=o},56485:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(25);function g(){return i.getGlobalSingleton("defaultCurrentScope",()=>new u.Scope)}function v(){return i.getGlobalSingleton("defaultIsolationScope",()=>new u.Scope)}e.getDefaultCurrentScope=g,e.getDefaultIsolationScope=v},11757:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(93729),g=o(95542);function v(p,h){return h&&(p.sdk=p.sdk||{},p.sdk.name=p.sdk.name||h.name,p.sdk.version=p.sdk.version||h.version,p.sdk.integrations=[...p.sdk.integrations||[],...h.integrations||[]],p.sdk.packages=[...p.sdk.packages||[],...h.packages||[]]),p}function T(p,h,I,b){const f=i.getSdkMetadataForEnvelopeHeader(I),d=B(B({sent_at:new Date().toISOString()},f&&{sdk:f}),!!b&&h&&{dsn:i.dsnToString(h)}),m="aggregates"in p?[{type:"sessions"},p]:[{type:"session"},p.toJSON()];return i.createEnvelope(d,[m])}function E(p,h,I,b){const f=i.getSdkMetadataForEnvelopeHeader(I),d=p.type&&p.type!=="replay_event"?p.type:"event";v(p,I&&I.sdk);const m=i.createEventEnvelopeHeaders(p,f,b,h);delete p.sdkProcessingMetadata;const l=[{type:d},p];return i.createEnvelope(m,[l])}function y(p,h){function I(r){return!!r.trace_id&&!!r.public_key}const b=u.getDynamicSamplingContextFromSpan(p[0]),f=h&&h.getDsn(),d=h&&h.getOptions().tunnel,m=B(B({sent_at:new Date().toISOString()},I(b)&&{trace:b}),!!d&&f&&{dsn:i.dsnToString(f)}),l=h&&h.getOptions().beforeSendSpan,C=l?r=>l(g.spanToJSON(r)):r=>g.spanToJSON(r),_=[];for(const r of p){const n=C(r);n&&_.push(i.createSpanEnvelopeItem(n))}return i.createEnvelope(m,_)}e.createEventEnvelope=E,e.createSessionEnvelope=T,e.createSpanEnvelope=y},41728:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(76335);function g(v,T,E,y=0){return new i.SyncPromise((p,h)=>{const I=v[y];if(T===null||typeof I!="function")p(T);else{const b=I(B({},T),E);u.DEBUG_BUILD&&I.id&&b===null&&i.logger.log(`Event processor "${I.id}" dropped event`),i.isThenable(b)?b.then(f=>g(v,f,E,y+1).then(p)).then(null,h):g(v,b,E,y+1).then(p).then(null,h)}})}e.notifyEventProcessors=g},56530:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(41480),g=o(28625),v=o(76335),T=o(45681),E=o(19730);function y(X,W){return g.getCurrentScope().captureException(X,E.parseEventHintOrCaptureContext(W))}function p(X,W){const K=typeof W=="string"?W:void 0,Y=typeof W!="string"?{captureContext:W}:void 0;return g.getCurrentScope().captureMessage(X,K,Y)}function h(X,W){return g.getCurrentScope().captureEvent(X,W)}function I(X,W){g.getIsolationScope().setContext(X,W)}function b(X){g.getIsolationScope().setExtras(X)}function f(X,W){g.getIsolationScope().setExtra(X,W)}function d(X){g.getIsolationScope().setTags(X)}function m(X,W){g.getIsolationScope().setTag(X,W)}function l(X){g.getIsolationScope().setUser(X)}function C(){return g.getIsolationScope().lastEventId()}function _(X,W){const K=g.getCurrentScope(),Y=g.getClient();if(!Y)v.DEBUG_BUILD&&i.logger.warn("Cannot capture check-in. No client defined.");else if(!Y.captureCheckIn)v.DEBUG_BUILD&&i.logger.warn("Cannot capture check-in. Client does not support sending check-ins.");else return Y.captureCheckIn(X,W,K);return i.uuid4()}function r(X,W,K){const Y=_({monitorSlug:X,status:"in_progress"},K),L=i.timestampInSeconds();function V(q){_({monitorSlug:X,status:q,checkInId:Y,duration:i.timestampInSeconds()-L})}return g.withIsolationScope(()=>{let q;try{q=W()}catch(oe){throw V("error"),oe}return i.isThenable(q)?Promise.resolve(q).then(()=>{V("ok")},()=>{V("error")}):V("ok"),q})}function n(X){return Oe(this,null,function*(){const W=g.getClient();return W?W.flush(X):(v.DEBUG_BUILD&&i.logger.warn("Cannot flush events. No client defined."),Promise.resolve(!1))})}function a(X){return Oe(this,null,function*(){const W=g.getClient();return W?W.close(X):(v.DEBUG_BUILD&&i.logger.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))})}function S(){return!!g.getClient()}function R(){const X=g.getClient();return!!X&&X.getOptions().enabled!==!1&&!!X.getTransport()}function A(X){g.getIsolationScope().addEventProcessor(X)}function M(X){const W=g.getClient(),K=g.getIsolationScope(),Y=g.getCurrentScope(),{release:L,environment:V=u.DEFAULT_ENVIRONMENT}=W&&W.getOptions()||{},{userAgent:q}=i.GLOBAL_OBJ.navigator||{},oe=T.makeSession(B(B({release:L,environment:V,user:Y.getUser()||K.getUser()},q&&{userAgent:q}),X)),fe=K.getSession();return fe&&fe.status==="ok"&&T.updateSession(fe,{status:"exited"}),P(),K.setSession(oe),Y.setSession(oe),oe}function P(){const X=g.getIsolationScope(),W=g.getCurrentScope(),K=W.getSession()||X.getSession();K&&T.closeSession(K),x(),X.setSession(),W.setSession()}function x(){const X=g.getIsolationScope(),W=g.getCurrentScope(),K=g.getClient(),Y=W.getSession()||X.getSession();Y&&K&&K.captureSession(Y)}function $(X=!1){if(X){P();return}x()}e.addEventProcessor=A,e.captureCheckIn=_,e.captureEvent=h,e.captureException=y,e.captureMessage=p,e.captureSession=$,e.close=a,e.endSession=P,e.flush=n,e.isEnabled=R,e.isInitialized=S,e.lastEventId=C,e.setContext=I,e.setExtra=f,e.setExtras=b,e.setTag=m,e.setTags=d,e.setUser=l,e.startSession=M,e.withMonitor=r},22274:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(28625);function g(v,T={},E=u.getCurrentScope()){const{message:y,name:p,email:h,url:I,source:b,associatedEventId:f}=v,d={contexts:{feedback:i.dropUndefinedKeys({contact_email:h,name:p,message:y,url:I,source:b,associated_event_id:f})},type:"feedback",level:"info"},m=E&&E.getClient()||u.getClient();return m&&m.emit("beforeSendFeedback",d,T),E.captureEvent(d,T)}e.captureFeedback=g},47281:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(28625),g=o(14124);o(5489),o(76335);const v=o(73844),T=o(95542),E=o(70987),y=o(56728),p=o(95009),h=o(93729);function I(m,l,C,_,r="auto.http.browser"){if(!m.fetchData)return;const n=v.hasTracingEnabled()&&l(m.fetchData.url);if(m.endTimestamp&&n){const X=m.fetchData.__span;if(!X)return;const W=_[X];W&&(d(W,m),delete _[X]);return}const a=u.getCurrentScope(),S=u.getClient(),{method:R,url:A}=m.fetchData,M=f(A),P=M?i.parseUrl(M).host:void 0,x=!!T.getActiveSpan(),$=n&&x?p.startInactiveSpan({name:`${R} ${A}`,attributes:{url:A,type:"fetch","http.method":R,"http.url":M,"server.address":P,[g.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:r,[g.SEMANTIC_ATTRIBUTE_SENTRY_OP]:"http.client"}}):new E.SentryNonRecordingSpan;if(m.fetchData.__span=$.spanContext().spanId,_[$.spanContext().spanId]=$,C(m.fetchData.url)&&S){const X=m.args[0];m.args[1]=m.args[1]||{};const W=m.args[1];W.headers=b(X,S,a,W,v.hasTracingEnabled()&&x?$:void 0)}return $}function b(m,l,C,_,r){const n=u.getIsolationScope(),{traceId:a,spanId:S,sampled:R,dsc:A}=B(B({},n.getPropagationContext()),C.getPropagationContext()),M=r?T.spanToTraceHeader(r):i.generateSentryTraceHeader(a,S,R),P=i.dynamicSamplingContextToSentryBaggageHeader(A||(r?h.getDynamicSamplingContextFromSpan(r):h.getDynamicSamplingContextFromClient(a,l))),x=_.headers||(typeof Request!="undefined"&&i.isInstanceOf(m,Request)?m.headers:void 0);if(x)if(typeof Headers!="undefined"&&i.isInstanceOf(x,Headers)){const $=new Headers(x);return $.append("sentry-trace",M),P&&$.append(i.BAGGAGE_HEADER_NAME,P),$}else if(Array.isArray(x)){const $=[...x,["sentry-trace",M]];return P&&$.push([i.BAGGAGE_HEADER_NAME,P]),$}else{const $="baggage"in x?x.baggage:void 0,X=[];return Array.isArray($)?X.push(...$):$&&X.push($),P&&X.push(P),Ie(B({},x),{"sentry-trace":M,baggage:X.length>0?X.join(","):void 0})}else return{"sentry-trace":M,baggage:P}}function f(m){try{return new URL(m).href}catch(l){return}}function d(m,l){if(l.response){y.setHttpStatus(m,l.response.status);const C=l.response&&l.response.headers&&l.response.headers.get("content-length");if(C){const _=parseInt(C);_>0&&m.setAttribute("http.response_content_length",_)}}else l.error&&m.setStatus({code:y.SPAN_STATUS_ERROR,message:"internal_error"});m.end()}e.addTracingHeadersToFetchRequest=b,e.instrumentFetchRequest=I},5416:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(26931),u=o(28625),g=o(56530);function v(){return{bindClient(y){u.getCurrentScope().setClient(y)},withScope:u.withScope,getClient:()=>u.getClient(),getScope:u.getCurrentScope,getIsolationScope:u.getIsolationScope,captureException:(y,p)=>u.getCurrentScope().captureException(y,p),captureMessage:(y,p,h)=>u.getCurrentScope().captureMessage(y,p,h),captureEvent:g.captureEvent,addBreadcrumb:i.addBreadcrumb,setUser:g.setUser,setTags:g.setTags,setTag:g.setTag,setExtra:g.setExtra,setExtras:g.setExtras,setContext:g.setContext,getIntegration(y){const p=u.getClient();return p&&p.getIntegrationByName(y.id)||null},startSession:g.startSession,endSession:g.endSession,captureSession(y){if(y)return g.endSession();E()}}}const T=v;function E(){const y=u.getCurrentScope(),p=u.getClient(),h=y.getSession();p&&h&&p.captureSession(h)}e.getCurrentHub=T,e.getCurrentHubShim=v},95617:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(5489),u=o(97209),g=o(67873),v=o(49620),T=o(70413),E=o(70987),y=o(56728),p=o(95009),h=o(93729),I=o(72256),b=o(23359),f=o(7269),d=o(14124),m=o(11757),l=o(56530),C=o(28625),_=o(56485),r=o(82473),n=o(99909),a=o(45681),S=o(24452),R=o(25),A=o(41728),M=o(41385),P=o(4343),x=o(77619),$=o(85485),X=o(98179),W=o(58035),K=o(95129),Y=o(58219),L=o(42408),V=o(19730),q=o(2086),oe=o(73844),fe=o(89922),he=o(80749),ee=o(73628),ne=o(95542),_e=o(2564),Te=o(44274),Ne=o(41480),Qe=o(26931),z=o(4261),re=o(28809),ae=o(5947),le=o(57600),de=o(37120),ve=o(59630),Le=o(58450),Pe=o(28846),He=o(95709),Xe=o(21003),me=o(83555),lt=o(92851),Tt=o(46696),Ct=o(73116),Nt=o(14552),ln=o(73793),Ft=o(47406),Ht=o(47281),ft=o(70794),Pt=o(22274),_t=o(5416),zt=o(17077);e.registerSpanErrorInstrumentation=i.registerSpanErrorInstrumentation,e.getCapturedScopesOnSpan=u.getCapturedScopesOnSpan,e.setCapturedScopesOnSpan=u.setCapturedScopesOnSpan,e.addTracingExtensions=g.addTracingExtensions,e.TRACING_DEFAULTS=v.TRACING_DEFAULTS,e.startIdleSpan=v.startIdleSpan,e.SentrySpan=T.SentrySpan,e.SentryNonRecordingSpan=E.SentryNonRecordingSpan,e.SPAN_STATUS_ERROR=y.SPAN_STATUS_ERROR,e.SPAN_STATUS_OK=y.SPAN_STATUS_OK,e.SPAN_STATUS_UNSET=y.SPAN_STATUS_UNSET,e.getSpanStatusFromHttpCode=y.getSpanStatusFromHttpCode,e.setHttpStatus=y.setHttpStatus,e.continueTrace=p.continueTrace,e.startInactiveSpan=p.startInactiveSpan,e.startNewTrace=p.startNewTrace,e.startSpan=p.startSpan,e.startSpanManual=p.startSpanManual,e.suppressTracing=p.suppressTracing,e.withActiveSpan=p.withActiveSpan,e.getDynamicSamplingContextFromClient=h.getDynamicSamplingContextFromClient,e.getDynamicSamplingContextFromSpan=h.getDynamicSamplingContextFromSpan,e.spanToBaggageHeader=h.spanToBaggageHeader,e.setMeasurement=I.setMeasurement,e.timedEventsToMeasurements=I.timedEventsToMeasurements,e.sampleSpan=b.sampleSpan,e.logSpanEnd=f.logSpanEnd,e.logSpanStart=f.logSpanStart,e.SEMANTIC_ATTRIBUTE_CACHE_HIT=d.SEMANTIC_ATTRIBUTE_CACHE_HIT,e.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE=d.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE,e.SEMANTIC_ATTRIBUTE_CACHE_KEY=d.SEMANTIC_ATTRIBUTE_CACHE_KEY,e.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME=d.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME,e.SEMANTIC_ATTRIBUTE_PROFILE_ID=d.SEMANTIC_ATTRIBUTE_PROFILE_ID,e.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON=d.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,e.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT=d.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT,e.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE=d.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE,e.SEMANTIC_ATTRIBUTE_SENTRY_OP=d.SEMANTIC_ATTRIBUTE_SENTRY_OP,e.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=d.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,e.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=d.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,e.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=d.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,e.createEventEnvelope=m.createEventEnvelope,e.createSessionEnvelope=m.createSessionEnvelope,e.createSpanEnvelope=m.createSpanEnvelope,e.addEventProcessor=l.addEventProcessor,e.captureCheckIn=l.captureCheckIn,e.captureEvent=l.captureEvent,e.captureException=l.captureException,e.captureMessage=l.captureMessage,e.captureSession=l.captureSession,e.close=l.close,e.endSession=l.endSession,e.flush=l.flush,e.isEnabled=l.isEnabled,e.isInitialized=l.isInitialized,e.lastEventId=l.lastEventId,e.setContext=l.setContext,e.setExtra=l.setExtra,e.setExtras=l.setExtras,e.setTag=l.setTag,e.setTags=l.setTags,e.setUser=l.setUser,e.startSession=l.startSession,e.withMonitor=l.withMonitor,e.getClient=C.getClient,e.getCurrentScope=C.getCurrentScope,e.getGlobalScope=C.getGlobalScope,e.getIsolationScope=C.getIsolationScope,e.withIsolationScope=C.withIsolationScope,e.withScope=C.withScope,e.getDefaultCurrentScope=_.getDefaultCurrentScope,e.getDefaultIsolationScope=_.getDefaultIsolationScope,e.setAsyncContextStrategy=r.setAsyncContextStrategy,e.getMainCarrier=n.getMainCarrier,e.closeSession=a.closeSession,e.makeSession=a.makeSession,e.updateSession=a.updateSession,e.SessionFlusher=S.SessionFlusher,e.Scope=R.Scope,e.notifyEventProcessors=A.notifyEventProcessors,e.getEnvelopeEndpointWithUrlEncodedAuth=M.getEnvelopeEndpointWithUrlEncodedAuth,e.getReportDialogEndpoint=M.getReportDialogEndpoint,e.BaseClient=P.BaseClient,e.ServerRuntimeClient=x.ServerRuntimeClient,e.initAndBind=$.initAndBind,e.setCurrentClient=$.setCurrentClient,e.createTransport=X.createTransport,e.makeOfflineTransport=W.makeOfflineTransport,e.makeMultiplexedTransport=K.makeMultiplexedTransport,e.addIntegration=Y.addIntegration,e.defineIntegration=Y.defineIntegration,e.getIntegrationsToSetup=Y.getIntegrationsToSetup,e.applyScopeDataToEvent=L.applyScopeDataToEvent,e.mergeScopeData=L.mergeScopeData,e.prepareEvent=V.prepareEvent,e.createCheckInEnvelope=q.createCheckInEnvelope,e.hasTracingEnabled=oe.hasTracingEnabled,e.isSentryRequestUrl=fe.isSentryRequestUrl,e.handleCallbackErrors=he.handleCallbackErrors,e.parameterize=ee.parameterize,e.addChildSpanToSpan=ne.addChildSpanToSpan,e.getActiveSpan=ne.getActiveSpan,e.getRootSpan=ne.getRootSpan,e.getSpanDescendants=ne.getSpanDescendants,e.getStatusMessage=ne.getStatusMessage,e.spanIsSampled=ne.spanIsSampled,e.spanToJSON=ne.spanToJSON,e.spanToTraceContext=ne.spanToTraceContext,e.spanToTraceHeader=ne.spanToTraceHeader,e.parseSampleRate=_e.parseSampleRate,e.applySdkMetadata=Te.applySdkMetadata,e.DEFAULT_ENVIRONMENT=Ne.DEFAULT_ENVIRONMENT,e.addBreadcrumb=Qe.addBreadcrumb,e.functionToStringIntegration=z.functionToStringIntegration,e.inboundFiltersIntegration=re.inboundFiltersIntegration,e.linkedErrorsIntegration=ae.linkedErrorsIntegration,e.moduleMetadataIntegration=le.moduleMetadataIntegration,e.requestDataIntegration=de.requestDataIntegration,e.captureConsoleIntegration=ve.captureConsoleIntegration,e.debugIntegration=Le.debugIntegration,e.dedupeIntegration=Pe.dedupeIntegration,e.extraErrorDataIntegration=He.extraErrorDataIntegration,e.rewriteFramesIntegration=Xe.rewriteFramesIntegration,e.sessionTimingIntegration=me.sessionTimingIntegration,e.zodErrorsIntegration=lt.zodErrorsIntegration,e.thirdPartyErrorFilterIntegration=Tt.thirdPartyErrorFilterIntegration,e.metrics=Ct.metrics,e.metricsDefault=Nt.metricsDefault,e.BrowserMetricsAggregator=ln.BrowserMetricsAggregator,e.getMetricSummaryJsonForSpan=Ft.getMetricSummaryJsonForSpan,e.addTracingHeadersToFetchRequest=Ht.addTracingHeadersToFetchRequest,e.instrumentFetchRequest=Ht.instrumentFetchRequest,e.trpcMiddleware=ft.trpcMiddleware,e.captureFeedback=Pt.captureFeedback,e.getCurrentHub=_t.getCurrentHub,e.getCurrentHubShim=_t.getCurrentHubShim,e.SDK_VERSION=zt.SDK_VERSION},58219:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(28625),g=o(76335),v=[];function T(d){const m={};return d.forEach(l=>{const{name:C}=l,_=m[C];_&&!_.isDefaultInstance&&l.isDefaultInstance||(m[C]=l)}),Object.keys(m).map(l=>m[l])}function E(d){const m=d.defaultIntegrations||[],l=d.integrations;m.forEach(n=>{n.isDefaultInstance=!0});let C;Array.isArray(l)?C=[...m,...l]:typeof l=="function"?C=i.arrayify(l(m)):C=m;const _=T(C),r=b(_,n=>n.name==="Debug");if(r!==-1){const[n]=_.splice(r,1);_.push(n)}return _}function y(d,m){const l={};return m.forEach(C=>{C&&h(d,C,l)}),l}function p(d,m){for(const l of m)l&&l.afterAllSetup&&l.afterAllSetup(d)}function h(d,m,l){if(l[m.name]){g.DEBUG_BUILD&&i.logger.log(`Integration skipped because it was already installed: ${m.name}`);return}if(l[m.name]=m,v.indexOf(m.name)===-1&&typeof m.setupOnce=="function"&&(m.setupOnce(),v.push(m.name)),m.setup&&typeof m.setup=="function"&&m.setup(d),typeof m.preprocessEvent=="function"){const C=m.preprocessEvent.bind(m);d.on("preprocessEvent",(_,r)=>C(_,r,d))}if(typeof m.processEvent=="function"){const C=m.processEvent.bind(m),_=Object.assign((r,n)=>C(r,n,d),{id:m.name});d.addEventProcessor(_)}g.DEBUG_BUILD&&i.logger.log(`Integration installed: ${m.name}`)}function I(d){const m=u.getClient();if(!m){g.DEBUG_BUILD&&i.logger.warn(`Cannot add integration "${d.name}" because no SDK Client is available.`);return}m.addIntegration(d)}function b(d,m){for(let l=0;l<d.length;l++)if(m(d[l])===!0)return l;return-1}function f(d){return d}e.addIntegration=I,e.afterSetupIntegrations=p,e.defineIntegration=f,e.getIntegrationsToSetup=E,e.installedIntegrations=v,e.setupIntegration=h,e.setupIntegrations=y},59630:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(28625),g=o(56530),v=o(58219),T="CaptureConsole",E=(h={})=>{const I=h.levels||i.CONSOLE_LEVELS;return{name:T,setup(b){"console"in i.GLOBAL_OBJ&&i.addConsoleInstrumentationHandler(({args:f,level:d})=>{u.getClient()!==b||!I.includes(d)||p(f,d)})}}},y=v.defineIntegration(E);function p(h,I){const b={level:i.severityLevelFromString(I),extra:{arguments:h}};u.withScope(f=>{if(f.addEventProcessor(l=>(l.logger="console",i.addExceptionMechanism(l,{handled:!1,type:"console"}),l)),I==="assert"){if(!h[0]){const l=`Assertion failed: ${i.safeJoin(h.slice(1)," ")||"console.assert"}`;f.setExtra("arguments",h.slice(1)),g.captureMessage(l,b)}return}const d=h.find(l=>l instanceof Error);if(d){g.captureException(d,b);return}const m=i.safeJoin(h," ");g.captureMessage(m,b)})}e.captureConsoleIntegration=y},58450:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(58219),g="Debug",v=(E={})=>{const y=B({debugger:!1,stringify:!1},E);return{name:g,setup(p){p.on("beforeSendEvent",(h,I)=>{if(y.debugger)debugger;i.consoleSandbox(()=>{y.stringify?(console.log(JSON.stringify(h,null,2)),I&&Object.keys(I).length&&console.log(JSON.stringify(I,null,2))):(console.log(h),I&&Object.keys(I).length&&console.log(I))})})}}},T=u.defineIntegration(v);e.debugIntegration=T},28846:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(58219),g=o(76335),v="Dedupe",T=()=>{let d;return{name:v,processEvent(m){if(m.type)return m;try{if(y(m,d))return g.DEBUG_BUILD&&i.logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(l){}return d=m}}},E=u.defineIntegration(T);function y(d,m){return m?!!(p(d,m)||h(d,m)):!1}function p(d,m){const l=d.message,C=m.message;return!(!l&&!C||l&&!C||!l&&C||l!==C||!b(d,m)||!I(d,m))}function h(d,m){const l=f(m),C=f(d);return!(!l||!C||l.type!==C.type||l.value!==C.value||!b(d,m)||!I(d,m))}function I(d,m){let l=i.getFramesFromEvent(d),C=i.getFramesFromEvent(m);if(!l&&!C)return!0;if(l&&!C||!l&&C||(l=l,C=C,C.length!==l.length))return!1;for(let _=0;_<C.length;_++){const r=C[_],n=l[_];if(r.filename!==n.filename||r.lineno!==n.lineno||r.colno!==n.colno||r.function!==n.function)return!1}return!0}function b(d,m){let l=d.fingerprint,C=m.fingerprint;if(!l&&!C)return!0;if(l&&!C||!l&&C)return!1;l=l,C=C;try{return l.join("")===C.join("")}catch(_){return!1}}function f(d){return d.exception&&d.exception.values&&d.exception.values[0]}e._shouldDropEvent=y,e.dedupeIntegration=E},95709:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(58219),g=o(76335),v="ExtraErrorData",T=(h={})=>{const{depth:I=3,captureErrorCause:b=!0}=h;return{name:v,processEvent(f,d){return y(f,d,I,b)}}},E=u.defineIntegration(T);function y(h,I={},b,f){if(!I.originalException||!i.isError(I.originalException))return h;const d=I.originalException.name||I.originalException.constructor.name,m=p(I.originalException,f);if(m){const l=B({},h.contexts),C=i.normalize(m,b);return i.isPlainObject(C)&&(i.addNonEnumerableProperty(C,"__sentry_skip_normalization__",!0),l[d]=C),Ie(B({},h),{contexts:l})}return h}function p(h,I){try{const b=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],f={};for(const d of Object.keys(h)){if(b.indexOf(d)!==-1)continue;const m=h[d];f[d]=i.isError(m)?m.toString():m}if(I&&h.cause!==void 0&&(f.cause=i.isError(h.cause)?h.cause.toString():h.cause),typeof h.toJSON=="function"){const d=h.toJSON();for(const m of Object.keys(d)){const l=d[m];f[m]=i.isError(l)?l.toString():l}}return f}catch(b){g.DEBUG_BUILD&&i.logger.error("Unable to extract extra data from the Error object:",b)}return null}e.extraErrorDataIntegration=E},4261:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(28625),g=o(58219);let v;const T="FunctionToString",E=new WeakMap,y=()=>({name:T,setupOnce(){v=Function.prototype.toString;try{Function.prototype.toString=function(...h){const I=i.getOriginalFunction(this),b=E.has(u.getClient())&&I!==void 0?I:this;return v.apply(b,h)}}catch(h){}},setup(h){E.set(h,!0)}}),p=g.defineIntegration(y);e.functionToStringIntegration=p},28809:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(76335),g=o(58219),v=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],T="InboundFilters",E=(n={})=>({name:T,processEvent(a,S,R){const A=R.getOptions(),M=p(n,A);return h(a,M)?null:a}}),y=g.defineIntegration(E);function p(n={},a={}){return{allowUrls:[...n.allowUrls||[],...a.allowUrls||[]],denyUrls:[...n.denyUrls||[],...a.denyUrls||[]],ignoreErrors:[...n.ignoreErrors||[],...a.ignoreErrors||[],...n.disableErrorDefaults?[]:v],ignoreTransactions:[...n.ignoreTransactions||[],...a.ignoreTransactions||[]],ignoreInternal:n.ignoreInternal!==void 0?n.ignoreInternal:!0}}function h(n,a){return a.ignoreInternal&&l(n)?(u.DEBUG_BUILD&&i.logger.warn(`Event dropped due to being internal Sentry Error.
Event: ${i.getEventDescription(n)}`),!0):I(n,a.ignoreErrors)?(u.DEBUG_BUILD&&i.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${i.getEventDescription(n)}`),!0):r(n)?(u.DEBUG_BUILD&&i.logger.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${i.getEventDescription(n)}`),!0):b(n,a.ignoreTransactions)?(u.DEBUG_BUILD&&i.logger.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${i.getEventDescription(n)}`),!0):f(n,a.denyUrls)?(u.DEBUG_BUILD&&i.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${i.getEventDescription(n)}.
Url: ${_(n)}`),!0):d(n,a.allowUrls)?!1:(u.DEBUG_BUILD&&i.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${i.getEventDescription(n)}.
Url: ${_(n)}`),!0)}function I(n,a){return n.type||!a||!a.length?!1:m(n).some(S=>i.stringMatchesSomePattern(S,a))}function b(n,a){if(n.type!=="transaction"||!a||!a.length)return!1;const S=n.transaction;return S?i.stringMatchesSomePattern(S,a):!1}function f(n,a){if(!a||!a.length)return!1;const S=_(n);return S?i.stringMatchesSomePattern(S,a):!1}function d(n,a){if(!a||!a.length)return!0;const S=_(n);return S?i.stringMatchesSomePattern(S,a):!0}function m(n){const a=[];n.message&&a.push(n.message);let S;try{S=n.exception.values[n.exception.values.length-1]}catch(R){}return S&&S.value&&(a.push(S.value),S.type&&a.push(`${S.type}: ${S.value}`)),a}function l(n){try{return n.exception.values[0].type==="SentryError"}catch(a){}return!1}function C(n=[]){for(let a=n.length-1;a>=0;a--){const S=n[a];if(S&&S.filename!=="<anonymous>"&&S.filename!=="[native code]")return S.filename||null}return null}function _(n){try{let a;try{a=n.exception.values[0].stacktrace.frames}catch(S){}return a?C(a):null}catch(a){return u.DEBUG_BUILD&&i.logger.error(`Cannot extract url for event ${i.getEventDescription(n)}`),null}}function r(n){return n.type||!n.exception||!n.exception.values||n.exception.values.length===0?!1:!n.message&&!n.exception.values.some(a=>a.stacktrace||a.type&&a.type!=="Error"||a.value)}e.inboundFiltersIntegration=y},5947:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(58219),g="cause",v=5,T="LinkedErrors",E=(p={})=>{const h=p.limit||v,I=p.key||g;return{name:T,preprocessEvent(b,f,d){const m=d.getOptions();i.applyAggregateErrorsToEvent(i.exceptionFromError,m.stackParser,m.maxValueLength,I,h,b,f)}}},y=u.defineIntegration(E);e.linkedErrorsIntegration=y},57600:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(58219),g=o(60892),v="ModuleMetadata",T=()=>({name:v,setup(y){y.on("beforeEnvelope",p=>{i.forEachEnvelopeItem(p,(h,I)=>{if(I==="event"){const b=Array.isArray(h)?h[1]:void 0;b&&(g.stripMetadataFromStackFrames(b),h[1]=b)}})})},processEvent(y,p,h){const I=h.getOptions().stackParser;return g.addMetadataToStackFrames(I,y),y}}),E=u.defineIntegration(T);e.moduleMetadataIntegration=E},37120:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(58219),g={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"},v="RequestData",T=(p={})=>{const h=Ie(B(B({},g),p),{include:Ie(B(B({},g.include),p.include),{user:p.include&&typeof p.include.user=="boolean"?p.include.user:B(B({},g.include.user),(p.include||{}).user)})});return{name:v,processEvent(I){const{sdkProcessingMetadata:b={}}=I,f=b.request;if(!f)return I;const d=y(h);return i.addRequestDataToEvent(I,f,d)}}},E=u.defineIntegration(T);function y(p){const{transactionNamingScheme:h,include:l}=p,C=l,{ip:I,user:b}=C,f=ar(C,["ip","user"]),d=["method"];for(const[_,r]of Object.entries(f))r&&d.push(_);let m;if(b===void 0)m=!0;else if(typeof b=="boolean")m=b;else{const _=[];for(const[r,n]of Object.entries(b))n&&_.push(r);m=_}return{include:{ip:I,user:m,request:d.length!==0?d:void 0,transaction:h}}}e.requestDataIntegration=E},21003:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(58219),g="RewriteFrames",v=u.defineIntegration((E={})=>{const y=E.root,p=E.prefix||"app:///",h="window"in i.GLOBAL_OBJ&&i.GLOBAL_OBJ.window!==void 0,I=E.iteratee||T({isBrowser:h,root:y,prefix:p});function b(d){try{return Ie(B({},d),{exception:Ie(B({},d.exception),{values:d.exception.values.map(m=>B(B({},m),m.stacktrace&&{stacktrace:f(m.stacktrace)}))})})}catch(m){return d}}function f(d){return Ie(B({},d),{frames:d&&d.frames&&d.frames.map(m=>I(m))})}return{name:g,processEvent(d){let m=d;return d.exception&&Array.isArray(d.exception.values)&&(m=b(m)),m}}});function T({isBrowser:E,root:y,prefix:p}){return h=>{if(!h.filename)return h;const I=/^[a-zA-Z]:\\/.test(h.filename)||h.filename.includes("\\")&&!h.filename.includes("/"),b=/^\//.test(h.filename);if(E){if(y){const f=h.filename;f.indexOf(y)===0&&(h.filename=f.replace(y,p))}}else if(I||b){const f=I?h.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):h.filename,d=y?i.relative(y,f):i.basename(f);h.filename=`${p}${d}`}return h}}e.generateIteratee=T,e.rewriteFramesIntegration=v},83555:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(58219),g="SessionTiming",v=()=>{const E=i.timestampInSeconds()*1e3;return{name:g,processEvent(y){const p=i.timestampInSeconds()*1e3;return Ie(B({},y),{extra:Ie(B({},y.extra),{"session:start":E,"session:duration":p-E,"session:end":p})})}}},T=u.defineIntegration(v);e.sessionTimingIntegration=T},46696:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(58219),g=o(60892),v=u.defineIntegration(y=>({name:"ThirdPartyErrorsFilter",setup(p){p.on("beforeEnvelope",h=>{i.forEachEnvelopeItem(h,(I,b)=>{if(b==="event"){const f=Array.isArray(I)?I[1]:void 0;f&&(g.stripMetadataFromStackFrames(f),I[1]=f)}})})},processEvent(p,h,I){const b=I.getOptions().stackParser;g.addMetadataToStackFrames(b,p);const f=T(p);if(f){const d=y.behaviour==="drop-error-if-contains-third-party-frames"||y.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(f[d](l=>!l.some(C=>y.filterKeys.includes(C)))){if(y.behaviour==="drop-error-if-contains-third-party-frames"||y.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;p.tags=Ie(B({},p.tags),{third_party_code:!0})}}return p}}));function T(y){const p=i.getFramesFromEvent(y);if(p)return p.filter(h=>!!h.filename).map(h=>h.module_metadata?Object.keys(h.module_metadata).filter(I=>I.startsWith(E)).map(I=>I.slice(E.length)):[])}const E="_sentryBundlerPluginAppKey:";e.thirdPartyErrorFilterIntegration=v},92851:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(58219),g=10,v="ZodErrors";function T(b){return i.isError(b)&&b.name==="ZodError"&&Array.isArray(b.errors)}function E(b){return Ie(B({},b),{path:"path"in b&&Array.isArray(b.path)?b.path.join("."):void 0,keys:"keys"in b?JSON.stringify(b.keys):void 0,unionErrors:"unionErrors"in b?JSON.stringify(b.unionErrors):void 0})}function y(b){const f=new Set;for(const m of b.issues)m.path&&f.add(m.path[0]);const d=Array.from(f);return`Failed to validate keys: ${i.truncate(d.join(", "),100)}`}function p(b,f,d){return!f.exception||!f.exception.values||!d||!d.originalException||!T(d.originalException)||d.originalException.issues.length===0?f:Ie(B({},f),{exception:Ie(B({},f.exception),{values:[Ie(B({},f.exception.values[0]),{value:y(d.originalException)}),...f.exception.values.slice(1)]}),extra:Ie(B({},f.extra),{"zoderror.issues":d.originalException.errors.slice(0,b).map(E)})})}const h=(b={})=>{const f=b.limit||g;return{name:v,processEvent(d,m){return p(f,d,m)}}},I=u.defineIntegration(h);e.applyZodErrorsToEvent=p,e.zodErrorsIntegration=I},60892:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=new Map,g=new Set;function v(p){if(i.GLOBAL_OBJ._sentryModuleMetadata)for(const h of Object.keys(i.GLOBAL_OBJ._sentryModuleMetadata)){const I=i.GLOBAL_OBJ._sentryModuleMetadata[h];if(g.has(h))continue;g.add(h);const b=p(h);for(const f of b.reverse())if(f.filename){u.set(f.filename,I);break}}}function T(p,h){return v(p),u.get(h)}function E(p,h){try{h.exception.values.forEach(I=>{if(I.stacktrace)for(const b of I.stacktrace.frames||[]){if(!b.filename||b.module_metadata)continue;const f=T(p,b.filename);f&&(b.module_metadata=f)}})}catch(I){}}function y(p){try{p.exception.values.forEach(h=>{if(h.stacktrace)for(const I of h.stacktrace.frames||[])delete I.module_metadata})}catch(h){}}e.addMetadataToStackFrames=E,e.getMetadataForUrl=T,e.stripMetadataFromStackFrames=y},29554:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(95542),g=o(75670),v=o(93051),T=o(29840),E=o(97358);class y{constructor(h){this._client=h,this._buckets=new Map,this._bucketsTotalWeight=0,this._interval=setInterval(()=>this._flush(),g.DEFAULT_FLUSH_INTERVAL),this._interval.unref&&this._interval.unref(),this._flushShift=Math.floor(Math.random()*g.DEFAULT_FLUSH_INTERVAL/1e3),this._forceFlush=!1}add(h,I,b,f="none",d={},m=i.timestampInSeconds()){const l=Math.floor(m),C=E.sanitizeMetricKey(I),_=E.sanitizeTags(d),r=E.sanitizeUnit(f),n=E.getBucketKey(h,C,r,_);let a=this._buckets.get(n);const S=a&&h===g.SET_METRIC_TYPE?a.metric.weight:0;a?(a.metric.add(b),a.timestamp<l&&(a.timestamp=l)):(a={metric:new T.METRIC_MAP[h](b),timestamp:l,metricType:h,name:C,unit:r,tags:_},this._buckets.set(n,a));const R=typeof b=="string"?a.metric.weight-S:b;u.updateMetricSummaryOnActiveSpan(h,C,R,r,d,n),this._bucketsTotalWeight+=a.metric.weight,this._bucketsTotalWeight>=g.MAX_WEIGHT&&this.flush()}flush(){this._forceFlush=!0,this._flush()}close(){this._forceFlush=!0,clearInterval(this._interval),this._flush()}_flush(){if(this._forceFlush){this._forceFlush=!1,this._bucketsTotalWeight=0,this._captureMetrics(this._buckets),this._buckets.clear();return}const h=Math.floor(i.timestampInSeconds())-g.DEFAULT_FLUSH_INTERVAL/1e3-this._flushShift,I=new Map;for(const[b,f]of this._buckets)f.timestamp<=h&&(I.set(b,f),this._bucketsTotalWeight-=f.metric.weight);for(const[b]of I)this._buckets.delete(b);this._captureMetrics(I)}_captureMetrics(h){if(h.size>0){const I=Array.from(h).map(([,b])=>b);v.captureAggregateMetrics(this._client,I)}}}e.MetricsAggregator=y},73793:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(95542),g=o(75670),v=o(93051),T=o(29840),E=o(97358);class y{constructor(h){this._client=h,this._buckets=new Map,this._interval=setInterval(()=>this.flush(),g.DEFAULT_BROWSER_FLUSH_INTERVAL)}add(h,I,b,f="none",d={},m=i.timestampInSeconds()){const l=Math.floor(m),C=E.sanitizeMetricKey(I),_=E.sanitizeTags(d),r=E.sanitizeUnit(f),n=E.getBucketKey(h,C,r,_);let a=this._buckets.get(n);const S=a&&h===g.SET_METRIC_TYPE?a.metric.weight:0;a?(a.metric.add(b),a.timestamp<l&&(a.timestamp=l)):(a={metric:new T.METRIC_MAP[h](b),timestamp:l,metricType:h,name:C,unit:r,tags:_},this._buckets.set(n,a));const R=typeof b=="string"?a.metric.weight-S:b;u.updateMetricSummaryOnActiveSpan(h,C,R,r,d,n)}flush(){if(this._buckets.size===0)return;const h=Array.from(this._buckets.values());v.captureAggregateMetrics(this._client,h),this._buckets.clear()}close(){clearInterval(this._interval),this.flush()}}e.BrowserMetricsAggregator=y},75670:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o="c",i="g",u="s",g="d",v=5e3,T=1e4,E=1e4;e.COUNTER_METRIC_TYPE=o,e.DEFAULT_BROWSER_FLUSH_INTERVAL=v,e.DEFAULT_FLUSH_INTERVAL=T,e.DISTRIBUTION_METRIC_TYPE=g,e.GAUGE_METRIC_TYPE=i,e.MAX_WEIGHT=E,e.SET_METRIC_TYPE=u},93051:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(97358);function g(E,y){i.logger.log(`Flushing aggregated metrics, number of metrics: ${y.length}`);const p=E.getDsn(),h=E.getSdkMetadata(),I=E.getOptions().tunnel,b=v(y,p,h,I);E.sendEnvelope(b)}function v(E,y,p,h){const I={sent_at:new Date().toISOString()};p&&p.sdk&&(I.sdk={name:p.sdk.name,version:p.sdk.version}),h&&y&&(I.dsn=i.dsnToString(y));const b=T(E);return i.createEnvelope(I,[b])}function T(E){const y=u.serializeMetricBuckets(E);return[{type:"statsd",length:y.length},y]}e.captureAggregateMetrics=g,e.createMetricEnvelope=v},14552:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(29554),u=o(73116);function g(I,b=1,f){u.metrics.increment(i.MetricsAggregator,I,b,f)}function v(I,b,f){u.metrics.distribution(i.MetricsAggregator,I,b,f)}function T(I,b,f){u.metrics.set(i.MetricsAggregator,I,b,f)}function E(I,b,f){u.metrics.gauge(i.MetricsAggregator,I,b,f)}function y(I,b,f="second",d){return u.metrics.timing(i.MetricsAggregator,I,b,f,d)}function p(I){return u.metrics.getMetricsAggregatorForClient(I,i.MetricsAggregator)}const h={increment:g,distribution:v,set:T,gauge:E,timing:y,getMetricsAggregatorForClient:p};e.metricsDefault=h},73116:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(28625),g=o(76335);o(5489);const v=o(95542),T=o(95009),E=o(80749),y=o(75670);function p(_,r){const n=i.getGlobalSingleton("globalMetricsAggregators",()=>new WeakMap),a=n.get(_);if(a)return a;const S=new r(_);return _.on("flush",()=>S.flush()),_.on("close",()=>S.close()),n.set(_,S),S}function h(_,r,n,a,S={}){const R=S.client||u.getClient();if(!R)return;const A=v.getActiveSpan(),M=A?v.getRootSpan(A):void 0,P=M&&v.spanToJSON(M).description,{unit:x,tags:$,timestamp:X}=S,{release:W,environment:K}=R.getOptions(),Y={};W&&(Y.release=W),K&&(Y.environment=K),P&&(Y.transaction=P),g.DEBUG_BUILD&&i.logger.log(`Adding value of ${a} to ${r} metric ${n}`),p(R,_).add(r,n,a,x,B(B({},Y),$),X)}function I(_,r,n=1,a){h(_,y.COUNTER_METRIC_TYPE,r,C(n),a)}function b(_,r,n,a){h(_,y.DISTRIBUTION_METRIC_TYPE,r,C(n),a)}function f(_,r,n,a="second",S){if(typeof n=="function"){const R=i.timestampInSeconds();return T.startSpanManual({op:"metrics.timing",name:r,startTime:R,onlyIfParent:!0},A=>E.handleCallbackErrors(()=>n(),()=>{},()=>{const M=i.timestampInSeconds(),P=M-R;b(_,r,P,Ie(B({},S),{unit:"second"})),A.end(M)}))}b(_,r,n,Ie(B({},S),{unit:a}))}function d(_,r,n,a){h(_,y.SET_METRIC_TYPE,r,n,a)}function m(_,r,n,a){h(_,y.GAUGE_METRIC_TYPE,r,C(n),a)}const l={increment:I,distribution:b,set:d,gauge:m,timing:f,getMetricsAggregatorForClient:p};function C(_){return typeof _=="string"?parseInt(_):_}e.metrics=l},29840:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(75670),u=o(97358);class g{constructor(h){this._value=h}get weight(){return 1}add(h){this._value+=h}toString(){return`${this._value}`}}class v{constructor(h){this._last=h,this._min=h,this._max=h,this._sum=h,this._count=1}get weight(){return 5}add(h){this._last=h,h<this._min&&(this._min=h),h>this._max&&(this._max=h),this._sum+=h,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}}class T{constructor(h){this._value=[h]}get weight(){return this._value.length}add(h){this._value.push(h)}toString(){return this._value.join(":")}}class E{constructor(h){this.first=h,this._value=new Set([h])}get weight(){return this._value.size}add(h){this._value.add(h)}toString(){return Array.from(this._value).map(h=>typeof h=="string"?u.simpleHash(h):h).join(":")}}const y={[i.COUNTER_METRIC_TYPE]:g,[i.GAUGE_METRIC_TYPE]:v,[i.DISTRIBUTION_METRIC_TYPE]:T,[i.SET_METRIC_TYPE]:E};e.CounterMetric=g,e.DistributionMetric=T,e.GaugeMetric=v,e.METRIC_MAP=y,e.SetMetric=E},47406:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u="_sentryMetrics";function g(T){const E=T[u];if(!E)return;const y={};for(const[,[p,h]]of E)y[p]||(y[p]=[]),y[p].push(i.dropUndefinedKeys(h));return y}function v(T,E,y,p,h,I,b){const d=T[u]||(T[u]=new Map),m=`${E}:${y}@${h}`,l=d.get(b);if(l){const[,C]=l;d.set(b,[m,{min:Math.min(C.min,p),max:Math.max(C.max,p),count:C.count+=1,sum:C.sum+=p,tags:C.tags}])}else d.set(b,[m,{min:p,max:p,count:1,sum:p,tags:I}])}e.getMetricSummaryJsonForSpan=g,e.updateMetricSummaryOnSpan=v},97358:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077);function u(f,d,m,l){const C=Object.entries(i.dropUndefinedKeys(l)).sort((_,r)=>_[0].localeCompare(r[0]));return`${f}${d}${m}${C}`}function g(f){let d=0;for(let m=0;m<f.length;m++){const l=f.charCodeAt(m);d=(d<<5)-d+l,d&=d}return d>>>0}function v(f){let d="";for(const m of f){const l=Object.entries(m.tags),C=l.length>0?`|#${l.map(([_,r])=>`${_}:${r}`).join(",")}`:"";d+=`${m.name}@${m.unit}:${m.metric}|${m.metricType}${C}|T${m.timestamp}
`}return d}function T(f){return f.replace(/[^\w]+/gi,"_")}function E(f){return f.replace(/[^\w\-.]+/gi,"_")}function y(f){return f.replace(/[^\w\-./]+/gi,"")}const p=[[`
`,"\\n"],["\r","\\r"],["	","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function h(f){for(const[d,m]of p)if(f===d)return m;return f}function I(f){return[...f].reduce((d,m)=>d+h(m),"")}function b(f){const d={};for(const m in f)if(Object.prototype.hasOwnProperty.call(f,m)){const l=y(m);d[l]=I(String(f[m]))}return d}e.getBucketKey=u,e.sanitizeMetricKey=E,e.sanitizeTags=b,e.sanitizeUnit=T,e.serializeMetricBuckets=v,e.simpleHash=g},25:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(45681),g=o(82436),v=100;class T{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=i.generatePropagationContext()}clone(){const p=new T;return p._breadcrumbs=[...this._breadcrumbs],p._tags=B({},this._tags),p._extra=B({},this._extra),p._contexts=B({},this._contexts),p._user=this._user,p._level=this._level,p._session=this._session,p._transactionName=this._transactionName,p._fingerprint=this._fingerprint,p._eventProcessors=[...this._eventProcessors],p._requestSession=this._requestSession,p._attachments=[...this._attachments],p._sdkProcessingMetadata=B({},this._sdkProcessingMetadata),p._propagationContext=B({},this._propagationContext),p._client=this._client,p._lastEventId=this._lastEventId,g._setSpanForScope(p,g._getSpanForScope(this)),p}setClient(p){this._client=p}setLastEventId(p){this._lastEventId=p}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(p){this._scopeListeners.push(p)}addEventProcessor(p){return this._eventProcessors.push(p),this}setUser(p){return this._user=p||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&u.updateSession(this._session,{user:p}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(p){return this._requestSession=p,this}setTags(p){return this._tags=B(B({},this._tags),p),this._notifyScopeListeners(),this}setTag(p,h){return this._tags=Ie(B({},this._tags),{[p]:h}),this._notifyScopeListeners(),this}setExtras(p){return this._extra=B(B({},this._extra),p),this._notifyScopeListeners(),this}setExtra(p,h){return this._extra=Ie(B({},this._extra),{[p]:h}),this._notifyScopeListeners(),this}setFingerprint(p){return this._fingerprint=p,this._notifyScopeListeners(),this}setLevel(p){return this._level=p,this._notifyScopeListeners(),this}setTransactionName(p){return this._transactionName=p,this._notifyScopeListeners(),this}setContext(p,h){return h===null?delete this._contexts[p]:this._contexts[p]=h,this._notifyScopeListeners(),this}setSession(p){return p?this._session=p:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(p){if(!p)return this;const h=typeof p=="function"?p(this):p,[I,b]=h instanceof E?[h.getScopeData(),h.getRequestSession()]:i.isPlainObject(h)?[p,p.requestSession]:[],{tags:f,extra:d,user:m,contexts:l,level:C,fingerprint:_=[],propagationContext:r}=I||{};return this._tags=B(B({},this._tags),f),this._extra=B(B({},this._extra),d),this._contexts=B(B({},this._contexts),l),m&&Object.keys(m).length&&(this._user=m),C&&(this._level=C),_.length&&(this._fingerprint=_),r&&(this._propagationContext=r),b&&(this._requestSession=b),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,g._setSpanForScope(this,void 0),this._attachments=[],this._propagationContext=i.generatePropagationContext(),this._notifyScopeListeners(),this}addBreadcrumb(p,h){const I=typeof h=="number"?h:v;if(I<=0)return this;const b=B({timestamp:i.dateTimestampInSeconds()},p),f=this._breadcrumbs;return f.push(b),this._breadcrumbs=f.length>I?f.slice(-I):f,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(p){return this._attachments.push(p),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:g._getSpanForScope(this)}}setSDKProcessingMetadata(p){return this._sdkProcessingMetadata=B(B({},this._sdkProcessingMetadata),p),this}setPropagationContext(p){return this._propagationContext=p,this}getPropagationContext(){return this._propagationContext}captureException(p,h){const I=h&&h.event_id?h.event_id:i.uuid4();if(!this._client)return i.logger.warn("No client configured on scope - will not capture exception!"),I;const b=new Error("Sentry syntheticException");return this._client.captureException(p,Ie(B({originalException:p,syntheticException:b},h),{event_id:I}),this),I}captureMessage(p,h,I){const b=I&&I.event_id?I.event_id:i.uuid4();if(!this._client)return i.logger.warn("No client configured on scope - will not capture message!"),b;const f=new Error(p);return this._client.captureMessage(p,h,Ie(B({originalException:p,syntheticException:f},I),{event_id:b}),this),b}captureEvent(p,h){const I=h&&h.event_id?h.event_id:i.uuid4();return this._client?(this._client.captureEvent(p,Ie(B({},h),{event_id:I}),this),I):(i.logger.warn("No client configured on scope - will not capture event!"),I)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(p=>{p(this)}),this._notifyingListeners=!1)}}const E=T;e.Scope=E},85485:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(28625),g=o(76335);function v(E,y){y.debug===!0&&(g.DEBUG_BUILD?i.logger.enable():i.consoleSandbox(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),u.getCurrentScope().update(y.initialScope);const h=new E(y);T(h),h.init()}function T(E){u.getCurrentScope().setClient(E)}e.initAndBind=v,e.setCurrentClient=T},14124:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o="sentry.source",i="sentry.sample_rate",u="sentry.op",g="sentry.origin",v="sentry.idle_span_finish_reason",T="sentry.measurement_unit",E="sentry.measurement_value",y="sentry.profile_id",p="sentry.exclusive_time",h="cache.hit",I="cache.key",b="cache.item_size";e.SEMANTIC_ATTRIBUTE_CACHE_HIT=h,e.SEMANTIC_ATTRIBUTE_CACHE_ITEM_SIZE=b,e.SEMANTIC_ATTRIBUTE_CACHE_KEY=I,e.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME=p,e.SEMANTIC_ATTRIBUTE_PROFILE_ID=y,e.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON=v,e.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT=T,e.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE=E,e.SEMANTIC_ATTRIBUTE_SENTRY_OP=u,e.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN=g,e.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE=i,e.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE=o},77619:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(4343),g=o(2086),v=o(28625),T=o(76335),E=o(24452),y=o(5489),p=o(82436),h=o(95542),I=o(93729);class b extends u.BaseClient{constructor(d){y.registerSpanErrorInstrumentation(),super(d)}eventFromException(d,m){return i.resolvedSyncPromise(i.eventFromUnknownInput(this,this._options.stackParser,d,m))}eventFromMessage(d,m="info",l){return i.resolvedSyncPromise(i.eventFromMessage(this._options.stackParser,d,m,l,this._options.attachStacktrace))}captureException(d,m,l){if(this._options.autoSessionTracking&&this._sessionFlusher){const C=v.getIsolationScope().getRequestSession();C&&C.status==="ok"&&(C.status="errored")}return super.captureException(d,m,l)}captureEvent(d,m,l){if(this._options.autoSessionTracking&&this._sessionFlusher&&(d.type||"exception")==="exception"&&d.exception&&d.exception.values&&d.exception.values.length>0){const r=v.getIsolationScope().getRequestSession();r&&r.status==="ok"&&(r.status="errored")}return super.captureEvent(d,m,l)}close(d){return this._sessionFlusher&&this._sessionFlusher.close(),super.close(d)}initSessionFlusher(){const{release:d,environment:m}=this._options;d?this._sessionFlusher=new E.SessionFlusher(this,{release:d,environment:m}):T.DEBUG_BUILD&&i.logger.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")}captureCheckIn(d,m,l){const C="checkInId"in d&&d.checkInId?d.checkInId:i.uuid4();if(!this._isEnabled())return T.DEBUG_BUILD&&i.logger.warn("SDK not enabled, will not capture checkin."),C;const _=this.getOptions(),{release:r,environment:n,tunnel:a}=_,S={check_in_id:C,monitor_slug:d.monitorSlug,status:d.status,release:r,environment:n};"duration"in d&&(S.duration=d.duration),m&&(S.monitor_config={schedule:m.schedule,checkin_margin:m.checkinMargin,max_runtime:m.maxRuntime,timezone:m.timezone,failure_issue_threshold:m.failureIssueThreshold,recovery_threshold:m.recoveryThreshold});const[R,A]=this._getTraceInfoFromScope(l);A&&(S.contexts={trace:A});const M=g.createCheckInEnvelope(S,R,this.getSdkMetadata(),a,this.getDsn());return T.DEBUG_BUILD&&i.logger.info("Sending checkin:",d.monitorSlug,d.status),this.sendEnvelope(M),C}_captureRequestSession(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():T.DEBUG_BUILD&&i.logger.warn("Discarded request mode session because autoSessionTracking option was disabled")}_prepareEvent(d,m,l,C){return this._options.platform&&(d.platform=d.platform||this._options.platform),this._options.runtime&&(d.contexts=Ie(B({},d.contexts),{runtime:(d.contexts||{}).runtime||this._options.runtime})),this._options.serverName&&(d.server_name=d.server_name||this._options.serverName),super._prepareEvent(d,m,l,C)}_getTraceInfoFromScope(d){if(!d)return[void 0,void 0];const m=p._getSpanForScope(d);if(m){const a=h.getRootSpan(m);return[I.getDynamicSamplingContextFromSpan(a),h.spanToTraceContext(a)]}const{traceId:l,spanId:C,parentSpanId:_,dsc:r}=d.getPropagationContext(),n={trace_id:l,span_id:C,parent_span_id:_};return r?[r,n]:[I.getDynamicSamplingContextFromClient(l,this),n]}}e.ServerRuntimeClient=b},45681:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077);function u(E){const y=i.timestampInSeconds(),p={sid:i.uuid4(),init:!0,timestamp:y,started:y,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>T(p)};return E&&g(p,E),p}function g(E,y={}){if(y.user&&(!E.ipAddress&&y.user.ip_address&&(E.ipAddress=y.user.ip_address),!E.did&&!y.did&&(E.did=y.user.id||y.user.email||y.user.username)),E.timestamp=y.timestamp||i.timestampInSeconds(),y.abnormal_mechanism&&(E.abnormal_mechanism=y.abnormal_mechanism),y.ignoreDuration&&(E.ignoreDuration=y.ignoreDuration),y.sid&&(E.sid=y.sid.length===32?y.sid:i.uuid4()),y.init!==void 0&&(E.init=y.init),!E.did&&y.did&&(E.did=`${y.did}`),typeof y.started=="number"&&(E.started=y.started),E.ignoreDuration)E.duration=void 0;else if(typeof y.duration=="number")E.duration=y.duration;else{const p=E.timestamp-E.started;E.duration=p>=0?p:0}y.release&&(E.release=y.release),y.environment&&(E.environment=y.environment),!E.ipAddress&&y.ipAddress&&(E.ipAddress=y.ipAddress),!E.userAgent&&y.userAgent&&(E.userAgent=y.userAgent),typeof y.errors=="number"&&(E.errors=y.errors),y.status&&(E.status=y.status)}function v(E,y){let p={};y?p={status:y}:E.status==="ok"&&(p={status:"exited"}),g(E,p)}function T(E){return i.dropUndefinedKeys({sid:`${E.sid}`,init:E.init,started:new Date(E.started*1e3).toISOString(),timestamp:new Date(E.timestamp*1e3).toISOString(),status:E.status,errors:E.errors,did:typeof E.did=="number"||typeof E.did=="string"?`${E.did}`:void 0,duration:E.duration,abnormal_mechanism:E.abnormal_mechanism,attrs:{release:E.release,environment:E.environment,ip_address:E.ipAddress,user_agent:E.userAgent}})}e.closeSession=v,e.makeSession=u,e.updateSession=g},24452:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(28625);class g{constructor(T,E){this._client=T,this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._intervalId=setInterval(()=>this.flush(),this.flushTimeout*1e3),this._intervalId.unref&&this._intervalId.unref(),this._sessionAttrs=E}flush(){const T=this.getSessionAggregates();T.aggregates.length!==0&&(this._pendingAggregates={},this._client.sendSession(T))}getSessionAggregates(){const T=Object.keys(this._pendingAggregates).map(y=>this._pendingAggregates[parseInt(y)]),E={attrs:this._sessionAttrs,aggregates:T};return i.dropUndefinedKeys(E)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;const T=u.getIsolationScope(),E=T.getRequestSession();E&&E.status&&(this._incrementSessionStatusCount(E.status,new Date),T.setRequestSession(void 0))}_incrementSessionStatusCount(T,E){const y=new Date(E).setSeconds(0,0);this._pendingAggregates[y]=this._pendingAggregates[y]||{};const p=this._pendingAggregates[y];switch(p.started||(p.started=new Date(y).toISOString()),T){case"errored":return p.errored=(p.errored||0)+1,p.errored;case"ok":return p.exited=(p.exited||0)+1,p.exited;default:return p.crashed=(p.crashed||0)+1,p.crashed}}}e.SessionFlusher=g},93729:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(41480),g=o(28625),v=o(14124),T=o(95542),E="_frozenDsc";function y(b,f){const d=b;i.addNonEnumerableProperty(d,E,f)}function p(b,f){const d=f.getOptions(),{publicKey:m}=f.getDsn()||{},l=i.dropUndefinedKeys({environment:d.environment||u.DEFAULT_ENVIRONMENT,release:d.release,public_key:m,trace_id:b});return f.emit("createDsc",l),l}function h(b){const f=g.getClient();if(!f)return{};const d=p(T.spanToJSON(b).trace_id||"",f),m=T.getRootSpan(b);if(!m)return d;const l=m[E];if(l)return l;const C=T.spanToJSON(m),_=C.data||{},r=_[v.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE];r!=null&&(d.sample_rate=`${r}`);const n=_[v.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE];return n&&n!=="url"&&(d.transaction=C.description),d.sampled=String(T.spanIsSampled(m)),f.emit("createDsc",d),d}function I(b){const f=h(b);return i.dynamicSamplingContextToSentryBaggageHeader(f)}e.freezeDscOnSpan=y,e.getDynamicSamplingContextFromClient=p,e.getDynamicSamplingContextFromSpan=h,e.spanToBaggageHeader=I},5489:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(76335),g=o(95542),v=o(56728);let T=!1;function E(){T||(T=!0,i.addGlobalErrorInstrumentationHandler(y),i.addGlobalUnhandledRejectionInstrumentationHandler(y))}function y(){const p=g.getActiveSpan(),h=p&&g.getRootSpan(p);if(h){const I="internal_error";u.DEBUG_BUILD&&i.logger.log(`[Tracing] Root span: ${I} -> Global error occured`),h.setStatus({code:v.SPAN_STATUS_ERROR,message:I})}}y.tag="sentry_tracingErrorCallback",e.registerSpanErrorInstrumentation=E},67873:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(5489);function u(){i.registerSpanErrorInstrumentation()}e.addTracingExtensions=u},49620:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(28625),g=o(76335),v=o(14124),T=o(73844),E=o(82436),y=o(95542),p=o(70987),h=o(56728),I=o(95009),b={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},f="heartbeatFailed",d="idleTimeout",m="finalTimeout",l="externalFinish";function C(r,n={}){const a=new Map;let S=!1,R,A=l,M=!n.disableAutoFinish;const{idleTimeout:P=b.idleTimeout,finalTimeout:x=b.finalTimeout,childSpanTimeout:$=b.childSpanTimeout,beforeSpanEnd:X}=n,W=u.getClient();if(!W||!T.hasTracingEnabled())return new p.SentryNonRecordingSpan;const K=u.getCurrentScope(),Y=y.getActiveSpan(),L=_(r);L.end=new Proxy(L.end,{apply(ne,_e,Te){X&&X(L);const[Ne,...Qe]=Te,z=Ne||i.timestampInSeconds(),re=y.spanTimeInputToSeconds(z),ae=y.getSpanDescendants(L).filter(Pe=>Pe!==L);if(!ae.length)return ee(re),Reflect.apply(ne,_e,[re,...Qe]);const le=ae.map(Pe=>y.spanToJSON(Pe).timestamp).filter(Pe=>!!Pe),de=le.length?Math.max(...le):void 0,ve=y.spanToJSON(L).start_timestamp,Le=Math.min(ve?ve+x/1e3:1/0,Math.max(ve||-1/0,Math.min(re,de||1/0)));return ee(Le),Reflect.apply(ne,_e,[Le,...Qe])}});function V(){R&&(clearTimeout(R),R=void 0)}function q(ne){V(),R=setTimeout(()=>{!S&&a.size===0&&M&&(A=d,L.end(ne))},P)}function oe(ne){R=setTimeout(()=>{!S&&M&&(A=f,L.end(ne))},$)}function fe(ne){V(),a.set(ne,!0);const _e=i.timestampInSeconds();oe(_e+$/1e3)}function he(ne){if(a.has(ne)&&a.delete(ne),a.size===0){const _e=i.timestampInSeconds();q(_e+P/1e3)}}function ee(ne){S=!0,a.clear(),E._setSpanForScope(K,Y);const _e=y.spanToJSON(L),{start_timestamp:Te}=_e;if(!Te)return;(_e.data||{})[v.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON]||L.setAttribute(v.SEMANTIC_ATTRIBUTE_SENTRY_IDLE_SPAN_FINISH_REASON,A),i.logger.log(`[Tracing] Idle span "${_e.op}" finished`);const Qe=y.getSpanDescendants(L).filter(re=>re!==L);let z=0;Qe.forEach(re=>{re.isRecording()&&(re.setStatus({code:h.SPAN_STATUS_ERROR,message:"cancelled"}),re.end(ne),g.DEBUG_BUILD&&i.logger.log("[Tracing] Cancelling span since span ended early",JSON.stringify(re,void 0,2)));const ae=y.spanToJSON(re),{timestamp:le=0,start_timestamp:de=0}=ae,ve=de<=ne,Le=(x+P)/1e3,Pe=le-de<=Le;if(g.DEBUG_BUILD){const He=JSON.stringify(re,void 0,2);ve?Pe||i.logger.log("[Tracing] Discarding span since it finished after idle span final timeout",He):i.logger.log("[Tracing] Discarding span since it happened after idle span was finished",He)}(!Pe||!ve)&&(y.removeChildSpanFromSpan(L,re),z++)}),z>0&&L.setAttribute("sentry.idle_span_discarded_spans",z)}return W.on("spanStart",ne=>{if(S||ne===L||y.spanToJSON(ne).timestamp)return;y.getSpanDescendants(L).includes(ne)&&fe(ne.spanContext().spanId)}),W.on("spanEnd",ne=>{S||he(ne.spanContext().spanId)}),W.on("idleSpanEnableAutoFinish",ne=>{ne===L&&(M=!0,q(),a.size&&oe())}),n.disableAutoFinish||q(),setTimeout(()=>{S||(L.setStatus({code:h.SPAN_STATUS_ERROR,message:"deadline_exceeded"}),A=m,L.end())},x),L}function _(r){const n=I.startInactiveSpan(r);return E._setSpanForScope(u.getCurrentScope(),n),g.DEBUG_BUILD&&i.logger.log("[Tracing] Started span is an idle span"),n}e.TRACING_DEFAULTS=b,e.startIdleSpan=C},7269:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(76335),g=o(95542);function v(E){if(!u.DEBUG_BUILD)return;const{description:y="< unknown name >",op:p="< unknown op >",parent_span_id:h}=g.spanToJSON(E),{spanId:I}=E.spanContext(),b=g.spanIsSampled(E),f=g.getRootSpan(E),d=f===E,m=`[Tracing] Starting ${b?"sampled":"unsampled"} ${d?"root ":""}span`,l=[`op: ${p}`,`name: ${y}`,`ID: ${I}`];if(h&&l.push(`parent ID: ${h}`),!d){const{op:C,description:_}=g.spanToJSON(f);l.push(`root ID: ${f.spanContext().spanId}`),C&&l.push(`root op: ${C}`),_&&l.push(`root description: ${_}`)}i.logger.log(`${m}
  ${l.join(`
  `)}`)}function T(E){if(!u.DEBUG_BUILD)return;const{description:y="< unknown name >",op:p="< unknown op >"}=g.spanToJSON(E),{spanId:h}=E.spanContext(),b=g.getRootSpan(E)===E,f=`[Tracing] Finishing "${p}" ${b?"root ":""}span "${y}" with ID ${h}`;i.logger.log(f)}e.logSpanEnd=T,e.logSpanStart=v},72256:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(14124),u=o(95542);function g(T,E,y){const p=u.getActiveSpan(),h=p&&u.getRootSpan(p);h&&h.addEvent(T,{[i.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE]:E,[i.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT]:y})}function v(T){if(!T||T.length===0)return;const E={};return T.forEach(y=>{const p=y.attributes||{},h=p[i.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_UNIT],I=p[i.SEMANTIC_ATTRIBUTE_SENTRY_MEASUREMENT_VALUE];typeof h=="string"&&typeof I=="number"&&(E[y.name]={value:I,unit:h})}),E}e.setMeasurement=g,e.timedEventsToMeasurements=v},23359:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(76335),g=o(73844),v=o(2564);function T(E,y){if(!g.hasTracingEnabled(E))return[!1];let p;typeof E.tracesSampler=="function"?p=E.tracesSampler(y):y.parentSampled!==void 0?p=y.parentSampled:typeof E.tracesSampleRate!="undefined"?p=E.tracesSampleRate:p=1;const h=v.parseSampleRate(p);return h===void 0?(u.DEBUG_BUILD&&i.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):h?Math.random()<h?[!0,h]:(u.DEBUG_BUILD&&i.logger.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(p)})`),[!1,h]):(u.DEBUG_BUILD&&i.logger.log(`[Tracing] Discarding transaction because ${typeof E.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,h])}e.sampleSpan=T},70987:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(95542);class g{constructor(T={}){this._traceId=T.traceId||i.uuid4(),this._spanId=T.spanId||i.uuid4().substring(16)}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:u.TRACE_FLAG_NONE}}end(T){}setAttribute(T,E){return this}setAttributes(T){return this}setStatus(T){return this}updateName(T){return this}isRecording(){return!1}addEvent(T,E,y){return this}}e.SentryNonRecordingSpan=g},70413:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(28625),g=o(76335),v=o(11757),T=o(47406),E=o(14124),y=o(95542),p=o(93729),h=o(7269),I=o(72256),b=o(97209),f=1e3;class d{constructor(n={}){this._traceId=n.traceId||i.uuid4(),this._spanId=n.spanId||i.uuid4().substring(16),this._startTime=n.startTimestamp||i.timestampInSeconds(),this._attributes={},this.setAttributes(B({[E.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"manual",[E.SEMANTIC_ATTRIBUTE_SENTRY_OP]:n.op},n.attributes)),this._name=n.name,n.parentSpanId&&(this._parentSpanId=n.parentSpanId),"sampled"in n&&(this._sampled=n.sampled),n.endTimestamp&&(this._endTime=n.endTimestamp),this._events=[],this._isStandaloneSpan=n.isStandalone,this._endTime&&this._onSpanEnded()}spanContext(){const{_spanId:n,_traceId:a,_sampled:S}=this;return{spanId:n,traceId:a,traceFlags:S?y.TRACE_FLAG_SAMPLED:y.TRACE_FLAG_NONE}}setAttribute(n,a){a===void 0?delete this._attributes[n]:this._attributes[n]=a}setAttributes(n){Object.keys(n).forEach(a=>this.setAttribute(a,n[a]))}updateStartTime(n){this._startTime=y.spanTimeInputToSeconds(n)}setStatus(n){return this._status=n,this}updateName(n){return this._name=n,this}end(n){this._endTime||(this._endTime=y.spanTimeInputToSeconds(n),h.logSpanEnd(this),this._onSpanEnded())}getSpanJSON(){return i.dropUndefinedKeys({data:this._attributes,description:this._name,op:this._attributes[E.SEMANTIC_ATTRIBUTE_SENTRY_OP],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:y.getStatusMessage(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[E.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],_metrics_summary:T.getMetricSummaryJsonForSpan(this),profile_id:this._attributes[E.SEMANTIC_ATTRIBUTE_PROFILE_ID],exclusive_time:this._attributes[E.SEMANTIC_ATTRIBUTE_EXCLUSIVE_TIME],measurements:I.timedEventsToMeasurements(this._events),is_segment:this._isStandaloneSpan&&y.getRootSpan(this)===this||void 0,segment_id:this._isStandaloneSpan?y.getRootSpan(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(n,a,S){g.DEBUG_BUILD&&i.logger.log("[Tracing] Adding an event to span:",n);const R=m(a)?a:S||i.timestampInSeconds(),A=m(a)?{}:a||{},M={name:n,time:y.spanTimeInputToSeconds(R),attributes:A};return this._events.push(M),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const n=u.getClient();if(n&&n.emit("spanEnd",this),!(this._isStandaloneSpan||this===y.getRootSpan(this)))return;if(this._isStandaloneSpan){_(v.createSpanEnvelope([this],n));return}const S=this._convertSpanToTransaction();S&&(b.getCapturedScopesOnSpan(this).scope||u.getCurrentScope()).captureEvent(S)}_convertSpanToTransaction(){if(!l(y.spanToJSON(this)))return;this._name||(g.DEBUG_BUILD&&i.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:n,isolationScope:a}=b.getCapturedScopesOnSpan(this),R=(n||u.getCurrentScope()).getClient()||u.getClient();if(this._sampled!==!0){g.DEBUG_BUILD&&i.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),R&&R.recordDroppedEvent("sample_rate","transaction");return}const M=y.getSpanDescendants(this).filter(W=>W!==this&&!C(W)).map(W=>y.spanToJSON(W)).filter(l),P=this._attributes[E.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE],x=B({contexts:{trace:y.spanToTransactionTraceContext(this)},spans:M.length>f?M.sort((W,K)=>W.start_timestamp-K.start_timestamp).slice(0,f):M,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:B({capturedSpanScope:n,capturedSpanIsolationScope:a},i.dropUndefinedKeys({dynamicSamplingContext:p.getDynamicSamplingContextFromSpan(this)})),_metrics_summary:T.getMetricSummaryJsonForSpan(this)},P&&{transaction_info:{source:P}}),$=I.timedEventsToMeasurements(this._events);return $&&Object.keys($).length&&(g.DEBUG_BUILD&&i.logger.log("[Measurements] Adding measurements to transaction event",JSON.stringify($,void 0,2)),x.measurements=$),x}}function m(r){return r&&typeof r=="number"||r instanceof Date||Array.isArray(r)}function l(r){return!!r.start_timestamp&&!!r.timestamp&&!!r.span_id&&!!r.trace_id}function C(r){return r instanceof d&&r.isStandaloneSpan()}function _(r){const n=u.getClient();if(!n)return;const a=r[1];if(!a||a.length===0){n.recordDroppedEvent("before_send","span");return}const S=n.getTransport();S&&S.send(r).then(null,R=>{g.DEBUG_BUILD&&i.logger.error("Error while sending span:",R)})}e.SentrySpan=d},56728:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=0,i=1,u=2;function g(T){if(T<400&&T>=100)return{code:i};if(T>=400&&T<500)switch(T){case 401:return{code:u,message:"unauthenticated"};case 403:return{code:u,message:"permission_denied"};case 404:return{code:u,message:"not_found"};case 409:return{code:u,message:"already_exists"};case 413:return{code:u,message:"failed_precondition"};case 429:return{code:u,message:"resource_exhausted"};case 499:return{code:u,message:"cancelled"};default:return{code:u,message:"invalid_argument"}}if(T>=500&&T<600)switch(T){case 501:return{code:u,message:"unimplemented"};case 503:return{code:u,message:"unavailable"};case 504:return{code:u,message:"deadline_exceeded"};default:return{code:u,message:"internal_error"}}return{code:u,message:"unknown_error"}}function v(T,E){T.setAttribute("http.response.status_code",E);const y=g(E);y.message!=="unknown_error"&&T.setStatus(y)}e.SPAN_STATUS_ERROR=u,e.SPAN_STATUS_OK=i,e.SPAN_STATUS_UNSET=o,e.getSpanStatusFromHttpCode=g,e.setHttpStatus=v},95009:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(99909),g=o(28625),v=o(82473),T=o(76335),E=o(14124),y=o(80749),p=o(73844),h=o(82436),I=o(95542),b=o(93729),f=o(7269),d=o(23359),m=o(70987),l=o(70413),C=o(56728),_=o(97209),r="__SENTRY_SUPPRESS_TRACING__";function n(L,V){const q=X();if(q.startSpan)return q.startSpan(L,V);const oe=$(L);return g.withScope(L.scope,fe=>{const he=Y(fe),ne=L.onlyIfParent&&!he?new m.SentryNonRecordingSpan:x({parentSpan:he,spanContext:oe,forceTransaction:L.forceTransaction,scope:fe});return h._setSpanForScope(fe,ne),y.handleCallbackErrors(()=>V(ne),()=>{const{status:_e}=I.spanToJSON(ne);ne.isRecording()&&(!_e||_e==="ok")&&ne.setStatus({code:C.SPAN_STATUS_ERROR,message:"internal_error"})},()=>ne.end())})}function a(L,V){const q=X();if(q.startSpanManual)return q.startSpanManual(L,V);const oe=$(L);return g.withScope(L.scope,fe=>{const he=Y(fe),ne=L.onlyIfParent&&!he?new m.SentryNonRecordingSpan:x({parentSpan:he,spanContext:oe,forceTransaction:L.forceTransaction,scope:fe});h._setSpanForScope(fe,ne);function _e(){ne.end()}return y.handleCallbackErrors(()=>V(ne,_e),()=>{const{status:Te}=I.spanToJSON(ne);ne.isRecording()&&(!Te||Te==="ok")&&ne.setStatus({code:C.SPAN_STATUS_ERROR,message:"internal_error"})})})}function S(L){const V=X();if(V.startInactiveSpan)return V.startInactiveSpan(L);const q=$(L),oe=L.scope||g.getCurrentScope(),fe=Y(oe);return L.onlyIfParent&&!fe?new m.SentryNonRecordingSpan:x({parentSpan:fe,spanContext:q,forceTransaction:L.forceTransaction,scope:oe})}const R=({sentryTrace:L,baggage:V},q)=>g.withScope(oe=>{const fe=i.propagationContextFromHeaders(L,V);return oe.setPropagationContext(fe),q()});function A(L,V){const q=X();return q.withActiveSpan?q.withActiveSpan(L,V):g.withScope(oe=>(h._setSpanForScope(oe,L||void 0),V(oe)))}function M(L){const V=X();return V.suppressTracing?V.suppressTracing(L):g.withScope(q=>(q.setSDKProcessingMetadata({[r]:!0}),L()))}function P(L){return g.withScope(V=>(V.setPropagationContext(i.generatePropagationContext()),T.DEBUG_BUILD&&i.logger.info(`Starting a new trace with id ${V.getPropagationContext().traceId}`),A(null,L)))}function x({parentSpan:L,spanContext:V,forceTransaction:q,scope:oe}){if(!p.hasTracingEnabled())return new m.SentryNonRecordingSpan;const fe=g.getIsolationScope();let he;if(L&&!q)he=K(L,oe,V),I.addChildSpanToSpan(L,he);else if(L){const ee=b.getDynamicSamplingContextFromSpan(L),{traceId:ne,spanId:_e}=L.spanContext(),Te=I.spanIsSampled(L);he=W(B({traceId:ne,parentSpanId:_e},V),oe,Te),b.freezeDscOnSpan(he,ee)}else{const{traceId:ee,dsc:ne,parentSpanId:_e,sampled:Te}=B(B({},fe.getPropagationContext()),oe.getPropagationContext());he=W(B({traceId:ee,parentSpanId:_e},V),oe,Te),ne&&b.freezeDscOnSpan(he,ne)}return f.logSpanStart(he),_.setCapturedScopesOnSpan(he,oe,fe),he}function $(L){const V=L.experimental||{},q=B({isStandalone:V.standalone},L);if(L.startTime){const oe=B({},q);return oe.startTimestamp=I.spanTimeInputToSeconds(L.startTime),delete oe.startTime,oe}return q}function X(){const L=u.getMainCarrier();return v.getAsyncContextStrategy(L)}function W(L,V,q){const oe=g.getClient(),fe=oe&&oe.getOptions()||{},{name:he="",attributes:ee}=L,[ne,_e]=V.getScopeData().sdkProcessingMetadata[r]?[!1]:d.sampleSpan(fe,{name:he,parentSampled:q,attributes:ee,transactionContext:{name:he,parentSampled:q}}),Te=new l.SentrySpan(Ie(B({},L),{attributes:B({[E.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"custom"},L.attributes),sampled:ne}));return _e!==void 0&&Te.setAttribute(E.SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,_e),oe&&oe.emit("spanStart",Te),Te}function K(L,V,q){const{spanId:oe,traceId:fe}=L.spanContext(),he=V.getScopeData().sdkProcessingMetadata[r]?!1:I.spanIsSampled(L),ee=he?new l.SentrySpan(Ie(B({},q),{parentSpanId:oe,traceId:fe,sampled:he})):new m.SentryNonRecordingSpan({traceId:fe});I.addChildSpanToSpan(L,ee);const ne=g.getClient();return ne&&(ne.emit("spanStart",ee),q.endTimestamp&&ne.emit("spanEnd",ee)),ee}function Y(L){const V=h._getSpanForScope(L);if(!V)return;const q=g.getClient();return(q?q.getOptions():{}).parentSpanIsAlwaysRootSpan?I.getRootSpan(V):V}e.continueTrace=R,e.startInactiveSpan=S,e.startNewTrace=P,e.startSpan=n,e.startSpanManual=a,e.suppressTracing=M,e.withActiveSpan=A},97209:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u="_sentryScope",g="_sentryIsolationScope";function v(E,y,p){E&&(i.addNonEnumerableProperty(E,g,p),i.addNonEnumerableProperty(E,u,y))}function T(E){return{scope:E[u],isolationScope:E[g]}}e.stripUrlQueryAndFragment=i.stripUrlQueryAndFragment,e.getCapturedScopesOnSpan=T,e.setCapturedScopesOnSpan=v},98179:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(76335),g=64;function v(E,y,p=i.makePromiseBuffer(E.bufferSize||g)){let h={};const I=f=>p.drain(f);function b(f){const d=[];if(i.forEachEnvelopeItem(f,(_,r)=>{const n=i.envelopeItemTypeToDataCategory(r);if(i.isRateLimited(h,n)){const a=T(_,r);E.recordDroppedEvent("ratelimit_backoff",n,a)}else d.push(_)}),d.length===0)return i.resolvedSyncPromise({});const m=i.createEnvelope(f[0],d),l=_=>{i.forEachEnvelopeItem(m,(r,n)=>{const a=T(r,n);E.recordDroppedEvent(_,i.envelopeItemTypeToDataCategory(n),a)})},C=()=>y({body:i.serializeEnvelope(m)}).then(_=>(_.statusCode!==void 0&&(_.statusCode<200||_.statusCode>=300)&&u.DEBUG_BUILD&&i.logger.warn(`Sentry responded with status code ${_.statusCode} to sent event.`),h=i.updateRateLimits(h,_),_),_=>{throw l("network_error"),_});return p.add(C).then(_=>_,_=>{if(_ instanceof i.SentryError)return u.DEBUG_BUILD&&i.logger.error("Skipped sending event because buffer is full."),l("queue_overflow"),i.resolvedSyncPromise({});throw _})}return{send:b,flush:I}}function T(E,y){if(!(y!=="event"&&y!=="transaction"))return Array.isArray(E)?E[1]:void 0}e.DEFAULT_TRANSPORT_BUFFER_SIZE=g,e.createTransport=v},95129:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(41385);function g(y,p){let h;return i.forEachEnvelopeItem(y,(I,b)=>(p.includes(b)&&(h=Array.isArray(I)?I[1]:void 0),!!h)),h}function v(y,p){return h=>{const I=y(h);return Ie(B({},I),{send:b=>Oe(this,null,function*(){const f=g(b,["event","transaction","profile","replay_event"]);return f&&(f.release=p),I.send(b)})})}}function T(y,p){return i.createEnvelope(p?Ie(B({},y[0]),{dsn:p}):y[0],y[1])}function E(y,p){return h=>{const I=y(h),b=new Map;function f(l,C){const _=C?`${l}:${C}`:l;let r=b.get(_);if(!r){const n=i.dsnFromString(l);if(!n)return;const a=u.getEnvelopeEndpointWithUrlEncodedAuth(n,h.tunnel);r=C?v(y,C)(Ie(B({},h),{url:a})):y(Ie(B({},h),{url:a})),b.set(_,r)}return[l,r]}function d(l){return Oe(this,null,function*(){function C(n){const a=n&&n.length?n:["event"];return g(l,a)}const _=p({envelope:l,getEvent:C}).map(n=>typeof n=="string"?f(n,void 0):f(n.dsn,n.release)).filter(n=>!!n);return _.length===0&&_.push(["",I]),(yield Promise.all(_.map(([n,a])=>a.send(T(l,n)))))[0]})}function m(l){return Oe(this,null,function*(){const C=[...b.values(),I];return(yield Promise.all(C.map(r=>r.flush(l)))).every(r=>r)})}return{send:d,flush:m}}}e.eventFromEnvelope=g,e.makeMultiplexedTransport=E},58035:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(76335),g=100,v=5e3,T=36e5;function E(y){function p(...h){u.DEBUG_BUILD&&i.logger.info("[Offline]:",...h)}return h=>{const I=y(h);if(!h.createStore)throw new Error("No `createStore` function was provided");const b=h.createStore(h);let f=v,d;function m(r,n,a){return i.envelopeContainsItemType(r,["client_report"])?!1:h.shouldStore?h.shouldStore(r,n,a):!0}function l(r){d&&clearTimeout(d),d=setTimeout(()=>Oe(this,null,function*(){d=void 0;const n=yield b.shift();n&&(p("Attempting to send previously queued event"),n[0].sent_at=new Date().toISOString(),_(n,!0).catch(a=>{p("Failed to retry sending",a)}))}),r),typeof d!="number"&&d.unref&&d.unref()}function C(){d||(l(f),f=Math.min(f*2,T))}function _(r,n=!1){return Oe(this,null,function*(){if(!n&&i.envelopeContainsItemType(r,["replay_event","replay_recording"]))return yield b.push(r),l(g),{};try{const a=yield I.send(r);let S=g;if(a){if(a.headers&&a.headers["retry-after"])S=i.parseRetryAfterHeader(a.headers["retry-after"]);else if(a.headers&&a.headers["x-sentry-rate-limits"])S=6e4;else if((a.statusCode||0)>=400)return a}return l(S),f=v,a}catch(a){if(yield m(r,a,f))return n?yield b.unshift(r):yield b.push(r),C(),p("Error sending. Event queued.",a),{};throw a}})}return h.flushAtStartup&&C(),{send:_,flush:r=>I.flush(r)}}}e.MIN_DELAY=g,e.START_DELAY=v,e.makeOfflineTransport=E},70794:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(28625),g=o(56530),v=o(14124);o(5489),o(76335);const T=o(95009),E={mechanism:{handled:!1,data:{function:"trpcMiddleware"}}};function y(p={}){return function(h){const{path:I,type:b,next:f,rawInput:d}=h,m=u.getClient(),l=m&&m.getOptions(),C={procedure_type:b};(p.attachRpcInput!==void 0?p.attachRpcInput:l&&l.sendDefaultPii)&&(C.input=i.normalize(d)),g.setContext("trpc",C);function _(r){typeof r=="object"&&r!==null&&"ok"in r&&!r.ok&&"error"in r&&g.captureException(r.error,E)}return T.startSpanManual({name:`trpc/${I}`,op:"rpc.server",attributes:{[v.SEMANTIC_ATTRIBUTE_SENTRY_SOURCE]:"route",[v.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN]:"auto.rpc.trpc"}},r=>{let n;try{n=f()}catch(a){throw g.captureException(a,E),r.end(),a}return i.isThenable(n)?n.then(a=>(_(a),r.end(),a),a=>{throw g.captureException(a,E),r.end(),a}):(_(n),r.end(),n)})}}e.trpcMiddleware=y},42408:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(93729),g=o(95542);function v(f,d){const{fingerprint:m,span:l,breadcrumbs:C,sdkProcessingMetadata:_}=d;y(f,d),l&&I(f,l),b(f,m),p(f,C),h(f,_)}function T(f,d){const{extra:m,tags:l,user:C,contexts:_,level:r,sdkProcessingMetadata:n,breadcrumbs:a,fingerprint:S,eventProcessors:R,attachments:A,propagationContext:M,transactionName:P,span:x}=d;E(f,"extra",m),E(f,"tags",l),E(f,"user",C),E(f,"contexts",_),E(f,"sdkProcessingMetadata",n),r&&(f.level=r),P&&(f.transactionName=P),x&&(f.span=x),a.length&&(f.breadcrumbs=[...f.breadcrumbs,...a]),S.length&&(f.fingerprint=[...f.fingerprint,...S]),R.length&&(f.eventProcessors=[...f.eventProcessors,...R]),A.length&&(f.attachments=[...f.attachments,...A]),f.propagationContext=B(B({},f.propagationContext),M)}function E(f,d,m){if(m&&Object.keys(m).length){f[d]=B({},f[d]);for(const l in m)Object.prototype.hasOwnProperty.call(m,l)&&(f[d][l]=m[l])}}function y(f,d){const{extra:m,tags:l,user:C,contexts:_,level:r,transactionName:n}=d,a=i.dropUndefinedKeys(m);a&&Object.keys(a).length&&(f.extra=B(B({},a),f.extra));const S=i.dropUndefinedKeys(l);S&&Object.keys(S).length&&(f.tags=B(B({},S),f.tags));const R=i.dropUndefinedKeys(C);R&&Object.keys(R).length&&(f.user=B(B({},R),f.user));const A=i.dropUndefinedKeys(_);A&&Object.keys(A).length&&(f.contexts=B(B({},A),f.contexts)),r&&(f.level=r),n&&f.type!=="transaction"&&(f.transaction=n)}function p(f,d){const m=[...f.breadcrumbs||[],...d];f.breadcrumbs=m.length?m:void 0}function h(f,d){f.sdkProcessingMetadata=B(B({},f.sdkProcessingMetadata),d)}function I(f,d){f.contexts=B({trace:g.spanToTraceContext(d)},f.contexts),f.sdkProcessingMetadata=B({dynamicSamplingContext:u.getDynamicSamplingContextFromSpan(d)},f.sdkProcessingMetadata);const m=g.getRootSpan(d),l=g.spanToJSON(m).description;l&&!f.transaction&&f.type==="transaction"&&(f.transaction=l)}function b(f,d){f.fingerprint=f.fingerprint?i.arrayify(f.fingerprint):[],d&&(f.fingerprint=f.fingerprint.concat(d)),f.fingerprint&&!f.fingerprint.length&&delete f.fingerprint}e.applyScopeDataToEvent=v,e.mergeAndOverwriteScopeData=E,e.mergeScopeData=T},80749:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077);function u(v,T,E=()=>{}){let y;try{y=v()}catch(p){throw T(p),E(),p}return g(y,T,E)}function g(v,T,E){return i.isThenable(v)?v.then(y=>(E(),y),y=>{throw T(y),E(),y}):(E(),v)}e.handleCallbackErrors=u},73844:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(28625);function u(v){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const T=v||g();return!!T&&(T.enableTracing||"tracesSampleRate"in T||"tracesSampler"in T)}function g(){const v=i.getClient();return v&&v.getOptions()}e.hasTracingEnabled=u},89922:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(v,T){const E=T&&T.getDsn(),y=T&&T.getOptions().tunnel;return u(v,E)||i(v,y)}function i(v,T){return T?g(v)===g(T):!1}function u(v,T){return T?v.includes(T.host):!1}function g(v){return v[v.length-1]==="/"?v.slice(0,-1):v}e.isSentryRequestUrl=o},73628:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(i,...u){const g=new String(String.raw(i,...u));return g.__sentry_template_string__=i.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),g.__sentry_template_values__=u,g}e.parameterize=o},2564:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(76335);function g(v){if(typeof v=="boolean")return Number(v);const T=typeof v=="string"?parseFloat(v):v;if(typeof T!="number"||isNaN(T)||T<0||T>1){u.DEBUG_BUILD&&i.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(v)} of type ${JSON.stringify(typeof v)}.`);return}return T}e.parseSampleRate=g},19730:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(41480),g=o(28625),v=o(41728),T=o(25),E=o(42408);function y(n,a,S,R,A,M){const{normalizeDepth:P=3,normalizeMaxBreadth:x=1e3}=n,$=Ie(B({},a),{event_id:a.event_id||S.event_id||i.uuid4(),timestamp:a.timestamp||i.dateTimestampInSeconds()}),X=S.integrations||n.integrations.map(oe=>oe.name);p($,n),f($,X),a.type===void 0&&I($,n.stackParser);const W=m(R,S.captureContext);S.mechanism&&i.addExceptionMechanism($,S.mechanism);const K=A?A.getEventProcessors():[],Y=g.getGlobalScope().getScopeData();if(M){const oe=M.getScopeData();E.mergeScopeData(Y,oe)}if(W){const oe=W.getScopeData();E.mergeScopeData(Y,oe)}const L=[...S.attachments||[],...Y.attachments];L.length&&(S.attachments=L),E.applyScopeDataToEvent($,Y);const V=[...K,...Y.eventProcessors];return v.notifyEventProcessors(V,$,S).then(oe=>(oe&&b(oe),typeof P=="number"&&P>0?d(oe,P,x):oe))}function p(n,a){const{environment:S,release:R,dist:A,maxValueLength:M=250}=a;"environment"in n||(n.environment="environment"in a?S:u.DEFAULT_ENVIRONMENT),n.release===void 0&&R!==void 0&&(n.release=R),n.dist===void 0&&A!==void 0&&(n.dist=A),n.message&&(n.message=i.truncate(n.message,M));const P=n.exception&&n.exception.values&&n.exception.values[0];P&&P.value&&(P.value=i.truncate(P.value,M));const x=n.request;x&&x.url&&(x.url=i.truncate(x.url,M))}const h=new WeakMap;function I(n,a){const S=i.GLOBAL_OBJ._sentryDebugIds;if(!S)return;let R;const A=h.get(a);A?R=A:(R=new Map,h.set(a,R));const M=Object.keys(S).reduce((P,x)=>{let $;const X=R.get(x);X?$=X:($=a(x),R.set(x,$));for(let W=$.length-1;W>=0;W--){const K=$[W];if(K.filename){P[K.filename]=S[x];break}}return P},{});try{n.exception.values.forEach(P=>{P.stacktrace.frames.forEach(x=>{x.filename&&(x.debug_id=M[x.filename])})})}catch(P){}}function b(n){const a={};try{n.exception.values.forEach(R=>{R.stacktrace.frames.forEach(A=>{A.debug_id&&(A.abs_path?a[A.abs_path]=A.debug_id:A.filename&&(a[A.filename]=A.debug_id),delete A.debug_id)})})}catch(R){}if(Object.keys(a).length===0)return;n.debug_meta=n.debug_meta||{},n.debug_meta.images=n.debug_meta.images||[];const S=n.debug_meta.images;Object.keys(a).forEach(R=>{S.push({type:"sourcemap",code_file:R,debug_id:a[R]})})}function f(n,a){a.length>0&&(n.sdk=n.sdk||{},n.sdk.integrations=[...n.sdk.integrations||[],...a])}function d(n,a,S){if(!n)return null;const R=B(B(B(B(B({},n),n.breadcrumbs&&{breadcrumbs:n.breadcrumbs.map(A=>B(B({},A),A.data&&{data:i.normalize(A.data,a,S)}))}),n.user&&{user:i.normalize(n.user,a,S)}),n.contexts&&{contexts:i.normalize(n.contexts,a,S)}),n.extra&&{extra:i.normalize(n.extra,a,S)});return n.contexts&&n.contexts.trace&&R.contexts&&(R.contexts.trace=n.contexts.trace,n.contexts.trace.data&&(R.contexts.trace.data=i.normalize(n.contexts.trace.data,a,S))),n.spans&&(R.spans=n.spans.map(A=>B(B({},A),A.data&&{data:i.normalize(A.data,a,S)}))),R}function m(n,a){if(!a)return n;const S=n?n.clone():new T.Scope;return S.update(a),S}function l(n){if(n)return C(n)?{captureContext:n}:r(n)?{captureContext:n}:n}function C(n){return n instanceof T.Scope||typeof n=="function"}const _=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function r(n){return Object.keys(n).some(a=>_.includes(a))}e.applyDebugIds=I,e.applyDebugMeta=b,e.parseEventHintOrCaptureContext=l,e.prepareEvent=y},44274:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077);function u(g,v,T=[v],E="npm"){const y=g._metadata||{};y.sdk||(y.sdk={name:`sentry.javascript.${v}`,packages:T.map(p=>({name:`${E}:@sentry/${p}`,version:i.SDK_VERSION})),version:i.SDK_VERSION}),g._metadata=y}e.applySdkMetadata=u},82436:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u="_sentrySpan";function g(T,E){E?i.addNonEnumerableProperty(T,u,E):delete T[u]}function v(T){return T[u]}e._getSpanForScope=v,e._setSpanForScope=g},95542:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(17077),u=o(82473),g=o(99909),v=o(28625),T=o(47406),E=o(14124),y=o(56728),p=o(82436),h=0,I=1;function b(W){const{spanId:K,traceId:Y}=W.spanContext(),{data:L,op:V,parent_span_id:q,status:oe,origin:fe}=C(W);return i.dropUndefinedKeys({parent_span_id:q,span_id:K,trace_id:Y,data:L,op:V,status:oe,origin:fe})}function f(W){const{spanId:K,traceId:Y}=W.spanContext(),{parent_span_id:L}=C(W);return i.dropUndefinedKeys({parent_span_id:L,span_id:K,trace_id:Y})}function d(W){const{traceId:K,spanId:Y}=W.spanContext(),L=n(W);return i.generateSentryTraceHeader(K,Y,L)}function m(W){return typeof W=="number"?l(W):Array.isArray(W)?W[0]+W[1]/1e9:W instanceof Date?l(W.getTime()):i.timestampInSeconds()}function l(W){return W>9999999999?W/1e3:W}function C(W){if(r(W))return W.getSpanJSON();try{const{spanId:K,traceId:Y}=W.spanContext();if(_(W)){const{attributes:L,startTime:V,name:q,endTime:oe,parentSpanId:fe,status:he}=W;return i.dropUndefinedKeys({span_id:K,trace_id:Y,data:L,description:q,parent_span_id:fe,start_timestamp:m(V),timestamp:m(oe)||void 0,status:a(he),op:L[E.SEMANTIC_ATTRIBUTE_SENTRY_OP],origin:L[E.SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN],_metrics_summary:T.getMetricSummaryJsonForSpan(W)})}return{span_id:K,trace_id:Y}}catch(K){return{}}}function _(W){const K=W;return!!K.attributes&&!!K.startTime&&!!K.name&&!!K.endTime&&!!K.status}function r(W){return typeof W.getSpanJSON=="function"}function n(W){const{traceFlags:K}=W.spanContext();return K===I}function a(W){if(!(!W||W.code===y.SPAN_STATUS_UNSET))return W.code===y.SPAN_STATUS_OK?"ok":W.message||"unknown_error"}const S="_sentryChildSpans",R="_sentryRootSpan";function A(W,K){const Y=W[R]||W;i.addNonEnumerableProperty(K,R,Y),W[S]?W[S].add(K):i.addNonEnumerableProperty(W,S,new Set([K]))}function M(W,K){W[S]&&W[S].delete(K)}function P(W){const K=new Set;function Y(L){if(!K.has(L)&&n(L)){K.add(L);const V=L[S]?Array.from(L[S]):[];for(const q of V)Y(q)}}return Y(W),Array.from(K)}function x(W){return W[R]||W}function $(){const W=g.getMainCarrier(),K=u.getAsyncContextStrategy(W);return K.getActiveSpan?K.getActiveSpan():p._getSpanForScope(v.getCurrentScope())}function X(W,K,Y,L,V,q){const oe=$();oe&&T.updateMetricSummaryOnSpan(oe,W,K,Y,L,V,q)}e.TRACE_FLAG_NONE=h,e.TRACE_FLAG_SAMPLED=I,e.addChildSpanToSpan=A,e.getActiveSpan=$,e.getRootSpan=x,e.getSpanDescendants=P,e.getStatusMessage=a,e.removeChildSpanFromSpan=M,e.spanIsSampled=n,e.spanTimeInputToSeconds=m,e.spanToJSON=C,e.spanToTraceContext=f,e.spanToTraceHeader=d,e.spanToTransactionTraceContext=b,e.updateMetricSummaryOnActiveSpan=X},80716:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(91637),u=o(78084);function g(p,h,I=250,b,f,d,m){if(!d.exception||!d.exception.values||!m||!i.isInstanceOf(m.originalException,Error))return;const l=d.exception.values.length>0?d.exception.values[d.exception.values.length-1]:void 0;l&&(d.exception.values=y(v(p,h,f,m.originalException,b,d.exception.values,l,0),I))}function v(p,h,I,b,f,d,m,l){if(d.length>=I+1)return d;let C=[...d];if(i.isInstanceOf(b[f],Error)){T(m,l);const _=p(h,b[f]),r=C.length;E(_,f,r,l),C=v(p,h,I,b[f],f,[_,...C],_,r)}return Array.isArray(b.errors)&&b.errors.forEach((_,r)=>{if(i.isInstanceOf(_,Error)){T(m,l);const n=p(h,_),a=C.length;E(n,`errors[${r}]`,a,l),C=v(p,h,I,_,f,[n,...C],n,a)}}),C}function T(p,h){p.mechanism=p.mechanism||{type:"generic",handled:!0},p.mechanism=Ie(B(B({},p.mechanism),p.type==="AggregateError"&&{is_exception_group:!0}),{exception_id:h})}function E(p,h,I,b){p.mechanism=p.mechanism||{type:"generic",handled:!0},p.mechanism=Ie(B({},p.mechanism),{type:"chained",source:h,exception_id:I,parent_id:b})}function y(p,h){return p.map(I=>(I.value&&(I.value=u.truncate(I.value,h)),I))}e.applyAggregateErrorsToEvent=g},42810:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(13944),u=o(15142),g=o(12432);function v(E,y,p,h){const I=E();let b=!1,f=!0;return setInterval(()=>{const d=I.getTimeMs();b===!1&&d>y+p&&(b=!0,f&&h()),d<y+p&&(b=!1)},20),{poll:()=>{I.reset()},enabled:d=>{f=d}}}function T(E,y,p){const h=y?y.replace(/^file:\/\//,""):void 0,I=E.location.columnNumber?E.location.columnNumber+1:void 0,b=E.location.lineNumber?E.location.lineNumber+1:void 0;return u.dropUndefinedKeys({filename:h,module:p(h),function:E.functionName||g.UNKNOWN_FUNCTION,colno:I,lineno:b,in_app:h?i.filenameIsInApp(h):void 0})}e.callFrameToStackFrame=T,e.watchdogTimer=v},75852:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(i){const u=[],g=v=>{v.forEach(T=>{Array.isArray(T)?g(T):u.push(T)})};return g(i),u}e.flatten=o},76691:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(12075),u=o(91637),g=o(3149),v="baggage",T="sentry-",E=/^sentry-/,y=8192;function p(d){const m=I(d);if(!m)return;const l=Object.entries(m).reduce((C,[_,r])=>{if(_.match(E)){const n=_.slice(T.length);C[n]=r}return C},{});if(Object.keys(l).length>0)return l}function h(d){if(!d)return;const m=Object.entries(d).reduce((l,[C,_])=>(_&&(l[`${T}${C}`]=_),l),{});return f(m)}function I(d){if(!(!d||!u.isString(d)&&!Array.isArray(d)))return Array.isArray(d)?d.reduce((m,l)=>{const C=b(l);for(const _ of Object.keys(C))m[_]=C[_];return m},{}):b(d)}function b(d){return d.split(",").map(m=>m.split("=").map(l=>decodeURIComponent(l.trim()))).reduce((m,[l,C])=>(m[l]=C,m),{})}function f(d){if(Object.keys(d).length!==0)return Object.entries(d).reduce((m,[l,C],_)=>{const r=`${encodeURIComponent(l)}=${encodeURIComponent(C)}`,n=_===0?r:`${m},${r}`;return n.length>y?(i.DEBUG_BUILD&&g.logger.warn(`Not adding key: ${l} with val: ${C} to baggage header due to exceeding baggage size limits.`),m):n},"")}e.BAGGAGE_HEADER_NAME=v,e.MAX_BAGGAGE_STRING_LENGTH=y,e.SENTRY_BAGGAGE_KEY_PREFIX=T,e.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=E,e.baggageHeaderToDynamicSamplingContext=p,e.dynamicSamplingContextToSentryBaggageHeader=h,e.parseBaggageHeader=I},11749:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(91637),g=o(43174).GLOBAL_OBJ,v=80;function T(I,b={}){if(!I)return"<unknown>";try{let f=I;const d=5,m=[];let l=0,C=0;const _=" > ",r=_.length;let n;const a=Array.isArray(b)?b:b.keyAttrs,S=!Array.isArray(b)&&b.maxStringLength||v;for(;f&&l++<d&&(n=E(f,a),!(n==="html"||l>1&&C+m.length*r+n.length>=S));)m.push(n),C+=n.length,f=f.parentNode;return m.reverse().join(_)}catch(f){return"<unknown>"}}function E(I,b){const f=I,d=[];let m,l,C,_,r;if(!f||!f.tagName)return"";if(g.HTMLElement&&f instanceof HTMLElement&&f.dataset){if(f.dataset.sentryComponent)return f.dataset.sentryComponent;if(f.dataset.sentryElement)return f.dataset.sentryElement}d.push(f.tagName.toLowerCase());const n=b&&b.length?b.filter(S=>f.getAttribute(S)).map(S=>[S,f.getAttribute(S)]):null;if(n&&n.length)n.forEach(S=>{d.push(`[${S[0]}="${S[1]}"]`)});else if(f.id&&d.push(`#${f.id}`),m=f.className,m&&i.isString(m))for(l=m.split(/\s+/),r=0;r<l.length;r++)d.push(`.${l[r]}`);const a=["aria-label","type","name","title","alt"];for(r=0;r<a.length;r++)C=a[r],_=f.getAttribute(C),_&&d.push(`[${C}="${_}"]`);return d.join("")}function y(){try{return g.document.location.href}catch(I){return""}}function p(I){return g.document&&g.document.querySelector?g.document.querySelector(I):null}function h(I){if(!g.HTMLElement)return null;let b=I;const f=5;for(let d=0;d<f;d++){if(!b)return null;if(b instanceof HTMLElement){if(b.dataset.sentryComponent)return b.dataset.sentryComponent;if(b.dataset.sentryElement)return b.dataset.sentryElement}b=b.parentNode}return null}e.getComponentName=h,e.getDomElement=p,e.getLocationHref=y,e.htmlTreeAsString=T},19035:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(4663);function u(g,v){return Oe(this,null,function*(){return i._nullishCoalesce(g,v)})}e._asyncNullishCoalesce=u},60726:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(i){return Oe(this,null,function*(){let u,g=i[0],v=1;for(;v<i.length;){const T=i[v],E=i[v+1];if(v+=2,(T==="optionalAccess"||T==="optionalCall")&&g==null)return;T==="access"||T==="optionalAccess"?(u=g,g=yield E(g)):(T==="call"||T==="optionalCall")&&(g=yield E((...y)=>g.call(u,...y)),u=void 0)}return g})}e._asyncOptionalChain=o},82013:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(60726);function u(g){return Oe(this,null,function*(){const v=yield i._asyncOptionalChain(g);return v==null?!0:v})}e._asyncOptionalChainDelete=u},4663:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(i,u){return i!=null?i:u()}e._nullishCoalesce=o},46610:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(i){let u,g=i[0],v=1;for(;v<i.length;){const T=i[v],E=i[v+1];if(v+=2,(T==="optionalAccess"||T==="optionalCall")&&g==null)return;T==="access"||T==="optionalAccess"?(u=g,g=E(g)):(T==="call"||T==="optionalCall")&&(g=E((...y)=>g.call(u,...y)),u=void 0)}return g}e._optionalChain=o},95705:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(46610);function u(g){const v=i._optionalChain(g);return v==null?!0:v}e._optionalChainDelete=u},99747:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(i){let u=[],g={};return{add(v,T){for(;u.length>=i;){const E=u.shift();E!==void 0&&delete g[E]}g[v]&&this.delete(v),u.push(v),g[v]=T},clear(){g={},u=[]},get(v){return g[v]},size(){return u.length},delete(v){if(!g[v])return!1;delete g[v];for(let T=0;T<u.length;T++)if(u[T]===v){u.splice(T,1);break}return!0}}}e.makeFifoCache=o},24976:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(18313),u=o(57260);function g(v,T,E){const y=[{type:"client_report"},{timestamp:E||u.dateTimestampInSeconds(),discarded_events:v}];return i.createEnvelope(T?{dsn:T}:{},[y])}e.createClientReportEnvelope=g},467:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(i){const u={};let g=0;for(;g<i.length;){const v=i.indexOf("=",g);if(v===-1)break;let T=i.indexOf(";",g);if(T===-1)T=i.length;else if(T<v){g=i.lastIndexOf(";",v-1)+1;continue}const E=i.slice(g,v).trim();if(u[E]===void 0){let y=i.slice(v+1,T).trim();y.charCodeAt(0)===34&&(y=y.slice(1,-1));try{u[E]=y.indexOf("%")!==-1?decodeURIComponent(y):y}catch(p){u[E]=y}}g=T+1}return u}e.parseCookie=o},12075:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__;e.DEBUG_BUILD=o},92152:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(12075),u=o(3149),g=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function v(I){return I==="http"||I==="https"}function T(I,b=!1){const{host:f,path:d,pass:m,port:l,projectId:C,protocol:_,publicKey:r}=I;return`${_}://${r}${b&&m?`:${m}`:""}@${f}${l?`:${l}`:""}/${d&&`${d}/`}${C}`}function E(I){const b=g.exec(I);if(!b){u.consoleSandbox(()=>{console.error(`Invalid Sentry Dsn: ${I}`)});return}const[f,d,m="",l,C="",_]=b.slice(1);let r="",n=_;const a=n.split("/");if(a.length>1&&(r=a.slice(0,-1).join("/"),n=a.pop()),n){const S=n.match(/^\d+/);S&&(n=S[0])}return y({host:l,pass:m,path:r,projectId:n,port:C,protocol:f,publicKey:d})}function y(I){return{protocol:I.protocol,publicKey:I.publicKey||"",pass:I.pass||"",host:I.host,port:I.port||"",path:I.path||"",projectId:I.projectId}}function p(I){if(!i.DEBUG_BUILD)return!0;const{port:b,projectId:f,protocol:d}=I;return["protocol","publicKey","host","projectId"].find(C=>I[C]?!1:(u.logger.error(`Invalid Sentry Dsn: ${C} missing`),!0))?!1:f.match(/^\d+$/)?v(d)?b&&isNaN(parseInt(b,10))?(u.logger.error(`Invalid Sentry Dsn: Invalid port ${b}`),!1):!0:(u.logger.error(`Invalid Sentry Dsn: Invalid protocol ${d}`),!1):(u.logger.error(`Invalid Sentry Dsn: Invalid projectId ${f}`),!1)}function h(I){const b=typeof I=="string"?E(I):y(I);if(!(!b||!p(b)))return b}e.dsnFromString=E,e.dsnToString=T,e.makeDsn=h},730:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}function i(){return"npm"}e.getSDKSource=i,e.isBrowserBundle=o},18313:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(92152),u=o(19366),g=o(15142),v=o(43174);function T(a,S=[]){return[a,S]}function E(a,S){const[R,A]=a;return[R,[...A,S]]}function y(a,S){const R=a[1];for(const A of R){const M=A[0].type;if(S(A,M))return!0}return!1}function p(a,S){return y(a,(R,A)=>S.includes(A))}function h(a){return v.GLOBAL_OBJ.__SENTRY__&&v.GLOBAL_OBJ.__SENTRY__.encodePolyfill?v.GLOBAL_OBJ.__SENTRY__.encodePolyfill(a):new TextEncoder().encode(a)}function I(a){return v.GLOBAL_OBJ.__SENTRY__&&v.GLOBAL_OBJ.__SENTRY__.decodePolyfill?v.GLOBAL_OBJ.__SENTRY__.decodePolyfill(a):new TextDecoder().decode(a)}function b(a){const[S,R]=a;let A=JSON.stringify(S);function M(P){typeof A=="string"?A=typeof P=="string"?A+P:[h(A),P]:A.push(typeof P=="string"?h(P):P)}for(const P of R){const[x,$]=P;if(M(`
${JSON.stringify(x)}
`),typeof $=="string"||$ instanceof Uint8Array)M($);else{let X;try{X=JSON.stringify($)}catch(W){X=JSON.stringify(u.normalize($))}M(X)}}return typeof A=="string"?A:f(A)}function f(a){const S=a.reduce((M,P)=>M+P.length,0),R=new Uint8Array(S);let A=0;for(const M of a)R.set(M,A),A+=M.length;return R}function d(a){let S=typeof a=="string"?h(a):a;function R(x){const $=S.subarray(0,x);return S=S.subarray(x+1),$}function A(){let x=S.indexOf(10);return x<0&&(x=S.length),JSON.parse(I(R(x)))}const M=A(),P=[];for(;S.length;){const x=A(),$=typeof x.length=="number"?x.length:void 0;P.push([x,$?R($):A()])}return[M,P]}function m(a){return[{type:"span"},a]}function l(a){const S=typeof a.data=="string"?h(a.data):a.data;return[g.dropUndefinedKeys({type:"attachment",length:S.length,filename:a.filename,content_type:a.contentType,attachment_type:a.attachmentType}),S]}const C={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function _(a){return C[a]}function r(a){if(!a||!a.sdk)return;const{name:S,version:R}=a.sdk;return{name:S,version:R}}function n(a,S,R,A){const M=a.sdkProcessingMetadata&&a.sdkProcessingMetadata.dynamicSamplingContext;return B(B(B({event_id:a.event_id,sent_at:new Date().toISOString()},S&&{sdk:S}),!!R&&A&&{dsn:i.dsnToString(A)}),M&&{trace:g.dropUndefinedKeys(B({},M))})}e.addItemToEnvelope=E,e.createAttachmentEnvelopeItem=l,e.createEnvelope=T,e.createEventEnvelopeHeaders=n,e.createSpanEnvelopeItem=m,e.envelopeContainsItemType=p,e.envelopeItemTypeToDataCategory=_,e.forEachEnvelopeItem=y,e.getSdkMetadataForEnvelopeHeader=r,e.parseEnvelope=d,e.serializeEnvelope=b},98591:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});class o extends Error{constructor(u,g="warn"){super(u),this.message=u,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=g}}e.SentryError=o},31694:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(91637),u=o(32529),g=o(19366),v=o(15142);function T(d,m){return d(m.stack||"",1)}function E(d,m){const l={type:m.name||m.constructor.name,value:m.message},C=T(d,m);return C.length&&(l.stacktrace={frames:C}),l}function y(d){for(const m in d)if(Object.prototype.hasOwnProperty.call(d,m)){const l=d[m];if(l instanceof Error)return l}}function p(d){if("name"in d&&typeof d.name=="string"){let C=`'${d.name}' captured as exception`;return"message"in d&&typeof d.message=="string"&&(C+=` with message '${d.message}'`),C}else if("message"in d&&typeof d.message=="string")return d.message;const m=v.extractExceptionKeysForMessage(d);if(i.isErrorEvent(d))return`Event \`ErrorEvent\` captured as exception with message \`${d.message}\``;const l=h(d);return`${l&&l!=="Object"?`'${l}'`:"Object"} captured as exception with keys: ${m}`}function h(d){try{const m=Object.getPrototypeOf(d);return m?m.constructor.name:void 0}catch(m){}}function I(d,m,l,C){if(i.isError(l))return[l,void 0];if(m.synthetic=!0,i.isPlainObject(l)){const r=d&&d.getOptions().normalizeDepth,n={__serialized__:g.normalizeToSize(l,r)},a=y(l);if(a)return[a,n];const S=p(l),R=C&&C.syntheticException||new Error(S);return R.message=S,[R,n]}const _=C&&C.syntheticException||new Error(l);return _.message=`${l}`,[_,void 0]}function b(d,m,l,C){const r=C&&C.data&&C.data.mechanism||{handled:!0,type:"generic"},[n,a]=I(d,r,l,C),S={exception:{values:[E(m,n)]}};return a&&(S.extra=a),u.addExceptionTypeValue(S,void 0,void 0),u.addExceptionMechanism(S,r),Ie(B({},S),{event_id:C&&C.event_id})}function f(d,m,l="info",C,_){const r={event_id:C&&C.event_id,level:l};if(_&&C&&C.syntheticException){const n=T(d,C.syntheticException);n.length&&(r.exception={values:[{value:m,stacktrace:{frames:n}}]})}if(i.isParameterizedString(m)){const{__sentry_template_string__:n,__sentry_template_values__:a}=m;return r.logentry={message:n,params:a},r}return r.message=m,r}e.eventFromMessage=f,e.eventFromUnknownInput=b,e.exceptionFromError=E,e.parseStackFrames=T},17077:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(80716),u=o(75852),g=o(11749),v=o(92152),T=o(98591),E=o(43174),y=o(35610),p=o(65247),h=o(65252),I=o(24110),b=o(33974),f=o(91637),d=o(69857),m=o(3149),l=o(47523),C=o(32529),_=o(58813),r=o(19366),n=o(15142),a=o(30846),S=o(57350),R=o(25272),A=o(30050),M=o(12432),P=o(13944),x=o(78084),$=o(44933),X=o(90709),W=o(57260),K=o(78779),Y=o(730),L=o(18313),V=o(24976),q=o(28428),oe=o(76691),fe=o(44148),he=o(99747),ee=o(31694),ne=o(42810),_e=o(41080),Te=o(19035),Ne=o(60726),Qe=o(82013),z=o(4663),re=o(46610),ae=o(95705),le=o(12124),de=o(86477),ve=o(66226),Le=o(3420);e.applyAggregateErrorsToEvent=i.applyAggregateErrorsToEvent,e.flatten=u.flatten,e.getComponentName=g.getComponentName,e.getDomElement=g.getDomElement,e.getLocationHref=g.getLocationHref,e.htmlTreeAsString=g.htmlTreeAsString,e.dsnFromString=v.dsnFromString,e.dsnToString=v.dsnToString,e.makeDsn=v.makeDsn,e.SentryError=T.SentryError,e.GLOBAL_OBJ=E.GLOBAL_OBJ,e.getGlobalSingleton=E.getGlobalSingleton,e.addConsoleInstrumentationHandler=y.addConsoleInstrumentationHandler,e.addFetchInstrumentationHandler=p.addFetchInstrumentationHandler,e.addGlobalErrorInstrumentationHandler=h.addGlobalErrorInstrumentationHandler,e.addGlobalUnhandledRejectionInstrumentationHandler=I.addGlobalUnhandledRejectionInstrumentationHandler,e.addHandler=b.addHandler,e.maybeInstrument=b.maybeInstrument,e.resetInstrumentationHandlers=b.resetInstrumentationHandlers,e.triggerHandlers=b.triggerHandlers,e.isDOMError=f.isDOMError,e.isDOMException=f.isDOMException,e.isElement=f.isElement,e.isError=f.isError,e.isErrorEvent=f.isErrorEvent,e.isEvent=f.isEvent,e.isInstanceOf=f.isInstanceOf,e.isParameterizedString=f.isParameterizedString,e.isPlainObject=f.isPlainObject,e.isPrimitive=f.isPrimitive,e.isRegExp=f.isRegExp,e.isString=f.isString,e.isSyntheticEvent=f.isSyntheticEvent,e.isThenable=f.isThenable,e.isVueViewModel=f.isVueViewModel,e.isBrowser=d.isBrowser,e.CONSOLE_LEVELS=m.CONSOLE_LEVELS,e.consoleSandbox=m.consoleSandbox,e.logger=m.logger,e.originalConsoleMethods=m.originalConsoleMethods,e.memoBuilder=l.memoBuilder,e.addContextToFrame=C.addContextToFrame,e.addExceptionMechanism=C.addExceptionMechanism,e.addExceptionTypeValue=C.addExceptionTypeValue,e.arrayify=C.arrayify,e.checkOrSetAlreadyCaught=C.checkOrSetAlreadyCaught,e.getEventDescription=C.getEventDescription,e.parseSemver=C.parseSemver,e.uuid4=C.uuid4,e.dynamicRequire=_.dynamicRequire,e.isNodeEnv=_.isNodeEnv,e.loadModule=_.loadModule,e.normalize=r.normalize,e.normalizeToSize=r.normalizeToSize,e.normalizeUrlToBase=r.normalizeUrlToBase,e.addNonEnumerableProperty=n.addNonEnumerableProperty,e.convertToPlainObject=n.convertToPlainObject,e.dropUndefinedKeys=n.dropUndefinedKeys,e.extractExceptionKeysForMessage=n.extractExceptionKeysForMessage,e.fill=n.fill,e.getOriginalFunction=n.getOriginalFunction,e.markFunctionWrapped=n.markFunctionWrapped,e.objectify=n.objectify,e.urlEncode=n.urlEncode,e.basename=a.basename,e.dirname=a.dirname,e.isAbsolute=a.isAbsolute,e.join=a.join,e.normalizePath=a.normalizePath,e.relative=a.relative,e.resolve=a.resolve,e.makePromiseBuffer=S.makePromiseBuffer,e.DEFAULT_USER_INCLUDES=R.DEFAULT_USER_INCLUDES,e.addRequestDataToEvent=R.addRequestDataToEvent,e.extractPathForTransaction=R.extractPathForTransaction,e.extractRequestData=R.extractRequestData,e.winterCGHeadersToDict=R.winterCGHeadersToDict,e.winterCGRequestToRequestData=R.winterCGRequestToRequestData,e.severityLevelFromString=A.severityLevelFromString,e.validSeverityLevels=A.validSeverityLevels,e.UNKNOWN_FUNCTION=M.UNKNOWN_FUNCTION,e.createStackParser=M.createStackParser,e.getFramesFromEvent=M.getFramesFromEvent,e.getFunctionName=M.getFunctionName,e.stackParserFromStackParserOptions=M.stackParserFromStackParserOptions,e.stripSentryFramesAndReverse=M.stripSentryFramesAndReverse,e.filenameIsInApp=P.filenameIsInApp,e.node=P.node,e.nodeStackLineParser=P.nodeStackLineParser,e.isMatchingPattern=x.isMatchingPattern,e.safeJoin=x.safeJoin,e.snipLine=x.snipLine,e.stringMatchesSomePattern=x.stringMatchesSomePattern,e.truncate=x.truncate,e.isNativeFunction=$.isNativeFunction,e.supportsDOMError=$.supportsDOMError,e.supportsDOMException=$.supportsDOMException,e.supportsErrorEvent=$.supportsErrorEvent,e.supportsFetch=$.supportsFetch,e.supportsNativeFetch=$.supportsNativeFetch,e.supportsReferrerPolicy=$.supportsReferrerPolicy,e.supportsReportingObserver=$.supportsReportingObserver,e.SyncPromise=X.SyncPromise,e.rejectedSyncPromise=X.rejectedSyncPromise,e.resolvedSyncPromise=X.resolvedSyncPromise,Object.defineProperty(e,"_browserPerformanceTimeOriginMode",{enumerable:!0,get:()=>W._browserPerformanceTimeOriginMode}),e.browserPerformanceTimeOrigin=W.browserPerformanceTimeOrigin,e.dateTimestampInSeconds=W.dateTimestampInSeconds,e.timestampInSeconds=W.timestampInSeconds,e.TRACEPARENT_REGEXP=K.TRACEPARENT_REGEXP,e.extractTraceparentData=K.extractTraceparentData,e.generateSentryTraceHeader=K.generateSentryTraceHeader,e.propagationContextFromHeaders=K.propagationContextFromHeaders,e.getSDKSource=Y.getSDKSource,e.isBrowserBundle=Y.isBrowserBundle,e.addItemToEnvelope=L.addItemToEnvelope,e.createAttachmentEnvelopeItem=L.createAttachmentEnvelopeItem,e.createEnvelope=L.createEnvelope,e.createEventEnvelopeHeaders=L.createEventEnvelopeHeaders,e.createSpanEnvelopeItem=L.createSpanEnvelopeItem,e.envelopeContainsItemType=L.envelopeContainsItemType,e.envelopeItemTypeToDataCategory=L.envelopeItemTypeToDataCategory,e.forEachEnvelopeItem=L.forEachEnvelopeItem,e.getSdkMetadataForEnvelopeHeader=L.getSdkMetadataForEnvelopeHeader,e.parseEnvelope=L.parseEnvelope,e.serializeEnvelope=L.serializeEnvelope,e.createClientReportEnvelope=V.createClientReportEnvelope,e.DEFAULT_RETRY_AFTER=q.DEFAULT_RETRY_AFTER,e.disabledUntil=q.disabledUntil,e.isRateLimited=q.isRateLimited,e.parseRetryAfterHeader=q.parseRetryAfterHeader,e.updateRateLimits=q.updateRateLimits,e.BAGGAGE_HEADER_NAME=oe.BAGGAGE_HEADER_NAME,e.MAX_BAGGAGE_STRING_LENGTH=oe.MAX_BAGGAGE_STRING_LENGTH,e.SENTRY_BAGGAGE_KEY_PREFIX=oe.SENTRY_BAGGAGE_KEY_PREFIX,e.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=oe.SENTRY_BAGGAGE_KEY_PREFIX_REGEX,e.baggageHeaderToDynamicSamplingContext=oe.baggageHeaderToDynamicSamplingContext,e.dynamicSamplingContextToSentryBaggageHeader=oe.dynamicSamplingContextToSentryBaggageHeader,e.parseBaggageHeader=oe.parseBaggageHeader,e.getNumberOfUrlSegments=fe.getNumberOfUrlSegments,e.getSanitizedUrlString=fe.getSanitizedUrlString,e.parseUrl=fe.parseUrl,e.stripUrlQueryAndFragment=fe.stripUrlQueryAndFragment,e.makeFifoCache=he.makeFifoCache,e.eventFromMessage=ee.eventFromMessage,e.eventFromUnknownInput=ee.eventFromUnknownInput,e.exceptionFromError=ee.exceptionFromError,e.parseStackFrames=ee.parseStackFrames,e.callFrameToStackFrame=ne.callFrameToStackFrame,e.watchdogTimer=ne.watchdogTimer,e.LRUMap=_e.LRUMap,e._asyncNullishCoalesce=Te._asyncNullishCoalesce,e._asyncOptionalChain=Ne._asyncOptionalChain,e._asyncOptionalChainDelete=Qe._asyncOptionalChainDelete,e._nullishCoalesce=z._nullishCoalesce,e._optionalChain=re._optionalChain,e._optionalChainDelete=ae._optionalChainDelete,e.generatePropagationContext=le.generatePropagationContext,e.SDK_VERSION=de.SDK_VERSION,e.escapeStringForRegex=ve.escapeStringForRegex,e.supportsHistory=Le.supportsHistory},35610:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(3149),u=o(15142),g=o(43174),v=o(33974);function T(y){const p="console";v.addHandler(p,y),v.maybeInstrument(p,E)}function E(){"console"in g.GLOBAL_OBJ&&i.CONSOLE_LEVELS.forEach(function(y){y in g.GLOBAL_OBJ.console&&u.fill(g.GLOBAL_OBJ.console,y,function(p){return i.originalConsoleMethods[y]=p,function(...h){const I={args:h,level:y};v.triggerHandlers("console",I);const b=i.originalConsoleMethods[y];b&&b.apply(g.GLOBAL_OBJ.console,h)}})})}e.addConsoleInstrumentationHandler=T},65247:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(15142),u=o(44933),g=o(57260),v=o(43174),T=o(33974);function E(b){const f="fetch";T.addHandler(f,b),T.maybeInstrument(f,y)}function y(){u.supportsNativeFetch()&&i.fill(v.GLOBAL_OBJ,"fetch",function(b){return function(...f){const{method:d,url:m}=I(f),l={args:f,fetchData:{method:d,url:m},startTimestamp:g.timestampInSeconds()*1e3};return T.triggerHandlers("fetch",B({},l)),b.apply(v.GLOBAL_OBJ,f).then(C=>{const _=Ie(B({},l),{endTimestamp:g.timestampInSeconds()*1e3,response:C});return T.triggerHandlers("fetch",_),C},C=>{const _=Ie(B({},l),{endTimestamp:g.timestampInSeconds()*1e3,error:C});throw T.triggerHandlers("fetch",_),C})}})}function p(b,f){return!!b&&typeof b=="object"&&!!b[f]}function h(b){return typeof b=="string"?b:b?p(b,"url")?b.url:b.toString?b.toString():"":""}function I(b){if(b.length===0)return{method:"GET",url:""};if(b.length===2){const[d,m]=b;return{url:h(d),method:p(m,"method")?String(m.method).toUpperCase():"GET"}}const f=b[0];return{url:h(f),method:p(f,"method")?String(f.method).toUpperCase():"GET"}}e.addFetchInstrumentationHandler=E,e.parseFetchArgs=I},65252:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(43174),u=o(33974);let g=null;function v(E){const y="error";u.addHandler(y,E),u.maybeInstrument(y,T)}function T(){g=i.GLOBAL_OBJ.onerror,i.GLOBAL_OBJ.onerror=function(E,y,p,h,I){const b={column:h,error:I,line:p,msg:E,url:y};return u.triggerHandlers("error",b),g&&!g.__SENTRY_LOADER__?g.apply(this,arguments):!1},i.GLOBAL_OBJ.onerror.__SENTRY_INSTRUMENTED__=!0}e.addGlobalErrorInstrumentationHandler=v},24110:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(43174),u=o(33974);let g=null;function v(E){const y="unhandledrejection";u.addHandler(y,E),u.maybeInstrument(y,T)}function T(){g=i.GLOBAL_OBJ.onunhandledrejection,i.GLOBAL_OBJ.onunhandledrejection=function(E){const y=E;return u.triggerHandlers("unhandledrejection",y),g&&!g.__SENTRY_LOADER__?g.apply(this,arguments):!0},i.GLOBAL_OBJ.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}e.addGlobalUnhandledRejectionInstrumentationHandler=v},33974:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(12075),u=o(3149),g=o(12432),v={},T={};function E(I,b){v[I]=v[I]||[],v[I].push(b)}function y(){Object.keys(v).forEach(I=>{v[I]=void 0})}function p(I,b){T[I]||(b(),T[I]=!0)}function h(I,b){const f=I&&v[I];if(f)for(const d of f)try{d(b)}catch(m){i.DEBUG_BUILD&&u.logger.error(`Error while triggering instrumentation handler.
Type: ${I}
Name: ${g.getFunctionName(d)}
Error:`,m)}}e.addHandler=E,e.maybeInstrument=p,e.resetInstrumentationHandlers=y,e.triggerHandlers=h},91637:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=Object.prototype.toString;function i(_){switch(o.call(_)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return l(_,Error)}}function u(_,r){return o.call(_)===`[object ${r}]`}function g(_){return u(_,"ErrorEvent")}function v(_){return u(_,"DOMError")}function T(_){return u(_,"DOMException")}function E(_){return u(_,"String")}function y(_){return typeof _=="object"&&_!==null&&"__sentry_template_string__"in _&&"__sentry_template_values__"in _}function p(_){return _===null||y(_)||typeof _!="object"&&typeof _!="function"}function h(_){return u(_,"Object")}function I(_){return typeof Event!="undefined"&&l(_,Event)}function b(_){return typeof Element!="undefined"&&l(_,Element)}function f(_){return u(_,"RegExp")}function d(_){return!!(_&&_.then&&typeof _.then=="function")}function m(_){return h(_)&&"nativeEvent"in _&&"preventDefault"in _&&"stopPropagation"in _}function l(_,r){try{return _ instanceof r}catch(n){return!1}}function C(_){return!!(typeof _=="object"&&_!==null&&(_.__isVue||_._isVue))}e.isDOMError=v,e.isDOMException=T,e.isElement=b,e.isError=i,e.isErrorEvent=g,e.isEvent=I,e.isInstanceOf=l,e.isParameterizedString=y,e.isPlainObject=h,e.isPrimitive=p,e.isRegExp=f,e.isString=E,e.isSyntheticEvent=m,e.isThenable=d,e.isVueViewModel=C},69857:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(58813),u=o(43174);function g(){return typeof window!="undefined"&&(!i.isNodeEnv()||v())}function v(){return u.GLOBAL_OBJ.process!==void 0&&u.GLOBAL_OBJ.process.type==="renderer"}e.isBrowser=g},3149:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(12075),u=o(43174),g="Sentry Logger ",v=["debug","info","warn","error","log","assert","trace"],T={};function E(h){if(!("console"in u.GLOBAL_OBJ))return h();const I=u.GLOBAL_OBJ.console,b={},f=Object.keys(T);f.forEach(d=>{const m=T[d];b[d]=I[d],I[d]=m});try{return h()}finally{f.forEach(d=>{I[d]=b[d]})}}function y(){let h=!1;const I={enable:()=>{h=!0},disable:()=>{h=!1},isEnabled:()=>h};return i.DEBUG_BUILD?v.forEach(b=>{I[b]=(...f)=>{h&&E(()=>{u.GLOBAL_OBJ.console[b](`${g}[${b}]:`,...f)})}}):v.forEach(b=>{I[b]=()=>{}}),I}const p=y();e.CONSOLE_LEVELS=v,e.consoleSandbox=E,e.logger=p,e.originalConsoleMethods=T},41080:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});class o{constructor(u){this._maxSize=u,this._cache=new Map}get size(){return this._cache.size}get(u){const g=this._cache.get(u);if(g!==void 0)return this._cache.delete(u),this._cache.set(u,g),g}set(u,g){this._cache.size>=this._maxSize&&this._cache.delete(this._cache.keys().next().value),this._cache.set(u,g)}remove(u){const g=this._cache.get(u);return g&&this._cache.delete(u),g}clear(){this._cache.clear()}keys(){return Array.from(this._cache.keys())}values(){const u=[];return this._cache.forEach(g=>u.push(g)),u}}e.LRUMap=o},47523:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(){const i=typeof WeakSet=="function",u=i?new WeakSet:[];function g(T){if(i)return u.has(T)?!0:(u.add(T),!1);for(let E=0;E<u.length;E++)if(u[E]===T)return!0;return u.push(T),!1}function v(T){if(i)u.delete(T);else for(let E=0;E<u.length;E++)if(u[E]===T){u.splice(E,1);break}}return[g,v]}e.memoBuilder=o},32529:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(15142),u=o(78084),g=o(43174);function v(){const m=g.GLOBAL_OBJ,l=m.crypto||m.msCrypto;let C=()=>Math.random()*16;try{if(l&&l.randomUUID)return l.randomUUID().replace(/-/g,"");l&&l.getRandomValues&&(C=()=>{const _=new Uint8Array(1);return l.getRandomValues(_),_[0]})}catch(_){}return("10000000100040008000"+1e11).replace(/[018]/g,_=>(_^(C()&15)>>_/4).toString(16))}function T(m){return m.exception&&m.exception.values?m.exception.values[0]:void 0}function E(m){const{message:l,event_id:C}=m;if(l)return l;const _=T(m);return _?_.type&&_.value?`${_.type}: ${_.value}`:_.type||_.value||C||"<unknown>":C||"<unknown>"}function y(m,l,C){const _=m.exception=m.exception||{},r=_.values=_.values||[],n=r[0]=r[0]||{};n.value||(n.value=l||""),n.type||(n.type=C||"Error")}function p(m,l){const C=T(m);if(!C)return;const _={type:"generic",handled:!0},r=C.mechanism;if(C.mechanism=B(B(B({},_),r),l),l&&"data"in l){const n=B(B({},r&&r.data),l.data);C.mechanism.data=n}}const h=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function I(m){const l=m.match(h)||[],C=parseInt(l[1],10),_=parseInt(l[2],10),r=parseInt(l[3],10);return{buildmetadata:l[5],major:isNaN(C)?void 0:C,minor:isNaN(_)?void 0:_,patch:isNaN(r)?void 0:r,prerelease:l[4]}}function b(m,l,C=5){if(l.lineno===void 0)return;const _=m.length,r=Math.max(Math.min(_-1,l.lineno-1),0);l.pre_context=m.slice(Math.max(0,r-C),r).map(n=>u.snipLine(n,0)),l.context_line=u.snipLine(m[Math.min(_-1,r)],l.colno||0),l.post_context=m.slice(Math.min(r+1,_),r+1+C).map(n=>u.snipLine(n,0))}function f(m){if(m&&m.__sentry_captured__)return!0;try{i.addNonEnumerableProperty(m,"__sentry_captured__",!0)}catch(l){}return!1}function d(m){return Array.isArray(m)?m:[m]}e.addContextToFrame=b,e.addExceptionMechanism=p,e.addExceptionTypeValue=y,e.arrayify=d,e.checkOrSetAlreadyCaught=f,e.getEventDescription=E,e.parseSemver=I,e.uuid4=v},13944:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(12432);function u(T,E=!1){return!(E||T&&!T.startsWith("/")&&!T.match(/^[A-Z]:/)&&!T.startsWith(".")&&!T.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&T!==void 0&&!T.includes("node_modules/")}function g(T){const E=/^\s*[-]{4,}$/,y=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return p=>{const h=p.match(y);if(h){let I,b,f,d,m;if(h[1]){f=h[1];let _=f.lastIndexOf(".");if(f[_-1]==="."&&_--,_>0){I=f.slice(0,_),b=f.slice(_+1);const r=I.indexOf(".Module");r>0&&(f=f.slice(r+1),I=I.slice(0,r))}d=void 0}b&&(d=I,m=b),b==="<anonymous>"&&(m=void 0,f=void 0),f===void 0&&(m=m||i.UNKNOWN_FUNCTION,f=d?`${d}.${m}`:m);let l=h[2]&&h[2].startsWith("file://")?h[2].slice(7):h[2];const C=h[5]==="native";return l&&l.match(/\/[A-Z]:/)&&(l=l.slice(1)),!l&&h[5]&&!C&&(l=h[5]),{filename:l,module:T?T(l):void 0,function:f,lineno:parseInt(h[3],10)||void 0,colno:parseInt(h[4],10)||void 0,in_app:u(l,C)}}if(p.match(E))return{filename:p}}}function v(T){return[90,g(T)]}e.filenameIsInApp=u,e.node=g,e.nodeStackLineParser=v},58813:(H,e,o)=>{H=o.nmd(H),Object.defineProperty(e,"__esModule",{value:!0});const i=o(730);function u(){return!i.isBrowserBundle()&&Object.prototype.toString.call(typeof process!="undefined"?process:0)==="[object process]"}function g(T,E){return T.require(E)}function v(T){let E;try{E=g(H,T)}catch(y){}try{const{cwd:y}=g(H,"process");E=g(H,`${y()}/node_modules/${T}`)}catch(y){}return E}e.dynamicRequire=g,e.isNodeEnv=u,e.loadModule=v},19366:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(91637),u=o(47523),g=o(15142),v=o(12432);function T(d,m=100,l=1/0){try{return y("",d,m,l)}catch(C){return{ERROR:`**non-serializable** (${C})`}}}function E(d,m=3,l=100*1024){const C=T(d,m);return b(C)>l?E(d,m-1,l):C}function y(d,m,l=1/0,C=1/0,_=u.memoBuilder()){const[r,n]=_;if(m==null||["number","boolean","string"].includes(typeof m)&&!Number.isNaN(m))return m;const a=p(d,m);if(!a.startsWith("[object "))return a;if(m.__sentry_skip_normalization__)return m;const S=typeof m.__sentry_override_normalization_depth__=="number"?m.__sentry_override_normalization_depth__:l;if(S===0)return a.replace("object ","");if(r(m))return"[Circular ~]";const R=m;if(R&&typeof R.toJSON=="function")try{const x=R.toJSON();return y("",x,S-1,C,_)}catch(x){}const A=Array.isArray(m)?[]:{};let M=0;const P=g.convertToPlainObject(m);for(const x in P){if(!Object.prototype.hasOwnProperty.call(P,x))continue;if(M>=C){A[x]="[MaxProperties ~]";break}const $=P[x];A[x]=y(x,$,S-1,C,_),M++}return n(m),A}function p(d,m){try{if(d==="domain"&&m&&typeof m=="object"&&m._events)return"[Domain]";if(d==="domainEmitter")return"[DomainEmitter]";if(typeof o.g!="undefined"&&m===o.g)return"[Global]";if(typeof window!="undefined"&&m===window)return"[Window]";if(typeof document!="undefined"&&m===document)return"[Document]";if(i.isVueViewModel(m))return"[VueViewModel]";if(i.isSyntheticEvent(m))return"[SyntheticEvent]";if(typeof m=="number"&&m!==m)return"[NaN]";if(typeof m=="function")return`[Function: ${v.getFunctionName(m)}]`;if(typeof m=="symbol")return`[${String(m)}]`;if(typeof m=="bigint")return`[BigInt: ${String(m)}]`;const l=h(m);return/^HTML(\w*)Element$/.test(l)?`[HTMLElement: ${l}]`:`[object ${l}]`}catch(l){return`**non-serializable** (${l})`}}function h(d){const m=Object.getPrototypeOf(d);return m?m.constructor.name:"null prototype"}function I(d){return~-encodeURI(d).split(/%..|./).length}function b(d){return I(JSON.stringify(d))}function f(d,m){const l=m.replace(/\\/g,"/").replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");let C=d;try{C=decodeURI(d)}catch(_){}return C.replace(/\\/g,"/").replace(/webpack:\/?/g,"").replace(new RegExp(`(file://)?/*${l}/*`,"ig"),"app:///")}e.normalize=T,e.normalizeToSize=E,e.normalizeUrlToBase=f},15142:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(11749),u=o(12075),g=o(91637),v=o(3149),T=o(78084);function E(n,a,S){if(!(a in n))return;const R=n[a],A=S(R);typeof A=="function"&&p(A,R),n[a]=A}function y(n,a,S){try{Object.defineProperty(n,a,{value:S,writable:!0,configurable:!0})}catch(R){u.DEBUG_BUILD&&v.logger.log(`Failed to add non-enumerable property "${a}" to object`,n)}}function p(n,a){try{const S=a.prototype||{};n.prototype=a.prototype=S,y(n,"__sentry_original__",a)}catch(S){}}function h(n){return n.__sentry_original__}function I(n){return Object.keys(n).map(a=>`${encodeURIComponent(a)}=${encodeURIComponent(n[a])}`).join("&")}function b(n){if(g.isError(n))return B({message:n.message,name:n.name,stack:n.stack},d(n));if(g.isEvent(n)){const a=B({type:n.type,target:f(n.target),currentTarget:f(n.currentTarget)},d(n));return typeof CustomEvent!="undefined"&&g.isInstanceOf(n,CustomEvent)&&(a.detail=n.detail),a}else return n}function f(n){try{return g.isElement(n)?i.htmlTreeAsString(n):Object.prototype.toString.call(n)}catch(a){return"<unknown>"}}function d(n){if(typeof n=="object"&&n!==null){const a={};for(const S in n)Object.prototype.hasOwnProperty.call(n,S)&&(a[S]=n[S]);return a}else return{}}function m(n,a=40){const S=Object.keys(b(n));if(S.sort(),!S.length)return"[object has no keys]";if(S[0].length>=a)return T.truncate(S[0],a);for(let R=S.length;R>0;R--){const A=S.slice(0,R).join(", ");if(!(A.length>a))return R===S.length?A:T.truncate(A,a)}return""}function l(n){return C(n,new Map)}function C(n,a){if(_(n)){const S=a.get(n);if(S!==void 0)return S;const R={};a.set(n,R);for(const A of Object.keys(n))typeof n[A]!="undefined"&&(R[A]=C(n[A],a));return R}if(Array.isArray(n)){const S=a.get(n);if(S!==void 0)return S;const R=[];return a.set(n,R),n.forEach(A=>{R.push(C(A,a))}),R}return n}function _(n){if(!g.isPlainObject(n))return!1;try{const a=Object.getPrototypeOf(n).constructor.name;return!a||a==="Object"}catch(a){return!0}}function r(n){let a;switch(!0){case n==null:a=new String(n);break;case(typeof n=="symbol"||typeof n=="bigint"):a=Object(n);break;case g.isPrimitive(n):a=new n.constructor(n);break;default:a=n;break}return a}e.addNonEnumerableProperty=y,e.convertToPlainObject=b,e.dropUndefinedKeys=l,e.extractExceptionKeysForMessage=m,e.fill=E,e.getOriginalFunction=h,e.markFunctionWrapped=p,e.objectify=r,e.urlEncode=I},30846:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(b,f){let d=0;for(let m=b.length-1;m>=0;m--){const l=b[m];l==="."?b.splice(m,1):l===".."?(b.splice(m,1),d++):d&&(b.splice(m,1),d--)}if(f)for(;d--;d)b.unshift("..");return b}const i=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function u(b){const f=b.length>1024?`<truncated>${b.slice(-1024)}`:b,d=i.exec(f);return d?d.slice(1):[]}function g(...b){let f="",d=!1;for(let m=b.length-1;m>=-1&&!d;m--){const l=m>=0?b[m]:"/";l&&(f=`${l}/${f}`,d=l.charAt(0)==="/")}return f=o(f.split("/").filter(m=>!!m),!d).join("/"),(d?"/":"")+f||"."}function v(b){let f=0;for(;f<b.length&&b[f]==="";f++);let d=b.length-1;for(;d>=0&&b[d]==="";d--);return f>d?[]:b.slice(f,d-f+1)}function T(b,f){b=g(b).slice(1),f=g(f).slice(1);const d=v(b.split("/")),m=v(f.split("/")),l=Math.min(d.length,m.length);let C=l;for(let r=0;r<l;r++)if(d[r]!==m[r]){C=r;break}let _=[];for(let r=C;r<d.length;r++)_.push("..");return _=_.concat(m.slice(C)),_.join("/")}function E(b){const f=y(b),d=b.slice(-1)==="/";let m=o(b.split("/").filter(l=>!!l),!f).join("/");return!m&&!f&&(m="."),m&&d&&(m+="/"),(f?"/":"")+m}function y(b){return b.charAt(0)==="/"}function p(...b){return E(b.join("/"))}function h(b){const f=u(b),d=f[0];let m=f[1];return!d&&!m?".":(m&&(m=m.slice(0,m.length-1)),d+m)}function I(b,f){let d=u(b)[2];return f&&d.slice(f.length*-1)===f&&(d=d.slice(0,d.length-f.length)),d}e.basename=I,e.dirname=h,e.isAbsolute=y,e.join=p,e.normalizePath=E,e.relative=T,e.resolve=g},57350:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(98591),u=o(90709);function g(v){const T=[];function E(){return v===void 0||T.length<v}function y(I){return T.splice(T.indexOf(I),1)[0]}function p(I){if(!E())return u.rejectedSyncPromise(new i.SentryError("Not adding Promise because buffer limit was reached."));const b=I();return T.indexOf(b)===-1&&T.push(b),b.then(()=>y(b)).then(null,()=>y(b).then(null,()=>{})),b}function h(I){return new u.SyncPromise((b,f)=>{let d=T.length;if(!d)return b(!0);const m=setTimeout(()=>{I&&I>0&&b(!1)},I);T.forEach(l=>{u.resolvedSyncPromise(l).then(()=>{--d||(clearTimeout(m),b(!0))},f)})})}return{$:T,add:p,drain:h}}e.makePromiseBuffer=g},12124:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(32529);function u(){return{traceId:i.uuid4(),spanId:i.uuid4().substring(16)}}e.generatePropagationContext=u},28428:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=60*1e3;function i(T,E=Date.now()){const y=parseInt(`${T}`,10);if(!isNaN(y))return y*1e3;const p=Date.parse(`${T}`);return isNaN(p)?o:p-E}function u(T,E){return T[E]||T.all||0}function g(T,E,y=Date.now()){return u(T,E)>y}function v(T,{statusCode:E,headers:y},p=Date.now()){const h=B({},T),I=y&&y["x-sentry-rate-limits"],b=y&&y["retry-after"];if(I)for(const f of I.trim().split(",")){const[d,m,,,l]=f.split(":",5),C=parseInt(d,10),_=(isNaN(C)?60:C)*1e3;if(!m)h.all=p+_;else for(const r of m.split(";"))r==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(h[r]=p+_):h[r]=p+_}else b?h.all=p+i(b,p):E===429&&(h.all=p+60*1e3);return h}e.DEFAULT_RETRY_AFTER=o,e.disabledUntil=u,e.isRateLimited=g,e.parseRetryAfterHeader=i,e.updateRateLimits=v},25272:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(467),u=o(12075),g=o(91637),v=o(3149),T=o(19366),E=o(44148),y={ip:!1,request:!0,transaction:!0,user:!0},p=["cookies","data","headers","method","query_string","url"],h=["id","username","email"];function I(r,n={}){const a=r.method&&r.method.toUpperCase();let S="",R="url";n.customRoute||r.route?(S=n.customRoute||`${r.baseUrl||""}${r.route&&r.route.path}`,R="route"):(r.originalUrl||r.url)&&(S=E.stripUrlQueryAndFragment(r.originalUrl||r.url||""));let A="";return n.method&&a&&(A+=a),n.method&&n.path&&(A+=" "),n.path&&S&&(A+=S),[A,R]}function b(r,n){switch(n){case"path":return I(r,{path:!0})[0];case"handler":return r.route&&r.route.stack&&r.route.stack[0]&&r.route.stack[0].name||"<anonymous>";case"methodPath":default:{const a=r._reconstructedRoute?r._reconstructedRoute:void 0;return I(r,{path:!0,method:!0,customRoute:a})[0]}}}function f(r,n){const a={};return(Array.isArray(n)?n:h).forEach(R=>{r&&R in r&&(a[R]=r[R])}),a}function d(r,n){const{include:a=p}=n||{},S={},R=r.headers||{},A=r.method,M=R.host||r.hostname||r.host||"<no host>",P=r.protocol==="https"||r.socket&&r.socket.encrypted?"https":"http",x=r.originalUrl||r.url||"",$=x.startsWith(P)?x:`${P}://${M}${x}`;return a.forEach(X=>{switch(X){case"headers":{S.headers=R,a.includes("cookies")||delete S.headers.cookie;break}case"method":{S.method=A;break}case"url":{S.url=$;break}case"cookies":{S.cookies=r.cookies||R.cookie&&i.parseCookie(R.cookie)||{};break}case"query_string":{S.query_string=l(r);break}case"data":{if(A==="GET"||A==="HEAD")break;r.body!==void 0&&(S.data=g.isString(r.body)?r.body:JSON.stringify(T.normalize(r.body)));break}default:({}).hasOwnProperty.call(r,X)&&(S[X]=r[X])}}),S}function m(r,n,a){const S=B(B({},y),a&&a.include);if(S.request){const R=Array.isArray(S.request)?d(n,{include:S.request}):d(n);r.request=B(B({},r.request),R)}if(S.user){const R=n.user&&g.isPlainObject(n.user)?f(n.user,S.user):{};Object.keys(R).length&&(r.user=B(B({},r.user),R))}if(S.ip){const R=n.ip||n.socket&&n.socket.remoteAddress;R&&(r.user=Ie(B({},r.user),{ip_address:R}))}return S.transaction&&!r.transaction&&r.type==="transaction"&&(r.transaction=b(n,S.transaction)),r}function l(r){let n=r.originalUrl||r.url||"";if(n){n.startsWith("/")&&(n=`http://dogs.are.great${n}`);try{const a=r.query||new URL(n).search.slice(1);return a.length?a:void 0}catch(a){return}}}function C(r){const n={};try{r.forEach((a,S)=>{typeof a=="string"&&(n[S]=a)})}catch(a){u.DEBUG_BUILD&&v.logger.warn("Sentry failed extracting headers from a request object. If you see this, please file an issue.")}return n}function _(r){const n=C(r.headers);return{method:r.method,url:r.url,headers:n}}e.DEFAULT_USER_INCLUDES=h,e.addRequestDataToEvent=m,e.extractPathForTransaction=I,e.extractRequestData=d,e.winterCGHeadersToDict=C,e.winterCGRequestToRequestData=_},30050:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=["fatal","error","warning","log","info","debug"];function i(u){return u==="warn"?"warning":o.includes(u)?u:"log"}e.severityLevelFromString=i,e.validSeverityLevels=o},12432:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o=50,i="?",u=/\(error: (.*)\)/,g=/captureMessage|captureException/;function v(...I){const b=I.sort((f,d)=>f[0]-d[0]).map(f=>f[1]);return(f,d=0,m=0)=>{const l=[],C=f.split(`
`);for(let _=d;_<C.length;_++){const r=C[_];if(r.length>1024)continue;const n=u.test(r)?r.replace(u,"$1"):r;if(!n.match(/\S*Error: /)){for(const a of b){const S=a(n);if(S){l.push(S);break}}if(l.length>=o+m)break}}return E(l.slice(m))}}function T(I){return Array.isArray(I)?v(...I):I}function E(I){if(!I.length)return[];const b=Array.from(I);return/sentryWrapped/.test(b[b.length-1].function||"")&&b.pop(),b.reverse(),g.test(b[b.length-1].function||"")&&(b.pop(),g.test(b[b.length-1].function||"")&&b.pop()),b.slice(0,o).map(f=>Ie(B({},f),{filename:f.filename||b[b.length-1].filename,function:f.function||i}))}const y="<anonymous>";function p(I){try{return!I||typeof I!="function"?y:I.name||y}catch(b){return y}}function h(I){const b=I.exception;if(b){const f=[];try{return b.values.forEach(d=>{d.stacktrace.frames&&f.push(...d.stacktrace.frames)}),f}catch(d){return}}}e.UNKNOWN_FUNCTION=i,e.createStackParser=v,e.getFramesFromEvent=h,e.getFunctionName=p,e.stackParserFromStackParserOptions=T,e.stripSentryFramesAndReverse=E},78084:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(91637);function u(y,p=0){return typeof y!="string"||p===0||y.length<=p?y:`${y.slice(0,p)}...`}function g(y,p){let h=y;const I=h.length;if(I<=150)return h;p>I&&(p=I);let b=Math.max(p-60,0);b<5&&(b=0);let f=Math.min(b+140,I);return f>I-5&&(f=I),f===I&&(b=Math.max(f-140,0)),h=h.slice(b,f),b>0&&(h=`'{snip} ${h}`),f<I&&(h+=" {snip}"),h}function v(y,p){if(!Array.isArray(y))return"";const h=[];for(let I=0;I<y.length;I++){const b=y[I];try{i.isVueViewModel(b)?h.push("[VueViewModel]"):h.push(String(b))}catch(f){h.push("[value cannot be serialized]")}}return h.join(p)}function T(y,p,h=!1){return i.isString(y)?i.isRegExp(p)?p.test(y):i.isString(p)?h?y===p:y.includes(p):!1:!1}function E(y,p=[],h=!1){return p.some(I=>T(y,I,h))}e.isMatchingPattern=T,e.safeJoin=v,e.snipLine=g,e.stringMatchesSomePattern=E,e.truncate=u},44933:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(12075),u=o(3149),v=o(43174).GLOBAL_OBJ;function T(){try{return new ErrorEvent(""),!0}catch(d){return!1}}function E(){try{return new DOMError(""),!0}catch(d){return!1}}function y(){try{return new DOMException(""),!0}catch(d){return!1}}function p(){if(!("fetch"in v))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(d){return!1}}function h(d){return d&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(d.toString())}function I(){if(typeof EdgeRuntime=="string")return!0;if(!p())return!1;if(h(v.fetch))return!0;let d=!1;const m=v.document;if(m&&typeof m.createElement=="function")try{const l=m.createElement("iframe");l.hidden=!0,m.head.appendChild(l),l.contentWindow&&l.contentWindow.fetch&&(d=h(l.contentWindow.fetch)),m.head.removeChild(l)}catch(l){i.DEBUG_BUILD&&u.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",l)}return d}function b(){return"ReportingObserver"in v}function f(){if(!p())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(d){return!1}}e.isNativeFunction=h,e.supportsDOMError=E,e.supportsDOMException=y,e.supportsErrorEvent=T,e.supportsFetch=p,e.supportsNativeFetch=I,e.supportsReferrerPolicy=f,e.supportsReportingObserver=b},90709:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(91637);var u;(function(E){E[E.PENDING=0]="PENDING";const p=1;E[E.RESOLVED=p]="RESOLVED";const h=2;E[E.REJECTED=h]="REJECTED"})(u||(u={}));function g(E){return new T(y=>{y(E)})}function v(E){return new T((y,p)=>{p(E)})}class T{constructor(y){T.prototype.__init.call(this),T.prototype.__init2.call(this),T.prototype.__init3.call(this),T.prototype.__init4.call(this),this._state=u.PENDING,this._handlers=[];try{y(this._resolve,this._reject)}catch(p){this._reject(p)}}then(y,p){return new T((h,I)=>{this._handlers.push([!1,b=>{if(!y)h(b);else try{h(y(b))}catch(f){I(f)}},b=>{if(!p)I(b);else try{h(p(b))}catch(f){I(f)}}]),this._executeHandlers()})}catch(y){return this.then(p=>p,y)}finally(y){return new T((p,h)=>{let I,b;return this.then(f=>{b=!1,I=f,y&&y()},f=>{b=!0,I=f,y&&y()}).then(()=>{if(b){h(I);return}p(I)})})}__init(){this._resolve=y=>{this._setResult(u.RESOLVED,y)}}__init2(){this._reject=y=>{this._setResult(u.REJECTED,y)}}__init3(){this._setResult=(y,p)=>{if(this._state===u.PENDING){if(i.isThenable(p)){p.then(this._resolve,this._reject);return}this._state=y,this._value=p,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===u.PENDING)return;const y=this._handlers.slice();this._handlers=[],y.forEach(p=>{p[0]||(this._state===u.RESOLVED&&p[1](this._value),this._state===u.REJECTED&&p[2](this._value),p[0]=!0)})}}}e.SyncPromise=T,e.rejectedSyncPromise=v,e.resolvedSyncPromise=g},57260:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(43174),u=1e3;function g(){return Date.now()/u}function v(){const{performance:y}=i.GLOBAL_OBJ;if(!y||!y.now)return g;const p=Date.now()-y.now(),h=y.timeOrigin==null?p:y.timeOrigin;return()=>(h+y.now())/u}const T=v();e._browserPerformanceTimeOriginMode=void 0;const E=(()=>{const{performance:y}=i.GLOBAL_OBJ;if(!y||!y.now){e._browserPerformanceTimeOriginMode="none";return}const p=3600*1e3,h=y.now(),I=Date.now(),b=y.timeOrigin?Math.abs(y.timeOrigin+h-I):p,f=b<p,d=y.timing&&y.timing.navigationStart,l=typeof d=="number"?Math.abs(d+h-I):p,C=l<p;return f||C?b<=l?(e._browserPerformanceTimeOriginMode="timeOrigin",y.timeOrigin):(e._browserPerformanceTimeOriginMode="navigationStart",d):(e._browserPerformanceTimeOriginMode="dateNow",I)})();e.browserPerformanceTimeOrigin=E,e.dateTimestampInSeconds=g,e.timestampInSeconds=T},78779:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(76691),u=o(32529),g=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function v(y){if(!y)return;const p=y.match(g);if(!p)return;let h;return p[3]==="1"?h=!0:p[3]==="0"&&(h=!1),{traceId:p[1],parentSampled:h,parentSpanId:p[2]}}function T(y,p){const h=v(y),I=i.baggageHeaderToDynamicSamplingContext(p),{traceId:b,parentSpanId:f,parentSampled:d}=h||{};return h?{traceId:b||u.uuid4(),parentSpanId:f||u.uuid4().substring(16),spanId:u.uuid4().substring(16),sampled:d,dsc:I||{}}:{traceId:b||u.uuid4(),spanId:u.uuid4().substring(16)}}function E(y=u.uuid4(),p=u.uuid4().substring(16),h){let I="";return h!==void 0&&(I=h?"-1":"-0"),`${y}-${p}${I}`}e.TRACEPARENT_REGEXP=g,e.extractTraceparentData=v,e.generateSentryTraceHeader=E,e.propagationContextFromHeaders=T},44148:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(v){if(!v)return{};const T=v.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!T)return{};const E=T[6]||"",y=T[8]||"";return{host:T[4],path:T[5],protocol:T[2],search:E,hash:y,relative:T[5]+E+y}}function i(v){return v.split(/[\?#]/,1)[0]}function u(v){return v.split(/\\?\//).filter(T=>T.length>0&&T!==",").length}function g(v){const{protocol:T,host:E,path:y}=v,p=E&&E.replace(/^.*@/,"[filtered]:[filtered]@").replace(/(:80)$/,"").replace(/(:443)$/,"")||"";return`${T?`${T}://`:""}${p}${y}`}e.getNumberOfUrlSegments=u,e.getSanitizedUrlString=g,e.parseUrl=o,e.stripUrlQueryAndFragment=i},66226:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});function o(i){return i.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}e.escapeStringForRegex=o},3420:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const u=o(43174).GLOBAL_OBJ;function g(){const v=u.chrome,T=v&&v.app&&v.app.runtime,E="history"in u&&!!u.history.pushState&&!!u.history.replaceState;return!T&&E}e.supportsHistory=g},86477:(H,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const o="8.8.0";e.SDK_VERSION=o},43174:(H,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0});const i=o(86477),u=globalThis;function g(v,T,E){const y=E||u,p=y.__SENTRY__=y.__SENTRY__||{},h=p[i.SDK_VERSION]=p[i.SDK_VERSION]||{};return h[v]||(h[v]=T())}e.GLOBAL_OBJ=u,e.getGlobalSingleton=g},34998:(H,e,o)=>{"use strict";var i=Object.defineProperty,u=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,T=(m,l)=>{for(var C in l)i(m,C,{get:l[C],enumerable:!0})},E=(m,l,C,_)=>{if(l&&typeof l=="object"||typeof l=="function")for(let r of g(l))!v.call(m,r)&&r!==C&&i(m,r,{get:()=>l[r],enumerable:!(_=u(l,r))||_.enumerable});return m},y=m=>E(i({},"__esModule",{value:!0}),m),p={};T(p,{AdminConnection:()=>d}),H.exports=y(p);var h=o(46089),I=o(52342);function b(m,l){if(!l)return;let C;if(l.length<700&&(l.indexOf("/")!==-1||l.indexOf("\\")!==-1))if(m.toLowerCase().includes("private"))C="private";else if(l.toLowerCase().includes("private"))C="private";else if(m.toLowerCase().includes("public"))C="public";else if(l.toLowerCase().includes("public"))C="public";else if(m.toLowerCase().includes("chain"))C="chained";else if(l.toLowerCase().includes("chain"))C="chained";else return;else C=l.substring(0,26)==="-----BEGIN RSA PRIVATE KEY"||l.substring(0,22)==="-----BEGIN PRIVATE KEY"?"private":"public",C==="public"&&l.split("-----END CERTIFICATE-----").filter(r=>r.replace(/\r\n|\r|\n/,"").trim()).length>1&&(C="chained");return{name:m,type:C}}function f(m){var l,C;const _=[{name:"[IPv4] 0.0.0.0 - Listen on all IPs",address:"0.0.0.0",family:"ipv4"}],r=[{name:"[IPv6] :: - Listen on all IPs",address:"::",family:"ipv6"}];if(!((C=(l=m.native)===null||l===void 0?void 0:l.hardware)===null||C===void 0)&&C.networkInterfaces){for(const[n,a]of Object.entries(m.native.hardware.networkInterfaces))if(a)for(const S of a)S.family!=="IPv6"?_.push({name:`[${S.family}] ${S.address} - ${n}`,address:S.address,family:"ipv4"}):r.push({name:`[${S.family}] ${S.address} - ${n}`,address:S.address,family:"ipv6"})}return{IPs4:_,IPs6:r}}class d extends h.Connection{constructor(l){super(l)}request(l){return super.request(B({requireAdmin:!0},l))}getCertificates(l){return this.request({cacheKey:"cert",forceUpdate:l,commandTimeout:!1,executor:C=>Oe(this,null,function*(){var _;const r=yield this.getObject("system.certificates");!((_=r==null?void 0:r.native)===null||_===void 0)&&_.certificates?C(Object.entries(r.native.certificates).map(([n,a])=>b(n,a)).filter(n=>!!n)):C([])})})}getLogs(l,C=200){return this.request({commandTimeout:!1,executor:_=>{this._socket.emit("sendToHost",l,"getLogs",C||200,r=>{_(r)})}})}upgradeAdapterWithWebserver(l,C){return this.request({commandTimeout:!1,executor:_=>{this._socket.emit("sendToHost",l,"upgradeAdapterWithWebserver",C,r=>{_(r)})}})}upgradeController(l,C,_){return this.request({commandTimeout:!1,executor:(r,n)=>{this._socket.emit("sendToHost",l,"upgradeController",{version:C,adminInstance:_},a=>{const S=a;S.error?n(S.error):r(S.result)})}})}updateLicenses(l,C){return this.request({commandTimeout:!1,executor:(_,r)=>{this._socket.emit("updateLicenses",l,C,(n,a)=>{n?r(n):_(a)})}})}upgradeOsPackages(l,C,_){return this.request({commandTimeout:!1,executor:r=>{this._socket.emit("sendToHost",l,"upgradeOsPackages",{packages:C,restart:!!_},n=>{r(n)})}})}getLogsFiles(l){return this.request({commandTimeout:!1,executor:(C,_)=>{this._socket.emit("readLogs",l,(r,n)=>{r&&_(r),C(n)})}})}delLogs(l){return this.request({commandTimeout:!1,executor:(C,_)=>{this._socket.emit("sendToHost",l,"delLogs",null,r=>{r&&_(r),C()})}})}deleteFile(l,C){return this.request({commandTimeout:!1,executor:(_,r)=>{this._socket.emit("deleteFile",l,C,n=>{n&&r(n),_()})}})}deleteFolder(l,C){return this.request({commandTimeout:!1,executor:(_,r)=>{this._socket.emit("deleteFolder",l,C,n=>{n&&r(n),_()})}})}rename(l,C,_){return this.request({commandTimeout:!1,executor:(r,n)=>{this._socket.emit("rename",l,C,_,a=>{a&&n(a),r()})}})}renameFile(l,C,_){return this.request({commandTimeout:!1,executor:(r,n)=>{this._socket.emit("renameFile",l,C,_,a=>{a&&n(a),r()})}})}getHosts(l){return this.request({cacheKey:"hosts",forceUpdate:l,commandTimeout:!1,executor:(C,_)=>{this._socket.emit("getObjectView","system","host",{startkey:"system.host.",endkey:"system.host.\u9999"},(r,n)=>{r?_(r):C((0,I.getObjectViewResultToArray)(n))})}})}getUsers(l){return this.request({cacheKey:"users",forceUpdate:l,commandTimeout:!1,executor:(C,_)=>{this._socket.emit("getObjectView","system","user",{startkey:"system.user.",endkey:"system.user.\u9999"},(r,n)=>{r?_(r):C((0,I.getObjectViewResultToArray)(n))})}})}renameGroup(l,C,_){return this.request({commandTimeout:!1,executor:r=>Oe(this,null,function*(){var n;const a=yield this.getGroups(!0),S=a.filter(A=>A._id.startsWith(`${l}.`));for(const A of S){const M=A._id,P=C+A._id.substring(l.length);A._id=P,yield this.setObject(P,A),yield this.delObject(M)}const R=a.find(A=>A._id===l);if(R){const A=R._id;R._id=C,_!==void 0&&((n=R.common)!==null&&n!==void 0||(R.common={}),R.common.name=_),yield this.setObject(C,R),yield this.delObject(A)}r()})})}getHostInfo(l,C,_){return l=(0,I.normalizeHostId)(l),this.request({cacheKey:`hostInfo_${l}`,forceUpdate:C,commandTimeout:_,executor:(r,n,a)=>{this._socket.emit("sendToHost",l,"getHostInfo",null,S=>{a.elapsed||(a.clearTimeout(),S===h.ERRORS.PERMISSION_ERROR?n('May not read "getHostInfo"'):S?r(S):n('Cannot read "getHostInfo"'))})}})}getHostInfoShort(l,C,_){return l=(0,I.normalizeHostId)(l),this.request({cacheKey:`hostInfoShort_${l}`,forceUpdate:C,commandTimeout:_,executor:(r,n,a)=>{this._socket.emit("sendToHost",l,"getHostInfoShort",null,S=>{a.elapsed||(a.clearTimeout(),S===h.ERRORS.PERMISSION_ERROR?n('May not read "getHostInfoShort"'):S?r(S):n('Cannot read "getHostInfoShort"'))})}})}getRepository(l,C,_,r){return this.request({cacheKey:`repository_${l}`,forceUpdate:_,commandTimeout:r,executor:(n,a,S)=>{this._socket.emit("sendToHost",l,"getRepository",C,R=>{S.elapsed||(S.clearTimeout(),R===h.ERRORS.PERMISSION_ERROR?a('May not read "getRepository"'):R?n(R):a('Cannot read "getRepository"'))})}})}getInstalled(l,C,_){return l=(0,I.normalizeHostId)(l),this.request({cacheKey:`installed_${l}`,forceUpdate:C,commandTimeout:_,executor:(r,n,a)=>{this._socket.emit("sendToHost",l,"getInstalled",null,S=>{a.elapsed||(a.clearTimeout(),S===h.ERRORS.PERMISSION_ERROR?n('May not read "getInstalled"'):S?r(S):n('Cannot read "getInstalled"'))})}})}cmdExec(l,C,_,r){return this.request({commandTimeout:r,executor:(n,a,S)=>{l=(0,I.normalizeHostId)(l),this._socket.emit("cmdExec",l,_,C,R=>{S.elapsed||(S.clearTimeout(),R&&a(R),n())})}})}readBaseSettings(l){return l=(0,I.objectIdToHostname)(l),this.request({requireFeatures:["CONTROLLER_READWRITE_BASE_SETTINGS"],executor:(C,_,r)=>{this._socket.emit("sendToHost",l,"readBaseSettings",null,n=>{r.elapsed||(r.clearTimeout(),n===h.ERRORS.PERMISSION_ERROR?_('May not read "BaseSettings"'):n?C(n):_('Cannot read "BaseSettings"'))})}})}writeBaseSettings(l,C){return l=(0,I.objectIdToHostname)(l),this.request({requireFeatures:["CONTROLLER_READWRITE_BASE_SETTINGS"],executor:(_,r,n)=>{this._socket.emit("sendToHost",l,"writeBaseSettings",C,a=>{n.elapsed||(n.clearTimeout(),a===h.ERRORS.PERMISSION_ERROR?r('May not write "BaseSettings"'):a?_(a):r('Cannot write "BaseSettings"'))})}})}restartController(l){return l=(0,I.objectIdToHostname)(l),this.request({executor:(C,_,r)=>{this._socket.emit("sendToHost",l,"restartController",null,n=>{r.elapsed||(r.clearTimeout(),n&&_(n),C(!0))})}})}getDiagData(l,C){return l=(0,I.objectIdToHostname)(l),this.request({executor:(_,r,n)=>{this._socket.emit("sendToHost",l,"getDiagData",C,a=>{n.elapsed||(n.clearTimeout(),_(a))})}})}changePassword(l,C){return this.request({executor:(_,r,n)=>{this._socket.emit("changePassword",l,C,a=>{n.elapsed||(n.clearTimeout(),a&&r(a),_())})}})}getIpAddresses(l,C){return l=(0,I.normalizeHostId)(l),this.request({cacheKey:`IPs_${l}`,forceUpdate:C,commandTimeout:!1,executor:_=>Oe(this,null,function*(){var r;const n=yield this.getObject(l);_((r=n==null?void 0:n.common.address)!==null&&r!==void 0?r:[])})})}getHostByIp(l,C){return l=(0,I.objectIdToHostname)(l),this.request({cacheKey:`rIPs_${l}`,forceUpdate:C,executor:(_,r,n)=>{this._socket.emit("getHostByIp",l,(a,S)=>{if(n.elapsed)return;n.clearTimeout();const{IPs4:R,IPs6:A}=f(S);_([...R,...A])})}})}encrypt(l){return this.request({executor:(C,_,r)=>{this._socket.emit("encrypt",l,(n,a)=>{r.elapsed||(r.clearTimeout(),n&&_(n),C(a))})}})}decrypt(l){return this.request({executor:(C,_,r)=>{this._socket.emit("decrypt",l,(n,a)=>{r.elapsed||(r.clearTimeout(),n&&_(n),C(a))})}})}chmodFile(l,C,_){return this.request({executor:(r,n,a)=>{this._socket.emit("chmodFile",l,C,_,(S,R)=>{a.elapsed||(a.clearTimeout(),S&&n(S),r(R))})}})}chownFile(l,C,_){return this.request({executor:(r,n,a)=>{this._socket.emit("chownFile",l,C,_,(S,R)=>{a.elapsed||(a.clearTimeout(),S&&n(S),r(R))})}})}getNotifications(l,C){return this.request({executor:(_,r,n)=>{this._socket.emit("sendToHost",l,"getNotifications",{category:C},a=>{n.elapsed||(n.clearTimeout(),_(a))})}})}clearNotifications(l,C){return this.request({executor:(_,r,n)=>{this._socket.emit("sendToHost",l,"clearNotifications",{category:C},a=>{n.elapsed||(n.clearTimeout(),_(a))})}})}getIsEasyModeStrict(){return this.request({executor:(l,C,_)=>{this._socket.emit("getIsEasyModeStrict",(r,n)=>{_.elapsed||(_.clearTimeout(),r&&C(r),l(!!n))})}})}getEasyMode(){return this.request({executor:(l,C,_)=>{this._socket.emit("getEasyMode",(r,n)=>{_.elapsed||(_.clearTimeout(),r&&C(r),l(n))})}})}getRatings(l){return this.request({executor:(C,_,r)=>{this._socket.emit("getRatings",!!l,(n,a)=>{r.elapsed||(r.clearTimeout(),n&&_(n),C(a))})}})}getCurrentSession(l){const C=new AbortController;return this.request({commandTimeout:l||5e3,onTimeout:()=>{C.abort()},executor:(_,r,n)=>Oe(this,null,function*(){try{const a=yield fetch("./session",{signal:C.signal});if(n.elapsed)return;n.clearTimeout(),_(a.json())}catch(a){r(`getCurrentSession: ${a}`)}})})}getCurrentInstance(){return this.request({cacheKey:"currentInstance",executor:(l,C,_)=>{this._socket.emit("getCurrentInstance",(r,n)=>{_.elapsed||(_.clearTimeout(),r&&C(r),l(n))})}})}getAdapterInstances(l,C){let _;return typeof l=="boolean"?(C=l,_=""):_=l||"",this.request({cacheKey:`instances_${_}`,forceUpdate:C,executor:(r,n,a)=>{this._socket.emit("getAdapterInstances",_,(S,R)=>{a.elapsed||(a.clearTimeout(),S&&n(S),r(R))})}})}getAdapters(l,C){let _;return typeof l=="boolean"?(C=l,_=""):_=l||"",this.request({cacheKey:`adapter_${_}`,forceUpdate:C,executor:(r,n,a)=>{this._socket.emit("getAdapters",_,(S,R)=>{a.elapsed||(a.clearTimeout(),S&&n(S),r(R))})}})}getCompactAdapters(l){return this.request({cacheKey:"compactAdapters",forceUpdate:l,executor:(C,_,r)=>{this._socket.emit("getCompactAdapters",(n,a)=>{r.elapsed||(r.clearTimeout(),n&&_(n),C(a))})}})}getAdaptersResetCache(l){l=l!=null?l:"",this.resetCache(`adapter_${l}`),this.resetCache("compactAdapters")}getCompactInstances(l){return this.request({cacheKey:"compactInstances",forceUpdate:l,executor:(C,_,r)=>{this._socket.emit("getCompactInstances",(n,a)=>{r.elapsed||(r.clearTimeout(),n&&_(n),C(a))})}})}getAdapterInstancesResetCache(l){l=l!=null?l:"",this.resetCache(`instances_${l}`),this.resetCache("compactInstances")}getCompactInstalled(l,C,_){return l=(0,I.normalizeHostId)(l),this.request({cacheKey:`installedCompact_${l}`,forceUpdate:C,commandTimeout:_,executor:(r,n,a)=>{this._socket.emit("getCompactInstalled",l,S=>{a.elapsed||(a.clearTimeout(),S===h.ERRORS.PERMISSION_ERROR?n('May not read "getCompactInstalled"'):S?r(S):n('Cannot read "getCompactInstalled"'))})}})}getInstalledResetCache(l){l?(this.resetCache(`installedCompact_${l}`),this.resetCache(`installed_${l}`)):(this.resetCache("installedCompact_",!0),this.resetCache("installed_",!0))}getCompactRepository(l,C,_){return l=(0,I.normalizeHostId)(l),this.request({cacheKey:`repositoryCompact_${l}`,forceUpdate:C,commandTimeout:_,executor:(r,n,a)=>{this._socket.emit("getCompactRepository",l,S=>{a.elapsed||(a.clearTimeout(),S===h.ERRORS.PERMISSION_ERROR?n('May not read "getCompactRepository"'):S?r(S):n('Cannot read "getCompactRepository"'))})}})}getRepositoryResetCache(l){l?(this.resetCache(`repositoryCompact_${l}`),this.resetCache(`repository_${l}`)):(this.resetCache("repositoryCompact_",!0),this.resetCache("repository_",!0))}getCompactHosts(l){return this.request({cacheKey:"hostsCompact",forceUpdate:l,executor:(C,_,r)=>{this._socket.emit("getCompactHosts",(n,a)=>{r.elapsed||(r.clearTimeout(),n&&_(n),C(a))})}})}getCompactSystemRepositories(l){return this.request({cacheKey:"repositoriesCompact",forceUpdate:l,executor:(C,_,r)=>{this._socket.emit("getCompactSystemRepositories",(n,a)=>{r.elapsed||(r.clearTimeout(),n&&_(n),C(a))})}})}}},46089:(H,e,o)=>{"use strict";var i=Object.defineProperty,u=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,T=(_,r)=>{for(var n in r)i(_,n,{get:r[n],enumerable:!0})},E=(_,r,n,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let S of g(r))!v.call(_,S)&&S!==n&&i(_,S,{get:()=>r[S],enumerable:!(a=u(r,S))||a.enumerable});return _},y=_=>E(i({},"__esModule",{value:!0}),_),p={};T(p,{Connection:()=>C,ERRORS:()=>f,NOT_CONNECTED:()=>m,PERMISSION_ERROR:()=>d,PROGRESS:()=>b}),H.exports=y(p);var h=o(40057),I=o(52342),b;(function(_){_[_.CONNECTING=0]="CONNECTING",_[_.CONNECTED=1]="CONNECTED",_[_.OBJECTS_LOADED=2]="OBJECTS_LOADED",_[_.READY=3]="READY"})(b||(b={}));var f;(function(_){_.PERMISSION_ERROR="permissionError",_.NOT_CONNECTED="notConnectedError",_.TIMEOUT="timeout",_.NOT_ADMIN="Allowed only in admin",_.NOT_SUPPORTED="Not supported"})(f||(f={}));const d=f.PERMISSION_ERROR,m=f.NOT_CONNECTED,l=["material","echarts","vis"];class C{constructor(r){this.ignoreState="",this.connected=!1,this.subscribed=!1,this.firstConnect=!0,this.waitForRestart=!1,this.loaded=!1,this.simStates={},this.statesSubscribes={},this.filesSubscribes={},this.objectsSubscribes={},this.objects={},this.states={},this.acl=null,this.isSecure=!1,this.onReadyDone=!1,this.onConnectionHandlers=[],this.onLogHandlers=[],this._waitForFirstConnectionPromise=(0,h.createDeferredPromise)(),this._instanceSubscriptions={},this._promises={},this.systemLang="en",this.props=this.applyDefaultProps(r),this.waitForSocketLib().then(()=>this.startSocket()).catch(n=>{alert(`Socket connection could not be initialized: ${n}`)})}applyDefaultProps(r){var n,a,S,R;return Ie(B({},r),{protocol:r.protocol||window.location.protocol,host:r.host||window.location.hostname,port:r.port||(window.location.port==="3000"?8081:window.location.port),ioTimeout:Math.max(r.ioTimeout||2e4,2e4),cmdTimeout:Math.max(r.cmdTimeout||5e3,5e3),admin5only:r.admin5only||!1,autoSubscribes:(n=r.autoSubscribes)!==null&&n!==void 0?n:[],autoSubscribeLog:(a=r.autoSubscribeLog)!==null&&a!==void 0?a:!1,doNotLoadACL:(S=r.doNotLoadACL)!==null&&S!==void 0?S:!0,doNotLoadAllObjects:(R=r.doNotLoadAllObjects)!==null&&R!==void 0?R:!0})}onError(r){var n;((n=this.props.onError)!==null&&n!==void 0?n:console.error)(r)}get systemConfig(){return this._systemConfig}static isWeb(){return window.socketUrl!==void 0}waitForSocketLib(){return this._waitForSocketPromise?this._waitForSocketPromise:(this._waitForSocketPromise=new Promise((r,n)=>Oe(this,null,function*(){if(typeof window.io=="undefined")if(typeof window.registerSocketOnLoad=="function")window.registerSocketOnLoad(()=>r());else{for(let a=1;a<=30;a++){if(window.io)return r();yield(0,I.wait)(100)}n(new Error("Socket library could not be loaded!"))}else r()})),this._waitForSocketPromise)}startSocket(){return Oe(this,null,function*(){if(this._socket)return;let r=this.props.host,n=this.props.port,a=(this.props.protocol||window.location.protocol).replace(":",""),S=window.location.pathname;if(window.location.hostname==="iobroker.net"||window.location.hostname==="iobroker.pro")S="";else{if(window.socketUrl){const M=new URL(window.socketUrl);r=M.hostname,n=M.port,a=M.protocol.replace(":","")}const A=S.lastIndexOf("/");if(A!==-1&&(S=S.substring(0,A+1)),C.isWeb()){const M=S.split("/");M.length>2&&(M.pop(),M.pop(),l.includes(M[M.length-1])&&M.pop(),S=M.join("/"),S.endsWith("/")||(S+="/"))}}const R=n?`${a}://${r}:${n}`:`${a}://${r}`;this._socket=window.io.connect(R,{path:S.endsWith("/")?`${S}socket.io`:`${S}/socket.io`,query:"ws=true",name:this.props.name,timeout:this.props.ioTimeout,uuid:this.props.uuid,token:this.props.token}),this._socket.on("connect",A=>{this.onReadyDone=!1,A!==!0?(this.connected=!0,setTimeout(()=>this.getVersion().then(M=>{const[P,x,$]=M.version.split(".");parseInt(P,10)*1e4+parseInt(x,10)*100+parseInt($,10)<40102?(this._authTimer=null,this.onPreConnect(!1,!1)):this._socket.emit("authenticate",(W,K)=>this.onPreConnect(W,K))}).catch(M=>this.onError({message:M.toString(),operation:"getVersion"})),500)):this._socket.emit("authenticate",(M,P)=>{this.onPreConnect(M,P)})}),this._socket.on("reconnect",()=>{var A,M;this.onReadyDone=!1,(M=(A=this.props).onProgress)===null||M===void 0||M.call(A,b.READY),this.connected=!0,this.waitForRestart?window.location.reload():(this._subscribe(!0),this.onConnectionHandlers.forEach(P=>P(!0)))}),this._socket.on("disconnect",()=>{var A,M;this.onReadyDone=!1,this.connected=!1,this.subscribed=!1,(M=(A=this.props).onProgress)===null||M===void 0||M.call(A,b.CONNECTING),this.onConnectionHandlers.forEach(P=>P(!1))}),this._socket.on("reauthenticate",()=>this.authenticate()),this._socket.on("log",A=>{var M,P;(P=(M=this.props).onLog)===null||P===void 0||P.call(M,A),this.onLogHandlers.forEach(x=>x(A))}),this._socket.on("error",A=>{let M;A==null?M="":typeof A.toString=="function"?M=A.toString():(M=JSON.stringify(A),console.error(`Received strange error: ${M}`)),M.includes("User not authorized")?this.authenticate():M.includes("websocket error")?(console.error(`Socket Error => reload: ${A}`),window.location.reload()):console.error(`Socket Error: ${A}`)}),this._socket.on("connect_error",A=>console.error(`Connect error: ${A}`)),this._socket.on("permissionError",A=>this.onError({message:"no permission",operation:A.operation,type:A.type,id:A.id||""})),this._socket.on("objectChange",(A,M)=>{setTimeout(()=>this.objectChange(A,M),0)}),this._socket.on("stateChange",(A,M)=>{setTimeout(()=>this.stateChange(A,M),0)}),this._socket.on("im",(A,M,P)=>{setTimeout(()=>this.instanceMessage(A,M,P),0)}),this._socket.on("fileChange",(A,M,P)=>{setTimeout(()=>this.fileChange(A,M,P),0)}),this._socket.on("cmdStdout",(A,M)=>{var P;(P=this.onCmdStdoutHandler)===null||P===void 0||P.call(this,A,M)}),this._socket.on("cmdStderr",(A,M)=>{var P;(P=this.onCmdStderrHandler)===null||P===void 0||P.call(this,A,M)}),this._socket.on("cmdExit",(A,M)=>{var P;(P=this.onCmdExitHandler)===null||P===void 0||P.call(this,A,M)})})}onPreConnect(r,n){var a,S;this._authTimer&&(clearTimeout(this._authTimer),this._authTimer=null),this.connected=!0,this.isSecure=n,this.waitForRestart?window.location.reload():(this.firstConnect?this.loadData():(S=(a=this.props).onProgress)===null||S===void 0||S.call(a,b.READY),this._subscribe(!0),this.onConnectionHandlers.forEach(R=>R(!0))),this._waitForFirstConnectionPromise.resolve()}static isCloud(){return window.location.hostname.includes("amazonaws.com")||window.location.hostname.includes("iobroker.in")?!0:typeof window.socketUrl=="undefined"?!1:window.socketUrl.includes("iobroker.in")||window.socketUrl.includes("amazonaws")}isConnected(){return this.connected}waitForFirstConnection(){return this._waitForFirstConnectionPromise}getUserPermissions(){return Oe(this,null,function*(){return this.request({commandTimeout:!1,executor:(r,n)=>{this._socket.emit("getUserPermissions",(a,S)=>{a?n(a):r(S)})}})})}loadData(){return Oe(this,null,function*(){if(this.loaded)return;const r=10;for(let n=1;n<=r;n++){if(this.doLoadData(),this.loaded)return;yield(0,I.wait)(C.isCloud()?5e3:1e3)}})}doLoadData(){return Oe(this,null,function*(){var r,n,a,S,R,A,M,P,x;if(!this.loaded){if(!this.props.doNotLoadACL)try{this.acl=yield this.getUserPermissions()}catch($){this.onError(`Cannot read user permissions: ${$}`);return}try{this.props.admin5only&&!C.isWeb()&&(!window.vendorPrefix||window.vendorPrefix==="@@vendorPrefix@@")?this._systemConfig=yield this.getCompactSystemConfig():this._systemConfig=yield this.getSystemConfig()}catch($){this.onError(`Cannot read system config: ${$}`);return}this._systemConfig&&(this.systemLang=(r=this._systemConfig.common)===null||r===void 0?void 0:r.language,this.systemLang||(this.systemLang=window.navigator.userLanguage||window.navigator.language,/^(en|de|ru|pt|nl|fr|it|es|pl|uk)-?/.test(this.systemLang)?this.systemLang=this.systemLang.substr(0,2):/^(en|de|ru|pt|nl|fr|it|es|pl|uk|zh-cn)$/.test(this.systemLang)||(this.systemLang="en"),this._systemConfig.common.language=this.systemLang)),(a=(n=this.props).onLanguage)===null||a===void 0||a.call(n,this.systemLang),this.loaded=!0,(R=(S=this.props).onProgress)===null||R===void 0||R.call(S,b.CONNECTED),this.firstConnect=!1,this.props.doNotLoadAllObjects?this.props.admin5only?this.objects={}:this.objects={"system.config":this._systemConfig}:this.objects=yield this.getObjects(),(M=(A=this.props).onProgress)===null||M===void 0||M.call(A,b.READY),this.onReadyDone||(this.onReadyDone=!0,(x=(P=this.props).onReady)===null||x===void 0||x.call(P,this.objects))}})}authenticate(){window.location.search.includes("&href=")?window.location.href=`${window.location.protocol}//${window.location.host}${window.location.pathname}${window.location.search}${window.location.hash}`:window.location.href=`${window.location.protocol}//${window.location.host}${window.location.pathname}?login&href=${window.location.search}${window.location.hash}`}subscribeState(...r){return Oe(this,null,function*(){let n,a,S;r.length===3?[n,a,S]=r:([n,S]=r,a=!1);let R;if(Array.isArray(n)?R=n:R=[n],typeof S!="function")throw new Error("The state change handler must be a function!");const A=[];for(let M=0;M<R.length;M++){const P=R[M];this.statesSubscribes[P]?!this.statesSubscribes[P].cbs.includes(S)&&this.statesSubscribes[P].cbs.push(S):(this.statesSubscribes[P]={reg:new RegExp((0,I.pattern2RegEx)(P)),cbs:[S]},n!==this.ignoreState&&A.push(P))}if(this.connected)if(A.length&&this._socket.emit("subscribe",A),a){let M;for(let P=0;P<R.length;P++){try{M=yield this.getBinaryState(R[P])}catch(x){console.error(`Cannot getBinaryState "${R[P]}": ${JSON.stringify(x)}`)}M!=null&&S(R[P],M)}}else if(R.find(M=>M.includes("*"))){let M;for(let P=0;P<R.length;P++){try{M=yield this.getForeignStates(R[P])}catch(x){console.error(`Cannot getForeignStates "${R[P]}": ${JSON.stringify(x)}`);return}if(M)for(const[x,$]of Object.entries(M))S(x,$)}}else try{const M=yield C.isWeb()?this.getStates(R):this.getForeignStates(R);if(M)for(const[P,x]of Object.entries(M))S(P,x)}catch(M){console.error(`Cannot getState "${R.join(", ")}": ${M.message}`);return}})}subscribeStateAsync(r,n){return Oe(this,null,function*(){return this.subscribeState(r,n)})}unsubscribeState(r,n){var a;let S;Array.isArray(r)?S=r:S=[r];const R=[];for(let A=0;A<S.length;A++){const M=S[A];if(this.statesSubscribes[M]){const P=this.statesSubscribes[M];if(n){const x=P.cbs.indexOf(n);x!==-1&&P.cbs.splice(x,1)}else P.cbs=[];!((a=P.cbs)===null||a===void 0)&&a.length||(delete this.statesSubscribes[M],M!==this.ignoreState&&R.push(M))}}this.connected&&R.length&&this._socket.emit("unsubscribe",S)}subscribeObject(r,n){let a;if(Array.isArray(r)?a=r:a=[r],typeof n!="function")throw new Error("The object change handler must be a function!");const S=[];for(let R=0;R<a.length;R++){const A=a[R];this.objectsSubscribes[A]?!this.objectsSubscribes[A].cbs.includes(n)&&this.objectsSubscribes[A].cbs.push(n):(this.objectsSubscribes[A]={reg:new RegExp((0,I.pattern2RegEx)(A)),cbs:[n]},S.push(A))}return this.connected&&S.length&&this._socket.emit("subscribeObjects",S),Promise.resolve()}unsubscribeObject(r,n){var a;let S;Array.isArray(r)?S=r:S=[r];const R=[];for(let A=0;A<S.length;A++){const M=S[A];if(this.objectsSubscribes[M]){const P=this.objectsSubscribes[M];if(n){const x=P.cbs.indexOf(n);x!==-1&&P.cbs.splice(x,1)}else P.cbs=[];!((a=P.cbs)===null||a===void 0)&&a.length||(delete this.objectsSubscribes[M],R.push(M))}}return this.connected&&R.length&&this._socket.emit("unsubscribeObjects",R),Promise.resolve()}objectChange(r,n){var a,S;let R;this.objects[r]&&(R={_id:r,type:this.objects[r].type});let A=!1;n?(n._rev&&this.objects[r]&&(this.objects[r]._rev=n._rev),(!this.objects[r]||JSON.stringify(this.objects[r])!==JSON.stringify(n))&&(this.objects[r]=n,A=!0)):this.objects[r]&&(delete this.objects[r],A=!0);for(const[M,P]of Object.entries(this.objectsSubscribes))(M===r||P.reg.test(r))&&P.cbs.forEach(x=>{try{x(r,n,R)}catch($){console.error(`Error by callback of objectChange: ${$}`)}});A&&((S=(a=this.props).onObjectChange)===null||S===void 0||S.call(a,r,n))}stateChange(r,n){for(const a of Object.values(this.statesSubscribes))if(a.reg.test(r))for(const S of a.cbs)try{S(r,n!=null?n:null)}catch(R){console.error(`Error by callback of stateChanged: ${R}`)}}instanceMessage(r,n,a){var S;(S=this._instanceSubscriptions[n])===null||S===void 0||S.forEach(R=>{R.messageType===r&&R.callback(a,n,r)})}fileChange(r,n,a){for(const S of Object.values(this.filesSubscribes))if(S.regId.test(r)&&S.regFilePattern.test(n))for(const R of S.cbs)try{R(r,n,a)}catch(A){console.error(`Error by callback of fileChange: ${A}`)}}subscribeFiles(r,n,a){return Oe(this,null,function*(){if(typeof a!="function")throw new Error("The state change handler must be a function!");let S;Array.isArray(n)?S=n:S=[n];const R=[];for(let A=0;A<S.length;A++){const M=S[A],P=`${r}$%$${M}`;this.filesSubscribes[P]?!this.filesSubscribes[P].cbs.includes(a)&&this.filesSubscribes[P].cbs.push(a):(this.filesSubscribes[P]={regId:new RegExp((0,I.pattern2RegEx)(r)),regFilePattern:new RegExp((0,I.pattern2RegEx)(M)),cbs:[a]},R.push(M))}this.connected&&R.length&&this._socket.emit("subscribeFiles",r,R)})}unsubscribeFiles(r,n,a){var S;let R;Array.isArray(n)?R=n:R=[n];const A=[];for(let M=0;M<R.length;M++){const P=R[M],x=`${r}$%$${P}`;if(this.filesSubscribes[x]){const $=this.filesSubscribes[x];if(a){const X=$.cbs.indexOf(a);X!==-1&&$.cbs.splice(X,1)}else $.cbs=[];!((S=$.cbs)===null||S===void 0)&&S.length||(delete this.filesSubscribes[x],A.push(P))}}this.connected&&A.length&&this._socket.emit("unsubscribeFiles",r,A)}request(P){return Oe(this,arguments,function*({cacheKey:r,forceUpdate:n,commandTimeout:a,onTimeout:S,requireAdmin:R,requireFeatures:A,executor:M}){if(R&&C.isWeb())return Promise.reject(f.NOT_ADMIN);if(r&&!n&&r in this._promises)return this._promises[r];if(!this.connected)return Promise.reject(f.NOT_CONNECTED);if(A!=null&&A.length){for(const $ of A)if(!(yield this.checkFeatureSupported($)))throw f.NOT_SUPPORTED}const x=new Promise(($,X)=>Oe(this,null,function*(){const W={elapsed:!1,clearTimeout:()=>{}};let K;a!==!1&&(K=setTimeout(()=>{W.elapsed=!0,S==null||S(),X(f.TIMEOUT)},a!=null?a:this.props.cmdTimeout),W.clearTimeout=()=>{clearTimeout(K)});try{yield M($,X,W)}catch(Y){X(Y)}}));return r&&(this._promises[r]=x),x})}resetCache(r,n){n?Object.keys(this._promises).filter(a=>a.startsWith(r)).forEach(a=>{delete this._promises[a]}):delete this._promises[r]}getStates(r){return this.request({commandTimeout:!1,executor:(n,a)=>{this._socket.emit("getStates",r,(S,R)=>{this.states=R!=null?R:{},S?a(S):n(this.states)})}})}getState(r){return this.request({commandTimeout:!1,executor:(n,a)=>{if(r&&r===this.ignoreState){n(this.simStates[r]||{val:null,ack:!0});return}this._socket.emit("getState",r,(S,R)=>{S?a(S):n(R)})}})}getBinaryState(r){return this.request({commandTimeout:!1,executor:(n,a)=>{this._socket.emit("getBinaryState",r,(S,R)=>{S?a(S):n(R)})}})}setBinaryState(r,n){return this.request({commandTimeout:!1,executor:(a,S)=>{this._socket.emit("setBinaryState",r,n,R=>{R?S(R):a()})}})}setState(r,n,a){return typeof a=="boolean"&&(n={val:n,ack:a}),this.request({commandTimeout:!1,executor:(S,R)=>{if(r&&r===this.ignoreState){let A;if(typeof a=="boolean"||typeof n=="object"&&n.val!==void 0?A=n:A={val:n,ack:!1,ts:Date.now(),lc:Date.now(),from:"system.adapter.vis.0"},this.simStates[r]=A,this.statesSubscribes[r])for(const M of this.statesSubscribes[r].cbs)try{M(r,A)}catch(P){console.error(`Error by callback of stateChanged: ${P}`)}S();return}this._socket.emit("setState",r,n,A=>{A?R(A):S()})}})}getObjects(r,n){return this.request({commandTimeout:!1,executor:(a,S)=>{if(!r&&this.objects){a(this.objects);return}this._socket.emit(C.isWeb()?"getObjects":"getAllObjects",(R,A)=>{var M,P;n||(P=(M=this.props).onProgress)===null||P===void 0||P.call(M,b.OBJECTS_LOADED),R?S(R):(this.objects=A!=null?A:{},a(this.objects))})}})}getObjectsById(r){return this.request({commandTimeout:!1,executor:(n,a)=>{this._socket.emit("getObjects",r,(S,R)=>{S?a(S):n(R)})}})}_subscribe(r){var n,a;if(r&&!this.subscribed){this.subscribed=!0,!((n=this.props.autoSubscribes)===null||n===void 0)&&n.length&&this._socket.emit("subscribeObjects",this.props.autoSubscribes);const S=Object.keys(this.objectsSubscribes);S.length&&this._socket.emit("subscribeObjects",S),Object.keys(this.objectsSubscribes).forEach(R=>this._socket.emit("subscribeObjects",R)),this.props.autoSubscribeLog&&this._socket.emit("requireLog",!0),Object.keys(this.statesSubscribes).forEach(R=>this._socket.emit("subscribe",R)),Object.keys(this.filesSubscribes).forEach(R=>{const[A,M]=R.split("$%$");this._socket.emit("subscribeFiles",A,M)})}else if(!r&&this.subscribed){this.subscribed=!1,!((a=this.props.autoSubscribes)===null||a===void 0)&&a.length&&this._socket.emit("unsubscribeObjects",this.props.autoSubscribes);const S=Object.keys(this.objectsSubscribes);S.length&&this._socket.emit("unsubscribeObjects",S),this.props.autoSubscribeLog&&this._socket.emit("requireLog",!1),Object.keys(this.statesSubscribes).forEach(R=>this._socket.emit("unsubscribe",R)),Object.keys(this.filesSubscribes).forEach(R=>{const[A,M]=R.split("$%$");this._socket.emit("unsubscribeFiles",A,M)})}}requireLog(r){return this.request({commandTimeout:!1,executor:(n,a)=>{this._socket.emit("requireLog",r,S=>{S?a(S):n()})}})}delObject(r,n=!1){return this.request({commandTimeout:!1,executor:(a,S)=>{this._socket.emit("delObject",r,{maintenance:n},R=>{R?S(R):a()})}})}delObjects(r,n){return this.request({commandTimeout:!1,executor:(a,S)=>{this._socket.emit("delObjects",r,{maintenance:n},R=>{R?S(R):a()})}})}setObject(r,n){return n?(n=JSON.parse(JSON.stringify(n)),delete n.from,delete n.user,delete n.ts,this.request({commandTimeout:!1,executor:(a,S)=>{this._socket.emit("setObject",r,n,R=>{R?S(R):a()})}})):Promise.reject("Null object is not allowed")}getObject(r){return this.request({commandTimeout:!1,executor:(n,a)=>{if(r&&r===this.ignoreState){n({_id:this.ignoreState,type:"state",common:{name:"ignored state",type:"mixed"}});return}this._socket.emit("getObject",r,(S,R)=>{S?a(S):n(R)})}})}sendTo(r,n,a){return this.request({commandTimeout:!1,executor:S=>{this._socket.emit("sendTo",r,n,a,R=>{S(R)})}})}extendObject(r,n){return n?(n=JSON.parse(JSON.stringify(n)),delete n.from,delete n.user,delete n.ts,this.request({commandTimeout:!1,executor:(a,S)=>{this._socket.emit("extendObject",r,n,R=>{R?S(R):a()})}})):Promise.reject("Null object is not allowed")}registerLogHandler(r){this.onLogHandlers.includes(r)||this.onLogHandlers.push(r)}unregisterLogHandler(r){const n=this.onLogHandlers.indexOf(r);n!==-1&&this.onLogHandlers.splice(n,1)}registerConnectionHandler(r){this.onConnectionHandlers.includes(r)||this.onConnectionHandlers.push(r)}unregisterConnectionHandler(r){const n=this.onConnectionHandlers.indexOf(r);n!==-1&&this.onConnectionHandlers.splice(n,1)}registerCmdStdoutHandler(r){this.onCmdStdoutHandler=r}unregisterCmdStdoutHandler(){this.onCmdStdoutHandler=void 0}registerCmdStderrHandler(r){this.onCmdStderrHandler=r}unregisterCmdStderrHandler(){this.onCmdStderrHandler=void 0}registerCmdExitHandler(r){this.onCmdExitHandler=r}unregisterCmdExitHandler(){this.onCmdExitHandler=void 0}getEnums(r,n){return this.request({cacheKey:`enums_${r||"all"}`,forceUpdate:n,commandTimeout:!1,executor:(a,S)=>{this._socket.emit("getObjectView","system","enum",{startkey:`enum.${r||""}`,endkey:r?`enum.${r}.\u9999`:"enum.\u9999"},(R,A)=>{if(R)S(R);else{const M={};if(A)for(let P=0;P<A.rows.length;P++)r&&A.rows[P].id===`enum.${r}`||(M[A.rows[P].id]=A.rows[P].value);a(M)}})}})}getObjectView(r,n,a){return this.getObjectViewCustom("system",a,r,n)}getObjectViewSystem(r,n,a){return this.getObjectViewCustom("system",r,n,a)}getObjectViewCustom(r,n,a,S){return this.request({commandTimeout:!1,executor:(R,A)=>{a=a||"",S=S||"\u9999",this._socket.emit("getObjectView",r,n,{startkey:a,endkey:S},(M,P)=>{if(M)A(M);else{const x={};if(P&&P.rows)for(let $=0;$<P.rows.length;$++)x[P.rows[$].id]=P.rows[$].value;R(x)}})}})}readMetaItems(){return this.request({commandTimeout:!1,executor:(r,n)=>{this._socket.emit("getObjectView","system","meta",{startkey:"",endkey:"\u9999"},(a,S)=>{var R;a?n(a):r((R=S.rows)===null||R===void 0?void 0:R.map(A=>A.value).filter(A=>!!A))})}})}readDir(r,n){return this.request({commandTimeout:!1,executor:(a,S)=>{this._socket.emit("readDir",r,n,(R,A)=>{R?S(R):a(A)})}})}readFile(r,n,a){return this.request({commandTimeout:!1,executor:(S,R)=>{this._socket.emit(a?"readFile64":"readFile",r,n,(A,M,P)=>{A?R(A):S({file:M,mimeType:P})})}})}writeFile64(r,n,a){return this.request({commandTimeout:!1,executor:(S,R)=>{if(typeof a=="string")this._socket.emit("writeFile",r,n,a,A=>{A?R(A):S()});else{const A=btoa(new Uint8Array(a).reduce((M,P)=>M+String.fromCharCode(P),""));this._socket.emit("writeFile64",r,n,A,M=>{M?R(M):S()})}}})}deleteFile(r,n){return this.request({commandTimeout:!1,executor:(a,S)=>{this._socket.emit("deleteFile",r,n,R=>{R?S(R):a()})}})}deleteFolder(r,n){return this.request({commandTimeout:!1,executor:(a,S)=>{this._socket.emit("deleteFolder",r,n,R=>{R?S(R):a()})}})}rename(r,n,a){return this.request({commandTimeout:!1,executor:(S,R)=>{this._socket.emit("rename",r,n,a,A=>{A?R(A):S()})}})}renameFile(r,n,a){return this.request({commandTimeout:!1,executor:(S,R)=>{this._socket.emit("renameFile",r,n,a,A=>{A?R(A):S()})}})}cmdExec(r,n,a,S){return this.request({commandTimeout:S,executor:(R,A,M)=>{r=(0,I.normalizeHostId)(r),this._socket.emit("cmdExec",r,a,n,P=>{M.elapsed||(M.clearTimeout(),P?A(P):R())})}})}getSystemConfig(r){return this.request({cacheKey:"systemConfig",forceUpdate:r,commandTimeout:!1,executor:n=>Oe(this,null,function*(){var a,S,R,A,M;let P=yield this.getObject("system.config");(a=P)!==null&&a!==void 0||(P={}),(S=(A=P).common)!==null&&S!==void 0||(A.common={}),(R=(M=P).native)!==null&&R!==void 0||(M.native={}),n(P)})})}getCompactSystemConfig(r){return this.request({cacheKey:"systemConfigCommon",forceUpdate:r,commandTimeout:!1,requireAdmin:!0,executor:(n,a)=>{this._socket.emit("getCompactSystemConfig",(S,R)=>{var A,M,P,x,$;S?a(S):((A=R)!==null&&A!==void 0||(R={}),(M=(x=R).common)!==null&&M!==void 0||(x.common={}),(P=($=R).native)!==null&&P!==void 0||($.native={}),n(R))})}})}getForeignStates(r){return this.request({commandTimeout:!1,executor:(n,a)=>{this._socket.emit("getForeignStates",r||"*",(S,R)=>{S?a(S):n(R!=null?R:{})})}})}getForeignObjects(r,n){return this.request({commandTimeout:!1,executor:(a,S)=>{this._socket.emit("getForeignObjects",r||"*",n,(R,A)=>{R?S(R):a(A)})}})}setSystemConfig(r){return this.setObject("system.config",r)}getRawSocket(){return this._socket}getHistory(r,n){return this.request({commandTimeout:!1,executor:(a,S)=>{this._socket.emit("getHistory",r,n,(R,A)=>{R?S(R):a(A)})}})}getHistoryEx(r,n){return this.request({commandTimeout:!1,executor:(a,S)=>{this._socket.emit("getHistory",r,n,(R,A,M,P)=>{R?S(R):a({values:A,sessionId:P,stepIgnore:M})})}})}getIpAddresses(r,n){return r=(0,I.normalizeHostId)(r),this.request({cacheKey:`IPs_${r}`,forceUpdate:n,commandTimeout:!1,executor:a=>Oe(this,null,function*(){var S;const R=yield this.getObject(r);a((S=R==null?void 0:R.common.address)!==null&&S!==void 0?S:[])})})}getVersion(r){return this.request({cacheKey:"version",forceUpdate:r,commandTimeout:!1,executor:(n,a)=>{this._socket.emit("getVersion",(S,R,A)=>{S&&!R&&typeof S=="string"&&S.match(/\d+\.\d+\.\d+/)?n({version:S,serverName:"socketio"}):S?a(S):n({version:R,serverName:A})})}})}getWebServerName(){return this.request({cacheKey:"webName",commandTimeout:!1,executor:(r,n)=>{this._socket.emit("getAdapterName",(a,S)=>{a?n(a):r(S)})}})}fileExists(r,n){return this.request({commandTimeout:!1,executor:(a,S)=>{this._socket.emit("fileExists",r,n,(R,A)=>{R?S(R):a(!!A)})}})}getCurrentUser(){return this.request({commandTimeout:!1,executor:r=>{this._socket.emit("authEnabled",(n,a)=>{r(a)})}})}getUuid(){return this.request({cacheKey:"uuid",commandTimeout:!1,executor:r=>Oe(this,null,function*(){var n;const a=yield this.getObject("system.meta.uuid");r((n=a==null?void 0:a.native)===null||n===void 0?void 0:n.uuid)})})}checkFeatureSupported(r,n){return this.request({cacheKey:`supportedFeatures_${r}`,forceUpdate:n,commandTimeout:!1,executor:(a,S)=>{this._socket.emit("checkFeatureSupported",r,(R,A)=>{R?S(R):a(A)})}})}getAdapterInstances(r,n){return typeof r=="boolean"&&(n=r,r=""),r=r||"",this.request({cacheKey:`instances_${r}`,forceUpdate:n,commandTimeout:!1,executor:a=>Oe(this,null,function*(){const S=r?`system.adapter.${r}.`:"system.adapter.",R=`${S}\u9999`,A=yield this.getObjectViewSystem("instance",S,R),M=Object.values(A);a(r?M.filter(P=>P.common.name===r):M)})})}getAdapters(r,n){return typeof r=="boolean"&&(n=r,r=""),r=r||"",this.request({cacheKey:`adapter_${r}`,forceUpdate:n,commandTimeout:!1,executor:a=>Oe(this,null,function*(){const S=yield this.getObjectViewSystem("adapter",`system.adapter.${r||""}`,`system.adapter.${r||"\u9999"}`),R=Object.values(S);a(r?R.filter(A=>A.common.name===r):R)})})}getGroups(r){return this.request({cacheKey:"groups",forceUpdate:r,commandTimeout:!1,executor:(n,a)=>{this._socket.emit("getObjectView","system","group",{startkey:"system.group.",endkey:"system.group.\u9999"},(S,R)=>{S?a(S):n((0,I.getObjectViewResultToArray)(R))})}})}logout(){return this.request({commandTimeout:!1,executor:(r,n)=>{this._socket.emit("logout",a=>{a?n(a):r(null)})}})}subscribeOnInstance(r,n,a,S){return this.request({commandTimeout:!1,executor:(R,A)=>{this._socket.emit("clientSubscribe",r,n,a,(M,P)=>{M?A(M):P&&(P.error?A(P.error):(r.startsWith("system.adapter.")||(r=`system.adapter.${r}`),this._instanceSubscriptions[r]=this._instanceSubscriptions[r]||[],this._instanceSubscriptions[r].find(x=>x.messageType===n&&x.callback===S)||this._instanceSubscriptions[r].push({messageType:n,callback:S}),R(P)))})}})}unsubscribeFromInstance(r,n,a){var S;r.startsWith("system.adapter.")||(r=`system.adapter.${r}`);let R;const A=[];do{R=!1;const M=(S=this._instanceSubscriptions[r])===null||S===void 0?void 0:S.findIndex(P=>(!n||P.messageType===n)&&(!a||P.callback===a));if(M!=null&&M!==-1){R=!0;const P=this._instanceSubscriptions[r][M].messageType;this._instanceSubscriptions[r].splice(M,1),this._instanceSubscriptions[r].length||delete this._instanceSubscriptions[r],this._instanceSubscriptions[r]&&this._instanceSubscriptions[r].find($=>$.messageType===P)||A.push(this.request({commandTimeout:!1,executor:($,X)=>{this._socket.emit("clientUnsubscribe",r,n,(W,K)=>W?X(W):$(K))}}))}}while(R&&(!a||!n));return A.length?Promise.all(A).then(M=>!!M.find(P=>P)):Promise.resolve(!1)}log(r,n){return r?this.request({commandTimeout:!1,executor:a=>(this._socket.emit("log",r,n),a(null))}):Promise.resolve(null)}setStateToIgnore(r){this.ignoreState=r}}},26235:H=>{"use strict";var e=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,u=Object.prototype.hasOwnProperty,g=(E,y,p,h)=>{if(y&&typeof y=="object"||typeof y=="function")for(let I of i(y))!u.call(E,I)&&I!==p&&e(E,I,{get:()=>y[I],enumerable:!(h=o(y,I))||h.enumerable});return E},v=E=>g(e({},"__esModule",{value:!0}),E),T={};H.exports=v(T)},40057:H=>{"use strict";var e=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,u=Object.prototype.hasOwnProperty,g=(p,h)=>{for(var I in h)e(p,I,{get:h[I],enumerable:!0})},v=(p,h,I,b)=>{if(h&&typeof h=="object"||typeof h=="function")for(let f of i(h))!u.call(p,f)&&f!==I&&e(p,f,{get:()=>h[f],enumerable:!(b=o(h,f))||b.enumerable});return p},T=p=>v(e({},"__esModule",{value:!0}),p),E={};g(E,{createDeferredPromise:()=>y}),H.exports=T(E);function y(){let p,h;const I=new Promise((b,f)=>{p=b,h=f});return I.resolve=p,I.reject=h,I}},4817:(H,e,o)=>{"use strict";var i=Object.defineProperty,u=Object.getOwnPropertyDescriptor,g=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,T=(d,m)=>{for(var l in m)i(d,l,{get:m[l],enumerable:!0})},E=(d,m,l,C)=>{if(m&&typeof m=="object"||typeof m=="function")for(let _ of g(m))!v.call(d,_)&&_!==l&&i(d,_,{get:()=>m[_],enumerable:!(C=u(m,_))||C.enumerable});return d},y=(d,m,l)=>(E(d,m,"default"),l&&E(l,m,"default")),p=d=>E(i({},"__esModule",{value:!0}),d),h={};T(h,{AdminConnection:()=>I.AdminConnection,Connection:()=>b.Connection,ERRORS:()=>b.ERRORS,PROGRESS:()=>b.PROGRESS}),H.exports=p(h),y(h,o(34998),H.exports);var I=o(34998);y(h,o(46089),H.exports);var b=o(46089);y(h,o(26235),H.exports);var f=o(26235)},52342:H=>{"use strict";var e=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,u=Object.prototype.hasOwnProperty,g=(f,d)=>{for(var m in d)e(f,m,{get:d[m],enumerable:!0})},v=(f,d,m,l)=>{if(d&&typeof d=="object"||typeof d=="function")for(let C of i(d))!u.call(f,C)&&C!==m&&e(f,C,{get:()=>d[C],enumerable:!(l=o(d,C))||l.enumerable});return f},T=f=>v(e({},"__esModule",{value:!0}),f),E={};g(E,{getObjectViewResultToArray:()=>y,normalizeHostId:()=>p,objectIdToHostname:()=>h,pattern2RegEx:()=>b,wait:()=>I}),H.exports=T(E);function y(f){var d;return(d=f==null?void 0:f.rows.map(m=>m.value).filter(m=>!!m))!==null&&d!==void 0?d:[]}function p(f){return f!=null&&f.startsWith("system.host.")||(f=`system.host.${f}`),f}function h(f){return f!=null&&f.startsWith("system.host.")&&(f=f.substr(12)),f}function I(f){return new Promise(d=>{setTimeout(d,f)})}function b(f){f=(f||"").toString();const d=f[0]==="*",m=f[f.length-1]==="*";return f=f.replace(/[-/\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*"),(d?"":"^")+f+(m?"":"$")}}}]);

//# sourceMappingURL=vendors-node_modules_sentry_browser_cjs_index_js-node_modules_iobroker_socket-client_dist_cjs-6a932d.e0b6341a.chunk.js.map